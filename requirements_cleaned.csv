requirement,configuration
"Monitor and store download time within the Cisco device and configure IP and application layer options such as source and destination IP address, UDP/TCP port numbers, ToS byte (including DSCP and IP Prefix bits), VRF, and URL web address.","Layer-2 transport independent, end-to-end over disparate networks for best end-user experience, performance metrics including delay, jitter, packet loss, packet sequencing, path, connectivity, server/website download time, voice quality scores."
"Network with broader reach and accurate representation of end-user experience, Sophistication in statistics, Ease of deployment, Application-aware monitoring, Pervasiveness.","Cisco devices ranging from low-end to high-end devices and switches, IP SLAs for better performance and flexibility over traditional service level agreements."
"• Continuous, reliable, and predictable measurements","• IP SLAs configured with start-time now keyword need to be restarted after reload.
• IP SLA v1, v2, v3 do not support HMAC SHA 1, HMCA SHA 256, HMCA SHA 384, HMCA SHA 512 authentications on ASR 903, RSP2, ASR 903, RSP3."
Network Performance Measurement Using IP SLAs,ASR 920 and NCS 520 platforms
Implement IP SLAs network performance measurement.,"1. Enable the IP SLAs Responder, if appropriate.
2. Configure the required IP SLAs operation type.
3. Configure any options available for the specified IP SLAs operation type.
4. Configure threshold conditions, if required.
5. Schedule the operation to run, then let the operation run for a period of time to gather statistics.
6. Display and interpret the results of the operation using Cisco software commands or an NMS system with SNMP."
"The requirement is to use an IP SLAs Responder that listens on a specific port for control protocol messages sent by an IP SLAs operation. The responder should enable the specified UDP or TCP port for the specified duration, accept and respond to requests during this time, and disable the port after responding to the IP SLAs packet or when the specified time expires.","Cisco device as a source for a destination IP SLAs Responder. The configuration should specify the port on which the responder listens, the UDP or TCP port to be enabled, the duration of the enabled port, and the use of MD5 authentication for control messages (if desired)."
The requirement here is to minimize processing delays for accurate response times using IP SLAs test packets and time stamping.,"The configuration needed would be the proper setup of the IP SLAs Responder, ensuring that it minimizes processing delays on both the source device and target device (if the IP SLAs Responder is being used)."
Improve accuracy and reduce processing time in network activity tests.,"Enable ICMP ping test with IP SLAs responder functionality for accurate response time measurement, taking four time stamps to calculate round-trip time and applying delta value subtraction for greater accuracy."
Threshold functionality for successful service level agreement monitoring and proactive network performance measurement,"IP SLAs sending SNMP traps triggered by events such as connection loss, timeout, round-trip time threshold, average jitter threshold, one-way packet loss, one-way jitter, one-way mean opinion score (MOS), one-way latency. Alternately, an IP SLAs threshold violation can trigger another IP SLAs operation for further analysis."
Maintain two hours of aggregated statistics for each operation in IP SLAs and allow the Enhanced History feature to have a shorter aggregation interval than an hour.,N/A (Not applicable as there is no specific configuration mentioned in the text)
"Operation snapshot history, Distribution statistics","IP SLAs maintains a snapshot of data for each operation instance that matches a configurable filter, such as all, over threshold, or failures; maintains a frequency distribution over configurable intervals, and stores history buckets until the specified size is reached or the lifetime of the operation expires."
"Complexity 8 kbit/s CS-ACELP speech codec, ITU-T G.729A",Not available in the provided text
"Configuring IP SLAs UDP Jitter Operations to analyze round-trip delay, one-way delay, one-way jitter, one-way packet loss, and connectivity in networks that carry UDP traffic in IPv4 or IPv6 networks.",This module does not provide specific configuration details within the provided text.
Time synchronization is not required for one-way jitter and packet loss measurements.,"If time is not synchronized between source and target devices, one-way jitter and packet loss data are returned, but values of “0” are returned for the one-way delay measurements provided by the UDP jitter operation."
"Measure positive and negative jitter values for delay-sensitive networks like VoIP, with an ideal jitter value of 0 ms. Monitor per-direction jitter, packet loss, and delay.","IP SLAs UDP jitter operation, which includes data from the IP SLAs UDP operation, is used to measure the required parameters. The packets generated by IP SLAs contain packet-sending and receiving sequence information, as well as sending and receiving time stamps from the source and operational target."
Asymmetric UDP jitter operation for monitoring round-trip delay in a network with customizable packet sizes per direction.,"N number of UDP packets, each of size S, T milliseconds apart, from a source device to a destination device, at a given frequency of F. In response, UDP packets of size P are sent from the destination device to the source device. By default, ten packet frames (N), each with a payload size of 10 bytes (S), are generated every 10 ms (T), and the operation is repeated every 60 seconds."
"Simulate the IP service by configuring UDP Jitter Operation Parameters such as udp-jitter num-packets, request-data-size, response-data-size, udp-jitter interval, and frequency (IP SLA).","1. UDP Jitter Operation Parameter: udp-jitter num-packets with 10 packets.
2. Number of packets (N): not specified in the given text.
3. Payload size per request packet (S): 10 bytes.
4. Response data size: varies depending on the type of IP SLAs operation configured, or the same as request data size if response-data-size command is not configured.
5. Payload size per response packet (P): not specified in the given text.
6. Time between packets, in milliseconds (T): 10 ms.
7. Elapsed time before operation repeats, in seconds (F): 60 seconds."
Enable IP SLAs responder functionality on a Cisco device.,"1. Enter privileged EXEC mode: enable
2. Enter global configuration mode: Device> enable, configure terminal
3. (Optional) Temporarily enable IP SLAs responder functionality for control messages from the source: ip sla responder [ipaddress ip-address port] [portvrf vrf]
4. Exit global configuration mode and return to privileged EXEC mode: end"
Configuring a Basic UDP Jitter Operation on a Source Device,"udp-jitter {destination-ip-address | destination-hostname} destination-port [source-ip {ip-address | hostname}] [source-port port-number] [control {enable | disable}] [num-packets number-of-packets] [interval interpacket-interval]
[frequency seconds]"
Configure the frequency of an IP SLA operation in seconds.,Device(config-ip-sla-jitter)# frequency 30
Enable and configure IP SLAs Responder on the target device for UDP jitter operation.,"1. enable
2. configure terminal
3. ip sla operation-number
4. udp-jitter {destination-ip-address | destination-hostname} destination-port [source-ip {ip-address | hostname}] [source-port port-number] [control {enable | disable}] [num-packets number-of-packets] [interval interpacket-interval]
5. history distributions-of-statistics-kept size
6. history enhanced [interval seconds] [buckets number-of-buckets]
7. frequency seconds
8. history hours-of-statistics-kept hours
9. owner owner-id
10. request-data-size bytes
11. response-data-size bytes
12. history"
Set the number of hours for which statistics are maintained for an IP SLA jitter operation.,frequency 30
Device should be able to configure IP SLAs operation using user-specified identifier and threshold value for network monitoring statistics.,"statistics-distribution-interval 10
tag TelnetPollServer1
threshold milliseconds 10000"
Configure the percentile option for IP SLAs operations.,"Use the ""show ip sla configuration"" command to display configuration values and defaults for all IP SLAs operations or a specified operation. To configure the percentile option, follow the instructions in the ""Configuring the IP SLAs—Percentile Support for Filtering Outliers"" module."
• Configure scheduling parameters for an individual IP SLAs operation.,"Device(config)# ip sla schedule 10 life forever
Device(config)# ip sla schedule 10 start-time now"
1. Configure IP SLAs group schedule 10 with a frequency of 'now' and a schedule period that lasts forever.,"1. Device(config)# ip sla group schedule 10
   schedule-period forever start-time now
2. Device(config)# ip sla group schedule 1 3,4,6-9
   life forever start-time now
3. Device(config)# ip sla schedule 1 3,4,6-9
   schedule-period 50 frequency range 80-100"
To add proactive threshold conditions and reactive triggering for generating traps (or for starting another operation) to an IP Service Level Agreements (SLAs) operation.,"Configure Proactive Threshold Monitoring as described in the ""Configuring Proactive Threshold Monitoring"" section."
- Display IP SLAs configuration details,"- Device# show ip sla configuration
- IP SLAs Infrastructure Engine-III
- Entry number: 5
- Owner: ownername
- Tag: text
- Operation timeout (milliseconds): 9999
- Type of operation to perform: udp-jitter
- Target address/Source address: 192.0.2.115/0.0.0.0
- Target port/Source port: 5/0
- Type Of Service parameter: 0x5
- Request size (ARR data portion): 100
- Response size (ARR data portion): 200
- Packet Interval (milliseconds)/Number of packets: 20/10
- Verify data: No
- Operation Stats Precision : microseconds
- Timestamp Location Optimization: enabled
- Operation Packet Priority : high
- NTP Sync Tolerance : 0 percent
- Vrf Name:
- Control Packets: enabled"
Monitor UDP jitter performance using IP SLAs.,udp-jitter 192.0.2.115 65052 num-packets 20 interval 10 request-data-size 20
IP SLAs responder functionality on a Cisco device in response to control messages from the source device.,ip sla responder
"UDP jitter operation with one-way delay measurements should return values of ""0"".",All devices must be part of the same VRF for IP SLAs multicast operations to succeed.
Configure IP SLAs Responder on a Destination Device without configuring a permanent port for a sender.,"1. enable
2. configure terminal
3. Enter one of the following commands:
• ip sla responder
• ip sla responder udp-echo ipaddress ip-address port portvrf vrf"
Enable IP SLAs responder functionality on a specific port and VRF.,Device(config)# ip sla responder [udp-echo | jitter-echo | path-echo] [ipaddress] [port] [vrf vrf_name]
Exit global configuration mode and return to privileged EXEC mode.,end
Adding multicast responder IP addresses to the endpoint list.,Device(config-epl)# ip-address [IP address] port [port number].
"UDP jitter operations with history buckets, history filter, history lives-kept, samples-of-history-kept, and show ip sla history.",MIB used by IP SLAs (CISCO-RTTMON-MIB) limits the hours-of-statistics kept for UDP jitter operation to two hours. Configuring a larger value using the history hours-of-statistics hours global configuration change will not increase the value beyond two hours.
IP SLAs Multicast Support,Configuring Multicast UDP Jitter Operations
Configure UDP Jitter operations for a multicast endpoint using IP SLAs on Cisco IOS XE Gibraltar.,"1. Set the destination IP address or hostname and port number.
2. Define the list of source endpoints (endpoint-list).
3. Specify the source IP address, source port number, number of packets, and interpacket interval.
4. Use the ""udp-jitter"" command to enable the Jitter operation."
Control retry retries and control timeout seconds,"control retry 2, control timeout 4"
Configure IP SLA operations for multicast jitter measurements.,"- Set the history interval and number of buckets using the ""history enhanced"" command.
- Use the ""frequency"" command to set the rate at which the operation repeats.
- Use the ""history hours-of-statistics-kept"" command to set the number of hours for which statistics are maintained.
- Configure the SNMP owner of an IP SLA operation using the ""owner owner-id"" command."
Configure the scheduling parameters for an individual IP SLAs operation.,"Enter one of the following commands:
• Configures the scheduling parameters for an individual IP SLAs operation:
   - ip sla schedule operation-number [life {forever | seconds}] [start-time {[hh:mm:ss] [month day | day month]}]
   • Specifies an IP SLAs operation group number and the range of operation numbers for a multioperation scheduler:
     - ip sla group schedule group-operation-number operation-id-numbers {schedule-period schedule-period-range | schedule-together} [ageout seconds] frequency group-operation-frequency [life {forever | seconds}] [start-time {hh:mm [:ss] [month day | day month]}]"
Enable data verification for IP SLA operation and troubleshoot issues with an IP SLAs operation.,Add the verify-data command to the configuration while configuring in IP SLA configuration mode. Use debug ip sla trace and debug ip sla error commands to help troubleshoot issues with an IP SLAs operation.
"Multicast UDP jitter operation for measuring and reporting statistics such as one way latency, jitter, and packet loss for each multicast receiver in a user-specified multicast group.","clock-tolerance ntp oneway, control (IP SLA), dscp"
Configure an IP Service Level Agreements (SLAs) User Datagram Protocol (UDP) jitter operation to proactively monitor Voice over IP (VoIP) quality levels in your network.,N/A (The text does not provide a specific configuration for the requirement.)
IP SLAs UDP Jitter Operations for VoIP,"UDP traffic, no support for RTP"
Calculate the Impairment Factor to quantify key impairments affecting voice quality in a network.,"ICPIF = Io + Iq + Idte + Idd + Ie - A, where Io represents impairments caused by non-optimal loudness rating, Iq represents impairments caused by PCM quantizing distortion, Idte represents impairments caused by talker echo, Idd represents impairments caused by one-way transmission times (one-way delay), Ie represents impairments caused by equipment effects, and A is a user-defined access Advantage Factor."
"IP SLAs VoIP UDP Operation should take advantage of observed correspondences between ICPIF, transmission rating factor R, and MOS values without yet supporting the E-Model.",IP SLAs uses a simplified ICPIF formula (defined in more detail later in the document).
Configuring IP SLAs UDP Jitter Operations for VoIP,Mean Opinion Scores (MOS)
"VoIP UDP Jitter Operation Parameters for different codecs (g711 mu-Law, g711 A-Law, G.729A)","- Frequency of Probe Operations (f): Once every 1 minute
- Default Number of Packets (n): 1000
- Default Interval BetweenPackets (t): 20 ms for g711 mu-Law and g711 A-Law, 20 + 12 RTP bytes for G.729A
- Default Request Size (Packet Payload) (s): 180 bytes for g711 mu-Law and g711 A-Law, 20 + 12 RTP bytes for G.729A"
The default Advantage Factor for IP SLAs VoIP UDP jitter operations should always be zero.,"The E model, as defined in G.107 (03/2003), is used to predict the subjective quality experienced by an average listener by combining the impairment caused by transmission parameters into a single rating, the transmission rating factor R (the R Factor)."
Configuring IP SLAs UDP Jitter Operations for VoIP,Configure the IP SLAs Responder on a Destination Device and ensure it does not configure a permanent port for a sender.
Configure IP SLAs responder functionality on a Cisco device.,"Enter one of the following commands in privileged EXEC mode and global configuration mode:
• ip sla responder
• ip sla responder udp-echo ipaddress ip-address port portvrf vrf"
Configuring the IP SLAs Responder on a Destination Device,Device(config)# ip sla response-code <response-code> [<input-string>]
Configuring and Scheduling an IP SLAs VoIP UDP Jitter Operation,"- G.711 A Law (g711alaw: 64 kbps PCM compression method)
- G.711 mu Law (g711ulaw: 64 kbps PCM compression method)
- G.729A (g729a: 8 kbps CS-ACELP compression method)"
Statistic distribution interval (milliseconds),udp-jitter {destination-ip-address | destination-hostname} destination-port codec codec-type [codec-numpackets number-of-packets] [codec-size number-of-bytes] [codec-interval milliseconds] [advantage-factor value] [source-ip {ip-address | hostname}] [source-port port-number] [control {enable | disable}]
Enabling enhanced history gathering for an IP SLAs operation,history enhanced interval seconds buckets number-of-buckets
Configure SNMP owner for an IP SLAs operation.,"Device(config-ip-sla-jitter)# owner admin

Requirement: Create a user-specified identifier for an IP SLAs operation.
Configuration: Device(config-ip-sla-jitter)# tag TelnetPollServer1

Requirement: Set the upper threshold value for calculating network monitoring statistics created by an IP SLAs operation.
Configuration: Device(config-ip-sla-jitter)# threshold 10000

Requirement: Set the amount of time an IP SLAs operation waits for a response from its request packet.
Configuration: Device(config-ip-sla-jitter)# timeout 10000"
Scheduling IP SLAs Operations with configuration values including all defaults for all IP SLAs operations or a specified operation.,show ip sla configuration [operation-number]
Implement a UDP jitter monitoring using IP SLAs to measure the quality of voice calls (VoIP),"- Enable UDP Jitter operation on device with target address 209.165.200.225 and source address 0.0.0.0, target port 16384, using codec g711alaw and advantage factor 2
- Configure the UDP jitter operation to start immediately (start-time now)
- Set the owner of the operation to admin_bofh"
Jitter Operation with Codec Type g711alaw,"Source port: 0, Operation timeout (milliseconds): 5000, Codec Number Of Packets: 1000, Codec Packet Size: 172, Codec Interval (milliseconds): 20, Advantage Factor: 2, Type Of Service parameters: 0x0, Verify data: No, Vrf Name: N/A, Control Packets: enabled, Operation frequency (seconds): 60, Next Scheduled Start Time: Start Time already passed, Life (seconds): 3600, Entry Ageout (seconds): never, Status of entry (SNMP RowStatus): Active, Connection loss reaction enabled: No, Timeout reaction enabled: No, Verify error enabled: No, Threshold reaction type: Never, Threshold (milliseconds): 5000, Threshold Falling (milliseconds): 3000, Threshold Count: 5, Threshold Count2: 5, Reaction Type: None, Number of statistic hours kept: 2, Number of statistic distribution buckets kept: 1, Statistic distribution interval (milliseconds): 20, Enhanced History: N/A"
Configuring IP SLAs UDP Jitter Operations for VoIP,Not provided in the text.
"Monitor and measure jitter, packet loss, delay, and round-trip time in a network.",Use IP SLAs UDP jitter operation to gather data and perform per-direction measurements (source to destination and destination to source).
"Simulation of UDP traffic with customizable packet sizes, interval, and frequency.","Number of packets (N), Packet size (S), Interval between packets (T), Frequency of operation (F)."
"Measurement of UDP jitter using IP SLAs operations for metrics like round-trip time, one-way delay, jitter, and packet loss.","- udp-jitter num-packets: 10 packets
- Number of packets (N): 10 packets
- request-data-size: 10 bytes
- Payload size per request packet (S): 10 bytes
- response-data-size: Varies depending on the type of IP SLAs operation
- Payload size per response packet (P): Not mentioned in the text
- udp-jitter interval: 10 ms
- Time between packets, in milliseconds (T): 10 ms
- frequency (IP SLA): 60 seconds
- Elapsed time before the operation repeats, in seconds (F): 60 seconds"
Time synchronization between source and target devices for accurate one-way delay measurements using NTP.,"Enhanced UDP probe and enhanced responder, Cisco software images that support QFP time stamping and optimized time stamp location for more accurate RTT measurements."
Configuring the IP SLAs Responder on the Destination Device without a permanent port for the same sender.,"1. Enable
2. Configure terminal
3. Do one of the following:
   • ip sla responder
   • ip sla responder udp-echo {ip-address}
   ip-address
   port port"
Configure a UDP jitter probe with QFP time stamping on the source device.,"udp-jitter {destination-ip-address | destination-hostname} destination-port [source-ip {ip-address | hostname}] [source-port port-number] [control {enable | disable}] [num-packets number-of-packets] [interval interpacket-interval]
5. frequency seconds
6. precision microseconds
8. optimize timestamp"
Enable privileged EXEC mode and configure an IP SLAs operation for UDP jitter.,Device# enable; configure terminal; ip sla; operation-number; Device(config)# ip sla 10; udp-jitter {destination-ip-address | destination-hostname}; destination-port [source-ip {ip-address | hostname}]; [source-port port-number] [control {enable | disable}]; [num-packets number-of-packets] [interval interpacket-interval]
"Display configuration values for IP SLAs operations, including all defaults and options for a specified operation (operation-number)",show ip sla configuration [operation-number]
Configuring a UPD Jitter Operation with QFP Time Stamping and Additional Characteristics,"XE Gibraltar 16.11.x, IP SLAs QFP Time Stamping, 67"
"Enhanced history gathering for IP SLA operation with specified interval, buckets, frequency, and hours of statistics kept.","history enhanced [interval seconds] [buckets number-of-buckets], frequency [seconds], history hours-of-statistics-kept [hours]."
Set the time interval for each statistics distribution kept for an IP SLAs operation.,history statistics-distribution-interval milliseconds
Set the timeout for an IP SLAs operation in milliseconds.,Device(config-ip-sla-jitter)# timeout [milliseconds]
The frequency of all operations scheduled in a multioperation group must be the same.,"The list of one or more operation ID numbers to be added to a multioperation group must be limited to a maximum of 125 characters in length, including commas (,)."
Configuring a UDP Operation with QFP Time Stamping and Optimized Timestamp Location,"- ip sla 1
- udp-jitter 192.0.2.134 5000 num-packets 20
- request-data-size 160
- tos 128
- frequency 30
- precision microseconds
- !enables QFP time stamping
- optimize timestamp
- ip sla schedule 1 start-time after 00:05:00
- ip sla 2
- udp-jitter 192.0.2.134 65052 num-packets 20 interval 10
- request-data-size 20
- tos 64
- frequency 30
- precision microseconds
- optimize timestamp
- ip sla schedule 2 start-time after 00:05:05"
"Locate and download MIBs for selected platforms, Cisco IOS releases, and feature sets using Cisco MIB Locator.",Not provided in the text.
"Enable IP SLAs Cisco Packet Processor (CPP) time stamping to improve the accuracy of IP SLAs UDP jitter operations, and optimize the time stamp location for more accurate RTT measurements on Cisco ASR 1000 Series routers.","Introduced or modified commands: optimize timestamp, precision microseconds, show ip sla configuration."
Configuring IP SLAs LSP Health Monitor,"The module describes the process of configuring an IP Service Level Agreements (SLAs) label switched path (LSP) Health Monitor. This feature enables the proactive monitoring of Layer 3 Multiprotocol Label Switching (MPLS) Virtual Private Networks (VPNs). It provides automated end-to-end verification in both control plane and data plane for all LSPs between participating Provider Edge (PE) devices. The end-to-end (PE-to-PE device) approach ensures that LSP connectivity is verified along the paths customer traffic is sent, helping to detect customer-impacting network connectivity issues within the MPLS core using the LSP Health Monitor. Once configured, the LSP Health Monitor will automatically create and delete IP SLAs LSP ping or LSP traceroute operations based on network topology."
Participating PE devices of an LSP Health Monitor operation must support the MPLS LSP ping feature. It is recommended that the Provider (P) devices also support the MPLS LSP Ping feature for complete error reporting and diagnostics information.,"The specific configuration settings are not provided in the text, but it mentions that both PE devices and Provider devices should support the MPLS LSP ping feature for an effective Health Monitor operation."
Enough memory to support the desired LSP Health Monitor functionality.,"Enabling the LSP discovery option, IP SLAs Responder not required on destination PE devices."
Configuring IP SLAs LSP Health Monitor Operations,Restrictions for LSP Health Monitor Operations
Multioperation scheduling parameters for the LSP Health Monitor operation,User-defined multioperation scheduling parameters for the LSP Health Monitor operation. The start time and frequency of each measurement depend on these parameters.
Filtering BGP Next Hop Neighbors with Standard IP Access Lists,IP SLAs access list parameter and associated standard IP access list for filtering BGP next hop neighbors discovered by the LSP Health Monitor.
BGP next hop neighbor discovery process for finding BGP next hop neighbors in use by any VRF associated with the source PE device.,"A database of BGP next hop neighbors in use by any VRF associated with the source PE device is generated based on information from the local VRF and global routing tables. As routing updates are received, new BGP next hop neighbors are added to and deleted from the database immediately."
"BGP next hop neighbor discovery process enabled on device PE1, distinguishing which next hop devices belong within which particular VRF.",The IPv4 Forward Equivalence Class (FEC) of the BGP next hop device in the global routing table is provided for each next hop device entry.
Measure network connectivity across all equal-cost multipaths between the source PE device and discovered destination PE device using an IP SLAs superoperation with an IP SLAs LSP ping.,"The IP SLAs superoperation adjusts the LSP ping 127/8 LSP selector IP address for each discovered equal-cost multipath, allowing it to send LSP ping packets to the destination PE device using the identified LSP selector IP addresses for directing the superoperation across the paths."
BGP next hop neighbor assignment with unique identification number starting with the number 1 for MPLS VPN core network.,"Device PE1 as source PE device for LSP Health Monitor operation with LSP discovery option enabled, and device PE2 and PE3 discovered by BGP discovery process as BGP next hop neighbors to device PE1."
Store results as group averages representative of equal-cost multipaths within the LSP discovery group for a given one-hour increment.,"• 127/8 destination IP address (LSP selector) within the local host IP address range
• PE outgoing interface"
Monitoring network connectivity between the source PE device and destination PE devices using IP SLAs LSP ping and LSP traceroute operations.,"Automatically created when using LSP Health Monitor, or manually configured for troubleshooting connectivity issues."
"Proactive threshold monitoring support for the LSP Health Monitor feature, which triggers SNMP trap notifications and syslog messages when user-defined reaction conditions (such as connection loss or timeout) are met. Configuring threshold monitoring for an LSP Health Monitor operation is similar to configuring threshold monitoring for a standard IP SLAs operation.","Threshold monitoring enabled for LSP Health Monitor operation, SNMP trap notifications generated on failure of LSP discovery for a particular BGP next hop neighbor or when the operational status of an LSP discovery group changes."
Testing the status of paths belonging to a group and monitoring LSP Health using primary and secondary frequencies.,"The group status can be UP, PARTIAL, or DOWN; secondary frequency option allows for faster remeasurement rate in case of detected failure."
"Multioperation scheduling support for the LSP Health Monitor feature, providing capability to schedule automatically created IP SLAs operations with intervals equally distributed over a specified duration of time and restart at a specified frequency.",N/A (not provided in the text)
Enable MPLS discovery VPN Next-Hop using the auto ip sla mpls-lsp-monitor command.,"Device(config)# auto ip sla mpls-lsp-monitor 1
type echo [ipsla-vrf-all | vrf vpn-name] (optional, if specific VPN name is required)"
Specify the experimental field value in the header for an echo request packet of an IP SLAs operation.,exp exp-bits
Set the secondary frequency for IP SLAs operation in case of a reaction condition.,secondary-frequency connection-loss 10
MPLS VPN next-hop neighbor discovery database configuration,mpls discovery vpn next-hop [interval seconds]
Configure an LSP Health Monitor operation using auto IP SLAs MPLS configuration mode.,"1. Enter the auto IP SLAs MPLS configuration mode with the command ""auto ip sla mpls-lsp-monitor operation-number"".
2. Enable the mpls discovery vpn next-hop command with the command ""device(config)# auto ip sla mpls-lsp-monitor 1"".
3. Enter MPLS parameters configuration mode and configure the parameters for an IP SLAs LSP ping operation using the LSP Health Monitor with the command ""type echo [ipsla-vrf-all | vrf vpn-name]""."
LSP Health Monitor operation configuration,"hours-of-statistics-kept, force-explicit-null, interval milliseconds, lsp-selector-base"
Maximum number of BGP next hop neighbors undergoing LSP discovery for a single LSP Health Monitor operation,maximum-sessions
Enable generation of SNMP system logging messages specific to IP SLAs trap notifications.,ip sla logging traps
Configuring and Scheduling an IP SLAs LSP Ping or LSP Traceroute,"1. enable
2. configure terminal
3. ip sla operation-number
4. Do one of the following:
   • mpls lsp ping ipv4 destination-address destination-mask [force-explicit-null] [lsp-selector ip-address] [src-ip-addr source-address] [reply {dscp dscp-value | mode {ipv4 | router-alert}}]
   • mpls lsp trace ipv4 destination-address destination-mask [force-explicit-null] [lsp-selector ip-address] [src-ip-addr source-address] [reply {dscp dscp-value | mode {ipv4 | router-alert}}]
5. exp exp-bits"
Configure an IP SLA operation as either LSP ping or LSP trace operation.,"For LSP ping operation, use the following commands:
1. Enter IP SLAs configuration mode: `Device(config)# ip sla`
2. Enter LSP ping configuration mode: `Device(config-ip-sla)# mpls lsp ping ipv4`
3. Specify destination address, mask, LSP selector, source address, reply options, and other parameters as needed. For example:
```
Device(config-ip-sla)# mpls lsp ping ipv4 192.168.1.4 255.255.255.255 lsp-selector 127.1.1.1 source-address <source_IP> reply {dscp <dscp_value> | mode {ipv4 | router-alert}}
```"
Configure IP SLAs actions based on events and generate SNMP system logging messages for IP SLAs trap notifications.,"ip sla reaction-configuration operation-number [react monitored-element] [threshold-type {never | immediate | consecutive [consecutive-occurrences] | xofy [x-value step 13 y-value] | average [number-of-probes]}] [threshold-value upper-threshold lower-threshold] [action-type {none | trapOnly | triggerOnly | trapAndTrigger}]]
Example:
Device(config)# ip sla reaction-configuration 1 react connectionLoss threshold-type consecutive 3 action-type traponly
ip sla logging traps"
Verifying and Troubleshooting LSP Health Monitor Operations,"1. Debug IP SLAs operation errors with the command ""debug ip sla error [operation-number]""
2. Debug IP SLAs MPLS-LSP-Monitor operations with the command ""debug ip sla mpls-lsp-monitor [operation-number]""
3. Debug IP SLAs trace operations with the command ""debug ip sla trace [operation-number]""
4. Show IP SLAs MPLS-LSP-Monitor collection statistics with the command ""show ip sla mpls-lsp-monitor collection-statistics [group-id]""
5. Show IP SLAs MPLS-LSP-Monitor configuration with the command ""show ip sla mpls-lsp-monitor configuration [operation-number]""
6. Show IP SLAs MPLS-LSP-Monitor LPD operational state with the command ""show ip sla mpls-lsp-monitor lpd operational-state [group-id]""
7. Show IP SLAs MPLS-LSP-Monitor neighbors with the command ""show ip sla mpls-lsp-monitor neighbors""
8. Show IP SLAs MPLS-LSP-Monitor scan queue operations with the command ""show ip sla mpls-lsp-monitor scan-queue operation-number""
9. Show IP SLAs MPLS-LSP-Monitor summary with the command ""show ip sla mpls-lsp-monitor summary [operation-number [group [group-id]]]""
10. Show IP SLAs statistics with the command ""show ip sla statistics [operation-number] [details]""
11. Show IP SLAs aggregated statistics with the command ""show ip sla statistics aggregated [operation-number] [details]""
12. Show MPLS discovery VPN with the command ""show mpls discovery vpn""."
Display the operational status of the LSP discovery groups belonging to an LSP Health Monitor operation,show ip sla mpls-lsp-monitor lpd operational-state [group-id]
Enable and configure the LSP Health Monitor on PE1 to monitor the health of LSPs within the MPLS VPN network.,"Enable the LSP discovery option for Operation 1, and configure it to automatically create IP SLAs LSP ping operations for all BGP next hop neighbors (PE2, PE3, and PE4) in use by all VRFs (red, blue, and green)."
"Configure BGP next hop neighbor discovery database removal time, LSP Health Monitor scan interval, and secondary frequency for connection loss and timeout events.","The time interval at which routing entries that are no longer valid are removed from the BGP next hop neighbor discovery database is set to 60 seconds. The time interval at which the LSP Health Monitor checks the scan queue for BGP next hop neighbor updates is set to 1 minute. The secondary frequency option is enabled for both connection loss and timeout events, and the secondary frequency is set to 10 seconds."
Refresh interval set to 60 seconds.,"Next hop 10.10.10.5 (Prefix: 10.10.10.5/32), Next hop 10.10.10.7 (Prefix: 10.10.10.7/32), and Next hop 10.10.10.8 (Prefix: 10.10.10.8/32)."
Configure LSP Health Monitor with LSP Discovery on PE1 to monitor equal-cost multipaths between PE1 and PE2.,"Enable LSP discovery option for operation 100, set time interval for removing invalid routing entries to 30 seconds, set time interval for checking scan queue for BGP next hop neighbor updates to 1 minute, enable secondary frequency option for both connection loss and timeout events, and set secondary frequency to 5 seconds."
"Enable explicit null label option for echo request packets, set LSP rediscovery time period to 3 minutes, enable SNMP trap notification when LSP discovery group status changes occur, and configure multioperation scheduling and IP SLAs SNMP system logging messages.","Enabled explicit null label option for echo request packets, set LSP rediscovery time period to 3 minutes, enable proactive threshold monitoring configuration for SNMP trap notification on LSP discovery group status changes, and enable multioperation scheduling and IP SLAs SNMP system logging messages."
LSP Discovery Configuration,"- TTL value: 255
- Reply Mode: ipv4
- Path Discover: Enable
- Maximum sessions: 1
- Session Timeout(seconds): 120
- Base LSP Selector: 127.0.0.0
- Echo Timeout(seconds): 5
- Send Interval(msec): 0
- Label Shimming Mode: force-explicit-null
- Number of Stats Hours: 2
- Scan Period(minutes): 3
- Secondary Frequency: Enabled on Connection Loss and Timeout, Value(sec): 5"
MPLS discovery VPN configuration and refresh interval settings,"Refresh interval set to 30 seconds, Next refresh in 4 seconds"
LSP discovery and monitoring for MPLS network paths.,"- Discovery Completion Time(ms): 3052
- Number of Paths Discovered: 3
- Path Information (example):
  - LSP: 100001, PE1# show ip sla mpls-lsp-monitor collection-statistics
    - Entry number: 100001
    - Start Time Index: *21:52:59.795 GMT Tue Jun 20 2006
    - Path Discovery Start Time: *22:08:04.507 GMT Tue Jun 20 2006
    - Target Destination IP address: 192.168.1.11
    - Path Discovery Status: OK
    - LSP Group Index: 100002
    - LSP Group Status: up
    - Total Pass: 36
    - Total Timeout: 0
    - Total Fail: 0
    - Latest Probe Status: 'up,up,up'
    - Latest Path Identifier:"
Manually configure and schedule an IP SLAs LSP ping operation.,ip sla 1 mpls lsp ping ipv4 192.168.1.4 255.255.255.255 lsp-selector 127.1.1.1 frequency 120 secondary-frequency timeout 30
"Configuring Multioperation Scheduling of IP SLAs Operations, Proactive Threshold Monitoring of IP SLAs Operations","Cisco IOS Master Commands List, Cisco IOS commands, Cisco IOS IP SLAs Command Reference, Cisco IOS IP SLAs commands"
Specify the protocol data size for an IP SLAs operation's request packet.,request-data-size bytes
RTT Thresholds configuration for pseudo-wire monitoring with an upper threshold of 6000 milliseconds and a lower threshold of 3000 milliseconds. Connection Loss configuration to send an SNMP logging trap when there is a connection loss.,ip sla reaction-configuration 777 react rtt threshold-value 6000 3000 threshold-type immediate action-type traponly; ip sla reaction-configuration 777 react connectionLoss threshold-type immediate action-type traponly
The requirement is to add support for Virtual Circuit Connectivity Verification (VCCV) for Pseudo-Wire Emulation Edge-to-Edge (PWE3) services across MPLS networks through the IP SLAs VCCV operation.,"The configuration includes software releases like 12(33)SB, 12.2(33)SRC, 15.0(1)S, and Cisco IOS XE 3.1.0SG that introduced or support this feature."
"Support multioperation scheduling of IP SLAs operations, proactive threshold violation monitoring through SNMP trap notifications and syslog messages.","Metrics supported by the IP SLAs Ethernet operation include round-trip time latency, unprocessed packets, packet loss (source-to-destination and destination-to-source), out-of-sequence, tail-dropped, and late packets."
Configure the default value for IP SLAs Ethernet ping operations.,request-data-size 64
Set the timeout for an IP SLAs Ethernet operation to 10 seconds.,Device(config-ip-sla-ethernet-params)# timeout 10000
Enables privileged EXEC mode,enable
Gather statistical history information for an IP SLAs operation,"history history-parameter
Example: Device(config-ip-sla-ethernet-echo)# history hours-of-statistics-kept 3

Requirement: Configure the Simple Network Management Protocol (SNMP) owner of an IP SLAs operation
Configuration: owner owner-id
Example: Device(config-ip-sla-ethernet-echo)# owner admin

Requirement: Set the padding size for the data frame of an IP SLAs Ethernet operation
Configuration: request-data-size bytes
Example: Step 10, Device(config-ip-sla-ethernet-echo)# request-data-size 64

Requirement: Create a user-specified identifier for an IP SLAs operation
Configuration: tag text
Example: Step 11, Device(config-ip-sla-ethernet-echo)# tag TelnetPollServer1"
Configure IP SLAs operation with threshold and timeout values.,"Set the threshold time in milliseconds for an IP SLAs operation using the ""threshold"" command, followed by the desired value (e.g., Device(config-ip-sla-ethernet-echo)# threshold 10000). Set the timeout time in milliseconds for an IP SLAs operation using the ""timeout"" command, followed by the desired value (e.g., Device(config-ip-sla-ethernet-echo)# timeout 10000)."
Configure scheduling parameters for an IP SLAs auto Ethernet operation.,ip sla ethernet-monitor schedule operation-number schedule-period seconds [frequency [seconds]]
Schedule an IP SLA operation and configure its parameters.,"• ip sla schedule operation-number [life {forever | seconds}] [start-time {hh : mm[: ss] [month day | day month]} | pending | now | after hh : mm : ss}] [ageout seconds] [recurring]
• ip sla group schedule group-operation-number operation-id-numbers schedule-period schedule-period-range [ageout seconds] frequency group-operation-frequency [life{forever | seconds}] [start-time{hh:mm[:ss] [month day | day month] | pending | now | after hh:mm:ss}]"
Monitoring system should detect three consecutive connection loss events and send an SNMP trap notification. The schedule period for operations 10 and 20 is set to 60 seconds and both are scheduled to start immediately.,"Configuration A - IP SLA Ethernet-Monitor (Operation 10)
Type: Echo domain testdomain VLAN 34
Reaction Configuration: Connection loss, threshold type consecutive (3), action type trapOnly
Schedule: Start time now, Schedule period 60 seconds

Configuration B - IP SLA Ethernet-Monitor (Operation 20)
Type: Echo domain testdomain EVC testevc
Reaction Configuration: Connection loss, threshold type consecutive (3), action type trapOnly
Schedule: Start time now, Schedule period 60 seconds"
- IP SLA reaction configuration with consecutive threshold type and trapOnly action type,"- Configuration A:
  - ip sla 1
  - ethernet echo mpid 23 domain testdomain vlan 34
  - ip sla reaction-configuration 1 react connectionLoss threshold-type consecutive 3 action-type trapOnly
  - ip sla schedule 1 start-time now
- Configuration B:
  - ip sla 5
  - ethernet echo mpid 23 domain testdomain evc testevc
  - ip sla reaction-configuration 5 react connectionLoss threshold-type consecutive 3 action-type trapOnly
  - ip sla schedule 5 start-time now"
"The IP Service Level Agreements (SLAs) for Metro-Ethernet feature provides the capability to gather Ethernet-layer network performance metrics. Available statistical measurements for the IP SLAs Ethernet operation include round-trip time, jitter (interpacket delay variance), and packet loss.",Support for Ethernet Virtual Circuits (EVCs) was added.
Support for Port Channel interfaces in Y1731 operations.,"SNMP is partially supported; DM/LM can be polled for some attributes, but MIB support for all parameters is not supported."
Configure a dual-ended Ethernet delay or delay variation operation for IP SLAs Metro-Ethernet 3.0 (ITU-T Y.1731).,"1. Ensure the control-word is configured. To start DM timestamping, switch ON the control-word if the remote end is not switched ON.
2. Configure the Y1731 sender as PTP master and the Y1731 responder as PTP slave to avoid errors in RX and TX timestamping.
3. Reconfigure IP SLA Y1731 while doing online insertion removal (OIR) of IM or router reload, because local MEP is deleted during the course.
4. After performing a router reload, observe for a delay that may occur after issuing the ip sla schedule command to populate with the Y.1731 PM measurements.
5. Configure the dot1q tag to contain class of service (CoS) bits, which are used by IPSLA Y.1731 PM session to test delay or loss of packets with a specific CoS. Make sure the CoS is not a non-zero value when using EPM over untagged EFPs."
"To remove the MEP configurations in an already-configured dual-ended operation, always remove the MEPs in the reverse order in which they were configured. Remove the scheduler first, then the threshold monitoring configuration, and then the sender MEP configuration on the source device before removing the scheduler, proactive threshold monitoring, and receiver MEP configuration on the destination device.",1. Configure either Precision Time Protocol (PTP) or Network Time Protocol (NTP) on both the source and destination devices for time synchronization.
Configure the receiver on the responder and enter IP SLA Y.1731 delay configuration mode.,ethernet y1731 delay receive 1DM domain domain-name {evc evc-id | vlan vlan-id} cos cos {mpid source-mp-id | mac-address source-address}
"Configure global configuration mode, IP SLAs operation, and IP SLA Y.1731 delay configuration for an Ethernet dual-ended delay.","- Enter global configuration mode: configure terminal
- Begin configuring an IP SLAs operation: ip sla operation-number (Example: Router(config)# ip sla 500)
- Enter IP SLA Y.1731 delay configuration mode: ethernet y1731 delay 1DM domain domain-name {evc evc-id | vlan vlan-id} {mpid target-mp-id | mac-address target-address} cos cos {source {mpid source-mp-id | mac-address source-address}} (Example: Router(config-ip-sla)# ethernet y1731 delay 1DM domain xxx evc yyy mpid 101 cos 3 source mpid 100)
- Set the session with mac-address not to be inactivated when there is CFM error."
Configure the owner of an IP SLAs operation.,owner owner-id
Configuring the length of time during which performance measurements are conducted and the results stored.,"aggregate interval seconds (e.g., 900 seconds)"
"The requirement is to configure the IP SLAs Metro-Ethernet 3.0 (ITU-T Y.1731) operations, specifically setting up a Sender MEP for a Single-Ended Ethernet Delay or Delay Variation Operation.","1. Configure the history interval for storing statistics distributions during the lifetime of an IP SLAs Ethernet operation using the command ""history interval"" followed by the desired interval value.
2. Set the maximum delay time in milliseconds using the command ""max-delay"" followed by the desired millisecond value."
Configuring a Sender MEP for a Single-Ended Ethernet Frame Loss Ratio Operation,Use the 'show ethernet cfm maintenance-points remote' command to display information about remote (target) MEPs on destination devices.
Monitoring frame loss for frames on an EVC regardless of the CoS value (any CoS or Aggregate CoS cases),"1. enable
2. configure terminal
3. ip sla operation-number"
Configure the owner of an IP SLAs operation.,owner admin
Scheduling IP SLAs Operations,"To schedule IP SLAs operations, make sure all IP Service Level Agreements (SLAs) operations to be scheduled are already configured. The frequency of all operations scheduled in a multioperation group must be the same. The list of one or more operation ID numbers to be added to a multioperation group must be limited to a maximum of 125 characters in length, including commas (,)."
Scheduling IP SLAs Operations,"schedule-period, schedule-period-range, schedule-together, frequency, group-operation-frequency, life (forever | seconds), start-time (hh:mm [:ss] [month day | day month] | pending | now | after hh:mm [:ss]), show ip sla group schedule, show ip sla configuration"
Configure the scheduling parameters for an individual IP SLAs operation.,Example: Device(config)# ip sla schedule 10 life forever start-time now
"Scheduling IP SLAs operations with specific times (3, 4, 6-9).","Device(config)# ip sla schedule 1 3,4,6-9
schedule-period 50 frequency range 80-100"
Dual-Ended Ethernet Delay Operation,"Device# show ip sla configuration 501
IP SLAs Infrastructure Engine-III
Entry number: 501
Owner: admin
Tag:
Operation timeout (milliseconds): 5000
Ethernet Y1731 Delay Operation
Frame Type: 1DM
Domain: xxx
ReceiveOnly: TRUE
Evc: yyy
Local Mpid: 101
CoS: 3
Max Delay: 5000
Threshold (milliseconds): 5000"
CoS (Class of Service),"CoS value is 3.

Requirement: Request size (Padding portion)
Configuration: Padding portion size is 64.

Requirement: Frame Interval
Configuration: Frame Interval is 1000.

Requirement: Threshold (milliseconds)
Configuration: Threshold value is 5000 milliseconds.

Please note that the remaining information in the text seems to be related to a specific device configuration and performance monitoring session, rather than general requirements and configurations."
Frame Delay and Frame Delay Variation Measurement,ITU-T Y.1731
Sender MEP for a Single-Ended Ethernet Frame Loss Operation,"IP SLAs Infrastructure Engine-III, Entry number: 11, Operation timeout (milliseconds): 5000, Ethernet Y1731 Loss Operation, Frame Type: LMM, Domain: xxx"
"Y.1731 Performance Monitoring (PM) provides a standard Ethernet function that includes measurement of Ethernet frame delay, frame delay variation, frame loss, and frame throughput measurements specified by the ITU-T Y-1731 standard and interpreted by the Metro Ethernet Forum (MEF) standards group.","IP SLA Support for ETH-SLM (Ethernet Synthetic Loss Measurement in Y1731), support added for reporting threshold events and collecting performance statistics for IP SLAs Metro-Ethernet 3.0 (ITU-T Y.1731) operations using SNMP, Y1731 MIB Support through existing IPSLA MIBs"
On-demand IP SLAs Synthetic Loss Measurement (SLM) operations for real-time troubleshooting of Ethernet services.,Two operational modes for on-demand operations - direct mode and referenced mode.
"Configure IP SLAs Y.1731 On-Demand and Concurrent Operations, with Class of Service (CoS)-level monitoring enabled on MEPs associated to the Ethernet frame loss operation using the monitor loss counter command on the devices at both ends of the operation.","Enable IP SLA On-Demand for Ethernet DMMv1 or SLM, define a domain with the evc-id or vlan-id, specify the target MP-ID or MAC address, and set the cos value."
Creating and running an on-demand operation in direct mode for Ethernet devices using DMMv1 or SLM.,ip sla on-demand ethernet {DMMv1 | SLM} domain domain-name {evc evc-id | vlan vlan-id} {mpid source-mp-id | mac-address source-address} continuous [interval milliseconds] | burst [interval milliseconds] [number number-of-frames] [frequency seconds]} size bytes aggregation seconds
Configuring a Referenced On-Demand Operation on a Sender MEP,Device# ip sla on-demand ethernet SLM domain xxx vlan 12 mpid 34 cos 4 source mpid 23 continuous aggregation 10 duration 60
"IP SLAs Y.1731 On-Demand and Concurrent Operations for Ethernet SLM domain xxx, VLAN 10, MPI D 3, COs 1, source MPI 1, continuous aggregation 35, duration 38",Device# ip sla on-demand ethernet SLM domain xxx vlan 10 mpid 3 cos 1 source mpid 1 continuous aggre...
Unavailable indicators,3
None found,None found
NTP Configuration,Network Time Protocol (NTP) settings
"Feature enhancement to run on-demand Synthetic Loss Measurement (SLM) operations, independent from previously scheduled operations, for the purpose of troubleshooting Ethernet services in your network.","The following commands were introduced or modified: ethernet y1731 delay, ethernet y1737 loss, ip sla on-demand ethernet."
Configuring IP SLAs UDP Echo Operations to monitor end-to-end response time between a Cisco device and devices using IPv4 or IPv6.,Using the Cisco IP SLAs Responder at the destination Cisco device to enhance UDP echo accuracy.
Measure end-to-end response time between a Cisco device and devices using IP using UDP Echo Operation,"Device A as an IP SLAs Responder, Device B as the source IP SLAs device"
Configure IP SLAs Responder on a Destination Device,"Enter one of the following commands:
• ip sla responder
• ip sla responder udp-echo ipaddress ip-address port portvrf vrf"
"Enabling IP SLAs responder functionality on a specified IP address, port, and VRF.",Device(config)# ip sla responder [udp-echo | jitter-echo | path-echo] <ip-address> [port <number>] [vrf <vrf-name>]
Exit global configuration mode and return to privileged EXEC mode,EXEC mode
Set the time interval for each statistics distribution kept for an IP SLAs operation.,history statistics-distribution-interval milliseconds
Enabling data verification for IP Service Level Agreements (SLAs) operation to check for corruption in each operation response.,Add the verify-data command to the configuration while configuring in IP SLA configuration mode.
Add proactive threshold conditions and reactive triggering for generating traps or starting another operation to an IP Service Level Agreements (SLAs) operation.,ip sla 5 udp-echo 172.29.139.134 5000 frequency 30 request-data-size 160 tos 128 timeout 1000 tag FLL-RO ip sla schedule 5 life forever start-time now
"Measure the round-trip time (RTT) between a Cisco device and an HTTP server for DNS lookup, TCP connection, and HTTP transaction to retrieve a web page.",Not provided in the text.
Monitoring web server performance levels by determining the RTT taken to retrieve a web page.,"Configure RAW requests with raw commands in HTTP RAW configuration mode, allowing control over fields such as authentication and monitoring through a proxy server. IP SLA operation goes down only if the return code is not 200."
Configure a Basic HTTP GET Operation on the Source Device,"1. enable
2. configure terminal
3. ip sla operation-number
4. http {get | raw} url [name-server ip-address] [version version-number] [source-ip {ip-address | hostname}] [source-port port-number] [cache {enable | disable}] [proxy proxy-url]
5. frequency seconds
6. end"
Define an HTTP operation using IP SLA on a device.,"Requirement: Define an HTTP operation using IP SLA on a device.
Configuration: Device(config)# ip sla 10 http get http://198.133.219.25"
Configuring an HTTP RAW Operation on the Source Device,http {get | raw} url [name-server ip-address] [version version-number] [source-ip {ip-address | hostname}] [source-port port-number] [cache {enable | disable}] [proxy proxy-url]
Configure the scheduling parameters for an individual IP SLAs operation.,"1. Enter global configuration mode using ""configure terminal"" command.
2. Choose one of the following commands:
   a. Configure the scheduling parameters for an individual IP SLAs operation using ""ip sla schedule operation-number [life {forever | seconds} [start-time {[hh:mm:ss] [month day | day month]} | pending | now | after hh:mm:ss}] [ageout seconds] [recurring]"".
   b. Specify an IP SLAs operation group number and the range of operation numbers for a multioperation scheduler using ""ip sla schedule group-operation-number operation-id-numbers {schedule-period schedule-period-range | schedule-together} [ageout seconds] frequency group-operation-frequency [life {forever | seconds}] [start-time {hh:mm [:ss] [month day | day month] | pending | now | after hh:mm [:ss]}]""."
"Schedule IP SLAs operations at 3,4,6-9 intervals.","Device(config)# ip sla schedule 1 3,4,6-9
schedule-period 50 frequency range 80-100"
Configure an HTTP RAW operation through a proxy server with authentication.,"```
ip sla 8
http raw url http://www.proxy.cisco.com
http-raw-request
GET http://www.yahoo.com HTTP/1.0\r\n
Authorization: Basic \r\n
\r\n
end
ip sla schedule 8 life forever start-time now
```"
Implement a RAW operation with authentication for IP SLA 8.,"- ip sla 8
- http raw url http://site-test.cisco.com
- http-raw-request
  - GET /lab/index.html HTTP/1.0\r\n
  - Authorization: Basic btNpdGT4biNvoZe=\r\n
- end
- ip sla schedule 8 life forever start-time now"
Configure an IP Service Level Agreements (SLAs) TCP Connect operation to measure the response time taken to perform a TCP Connect operation between a Cisco router and devices using IPv4 or IPv6.,Use the IP SLAs Responder at the destination Cisco router to enhance TCP Connect accuracy.
Reliable full-duplex data transmission using IP or an IP SLAs Responder.,Not specified in the text provided.
"Test virtual circuit availability or application availability using a TCP Connect operation with the IP SLAs Responder as an option for Cisco devices, and specify a destination port number for non-Cisco devices.","Device B is configured as the source IP SLAs device, and the TCP Connect operation is configured with the destination device as IP Host 1. The IP SLAs Responder can be used at the destination Cisco device to enhance accuracy."
Configure a Basic TCP Connect Operation on the Source Device.,"1. Enable privileged EXEC mode.
2. Enter global configuration mode.
3. Begin configuration for an IP SLAs operation and enter IP SLA configuration mode.
4. Define a TCP Connect operation and enter IP SLA TCP configuration mode."
"Configuring history filter, frequency, hours-of-statistics-kept, and lives-kept in the history table for an IP SLAs operation.","1. history filter failures (Step 8)
2. frequency 30 (Step 9)
3. history hours-of-statistics-kept 4 (Step 10)
4. history lives-kept 2 (Step 11)
5. owner admin (Step 12)"
IP SLAs operation configuration,"statistics-distribution-interval, tag, threshold, timeout, tos number or traffic-class number"
"Schedule an IP SLAs operation with a specific group number, operation numbers, and life duration (forever or seconds).",`ip sla schedule group-operation-number operation-id-numbers {schedule-period schedule-period-range | schedule-together} [ageout seconds] frequency group-operation-frequency [life {forever | seconds}] [start-time {hh:mm [:ss] [month day | day month] | pending | now | after hh:mm [:ss]}]`
Add proactive threshold conditions and reactive triggering for generating traps or starting another operation to an IP Service Level Agreements (SLAs) operation.,"Refer to the ""Configuring Proactive Threshold Monitoring"" section in the IP SLAs documentation."
Enable the target port temporarily to allow the IP SLAs responder to reply to TCP Connect operation.,Configure device A and device B with respective configurations for TCP Connect operations.
IP SLAs utilizes time stamps to calculate jitter for each direction based on the difference between interarrival and interdeparture delay for two successive packets. It can be used to identify problems in the network because the source-to-destination and destination-to-source data paths can be different (asymmetric).,Each ICMP packet includes a sequence number in its header that is used to count the number of packets received out of sequence on the sender. Both the sequence number and the receive timestamps can be used to calculate out-of-sequence packets on the source-to-destination path. The same method applies for the destination-to-source path.
Enables privileged EXEC mode.,enable
Display IP SLAs configuration details,show ip sla configuration
Configure an IP Service Level Agreements (SLA) Internet Control Message Protocol (ICMP) Echo operation to monitor end-to-end response time between a Cisco router and devices using IPv4 or IPv6.,Not provided in the text.
Measure end-to-end response time between a Cisco router and any devices using IP.,"ICMP Echo Operation with ping, using an IP SLAs device to measure response time between the source IP SLAs device and destination IP device."
"Enable IP SLA and configure an ICMP Echo operation with a specific source IP, destination IP, and repeat rate.",ip sla operation-number icmp-echo {destination-ip-address | destination-hostname} [source-ip {ip-address | hostname} | source-interface interface-name] frequency seconds
Enhanced history for IP SLAs operation,"interval seconds, number-of-buckets"
Set the number of lives maintained in the history table for an IP SLAs operation.,history lives-kept lives
Calculating network monitoring statistics for an IP SLAs operation.,"threshold milliseconds, timeout milliseconds, tos number or traffic-class number."
"The frequency of all operations scheduled in a multioperation group must be the same, and the list of one or more operation ID numbers to be added to a multioperation group must be limited to a maximum of 125 characters in length, including commas.","Enter one of the following commands for scheduling IP SLAs operations:
- ip sla schedule operation-number [life {forever | seconds}] [start-time {[hh:mm:ss] [month day | day month] | pending | now | after hh:mm:ss}] [ageout seconds] [recurring]
- ip sla group schedule group-operation-number operation-id-numbers {schedule-period schedule-period-range | schedule-together} [ageout seconds] frequency group-operation-frequency [life {forever | seconds}] [start-time {hh:mm [:ss] [month day | day month] | pending | now | after hh:mm [:ss]}]"
Configure the scheduling parameters for an individual IP SLAs operation.,ip sla schedule operation-number [life {forever | seconds}] [start-time {[hh:mm:ss] [month day | day month]} | pending | now | after hh:mm:ss}] [ageout seconds] [recurring]
Display IP SLAs configuration details.,show ip sla configuration
Measure end-to-end network response time between a Cisco device and other devices using IP.,Support added for operability in IPv6 networks.
Identify a bottleneck hop in the path using ICMP Path Echo operation.,Configure an ICMP Path Echo Operation on the source device without requiring an IP SLAs Responder on the destination device.
Configure a Basic ICMP Path Echo Operation on the Source Device,"1. enable
2. configure terminal
3. ip sla operation-id
4. path-echo {destination-ip-address | destination-hostname} [source-ip {ip-address | hostname}]
5. frequency seconds
6. end"
"ICMP Path Echo operation configuration with a specified start time, frequency, and life duration.",ip sla 7 path-echo 172.29.139.134 frequency 30 ! ip sla schedule 7 start-time after 00:00:30 life 300
Enable privileged EXEC mode.,enable
Enter global configuration mode and configure IP SLAs operation.,"Device# configure terminal, Device(config)# ip sla 10, Device(config-ip-sla)# path-echo 172.29.139.134, Device(config-ip-sla-pathEcho)# history buckets-kept 25, and (Optional) Device(config-ip-sla-pathEcho)# history distributions-of-statistics-kept 5."
"Configure the Simple Network Management Protocol (SNMP) owner and number of paths for which statistics are maintained per hour for an IP SLAs operation. Also configure the protocol data size in the payload, request-data-size, and the number of entries kept in the history table per bucket for an IP SLAs operation.","1. owner owner-id - Set the SNMP owner for the IP SLAs operation.
Example: Device(config-ip-sla-pathEcho)# owner admin

2. paths-of-statistics-kept size - Set the number of paths for which statistics are maintained per hour for an IP SLAs operation.
Example: Device(config-ip-sla-pathEcho)# paths-of-statistics-kept 3

3. request-data-size bytes - Set the protocol data size in the payload of an IP SLAs operation's request packet.
Example: Device(config-ip-sla-pathEcho)# request-data-size 64

4. samples-of-history-kept samples - Set the number of entries kept in the history table per bucket for an IP SLAs operation.
Example: Device(config-ip-sla-pathEcho)# samples-of-history-kept 10

5. history - Set the time interval for each statistics distribution kept for an IP SLAs operation."
Statistical distribution interval for milliseconds in IP SLA Path Echo operations.,"Set the statistics-distribution-interval value using the command ""statistics-distribution-interval [value]"" under the Device(config-ip-sla-pathEcho)# configuration mode."
Configure a type of service (ToS) byte in the IP header of an IP SLAs operation.,Device(config-ip-sla-pathEcho)# tos 160
Enables privileged EXEC mode.,enable
Configuration:,- Device configuration for IP SLA group and schedule setup with frequency range of 80-100.
Displays IP SLAs configuration details,show ip sla configuration
"Configure an ICMP Path Echo Operation for IP SLAs, starting after 30 seconds and running for 5 minutes.",N/A (This text does not provide a specific device configuration)
"Set up a Path Echo operation (ip sla 3) from Device B to Device A using IP/ICMP with three attempts in 25 seconds, starting at 0 seconds.","Device B Configuration
- ip sla 3
- path-echo 172.29.139.134
- frequency 10
- tag SGN-RO
- timeout 1000
- ip sla schedule 3 life 25"
Configuring IP SLAs ICMP Path Jitter Operations to monitor hop-by-hop jitter (inter-packet delay variance) and analyze data using Cisco commands.,"The document provides information on how to configure the IP SLAs ICMP Path Jitter Operation, with examples starting from page 229."
IP SLAs - Path Jitter does not support the IP SLAs History feature (statistics history buckets) due to the large data volume involved with jitter operations.,"The following commands do not apply to path jitter operations: 
- history buckets-kept
- history distributions-of-statistics-kept
- history enhanced
- history filter
- history hours-of-statistics-kept
- history lives-kept
- history statistics-distribution-interval
- samples-of-history-kept
- lsr-path
- tos
- threshold
- verify-data"
"Discover hop-by-hop IP route from source to destination using traceroute utility and determine response times, packet loss, and approximate jitter values for each hop along the path using ICMP echoes.","- Path Jitter Operation Parameter: path-jitter command, num-packets option (10 echos)
- Interval between Echo probes: T milliseconds
- Frequency of operation repetition: once every F seconds"
Configure the IP SLAs Responder on a Destination Device,"1. enable, 2. configure terminal, 3. ip sla responder, 4. exit"
Configure an ICMP Path Jitter Operation on the Source Device.,"1. enable
2. configure terminal
3. ip sla operation-number
4. path-jitter {destination-ip-address | destination-hostname} [source-ip {ip-address | hostname}] [num-packets packet-number] [interval milliseconds] [targetOnly]
5. frequency seconds
6. end"
Enabling privileged EXEC mode,"Enter your password if prompted, then use the command ""enable"""
Configure an ICMP Path Jitter operation to send echo probes to the destination only.,Device(config)# ip sla 1; Device(config-ip-sla)# path-jitter 172.17.246.20 num-packets 50 interval 30 targetOnly
Configure IP SLAs operation scheduling and group parameters.,"- Use the ""show ip sla configuration"" command to view current settings.
- Use the ""ip sla group schedule"" command to set up scheduling for individual or multiple operations.
- Specify the life, start-time, ageout seconds, and recurring options as needed."
Configure an ICMP Path Jitter operation to measure the jitter on a network path between two devices.,"Device# configure terminal
Device(config)# ip sla 15011
Device(config-sla-monitor)# path-jitter 10.222.1.100 source-ip 10.222.3.100 num-packets 20
Device(config-sla-monitor-pathJitter)# frequency 30
Device(config-sla-monitor-pathJitter)# exit
Device(config)# ip sla schedule 15011 life forever start-time now
Device(config)# exit"
Measure the round-trip time between a Cisco device and an FTP server using FTP over TCP to retrieve a file.,"Device B is configured as the source IP SLAs device with an FTP operation, and the FTP server is configured as the destination device. The passive mode is enabled by default and only the FTP GET (download) operation type is supported."
FTP server performance measurement and network capacity determination,"FTP server configuration, IP SLAs FTP operation settings"
Configure an FTP Operation on a Source Device for IP SLAs,"1. enable
2. configure terminal
3. ip sla operation-number
4. ftp get url [source-ip {ip-address | hostname}] [mode {passive | active}
5. frequency seconds"
Set the rate at which a specified IP SLA operation repeats.,frequency seconds
Set the number of lives maintained in the history table for an IP SLAs operation.,history lives-kept lives
Scheduling IP SLAs Operations,Device(config-ip-sla-ftp)# timeout <milliseconds>
Configuring IP SLA scheduling and operations on a device.,"Enter one of the following commands:
- ip sla schedule operation-number [life {forever | seconds}] [start-time {[hh:mm:ss] [month day | day month] | pending | now | after hh:mm:ss}] [ageout seconds] [recurring]
- ip sla group schedule group-operation-number operation-id-numbers {schedule-period schedule-period-range | schedule-together} [ageout seconds] frequency group-operation-frequency [life {forever | seconds}] [start-time {hh:mm [:ss] [month day | day month] | pending | now | after hh:mm [:ss]}]"
Displaying IP SLAs group schedule details and configuration details.,"Device(config)# ip sla group schedule 1 3,4,6-9
life forever start-time now
Device(config)# ip sla schedule 1 3,4,6-9
schedule-period 50 frequency range 80-100"
Device B Configuration for FTP operations using IP SLAs,"- ip sla 10
- ftp get ftp://user1:abc@test.cisco.com/test.cap mode active
- frequency 20
- tos 128
- timeout 40000
- tag FLL-FTP
- ip sla schedule 10 start-time 01:30:00 recurring"
Configure IP Service Level Agreements (SLAs) Domain Name System (DNS) operation to measure the difference between the time taken to send a DNS request and receive a reply.,The text does not provide specific configuration details for the mentioned requirement.
Measure and analyze DNS performance by configuring an IP SLAs DNS Operation on the Source Device.,"1. Enable IP SLAs on the source device.
2. Configure the basic DNS operation using the following commands:
   - dns {destination-ip-address | destination-hostname} name-server ip-address [source-ip {ip-address | hostname} source-port port-number]
   - frequency seconds
3. End the configuration."
Configure IP SLAs operation for DNS monitoring with optional parameters.,"1. Enter privileged EXEC mode using ""enable"".
2. Enter global configuration mode using ""configure terminal"".
3. Begin IP SLA configuration and enter IP SLA configuration mode using ""ip sla"".
4. Define a DNS operation and enter IP SLAs DNS configuration mode using ""dns {destination-ip-address | destination-hostname} name-server ip-address [source-ip {ip-address | hostname} source-port port-number]"".
5. Set the rate at which the specified IP SLAs operation repeats using ""frequency seconds""."
Configure an IP SLAs DNS operation with optional parameters on the source device.,"1. Enable IP SLAs operation-number.
2. Configure terminal.
3. Use the command ip sla operation-number dns {destination-ip-address | destination-hostname} name-server ip-address [source-ip {ip-address | hostname} source-port port-number].
4. Set the history buckets-kept size.
5. Set the history distributions-of-statistics-kept size.
6. Configure history enhanced with optional parameters, such as interval seconds and number-of-buckets."
Keeping history buckets during the lifetime of an IP SLAs operation.,history buckets-kept 25
Configuring an IP SLAs DNS operation with optional parameters on the source device.,"Step 12:
Device(config-ip-sla-dns)# owner admin
(Optional) Sets the time interval for each statistics distribution kept for an IP SLAs operation.
Step 13:
Device(config-ip-sla-dns)# history
statistics-distribution-interval 10
(Optional) Creates a user-specified identifier for an IP SLAs operation.
Step 14:
Device(config-ip-sla-dns)# tag TelnetPollServer1"
Set upper threshold value for calculating network monitoring statistics and timeout value for waiting response from request packet in IP SLAs operation.,"threshold milliseconds - Device(config-ip-sla-dns)# threshold [value]
timeout milliseconds - Device(config-ip-sla-dns)# timeout [value]"
Configuring Multioperation Scheduling of IP SLAs Operations,Cisco IOS P SLAs Configuration Guide
Configure an IP Service Level Agreements (SLAs) Dynamic Host Control Protocol (DHCP) probe to measure the response time between a Cisco device and a DHCP server to obtain an IP address.,The text does not provide specific configuration details for the requirement mentioned.
Configure a DHCP operation on the source device to monitor and forward DHCP packets between clients and servers in different subnets.,"1. enable
2. configure terminal
3. ip sla operation-number
4. dhcp {destination-ip-address | destination-hostname} [source-ip {ip-address | hostname}]
5. frequency seconds
6. end"
Implementing IP SLAs for monitoring network performance,"Enable privileged EXEC mode, configure terminal and use ip sla to create an operation with a specific operation-number."
Define a DHCP operation and enter IP SLA DHCP configuration mode.,dhcp {destination-ip-address | destination-hostname} [source-ip {ip-address | hostname}]
Enabling privileged EXEC mode on the device,enable command
Enter global configuration mode and configure IP SLA operation with DHCP.,"1. Enter global configuration mode by typing ""configure terminal"".
2. Begin configuration for an IP SLAs operation and enter IP SLA configuration mode by typing ""ip sla"".
3. Define a DHCP operation and enter IP SLA DHCP configuration mode by typing ""dhcp {destination-ip-address | destination-hostname} [source-ip {ip-address | hostname}]"".
4. Configure the DHCP operation with the destination IP address, source IP address (optional), and the number of history buckets that are kept during the lifetime of an IP SLAs operation by typing ""history buckets-kept size""."
Proactive Threshold Monitoring for IP Service Level Agreements (SLAs),"Enable and configure IP SLAs DHCP operation with server 172.16.20.3, using DHCP option 82 to specify the circuit ID."
"The requirement is to automatically distribute IP SLAs operations at equal intervals over a specified time frame, with the aim of minimizing CPU utilization and enhancing network scalability.","Group operation number, Operation ID numbers, Schedule period, Ageout (optional)"
All operations in the group must be started at equal intervals within a 20-second period. The first operation (operation 1) in operation group 1 will start at 0 seconds. All 10 operations in operation group 1 (operation 1 to operation 10) must be started in the schedule period of 20 seconds.,"By default, the frequency is set to the same value as the configured schedule period (20-second period)."
"The requirement is to have an optimal division (spacing) of operations over the specified schedule period, with a scheduling period of 20 seconds and a frequency.",Operation group 1 starts again every 20 seconds; each operation will start 2 seconds after the previous operation.
Operations in operation group 2 must start at evenly distributed intervals within a configured schedule period of 20 seconds.,The last operation (operation 10) in the operation group 2 will always start 18 seconds after the first operation (operation 1).
"The requirement is to schedule multiple operations within a specific schedule period (e.g., 1-second intervals). The operations should be evenly distributed across the schedule period, and if not possible, they should start at the beginning of the period with the remaining operations starting in the last interval.","The configuration mentioned is for Operation Group 3, which has a schedule period of 5 seconds and a frequency of 10 seconds. This means that there are 10 operations planned within a 5-second period (one operation every 0.5 seconds)."
"The requirement is to schedule operations in each 1-second interval, dividing the number of operations by the schedule period. If the number of operations does not equally divide into 1-second intervals, the operations should be divided at the start of the schedule period and the remaining operations to start at the last 1-second interval.","The configuration is for operation group 3 with a frequency of 10, where each iteration starts 10 seconds after the previous iteration's start. For operation group 4, the schedule period is 4 seconds and the frequency is 5 seconds."
IP SLAs Group Scheduling with Schedule Period Greater Than Frequency,"- Schedule Period: 20 seconds
- Number of operations: 10
- Start time distribution: evenly distributed over the schedule period (2 seconds interval between operations)
- Operation group frequency: 10 seconds"
"The requirement is to implement the IP SLAs Random Scheduler feature, which schedules multiple IP SLAs operations at random intervals uniformly distributed over a specified duration of time and restarts at uniformly distributed random frequencies within a specified frequency range. This feature should improve statistical metrics for assessing network performance and be non-compliant with RFC2330 due to not accounting for inter-packet randomness.","The configuration needs to include setting a frequency range to enable the IP SLAs Random Scheduler option, which is disabled by default."
Configuring a group schedule in global configuration mode with uniformly distributed random frequencies within a specified range.,Starting value of the frequency range should be greater than timeout values of all operations in the group and greater than the schedule period to prevent the same operation from being scheduled more than once within the period.
The requirement is to configure the IP SLAs Multioperation Scheduler with options for random scheduler and minimum time interval.,"1) Set the start of each operation in a group operation to be 100 milliseconds (0.1 seconds). 2) Configure the minimum time interval to 1 second if the random scheduler option is disabled. 3) Ensure only one operation can be scheduled at any given time, unless the random scheduler option is disabled, then multiple operations can begin simultaneously. 4) Set the first operation to always begin at 0 milliseconds of the schedule period."
"Configure IP SLAs random scheduler option with frequency range, life duration, and start time.",ip sla group schedule group-operation-number operation-id-numbers schedule-period seconds [ageout Step 3 seconds] [frequency [seconds|range random-frequency-range] [life{forever | seconds}] [start-time{hh:mm[:ss] [month day | day month] | pending | now | after hh:mm:ss}]]
Scheduled multiple IP SLAs operation with a schedule period of 60 and a life of 1200 seconds.,- Device# ip sla group schedule 1 1-20 schedule-period 60 life 1200
Schedule operations with a uniformly distributed random interval over a schedule period of 50 seconds. Start the first operation immediately and choose the interval from the specified range upon every invocation of the probe. Enable the random scheduler option with uniformly distributed random frequencies for the group of operations to restart within the range of 80-100 seconds.,ip sla group schedule 2 1-3 schedule-period 50 frequency range 80-100 start-time now
"Access resources to download documentation, software, and tools for Cisco products and technologies; install and configure software; troubleshoot and resolve technical issues.",Access to most tools on the Cisco Support and Documentation website requires a Cisco.com user ID and password.
"Configuring reaction thresholds for VoIP related parameters, including unidirectional jitter, unidirectional packet loss, and unidirectional VoIP voice quality scoring.","Triggered reactions for IP SLAs notifications, specific to IP SLAs jitter operations; Packet loss, jitter, and Mean Operation Score (MOS) statistics; Events such as traps for RTT value changes above or below specified threshold; System logging messages with SNMP traps using CISCO-RTTMON-MIB and CISCO-SYSLOG-MIB."
Cisco system logging process severity levels,"{emergency (0), alert (1), critical (2), error (3), warning (4), informational (6), debugging (7)}"
Configure Proactive Threshold Monitoring for SNMP traps based on the average return-trip time (RTTAvg) for RTT operations.,Configure IP SLAs operations and set up syslog messages for RTTAvg threshold violations from CISCO-RTTMON-MIB.
SNMP server configuration and IP SLA reaction-configuration setup,"snmp-server host {hostname | ip-address} [vrf vrf-name] [traps | informs] [version {1 | 2c | 3 [auth| noauth | priv]}] community-string [udp-port port] [notification-type];
ip sla reaction-configuration operation-number react;
monitored-element [action-type option] [threshold-type {average [number-of-measurements] | consecutive [occurrences] | immediate | never | xofy [x-value y-value]}] [threshold-value upper-threshold lower-threshold];"
Configure an IP SLAs Reaction Configuration to send an SNMP logging trap when the MOS value either exceeds 4.9 (best quality) or falls below 2.5 (poor quality).,Device(config)# ip sla reaction-configuration 10 react mos threshold-type immediate threshold-value 490 250 action-type trapOnly
Monitoring network latency and jitter using IP SLAs,"- Reaction 1: RTT
  - Entry number: 1
  - Threshold type: Never
  - Rising (milliseconds): 5000
  - Falling (milliseconds): 3000
  - Threshold count: 5
  - Threshold count2: 5
  - Action type: None
- Reaction 1: JitterDSAvg
  - Entry number: 1
  - Threshold type: average
  - Rising (milliseconds): 5
  - Falling (milliseconds): 3
  - Threshold count: 5
  - Threshold count2: 5
  - Action type: triggerOnly"
"IP SLAs configuration with schedule, reactions, and logging.","ip sla schedule 1 start now life forever, ip sla reaction-configuration 1 react rtt threshold-type immediate threshold-value 3000 2000 action-type trapOnly, ip sla reaction-configuration 1 react MOS threshold-type consecutive 4 threshold-value 390 220 action-type trapOnly, ip sla logging traps, snmp-server host 10.1.1.1 version 2c public syslog, snmp-server enable traps syslog"
Notification configuration for SNMP V2 Trap,snmpTrapOID.0 = ciscoSyslogMIB.2.0.1
IP SLAs proactive threshold monitoring capability,"Configure an IP SLAs operation to react to certain measured network conditions, including reaction thresholds for important VoIP related parameters such as unidirectional jitter, unidirectional packet loss, and unidirectional VoIP voice quality scoring (MOS scores), per direction average jitter, per direction packet loss, maximum positive and negative jitter, and Mean Opinion Score (MOS) traps."
"IP SLAs TWAMP Responder that interoperates with control client and session sender on another device supporting TWAMP. The responder must be co-located on the same device, consisting of a TWAMP server and session-reflector.","Both the TWAMP server and session reflector should be configured as IP SLAs TWAMP responders, with time stamping for sender and receiver performed by hardware in Cisco IOS-XE Everest 16.6.1."
Configuring the Session Reflector for IP SLAs TWAMP Responder on the same device.,"1. Enable privileged EXEC mode.
2. Enter global configuration mode.
3. Configure the device as a TWAMP responder and enter TWAMP reflector configuration mode.
4. (Optional) Configure an inactivity timer for a TWAMP test session.
5. Exit configuration mode."
Configure IP SLAs TWAMP Responder and Session-Reflector on a Cisco device.,"1. Set the default port for the server listener to port 862 (RFC-specified port can be reconfigured if required).
2. Configure the control-client and session-sender in the network."
Enable and configure the TWAMP server and session-reflector on a Cisco device for measuring the round-trip performance between an IP SLAs TWAMP responder and a non-Cisco TWAMP control device in your network.,"Use commands like ip sla responder twamp, ip sla server twamp, port (twamp), show ip sla standards, show ip sla twamp connection, show ip sla twamp session, show ip sla twamp standards, timer inactivity, and timeout (twamp)."
Configuring a VRF for Stateless NAT64 Translation,Configuring Multiple Prefixes for Stateless NAT64 Translation
Configuring NAT for IP Address Conservation,"NAT enables private IP internetworks that use nonregistered IP addresses to connect to the Internet and operates on a device, usually connecting two networks. NAT translates the private (not globally unique) addresses in the internal network into legal addresses and can be configured to advertise to the outside world only one address for the entire network, effectively hiding the entire internal network behind that one address."
"Configure access control list to permit only ICMP, TCP, and UDP protocols.",Not provided in the text.
Expand Class A addressing within the organization without concern for addressing changes at the LAN/Internet interface using Cisco IOS XE NAT.,"Cisco IOS XE NAT can be configured to selectively or dynamically perform NAT, allowing the network administrator to use a mix of RFC 1597 and RFC 1918 addresses or registered addresses."
"Multi-Tenant support for NAT feature, which allows the IP network of an organization to appear as using a different IP address space than it actually is, enabling connection to the Internet with translation into globally routable addresses.",Virtual Routing and Forwarding (VRF) instance configuration changes do not interrupt traffic flow of other VRFs in the network.
Connect to the internet with hosts having non-globally unique IP addresses using Network Address Translation (NAT) for private IP networks.,NAT is configured on a device at the border of a stub domain (inside network) and a public network like the Internet (outside network).
NAT Inside and Outside Addresses configuration,"- Inside local address: An IP address assigned to a host on the inside network
- Inside global address: A legitimate IP address assigned by the Network Information Center (NIC) or service provider"
Configuring NAT for IP Address Conservation,Inside Source Address Translation
Conserving addresses in the inside global address pool by allowing a device to use one global address for many local addresses using Network Address Translation (NAT) configuration called overloading. The device maintains enough information from higher-level protocols like TCP or UDP port numbers to translate the global address back to the correct local address.,Overloading of Inside Global Addresses
Network Address Translation (NAT) configuration for handling multiple hosts with a single IP address using port numbers as differentiators.,"NAT configuration options including no translation, overloading with reuse of global address and extended entry translation entries."
Replace inside local source address with the selected global address and forward the packet.,Host B uses the inside global IP address 203.0.113.2 to respond to host 10.1.1.1.
Address Translation of Overlapping Networks,"A simple translation entry that maps the overlapping address, 10.1.1.3, to an address from a separately configured, outside the local address pool."
Ensuring the device examines every DNS reply to avoid stub networks and handles translation mappings for inside local/global addresses and outside global/local addresses.,Not provided in the text.
Establish a virtual host on the inside network that coordinates load sharing among real hosts.,Destination addresses that match an access list are replaced with addresses from a rotary pool. Allocation is done on a round-robin basis and only when a new connection is opened from the outside to inside the network. Non-TCP traffic is passed untranslated (unless other translations are configured).
Supporting users with static IP addresses in public wireless LAN services.,NAT entries created for static IP clients and a routable address provided.
Configuring Static Translation of Inside Source Addresses for one-to-one mapping between an inside local address and an inside global address.,"1. Enable NAT on the router using the 'enable' command.
2. Enter configuration mode with the 'configure terminal' command.
3. Use the 'ip nat inside source static local-ip global-ip' command to configure a static translation for the inside source address.
4. Define an interface and its number using the 'interface type number' command.
5. Assign an IP address to the interface with the 'ip address ip-address mask [secondary]' command."
Connecting the interface to the outside network using ip nat outside,Device(config-if)# ip nat outside
NAT for IP Address Conservation,Configuring Dynamic Translation of Inside Source Addresses
Set a primary IP address for an interface.,"Requirement: Set a primary IP address for an interface.
Configuration: Device(config)# interface ethernet 1; ip address ip-address mask"
Set a primary IP address for the interface and connect the interface to the outside network.,"Device(config)# interface ethernet 0
Device(config-if)# ip address 172.16.232.182 255.255.255.240
Device(config-if)# ip nat outside"
Enable privileged EXEC mode,"Device> enable, configure terminal"
Establish a static translation between an outside local address and an outside global address using NAT.,Device(config)# ip nat outside source static {tcp | udp} <global-ip> <global-port> <local-ip> <local-port> extendable
Define a global address pool and configure an access list for NAT translation.,"1. Enter global configuration mode: configure terminal
2. Define a pool of global addresses to be allocated as needed: ip nat pool net-208 192.168.202.129 192.168.202.158 netmask 255.255.255.224
3. Configure an access list permitting specific addresses for translation: access-list 1 permit 192.168.201.30 0.0.0.255
4. Establish dynamic source translation with overloading, specifying the configured access list: ip nat inside source list 1 pool net-208"
Enable NAT on an interface and configure it as an inside network.,Device(config)# ip nat inside interface ethernet 1
Set a primary IP address for the interface.,ip address ip-address mask
Changing the NAT translation timeout for dynamic address translations and controlling translation entry timeouts when overloading is configured.,ip nat translation timeout seconds command to change the timeout value for dynamic address translations that do not use overloading.
Configure the default TCP timeout and address translation timeouts using the ip nat translation timeout and ip nat translation tcp-timeout commands.,"Use the ip nat translation timeout command to set the default timeout, and use the ip nat translation tcp-timeout command to change the default TCP timeout if needed."
Change the default timeout using the ip nat translation timeout command.,"Configure the TCP and UDP timeout values using the ip nat translation tcp-timeout seconds and ip nat translation udp-timeout seconds commands, respectively."
- Configure synchronous timeout or aging time on a TCP device for SYN request reception.,Device(config)# ip nat translation syn-timeout 45
Allowing Overlapping Networks to Communicate,Using NAT (Network Address Translation)
Configure static translation of overlapping networks if IP addresses in the stub network are legitimate IP addresses belonging to another network or if you want to communicate with those hosts or routers by using static translation.,"1. enable
2. configure terminal
3. ip nat inside source static local-ip global-ip (replace local-ip and global-ip with the appropriate IP addresses)
4. interface type number (choose the appropriate interface number)
5. ip address ip-address mask (replace ip-address and mask with the appropriate IP address and subnet mask for the selected interface)
6. ip nat inside
7. exit
8. interface type number (choose a different interface number than in step 4, if applicable)
9. ip address ip-address mask (replace ip-address and mask with the appropriate IP address and subnet mask for the second interface)
10. ip nat outside"
Configuring Static Translation of Overlapping Networks,Device(config)# ip nat inside source static 192.168.121.33 10.2.2.1
Mark the interface as connected to the inside.,ip nat inside
Enable privileged EXEC mode and define a pool of addresses containing the addresses of real hosts.,"Requirement: Enable privileged EXEC mode and define a pool of addresses containing the addresses of real hosts.
Configuration:
- enable
- configure terminal
- ip nat pool real-hosts 192.168.201.2 192.168.201.5 prefix-length 28 type rotary"
Enable IP NAT on an interface and configure it as the inside interface.,Device(config-if)#ip nat inside
Define a pool of network addresses for NAT.,"Example 1: Device(config)# ip nat pool POOL-A 192.168.201.4 192.168.201.6 netmask 255.255.255.128
Example 2: Device(config)# ip nat pool POOL-B 192.168.201.7 192.168.201.9 netmask 255.255.255.128"
Configuring NAT for IP Address Conservation and NAT of External IP Addresses Only,"Using NAT (Network Address Translation) with static source addresses, either through the ""add-route"" command or the ""ip route"" command."
Network architecture that requires only the header translation,ip nat inside source {list {access-list-number | access-list-name} pool pool-name [overload] | static network local-ip global-ip [no-payload]}
Disable network packet translation on the outside host.,tcp 10.1.1.1 20000 192.168.1.1 20000 no-payload
"Configure dynamic mapping and interface overload for gaming devices, use access lists to avoid unwanted traffic or DoS attacks.","1. enable
2. configure terminal
3. ip nat inside source static local-ip interface type number
4. ip nat inside source static tcp local-ip local-port interface global-port
5. exit
6. show ip nat translations [verbose]"
Reenabling RTSP on a NAT Router,Use the ip nat service rtsp port port-number command to reenable RTSP on a NAT router if this configuration has been disabled.
Enabling support for users with static IP addresses in public wireless LAN environments,"Enable NAT on the router, configure a RADIUS server host, use 'ip nat allow-static-host' command to enable static IP addresses, and set up an IP pool using commands like 'ip nat pool', 'ip nat inside source list', and 'access-list'."
Configure NAT to support users with static IP addresses and remove traffic from NAT for a specific device.,"Device(config)# ip nat inside source list access-list-number pool net-208, Device(config)# access-list 1 deny ip source 192.168.196.51"
"Display active NAT translations and additional information for each translation table entry, including how long ago the entry was created and used.",show ip nat translations verbose
Configure the maximum number of NAT entries allowed from a specified source.,ip nat translation max-entries {number | all-vrf number | host ip-address number | list listname number | vrf name number}
Bypass NAT Functionality feature to reduce TCAM size and resolve the deny jump issue.,"1. Create a NAT bypass pool using reserved loopback address (127.0.0.1).
2. Create a new NAT mapping containing a new ACL with all existing deny statements converted to permit statements.
3. Enable Bypass NAT functionality by creating new NAT mapping with new ACL mapped to a bypass pool.
4. Configure the bypass-pool with 127.0.0.1 as reserved loopback address:
   - enable
   - configure terminal
   - access-list 60 permit 25.33.0.0 0.0.255.255
   - ip nat pool bypass-pool 127.0.0.1 127.0.0.1 prefix-length 24
   - ip nat inside source list 60 pool bypass-pool
5. Convert existing configuration with deny statements:
   - enable
   - configure terminal
   - IP"
Configure Network Address Translation (NAT) for specific IP addresses and ranges.,"1. Create an access list for NAT, denying traffic from a specific host and permitting traffic from another specific host.
   - `ip access list extended nat-acl`
   - `deny ip host 10.10.10.10 host 10.77.64.17`
   - `permit ip host 10.10.10.10 host 10.77.64.17`

2. Define a NAT pool and associate it with the access list created in step 1.
   - `ip nat pool nat-pool <start-IP> <end-IP>` (not provided)

3. Create an additional access list for bypassing NAT, permitting traffic from the specific host.
   - `ip access list extended nat-bypass-acl`
   - `permit ip host 10.10.10.10 host 10.77.64.17`

4. Define a bypass pool and associate it with the access list created in step 3.
   - `ip nat pool bypass-pool <start-IP> <end-IP>` (not provided)

5. Update the existing NAT configuration to use the bypass pool with permit statements.
   - `ip nat inside source list nat-acl pool nat-pool`
   - `ip nat inside source list nat-bypass-acl pool bypass-pool`"
Configuring Dynamic Translation of Inside Source Addresses for the 192.168.1.0 and 192.168.2.0 networks to the globally unique 172.31.233.208/28 network using NAT.,"- ip nat pool net-208 172.31.233.208 172.31.233.223 prefix-length 9
- ip nat inside source list 1 pool net-208
- interface gigabitethernet 0/0/0
  - ip address 172.31.232.182 255.255.255.240
  - ip nat outside
- interface gigabitethernet 1/1/1
  - ip address 192.168.1.94 255.255.255.0
  - ip nat inside
- access-list 1 permit 192.168.1.0 0.0.0.255
- access-list 1 permit 192.168.2.0 0.0.0.255"
NAT configuration to allow internal users access to the internet through a pool of addresses (net-208).,"```
ip nat pool net-208 172.31.233.208 172.31.233.233 netmask 255.255.255.240
access-list 1 permit 192.168.1.0 0.0.0.255
ip nat inside source list 1 interface GigabitEthernet1/1/1 overload
```"
Configuring Dynamic Translation of Overlapping Networks,"- ip nat pool net-208 172.31.233.208 172.31.233.223 prefix-length 28
- ip nat pool net-10 10.0.1.0 10.0.1.255 prefix-length 24
- access-list 1 permit 10.114.11.0 0.0.0.255
- ip nat outside source list 1 pool net-10"
Enabling Network Address Translation (NAT) and configuring route maps for outside-to-inside translation with destination-based NAT.,"ip nat outside
!
ip nat inside source static 192.168.201.6 192.168.201.21
!
ip nat pool POOL-A 192.168.201.4 192.168.201.6 netmask 255.255.255.128
ip nat pool POOL-B 192.168.201.7 192.168.201.9 netmask 255.255.255.128
ip nat inside source route-map MAP-A pool POOL-A reversible
ip nat inside source route-map MAP-B pool POOL-B reversible
!
ip nat inside source static network 10.1.1.1 192.168.2510/24 no-payload
ip nat inside source static tcp 10.1.1.1 2000 192.168.1.1 2000 no-payload
ip nat inside source static 10.1.1.1 192.168.1.1 no-payload
ip nat outside source static 10.1.1. 192.168.1.1 no-payload
ip nat outside source static tcp 10.1.1.1 20000"
Configuring NAT Static IP Support,"1. Configure NAT Outside Source with static network:
   ip nat outside source static network 10.1.1.1 192.168.251.0/24 no-payload
   
2. Enable NAT Inside on the interface:
   interface gigabitethernet 1/1/1
   ip nat inside"
Configure the AAA server for WLAN-RADIUS and set up accounting for network access.,"aaa new-model
aaa group server radius WLAN-RADIUS
server 172.16.88.1 auth-port 1645 acct-port 1645
server 172.16.88.1 auth-port 1645 acct-port 1646
aaa accounting network WLAN-ACCT start-stop group WLAN-RADIUS
aaa session-id common
ip radius source-interface gigabitethernet3/0
radius-server host 172.31.88.1 auth-port 1645 acct-port 1646
radius-server key cisco"
Limit the maximum number of allowed NAT entries.,ip nat translation max-entries 300
Limit the number of NAT entries for different VRFs and ACLs.,"1. ip nat translation max-entries all-vrf 100 - This command limits the maximum number of NAT entries to 100 for all VRFs.
2. ip nat translation max-entries vrf vrf2 225 - This command limits the maximum number of NAT entries to 225 specifically for VRF ""vrf2"".
3. ip nat translation max-entries list vrf3 100 - This command limits the maximum number of NAT entries to 100 for an ACL named ""vrf3"".
4. ip nat translation max-entries host 10.0.0.1 300 - This command limits the maximum number of NAT entries to 300 for a specific IP address, 10.0.0.1."
Description of configuring an application-level gateway (ALG) with Network Address Translation (NAT) for various protocols.,The module provides information about the protocols that use ALGs for IP header translation and requires a variety of ALGs to handle application data stream (Layer 7) protocol-specific services such as translating embedded IP addresses and port numbers in the packet payload and extracting new connection/session.
Support for IPsec ESP Through NAT feature allowing multiple concurrent IPsec Encapsulating Security Payload (ESP) tunnels or connections through a NAT device configured in Overload or Port Address Translation (PAT) mode.,Use the ip nat service dns-v6 command to control processing of IPv6 DNS packets by ALG.
Verifying that SIP and H.323 are not disabled before performing tasks in a module.,SIP and H.323 are enabled by default.
"Secure tunnels between two peers, decisions on which packets are considered sensitive and should be sent through these secure tunnels, and specifying characteristics of these tunnels.",Enable IPsec packet processing using ESP with the ip nat service ipsec-esp enable command.
Configuring IPsec on a router with NAPT,"1. Encapsulate IPsec in a Layer 4 protocol such as TCP or UDP to sneak through NAT, making the NAT device unaware of the encapsulation.
2. Add IPsec-specific support to NAPT, allowing IPsec to work with NAT instead of sneaking through NAT. The NAT Support for IPsec ESP-- Phase II feature provides support for Internet Key Exchange (IKE) and ESP without encapsulation in tunnel mode through a Cisco IOS router configured with NAPT.
3. Recommended: Use TCP and UDP when conducting IPsec sessions that traverse a NAPT device, but be aware that not all VPN servers or clients support TCP or UDP."
NAT Support for SIP feature in Cisco routers,"Use ip nat service preserve-port command to preserve ports rather than changing them, and enable the NAT Support for SIP feature on Cisco routers."
SIP support on port 5060 by default and NAT Support of H.323 v2 RAS for all H.225 and H.245 message types.,Not provided in the text.
NAT needs to be able to detect the SCCP and understand the information passed within the messages in order to support communication between the IP phone and Cisco CallManager in a scalable environment. Messages should flow back and forth that include IP address and port information used to identify other IP phone users with which a call can be placed.,"1. DNS or static NAT should be configured for resolving Cisco CallManager IP address when it's on the inside (behind the NAT device).
2. NAT rules must be configured to match incoming connections from IP phones attempting to connect to Cisco CallManager.
3. NAT should translate the original source IP address and replace it with one from a configured pool for the communication between IP phone and Cisco CallManager, making the new address visible to other IP phone users."
"CallManager are configured on the same device, a colocated solution in Call Manager Express is used.",NAT Virtual Interface (NVI) is configured and Stateful Network Address Translation (SNAT) is enabled.
Configure IPsec ESP through NAT on a Cisco IOS NAT device configured in Overload or PAT mode.,"1. enable
2. configure terminal
3. ip nat [inside | outside] source static local-ip global-ip [vrf vrf-name]
4. exit
5. show ip nat translations"
Configure the IP NAT service list and access list for in2out and out2in traffic using IKE preserve-port.,Not provided in the text.
Enabling SPI Matching on the NAT Device for VPN connections between multiple pairs of destinations.,"Cisco IOS Release 12.2(15)T, enabling parallel processing on both the source router and remote gateway, configuring SPI matching on the NAT device and both endpoint devices using the command ""ip nat service list access-list-number ESP spi-match""."
Enable privileged EXEC mode and configure ESP traffic matching using access list numbers for SPI matching on Cisco devices.,"1. Enter your password if prompted.
2. Router> enable
3. enter global configuration mode.
4. configure terminal
5. Specify an access list to enable SPI matching.
6. ip nat service list access-list-number ESP spi-match
7. This example shows how to enter ESP traffic matching list 10 into the NAT table, making the assumption that both devices are Cisco devices and are configured to provide matchable SPIs."
Enable SPI Matching on Endpoints,crypto ipsec nat-transparency spi-matching
Support for multipart Session Description Protocol (SDP) in a SIP ALG,MultiPart SDP support for NAT is disabled by default.
Enable multipart SDP for NAT,ip nat service allow-multipart
Enabling privileged EXEC mode and configuring the skinny protocol on the specified TCP port using Application-Level Gateways with NAT.,"1. Enable privileged EXEC mode:
   - Enter your password if prompted.
   - Router> enable
2. Enter global configuration mode:
   - configure terminal
3. Configure the skinny protocol on the specified TCP port:
   - Router(config)# ip nat service skinny tcp port number"
"ALG-H.323 v6 Support, ALG-SCCP Version 17 Support, NAT ALG-SIP REFER method feature","- Cisco IOS XE Release 3.6S for ALG-H.323 v6 Support
- Cisco IOS XE Release 3.5S and 3.2S for ALG-SCCP Version 17 Support and NAT ALG-SIP REFER method feature"
"SIP Trunking Support using a local database to store media-related information within a SIP trunk, indexed by Call IDs.",Cisco IOS XE Release 3.2S (NAT ALG—SIP Trunking Support)
The NAT Support for IPsec ESP-- Phase II feature provides support for Internet Key Exchange (IKE) and ESP without encapsulation in tunnel mode through a device configured with NAPT.,Cisco IOS XE Release 2.1
"Multihoming with redundant or standby exit points, VPN routing and forwarding (VRF)-aware NAT, Carrier Grade NAT Support for Broadband Access Aggregation.","TCP timeout value of 2 hours and 4 minutes, CGN NAT scalability using the ip nat settings scale bind command."
Network Address Translation (NAT) inside configuration for PPPoE to work with CGN.,"1. Configure the ip nat inside command on the virtual template.
2. Configure the aaa policy interface-config allow-subinterface global command on the RADIUS server.
3. Configure the Cisco attribute-value pairs (AV pairs) lcp:allow-subinterface=yes and include lcp:interface-config=ip nat inside in the RADIUS profile on a per-subscriber basis."
Configuring Dynamic Carrier Grade NAT with a pool of registered IP addresses for dynamic address translation.,"1. Enable privileged EXEC mode by typing 'enable'.
2. Enter your password if prompted.
3. Enter global configuration mode by typing 'configure terminal'.
4. Set the NAT settings mode to CGN by typing 'ip nat settings mode cgn'.
5. Configure an access list for source addresses using 'access-list standard-access-list-number permit source wildcard'.
6. Repeat step 5 as needed for additional access lists.
7. Create a route map using 'route-map map-tag'.
8. Use the 'match ip address' command to specify the access list number in the route map.
9. Use the 'match ip next-hop' command to specify another access list number in the route map if needed.
10. Exit the route map configuration mode using 'exit'.
11. Define a NAT pool with 'ip nat pool name start-ip end-ip prefix-length prefix-length'.
12. Associate the NAT pool with an inside source using 'ip nat inside source route-map name pool name'.
13. Enter interface configuration mode for the inside interface by typing 'interface gigabitethernet card/spaslot/port.subinterface-number'.
14. Enable IP NAT on the inside interface by typing 'ip nat inside'.
15. Exit the interface configuration mode using 'exit'.
16. Enter interface configuration mode for the outside interface by typing 'interface type number'.
17. Enable IP NAT on the outside interface by typing 'ip nat outside'."
Enable CGN operating mode and define a standard access list with a host.,Device# configure terminal; ip nat settings mode cgn; access-list standard-access-list-number permit source; wildcard
"Define a standard access list and specify a host using the ""access-list"" command.",Device(config)# access-list 1 permit 10.1.1.0 0.0.0.255
"Configure Dynamic Port Address Carrier Grade NAT (PAT) on a device to map multiple unregistered IP addresses to a single registered IP address using different ports, allowing thousands of users to connect to the Internet with only one real global IP address.","1. enable
2. configure terminal
3. ip nat settings mode cgn
4. ip nat inside source list number"
Enters global configuration mode.,configure terminal
Configure access list and interface settings for NAT inside network.,access-list 1 permit 172.16.0.0 255.255.0.0; interface gigabitethernet card/spaslot/port.subinterface-number; ip nat inside
Enable and configure NAT outside interface on a device,Device(config)# interface gigabitethernet 0/0/2; Device(config-if)# ip nat outside
Configuring Dynamic Port Address Carrier Grade NAT,"1. Configure the NAT settings mode to CGN (Device# configure terminal, Device(config)# ip nat settings mode cgn).
2. Define an inside source list and create a pool named ""nat-pool"" (Device(config)# ip nat inside source list 1 pool nat-pool overload).
3. Specify the IP addresses for the NAT pool range (Device(config)# ip nat pool nat-pool 10.1.1.1 10.1.254.254 netmask 255.255.0.0).
4. Create an access list to permit a specific network range (Device(config)# access-list 1 permit 172.16.0.0 255.255.0.0).
5. Set the interface gigabitethernet 0/0/4 as NAT inside (Device(config)# interface gigabitethernet 0/0/4, Device(config-if)# ip nat inside).
6. Set the interface gigabitethernet 0/0/3 as NAT outside (Device(config)# interface gigabitethernet 0/0/3, Device(config-if)# ip nat outside).
7. Exit the configuration mode (Device(config-if)# exit, Device(config)# exit)."
Carrier Grade Network Address Translation (CGN) for large-scale NAT to translate private IPv4 addresses into public IPv4 addresses.,Not provided in the text.
Multiple private IPv4 addresses into fewer public IPv4 addresses,ip nat settings mode and ip nat settings support mapping outside. This feature is not supported on ISR 4000 platform.
"The requirement is related to ARP (Address Resolution Protocol) and its usage in determining media addresses, storing associations in an ARP cache, encapsulating IP datagrams, and handling gratuitous ARP requests.","The configuration involves the use of Subnetwork Access Protocol (SNAP), Hot Standby Router Protocol (HSRP), and Ethernet switches for handling ARP requests and managing virtual MAC addresses in the network."
Flow to the new router instead of the one that is no longer active,End devices do not actually need gratuitous ARP if routers use the default HSRP MAC address.
Enable IP NAT inside source static with redundancy HSRP1.,"Requirement: Enable IP NAT inside source static with redundancy HSRP1.
Configuration: Device(config)# ip nat inside source static 192.168.5.33 10.10.10.5"
"Implement a static configuration in an HSRP environment where two devices act as HSRP active and standby, with the NAT outside interfaces enabled and configured to belong to group HSRP1.","- Interface: BVI10
  - IP Address: 192.168.5.54/255.255.255.255.0
  - No IP redirects
  - IP NAT outside
- Standby Configuration:
  - Priority: 105
  - Preempt: Enabled
  - Name: HSRP1
  - IP Address: 192.168.5.30
  - Track: gigabitethernet1/1/1
- Default Gateway: 10.0.18.126
- Static NAT Mapping:
  - Inside Source: 192.168.5.33
  - Translated Address: 10.10.10.5
  - Redundancy: HSRP1 (HSRP1 group)
- IP Classless"
- Configure IP routing for networks 10.10.10.0 and 172.22.33.0 on gigabitethernet1/1/1 interface,"- ip route 10.10.10.0 255.255.255.0 gigabitethernet1/1/1
- ip route 172.22.33.0 255.255.255.0 gigabitethernet1/1/1
- Standby 10 priority 100 preempt
- Standby 10 name HSRP1
- Standby 10 ip 192.168.5.30
- Standby 10 track gigabitethernet0/0/1
- ip nat inside source static 192.168.5.33 3.3.3.5 redundancy HSRP1"
Static mapping support for HSRP to allow only the HSRP active router to respond to an incoming ARP for a router configured with a NAT address.,Cisco IOS XE Release 2.1 - NAT-Static Mapping Support with HSRP for High Availability
VRF-Aware Dynamic NAT Mapping with HSRP,"stateless redundancy using HSRP with dynamic Network Address Translation (NAT), Port Address Translation (PAT), and interface overload configuration. Dynamic NAT, PAT and interface overload support HSRP with and without virtual routing and forwarding (VRF) instances in Carrier Grade NAT (CGN) mode."
VRF-Aware Dynamic NAT Mapping with HSRP,"1. Both the active and standby devices must be configured with the same Network Address Translation (NAT) rules.
2. Hot Standby Router Protocol (HSRP) must be configured between the active and standby devices."
"VRF-Aware Dynamic NAT Mapping with HSRP feature supports stateless redundancy using HSRP with dynamic Network Address Translation (NAT), Port Address Translation (PAT), and interface overload configuration. This feature is supported in the Carrier Grade NAT (CGN) mode.",HSRP provides high network availability by providing first-hop routing redundancy for IP hosts on networks configured with a default gateway IP address. HSRP is used in a group of routers for selecting an active device and a standby device.
"Standby device functionality, HSRP (Hot Standby Routing Protocol), ARP request for MAC address change notification, VRF-aware NAT translation and CGN mode support, LAN-LAN and LAN-WAN topologies.",Both active and standby devices must be configured with the same NAT rules and HSRP enabled on both devices. The priority configuration determines which device is active or standby based on the assigned priority.
VRF-Aware Dynamic NAT Mapping with HSRP,"The local data link address, which is contained in the data link layer (Layer 2 of the OSI model) part of the packet header and read by data-link devices such as bridges, all device interfaces and so on."
Address resolution in Cisco IOS software for Ethernet communication using MAC or local data-link addresses,"ARP (Address Resolution Protocol), proxy ARP, Probe (for IEEE-802.3 networks), and Reverse Address Resolution Protocol (RARP)"
Configure HSRP for VRF-Aware Dynamic NAT mapping.,"1. enable
2. configure terminal
3. track object-number interface type number {ip | ipv6 | line-protocol}
4. exit
5. interface type number
6. ip nat inside
7. ip address ip-address mask
8. standby group-number ip [ip-address]
9. standby use-bia
10. standby group-number priority priority
11. standby group-number preempt [delay]
12. standby group-number track object-number [decrement priority-decrement]"
Connect the interface to the inside network and configure Network Address Translation (NAT).,"gigabitethernet 1/2/1, ip nat inside.

Step 6
Device(config-f)# ip nat inside"
Enable HSRP for VRF-Aware Dynamic NAT in a LAN-WAN topology.,"1. Configure VRF instance: `Device# configure terminal` and `Device(config)# vrf definition vrf1`.
2. Define tracking configuration: `Device(config)# track 10 interface fastethernet 1/1/1 line-protocol`.
3. Enable VRF on the interface: `Device(config-if)# vrf`."
"1. Configure the FastEthernet 1/1/1 interface with an IP address and enable IP NAT to redirect traffic to the ""pool1"" pool.","1. ip nat inside source list 1 pool pool1 overload
2. access-list 1 permit 203.0.113.0 255.255.255.240
3. interface FastEthernet 1/1/1
   ip address 198.51.100.1 255.255.255.240
   ip nat outside
4. interface FastEthernet 1/2/0
   vrf forwarding vrf1
   ip address 192.0.2.3 255.255.255.240
   standby 1 ip 192.0.2.1
   standby use-bia
   standby 1 priority 110
   standby 1 preempt
5. interface FastEthernet 1/2/1
   ip address 172.16.0.1"
Configuring Stateful Interchassis Redundancy,"- Pair of devices acting as backups for each other
- Identical application redundancy configurations on both devices (including NAT rules, redundancy group associations, and mapping IDs)"
Stateful interchassis redundancy and synchronization of SEQ/ACK information for NAT session during stateful switchover.,"Intrachassis redundancy cannot coexist with stateful interchassis redundancy; ISSU is not supported. When changing paired-address-pooling, bulk port-allocation, or NAT mode settings, follow the steps mentioned above."
Stateful Interchassis Redundancy Operation and configuration of redundant interfaces in pairs for hot standby functionality.,"Pairs of devices with one outgoing interface, redundancy groups (RGs), control link for status communication, data synchronization link for transferring stateful information."
Specify an optional alias for the protocol instance.,"name instance-name

Example: Device(config-red-app-prot)# name rg1

2. Requirement: Configure the interval between hello messages and the time before a device is declared to be down.
   Configuration: timers hellotime [msec] number holdtime [msec] number

Example: Device(config-red-app-prot)# timers hellotime 3 holdtime 10"
Enable BFD for failure detection on the control interface with the failover protocol.,Device(config-red-app-prot)# bfd
Configure stateful inter-chassis redundancy and create a redundancy group with specific parameters.,"1. Enable redundancy application.
2. Create a redundancy group (group number).
3. Set the group name for the redundancy group.
4. Configure preemption for the group members.
5. Set priority and failover threshold numbers.
6. Track object number with decrement or shutdown option.
7. Configure timers delay and reload seconds."
IP address translation for outside interface,ip nat outside
Enabling Virtual Fragmentation Reassembly (VFR) on an interface,ip virtual-reassembly
Configure Stateful Interchassis Redundancy for Network Address Translation (NAT),"Enable redundancy with the command ""redundancy redundancy-id [mapping-id map-id | overload | reversible | vrf name]"""
"Define a pool of IP addresses for NAT, enable NAT of the inside source address, and configure interchassis redundancy.","1. Configure global configuration mode:
   `configure terminal`
2. Define a pool of IP addresses for NAT:
   `ip nat pool <pool-name> <start-IP> <end-IP> <netmask | prefix-length>`
3. Enable NAT of the inside source address:
   `ip nat inside source list <access-list-number | access-list-name> pool <pool-name>`
4. Configure interchassis redundancy:
   `redundancy <redundancy-id> [mapping-id <map-id> | overload | reversible | vrf name]`"
Force active and standby RG reload in the redundancy application.,redundancy application reload group number [peer | self]
Displaying faults for a specified group or all groups.,"show redundancy application faults group [group-id]

2. Requirement: Displaying information about the interface manager (if-mgr) for a specified group or all groups.
   Configuration: show redundancy application if-mgr group [group-id]

3. Requirement: Displaying interface information associated with redundancy groups for the specified control interface.
   Configuration: show redundancy application control-interface group [group-id]

4. Requirement: Displaying interface information associated with redundancy groups for the specified data interface.
   Configuration: show redundancy application data-interface group [group-id]

Please note that there is no requirement or configuration provided for the last example (Step 9)."
Configure a redundant traffic interface and IP addressing on a GigabitEthernet interface.,"1. Configure the protocol for GigabitEthernet0/1/0 to be 1 (protocol 1).
2. Configure the data interface for GigabitEthernet0/1/2 on the device.
3. Set up a redundancy group with IP address 10.10.1.1 and exclusive decrement of 20 on GigabitEthernet0/0/1 (redundancy group 1).
4. Configure redundancy RII to be 40.
5. Configure the IP address for GigabitEthernet 0/1/5 as 10.1.1.2 with a subnet mask of 255.0.0.0.
6. Set the interface to use NAT outside and enable IP virtual-reassembly.
7. Enable negotiation auto on the interface.
8. Configure redundancy RII to be 200.
9. Create a redundancy group with IP address 10.1.1.200, exclusive decrement of 10, and enable it on GigabitEthernet0/1/5 (redundancy group 1)."
Configuring NAT with Stateful Interchassis Redundancy,"Device# configure terminal, Device(config)# ip nat pool VPN-18 10.10.0.0 10.10.255.255 netmask 255.255.0.0, Device(config)# ip nat inside source list acl-18 pool VPN-18 redundancy 2 mapping-id 152"
Interchassis Asymmetric Routing Support for Zone-Based Firewall and NAT,"1. LANs that use virtual IP addresses and virtual MAC (VMAC) addresses do not support asymmetric routing.
2. In Service Software Upgrade (ISSU) is not supported."
Asymmetric routing with separate asymmetric-routing interlink interface,Use the asymmetric-routing always-divert enable command to divert packets received from the standby RG to the active RG.
"Asymmetric routing must handle traffic that is to be diverted, ensuring proper mapping between RII and the interface, RG and applications, and RG and traffic flow. It should also avoid errors when multiple RGs are mapped to a single traffic flow.",The interlink interface must have sufficient bandwidth to support all the RG interlink traffic.
"The asymmetric-routing interlink interface must have a large enough bandwidth to handle all expected traffic, an IPv4 address configured on the interface, and its IP address must be reachable from the interface.",The asymmetric-routing interlink interface should be used for interlink traffic only and not shared with high availability control or data interfaces.
"Asymmetric Routing Support in Firewalls with stateful Layer 3 and Layer 4 inspection of Internet Control Message Protocol (ICMP), TCP, and UDP packets.","Intrabox asymmetric routing support for stateful inspection of TCP packets by verifying the window size and order of packets, requires state information from both directions of the traffic, limited inspection of ICMP information flows, verifies sequence number associated with the ICMP echo request and response, does not synchronize packet flows to the standby redundancy group (RG) until a session is established for that packet (three-way handshake for TCP, second packet for UDP, informational messages for ICMP), all ICMP flows are sent to the active RG. Stateless verification of policies for packets that do not belong to the ICMP, TCP, and UDP protocols."
"Asymmetric routing support with ALGs, Carrier Grade NAT (CGN), and virtual routing and forwarding (VRF) instances.","No configuration changes are required to enable asymmetric routing with ALGs, CGN, or VRF in Cisco IOS XE Release 3.16S."
MPLS diversion with label removal before asymmetric routing happens. VRF mapping between active and standby devices require no configuration changes.,VRF-Aware Asymmetric Routing in NAT with message digest (MD) 5 hash of the VPN routing and forwarding (VRF) name to identify the VRF and datapath in the active and standby devices.
"Interchassis Asymmetric Routing Support for Zone-Based Firewall and NAT, VRF-Aware Asymmetric Routing in NAT",(Information not provided in the text)
"- Specify an optional alias for the protocol instance using the ""name"" command.","- Example 1: Device(config-red-app)# name group1
- Example 2: Device(config-red-app-grp)# priority 100 failover threshold 50"
Enable preemption on the redundancy group and allow the standby device to preempt the active device when its priority is higher.,"1. Set preempt mode for the redundancy group: `Device(config-red-app-grp)# preempt`
2. Specify the priority value of a redundancy group that will be decremented if an event occurs on the tracked object: `Device(config-red-app-grp)# track object-number decrement number`"
Holdtime should be at least three times the hellotime.,timers hellotime 3 holdtime 10
Application Redundancy,Device(config-red)# application redundancy
Specifies the data interface that is used by the RG.,data interface-type interface-number
Asymmetric routing is enabled for each RG to establish an asymmetric flow diversion tunnel.,Device(config-if)# redundancy asymmetric-routing enable
Set primary IP address and mark the interface as connected to the outside.,"```
interface GigabitEthernet0/1/3
ip address ip-address mask
ip nat outside
```
Example:
```
Device(config-if)# ip address 10.1.1.1 255.255.255.0
Device(config-if)# ip nat outside
```"
Configure redundancy and enter redundancy configuration mode.,Device(config)# redundancy
Define a standard access list for the inside addresses that are to be translated.,access-list standard-acl-number permit source-address wildcard-bits
Configuring Redundant Interface Identifier and Asymmetric Routing on an Interface.,"1. Configure terminal (Device# configure terminal)
2. Enter interface configuration mode for GigabitEthernet 0/1/3 (Device(config)# interface GigabitEthernet 0/1/3)
3. Set redundancy rii to 600 (Device(config-if)# redundancy rii 600)
4. Set redundancy group to 1 with decrement value of 20 (Device(config-if)# redundancy group 1 decrement 20)
5. Enable asymmetric routing (Device(config-if)# redundancy asymmetric-routing enable)
6. Exit interface configuration mode (Device(config-if)# end)"
"BGP configuration with router-id, neighbor descriptions, and address family configurations for IPv4 and IPv4 VRF.","bgp router-id 1.1.1.1
neighbor 203.0.113.1 remote-as 223
neighbor 10.4.4.1 remote-as 577
address-family ipv4
network 203.0.113.1 mask 255.255.255.240
network 10.4.0.0 mask 255.255.0.0
network 209.165.200.224 mask 255.255.255.224
neighbor 203.0.113.1 activate
neighbor 10.4.4.1 activate
exit-address-family
!
address-family ipv4 vrf VRFA
bgp router-id 4.4.4.4
network 192.168.0.0 mask 255.255.255.248
network 10.4.0.0 mask 255.255.0.0
redistribute connected
redistribute static
neighbor 192.168.0.2 remote-as 65004
neighbor 192.168.0.2 fall-over bfd
neighbor 192.168.0.2 activate
neighbor 10.4.4.2 remote-as 577
neighbor 10.4.4.2 description PEERING to VASI Global intf
neighbor 10.4.4.2 activate
exit-address-family"
Configuring Asymmetric Routing with VRF,"1. Device(config)# redundancy
2. Device(config-red)# mode sso
3. Device(config-red)# application redundancy
4. Device(config-red-app)# group 1
5. Device(config-red-app-grp)# name RG1
6. Device(config-red-app-grp)# preempt
7. Device(config-red-app-grp)# priority 100 failover threshold 40
8. Device(config-red-app-grp)# control GigabitEthernet 1/0/3 protocol 1
9. Device(config-red-app-grp)# data GigabitEthernet 1/0/3
10. Device(config-red-app-grp)# asymmetric-routing interface GigabitEthernet 1/0/4
11. Device(config-red-app-grp)# asymmetric-routing always-divert enable
12. Device(config-red-app-grp)# exit
13. Device(config-red-app)# exit
14. Device(config-red)# exit
15. Device(config)# interface TenGigabitEthernet 2/0/0
16. Device(config-if)# ip vrf forwarding vrf001
17. Device(config-if)# ip address 10.0.0.1 255.255.255.0
18. Device(config-if)# ip nat inside"
Configure asymmetric routing using VRF on a device interface.,"1. Set the VRF forwarding for the interface: `ip vrf forwarding vrf001`
2. Assign an IP address to the interface: `ip address 192.0.2.1 255.255.255.0`
3. Set NAT outside for the interface: `ip nat outside`
4. Configure a static NAT pool:
   - Define the pool range: `ip nat pool pool-vrf001 209.165.201.1 209.165.201.30 prefix-length 24`
5. Configure dynamic NAT for the inside interface using the static pool:
   - Define the source list: `ip nat inside source list 1`
   - Apply the NAT pool: `pool pool-vrf001`
   - Set redundancy and mapping ID: `redundancy 1 mapping-id 1`"
VRF-Aware Interchassis Asymmetric Routing Support for Zone-Based Firewalls and NAT,There are no configuration changes for this feature.
"VRF-aware box-to-box high availability configuration must be the same on both active and standby devices. The VRF configuration must use the same VRF name at active and standby devices. NAT provides a hashed VRF name value in the high availability message, and sends it to active and standby devices.","The VRF-aware box-to-box high availability configuration is applied on both active and standby devices, using the same VRF name at both devices. NAT provides a hashed VRF name value in the high availability message to ensure that the corresponding local VRF ID is converted at the peer device by using the VRF name hash value-to-VRF ID mapping."
Configure Stateful Interchassis Redundancy and redundancy groups (RGs) on devices for failover conditions and seamless takeover of traffic forwarding services.,"Set up pairs of devices as hot standbys, configure redundancy on an interface basis, create redundancy groups (RGs), and enable Stateful Interchassis Redundancy at the application level without requiring physical failure for switchover."
Failover protocol integration with Bidirectional Forwarding Detection (BFD) in links.,Hello time and Hold time parameters for hello messages. Timers can be set in seconds or milliseconds using the timers hellotime msec command. Unique RII must be configured for each pair of redundant interfaces. Priority setting determines which device acts as active or standby.
Configure VRF-Aware NAT for WAN-WAN Topology with Symmetric Routing Box-to-Box Redundancy.,"Requirement: Configure VRF-Aware NAT for WAN-WAN Topology with Symmetric Routing Box-to-Box Redundancy.

Configuration:
1. Define a VRF named Mgmt-intf with IPv4 and IPv6 address families:
```
vrf definition Mgmt-intf
address-family ipv4
exit-address-family
!
address-family ipv6
exit-address-family
!
```
2. Define a VRF named VRFA with Route Distinguisher (RD) 100:1 and route targets export/import 100:1 for IPv4:
```
vrf definition VRFA
rd 100:1
route-target export 100:1
route-target import 100:1
address-family ipv4
exit-address-family
!
```
3. Configure redundancy with Single System Operation (SSO) mode and application redundancy group 1 with preemption and priority 120:
```
redundancy
mode sso
application redundancy
group 1
preempt
priority 120
control GigabitEthernet 0/0/1 protocol 1
data GigabitEthernet 0/0/2
!
```"
"BFD interval, Minimum RX, Multiplier for redundancy RII, and IP address configurations for different interfaces.","bfd interval 50, min_rx 50, multiplier 3, redundancy rii 2, ip addresses for interfaces GigabitEthernet 0/0/1, GigabitEthernet 0/0/2, GigabitEthernet 0/0/3, GigabitEthernet 0/0/4, and GigabitEthernet 0."
Configuring Stateful Interchassis Redundancy,NAT stateful interchassis redundancy
Integrating NAT with MPLS VPNs,"Multiple MPLS Virtual Private Networks (VPNs) can be configured on a single device to work together using the Network Address Translation (NAT) Integration feature. This allows for IP traffic differentiation between MPLS VPNs even if they use the same IP addressing scheme, enabling multiple MPLS VPN customers to share services while maintaining complete separation between each VPN."
"Integration of NAT with MPLS VPNs to allow customers to use overlapped IP addresses while accessing services such as Internet connectivity, domain name servers (DNS), and voice over IP (VoIP) service.",Implementing NAT on the customer edge (CE) router or the provider edge (PE) router in an MPLS cloud.
Configuring Inside Dynamic NAT with MPLS VPNs,1. enable 2. configure terminal 3. ip nat pool name start-ip end-ip netmask netmask 4. ip nat [inside | outside] source [list {access-list-number | access-list-name} | route-map name] [interface type number | pool pool-name] vrf vrf-name[overload] 5. Repeat Step 4 for each VPN being configured
Configure Inside Static NAT with MPLS VPNs for the router.,"Enable higher privilege levels, enter global configuration mode, configure inside static translation on the VRF, and repeat steps for each VPN being configured."
Configure inside static NAT for an MPLS VPN,ip nat inside source static local-ip global-ip
Configure IP routing for VRF shop and NAT settings,"ip route vrf shop 0.0.0.0 0.0.0.0 168.58.88.2
ip nat pool outside global-ip local-ip netmask netmask
ip nat inside source static local-ip global-ip
vrf vrf-name
ip nat outside source static global-ip local-ip vrf vrf-name
show ip nat translations vrf vrf-name"
Configuring Outside Dynamic NAT with MPLS VPNs,Router> enable; configure terminal
Configure NAT settings for multiple VPNs.,"For each VPN, perform Steps 7 to 10 from the text provided. This includes enabling global configuration mode, setting up NAT pools, associating VRF with translation rules, and displaying IP NAT translations for the specific VRF."
Display settings used by VRF translations,"show ip nat translations vrf vrf-name
Example: Router# show ip nat translations vrf shop"
"IP NAT and IP Routing configurations for VRFs ""shop"", ""bank"", and ""park"" with specific static source addresses.","- ip nat inside source static 192.168.122.49 2.2.2.2 vrf shop
- ip nat inside source static 192.168.121.113 2.2.2.3 vrf bank
- ip nat inside source static 192.168.22.49 2.2.2.4 vrf bank
- ip nat inside source static 192.168.121.113 2.2.2.5 vrf park
- ip nat inside source static 192.168.22.49 2.2.2.6 vrf park
- ip nat inside source static 192.168.11.1 2.2.2.11 vrf shop
- ip nat inside source static 192.168.11.3 2.2.2.12 vrf shop
- ip nat inside source static 140.48.5.20 2.2.2.13 vrf shop
- ip route 2.2.2.1 255.255.255.255 Ethernet1/0 192.168.121.113
- ip route 2.2.2.2 255.255.255.255 Ethernet1/0 192.168.121.113
- ip route 2.2.2.3 255.255.255.255 Serial2/1.1 192.168.121.113
- ip route 2.2.2.4 255.255.255.255 Serial2/1.1 192.168.121.113
- ip route 2.2.2.5 255.255.255.255 FastEthernet0/0 192.168.121.113
- ip route 2.2.2.6 255.255.255.255 FastEthernet0/0 192.168.121.113
- ip route 2.2.2.11 255.255.255.255 Ethernet1/0 192.168.121.113
- ip route 2.2.2.12 255.255.255.255 Ethernet1/0 192.168.121.113"
Configuring Outside Dynamic NAT with MPLS VPNs and Configuring Outside Static NAT with MPLS VPNs.,"- IP NAT pool for outside dynamic NAT: `ip nat pool outside 4.4.4.1 4.4.4.254 netmask 255.255.255.0`
- Inside static NAT configurations: 
  - Shop VRF: `ip nat inside source static 192.168.121.113 2.2.2.1 vrf shop`
  - Bank VRF: `ip nat inside source static 192.168.122.49 2.2.2.2 vrf bank`
  - Park VRF: `ip nat inside source static 192.168.121.113 2.2.2.3 vrf park`
- Outside NAT source list to pool mapping: `ip nat outside source list 1 pool outside`"
"Monitor and maintain NAT, displaying NAT translation information.","enable, show ip nat translations [verbose], show ip nat statistics"
Define Thresholds for Address Pool,Set high and low thresholds for the address pool in terms of percentage using ip nat command.
NAT 44 pool exhaustion alert feature to enable generation of alerts before addresses in an address pool are exhausted.,"Command - ""ip nat settings pool"""
"NetFlow-like records should be sent to an external collector for each binding and when sessions are created and destroyed. Session records must contain the full 5-tuple of information (source IP address, destination IP address, source port, destination port, and protocol).",HSL messages should be sent when a NAT pool runs out of addresses. The table below describes the templates for HSL bind and session create or destroy.
"1. IPv4 address: Translated destination IP, Original source port, Original destination port, Translated destination port","1. HSL pool exhaustion templates: Table 11: Template for HSL Pool Exhaustion
2. NAT high-speed logging per VRF"
Enable HSL for all NAT translations and configure specific VPNs using the ip nat log translations flow-export v9 command.,"1. enable
2. configure terminal
3. ip nat log translations flow-export v9 udp destination addr|ipv6-destination IPv6 address vrfvrf name source interface type interface-number
4. ip nat log translations flow-export v9 {vrf-name | global-on}
5. exit"
Enabling NAT High-Speed Logging per VRF,Configuration Examples for Enabling NAT High-Speed Logging per VRF
"Stateless Network Address Translation 64 (NAT64) feature provides a translation mechanism that translates an IPv6 packet into an IPv4 packet and vice versa. The translation involves parsing the entire IPv6 header, including the extension headers, and extracting the relevant information and translating it into an IPv4 header.",Support for mapping a VRF to an IPv4 to IPv6 prefix mapping is introduced in Cisco IOS-XE release 17.4. Multiple source and destination prefixes can be mapped to a VRF.
Source routing headers are not supported.,Fragmented IPv4 UDP packets that do not contain a UDP checksum are not translated.
VRF-aware stateless NAT64 IPv4 to IPv6 prefix mappings with support for multiple source and destination prefixes in a VRF.,"Not available, as the text does not provide specific configuration details."
Configure a routing network for Stateless NAT64 communication and enable IPv6 unicast-routing.,"1. Enable
2. Configure terminal
3. ipv6 unicast-routing
4. Interface type number
5. Description string
6. ipv6 enable
7. ipv6 address {ipv6-address/prefix-length | prefix-name sub-bits/prefix-length}
8. nat64 enable
9. Exit
10. Interface type number
11. Description string
12. ip address ip-address mask
13. nat64 enable
14. Exit
15. nat64 prefix stateless ipv6-prefix/length
16. nat64 route ipv4-prefix/mask interface-type interface-number
17. .
ipv6"
Enable IPv6 unicast routing on the device.,"Device# configure terminal, ipv6 unicast-routing"
Mapping an IPv4 address to an IPv6 host for Stateless NAT with 64 translation.,nat64 prefix stateless v4v6 ipv6-prefix/length
Monitor and verify the performance of a Stateless NAT64 routing network.,"1. Use the ""show nat64 statistics"" command to display global and interface-specific statistics for translated and dropped packets.
2. Use the ""show ipv6 route"" command to view the IPv6 routing table.
3. Use the ""show ip route"" command to view the IPv4 routing table.
4. Use the ""debug nat64"" command with various options to troubleshoot and monitor the NAT64 network.
5. Use the ""ping"" command with optional protocol, tag, host-name, or system-address parameters to test connectivity within the network."
NSSA ext 2,FastEthernet0/3/4
Enable privileged EXEC mode and configure the device to forward IPv6 unicast datagrams on an interface.,enable; configure terminal; interface gigabitethernet 0/0/0; ipv6 unicast-routing
Enable Stateless NAT64 translation on an IPv6 interface,Device(config-if)# nat64 enable
The requirement is to identify the prefix that must be used to create IPv4-translatable addresses for IPv6 hosts.,Device(config)# nat64 prefix stateless [prefix] [ipv6 address]
Configure a routing network for Stateless NAT64 translation.,"ipv6 unicast-routing, nat64 enable, ipv6 address, interface configurations with ipv6 and ip addresses, nat64 prefix stateless command, and ipv6 route commands."
IPv6 address mapping relationship to IPv4 addresses for both stateless and stateful translators.,"Stateless translator uses IPv4-converted IPv6 addresses, while the stateful translator uses the corresponding IPv4 addresses to represent the IPv6 hosts."
Network Address Translation (NAT) with stateful and stateless translation capabilities.,Stateful and stateless translation algorithms for IPv6 clients and peers to connect to IPv4-only servers and peers.
"1. Non-support of translation for IPv4 options, IPv6 routing headers, hop-by-hop extension headers, destination option headers, and source routing headers.","1. Support for only TCP and UDP Layer 4 protocols in header translation.
2. Non-support of routemaps.
3. Non-support of Application-level gateways (ALGs) FTP and ICMP."
Translation support for IPv6-initiated sessions.,"Static mapping and NAT44 (static, dynamic, and PAT) configuration are supported separately but not together on the same interface. Stateful NAT64 is supported for TCP and UDP traffic between IPv6 and IPv4 networks."
"Stateful NAT64 translation for routing packets within an IPv6 network and IPv4 network, and handling asymmetric address space.",Stateful NAT64 translator with statically configured or dynamically created binding state between IPv6 address and TCP/UDP port to IPv4 address.
Support communication between IPv4-only and IPv6-only nodes using Stateful NAT64 with NAT overload or Port Address Translation (PAT) to provide a 1:n mapping between IPv4 and IPv6 addresses.,"The source IPv6 address (and the source port) is associated with an IPv4 configured pool address (and port, based on the configuration)."
Stateful IPv6-to-IPv4 Packet Flow translation based on the previously created session.,"The NAT Virtual Interface (NVI) routing setup for the stateful prefix, automatic lookups for matching configured mappings based on an access control list (ACL) lookup, and methods for extracting the destination IPv4 address by stripping the prefix from the IPv6 address."
Stateful Network Address Translation 64 (NAT64) with access control lists (ACLs) and prefix lists for filtering IPv6-initiated traffic flows.,"1. Session database creation for NAT64 translation.
2. Bind database creation for NAT64 translation.
3. Pool and port databases updated depending on the configuration.
4. Use of session database entry for translation in return traffic and subsequent traffic of IPv6 packet flow."
Enable NAT64 high-speed logging (HSL) for up to 4 destinations.,"Configure the nat64 logging translations flow-export v9 udp destination command, and use the vrf keyword to enable NAT64 HSL for a specific VRF."
Enable HSL for all VPN and non-VPN translations. The vrf keyword can be used to specify HSL destination address on a specific VRF. Enable or disable translations for specific VPNs using the nat64 logging translations flow-export v9 vrf-name command.,"1. enable, 2. configure terminal"
FTP64 Application-Level Gateway Support for stateful Network Address Translation (NAT64) to operate on Layer 7 data.,"Enabling/Disabling NAT64 FTP service with the ""nat64 service ftp"" command, and not supported in Stateless NAT64 translation."
The device should not support IPv4-compatible IPv6 addresses. It should be able to switch to transparent mode when commands and responses flow between the FTP client and the FTP server during an FTP AUTH command.,"Transparent mode for the FTP64 ALG, where the device is invisible in the network but can act as a bridge, inspect or filter packets."
"Disable NAT64 ALG service using the ""no nat64 service ftp"" command","1. User authentication flag after 230 replies
2. ALG disable/enable flag after ALG ENABLE and ALG DISABLE messages are received
3. Fragment detection information after the first segmented packet is detected
4. Fragment detection information after the end of the segmentation is detected"
"The requirement here is to ensure that the Stateful NAT64 has minimal disruption when the active FP fails, and to maintain a backup of session information in the standby FP.","The configuration involves sending redundancy information to the standby FP in instances such as when a session or dynamic bind is created, deleted, or during periodic updates. The most critical updates are sent immediately while other changes are communicated by periodic updates. When a standby FP is inserted or recovers from a reload, the active FP performs a bulk synchronization to synchronize the standby FP with the active FP."
Adding a description to an interface configuration.,"""description string"" (Example: ""Step 11"")"
Enable IPv6 on an interface and configure its IPv6 address and prefix length.,"ipv6 enable
ipv6 {ipv6-address/prefix-length | prefix-name sub-bits/prefix-length}"
Exiting IPv6 access list configuration mode and entering global configuration mode.,Device(config-ipv6-acl# exit
Enable IPv6 address and Stateful NAT64 translation on an interface.,Device(config-if)# ipv6 enable; Device(config-if)# ipv6 2001:DB8:1::1/96; Device(config-if)# nat64 enable
Exit the interface configuration mode and enter global configuration mode.,exit
- Enable and configure NAT64-ACL (Access Control List) for IPv6 traffic.,"- Step 16: Enter IPv6 ACL configuration mode with ""permit ipv6"".
- Example: Device(config-ipv6-acl)# permit ipv6 2001:db8:2::/96 any
- Step 17: Exit IPv6 access list configuration mode and enter global configuration mode with ""exit"".
- Step 18: Enable NAT64 IPv6-to-IPv4 address mapping with the ""nat64 prefix stateful"" command.
- Example: Device(config)# nat64 prefix stateful 2001:db8:1::1/96"
Define the Stateful NAT64 IPv4 address pool.,nat64 v4 pool pool-name start-ip-address end-ip-address
Enable NAT64 and configure IPv6 and IPv4 addresses on interfaces.,"1. Set the description of interface gigabitethernet 0/0/0 to ""interface facing ipv6"".
2. Enable IPv6 on interface gigabitethernet 0/0/0.
3. Set the IPv6 address for interface gigabitethernet 0/0/0 to ""2001:DB8:1::1/96"".
4. Enable NAT64 on interface gigabitethernet 0/0/0.
5. Configure the description of interface gigabitethernet 1/2/0 to ""interface facing ipv4"".
6. Set the IP address for interface gigabitethernet 1/2/0 to ""209.165.201.1 255.255.255.0"".
7. Enable NAT64 on interface gigabitethernet 1/2/0.
8. Configure Stateful Network Address Translation 64 with the prefix ""2001:DB8:1::1/96"".
9. Configure static NAT64 for ""2001:DB8:1::FFFE"" to ""209.165.201.1""."
Configuring Dynamic Stateful Network Address Translation 64,"1. Configure IPv6 unicast routing: `Device# configure terminal; Device(config)# ipv6 unicast-routing`
2. Enable IPv6 on the interface: `Device(config)# interface gigabitethernet 0/0/0; Device(config-if)# ipv6 enable`
3. Configure the IPv6 address on the interface: `Device(config-if)# ipv6 2001:DB8:1::1/96`
4. Enable NAT64 on the interface: `Device(config-if)# nat64 enable`
5. Configure IPv4 on the interface: `Device(config-if)# exit; Device(config)# interface gigabitethernet 1/2/0; Device(config-if)# ip address 209.165.201.24 255.255.255.0`
6. Enable NAT64 on the interface: `Device(config-if)# nat64 enable`
7. Create an IPv6 Access List for NAT64: `Device(config)# ipv6 access-list nat64-acl; Device(config-ipv6-acl)# permit ipv6 2001:db8:2::/96 any; Device(config-ipv6-acl)# exit`
8. Configure NAT64 Prefix Stateful for the IPv6 address: `Device(config)# nat64 prefix stateful 2001:db8:1::1/96`
9. Create a NAT64 v4 pool: `Device(config)# nat64 v4 pool pool1 209.165.201.1 209.165.201.254`
10. Configure the NAT64 v4-to-v6 mapping using the Access List and Pool: `Device(config)# nat64 v6v4 list nat64-acl pool pool1; Device(config)# end`"
Asymmetric Routing Support for NAT64,"1. Enable IPv6 unicast-routing and interface gigabitethernet 0/0/0 description as facing IPv6.
2. Enable IPv6 on the same interface and set the IPv6 address to 2001:DB8:1::1/96.
3. Enable NAT64 on the interfaces gigabitethernet 0/0/0 and 1/2/0.
4. Create an IPv6 access-list called nat64-acl, permit IPv6 traffic from 2001:db8:2::/96 to any.
5. Configure NAT64 prefix stateful for the IP address 2001:db8:1::1/96.
6. Create a NAT64 v4 pool called pool1 with IP addresses ranging from 209.165.201.1 to 209.165.201.254.
7. Apply the nat64-acl access-list and pool1 pool for stateful NAT64 with overload on gigabitethernet interfaces."
- Enable IPv6 unicast routing on the device.,"- Redundancy application configuration under ""redundancy"" mode.
- Create a redundancy group named RG1 under the group 1, with data on GigabitEthernet1/1/0, control on GigabitEthernet1/1/1 using protocol 1, and asymmetric routing on GigabitEthernet1/1/2.
- Set priority to 150 and failover threshold to 140 for the redundancy group RG1.
- Enable always diverting for the redundancy group RG1."
"Enable IPv6 on the GigabitEthernet 1/1/3 interface and configure NAT64, Redundancy RII, and set the IPv6 address and redundancy group.","Device(config-if)# ipv6 enable
Device(config-if)# no shutdown
Device(config-if)# nat64 enable
Device(config-if)# ipv6 address 2001:db8:1::2/96
Device(config-if)# redundancy rii 100
Device(config-if)# redundancy group 1 ipv6 2001:db8:1::1/96 exclusive decrement 15"
Enable OSPF with network 192.0.2.0 255.255.255.0 area 0,"router ospf 90, network 192.0.2.0 255.255.255.0 area 0"
Enable NAT64 switchover replication for HTTP traffic on port 80.,"1. Apply ""nat64 switchover replicate http enable port 80"" under the global configuration mode."
Support for Stateful NAT64—Intra-Chassis Redundancy feature in Cisco IOS XE Release 3.5S and later releases,Configure the second Forward Processor (FP) as a standby entity to maintain backup of stateful NAT64 session information
Stateful Network Address Translation (NAT) for IPv6 hosts,"Commands introduced or modified: clear nat64 statistics, debug nat64, nat64 logging, nat64 prefix stateful, nat64 translation, nat64 v4, nat64 v4v6, nat64 v6v4, show nat64 aliases, show nat64 limits, show nat64 logging, show nat64 mappings dynamic, show nat64 mappings static, show nat64 services, show nat64 pools, show nat64 prefix stateful, show nat64 statistics, show nat64 timeouts, and show nat64 translations."
Stateless translation,Configuring a static translation table or deriving information algorithmically from the messages it is translating.
Interchassis redundancy support for stateful Network Address Translation 64 (NAT64),Pairs of devices configured to act as backups for each other in a stateful interchassis redundancy setup.
"Smooth switchover for application activity when a switchover occurs, and seamless load sharing between active/standby devices.",RGs (Redundancy Groups) are configured with unique ID numbers known as the redundant interface identifier (RII). Redundant interfaces are joined by configurable control link for status communication and data synchronization link for stateful information transfer.
Overriding the default behavior by disabling the preemption attribute for the RG and configuring each interface to decrease the priority when the Layer 1 state of the interface goes down.,Configure a threshold level for switchover when the priority of a device or interface falls below this level.
"LAN-LAN Topology with dynamic routing configuration supported on LAN-facing interfaces, without introducing a dependency on routing protocol convergence for fast failover requirements.",Redundancy Groups for Stateful NAT64 (associating stateful NAT64 mappings with a redundancy group).
"Support for ALG in handling application data stream protocol-specific services, such as translating embedded IP addresses and port numbers in the packet payload and extracting new connection or session information from control channels.",FTP64 is automatically enabled when Stateful NAT64 is enabled. Use the no nat64 service ftp command to disable the NAT64 FTP service. The FTP64 ALG is not supported in Stateless NAT64 translation. The FTP64 ALG does not support IPv4-compatible IPv6 addresses.
"FTP AUTH command, FTP64 ALG behavior during control channel session and AUTH negotiation, transparent copying of data during IPv6-to-IPv4 translation.","Transparent mode for FTP64 ALG during control channel session and AUTH negotiation, transparent copying of TCP data during IPv6-to-IPv4 translation."
FTP error/warning message handling for IPv6 FTP client and server communication.,"When an IPv6 FTP client issues an FTP AUTH command, the FTP64 ALG moves the AUTH session to transparent mode (or bypass mode)."
Define a protocol instance for redundancy group and enter redundancy application protocol configuration mode.,"Device(config-red-app)# protocol id
Example: Step 5
Device(config-red-app)# protocol 1"
Configure a name for the redundancy group,"name group-name
Example: Device(config-red-app-prtcl)# name RG1"
Configure application redundancy on a device.,"1. Enter redundancy configuration mode: Device(config)# redundancy application
2. Configure the redundancy application group and enter redundancy application group configuration mode: Device(config-red)# application redundancy
3. Set the group ID for the redundancy application group: Device(config-red-app)# group 1
4. Set the name for the redundancy application group: Device(config-red-app-grp)# name RG1
5. Configure the control interface type and number for the redundancy application group: Device(config-red-app-grp)# control gigabitethernet 0/0/1 protocol 1
6. Configure the data interface type and number for the redundancy application group: Device(config-red-app-grp)# data gigabitethernet 0/2/2"
Configuring Redundancy Groups for Active/Active Load Sharing,"1. enable
2. configure terminal
3. redundancy
4. application redundancy
5. group id
6. name group-name
7. priority value [failover-threshold value]
8. control interface-type interface-number protocol id
9. data interface-type interface-number
10. end"
Redundancy Configuration,application redundancy
"Configure a redundancy group with priority and failover threshold values, as well as control interface type and number.","Set the priority and failover-threshold values using the ""priority"" command, and configure the control interface type and number using the ""control"" command."
Configure a data interface type and number for the redundancy application group.,data interface-type interface-number
"Configure redundancy group settings, control interface, and data interface for a redundancy application group.","1. Specify the group priority and failover threshold value:
   Example: Device(config-red-app-grp)# priority 205 failover-threshold 200

2. Configure control interface type and number for the redundancy application group:
   Example: Device(config-red-app-grp)# control gigabitethernet 0/0/1 protocol 2

3. Configure data interface type and number for the redundancy application group:
   Example: Device(config-red-app-grp)# data gigabitethernet 0/2/2"
Enabling privileged EXEC mode,enable
Configure a redundancy interface identifier (RII) for a redundancy group-protected traffic interfaces.,Device(config-if)# redundancy rii <RI_ID>
"Configure interchassis redundancy with different types of NAT configurations such as dynamic, static, and Port Address Translation (PAT).","Enable IPv6 unicast-routing, configure the interface, enable IPv6 on the interface, set up NAT64, and repeat steps for another interface if needed."
Show NAT64 translations protocol TCP and NAT64 translations redundancy group-id,None provided
Configure NAT64 on an interface,Device(config-if)# nat64 enable
Define the stateful NAT64 prefix for IPv4 hosts to translate IPv4 addresses into IPv6 addresses.,"nat64 prefix stateful <ipv6-prefix>/<length>
Example: Device(config)# nat64 prefix stateful 2001:DB8:1::1/96"
Implementing Interchassis Redundancy using Static Stateful NAT64,N/A (as the text does not provide specific configuration details)
Configuring Redundancy Groups for Active/Active Load Sharing on a Device,"Device1:
1. Configure two redundancy groups (RGs) on the same device for active/active load sharing
2. Create group 1 with name RG1 and priority 195 failover-threshold 190
3. Set control gigabitethernet 0/0/1 protocol 1 for group 1
4. Set data gigabitethernet 0/2/2 for group 1

Device2:
1. Configure redundancy groups with control gigabitethernet 0/0/1 protocol 1 and data gigabitethernet 0/2/2"
Stateful NAT64 Interchassis Redundancy,"1. Configure redundancy on the interfaces using the following commands:
   - Device(config)# interface gigabitethernet 0/0/0
   - Device(config-if)# redundancy rii 100
2. Define a redundancy group with IPv6 address, exclusive decrement value, and add the interface to the group:
   - Device(config-if)# redundancy group 1 ipv6 2001:DB8:1::1:100/64 exclusive decrement 50
3. Apply the configuration to the second interface (gigabitethernet 0/1/1) and exit the current configuration mode:
   - Device(config)# interface gigabitethernet 0/1/1
4. Exit the configuration mode and save the changes:
   - Device(config)# exit"
"Redundancy configuration with RII value of 100 and redundancy group IPv6 address of 2001:DB8::2:1:100/64, exclusive decrement value of 50.",Not provided.
Connectivity Between IPv4 and IPv6 Hosts Using Stateless NAT 46,Network Address Translation 46 (NAT 46)
IPv6 address and IPv4 address translation using NAT 46.,"NAT 46 IPv6 prefix, DNS packet flow for pool address binding, and scalable number of IPv6 hosts that can be represented by the IPv4 pool address (up to 40,000)."
Configuration of NAT 46 for subdividing the network into smaller networks with a smaller network prefix (96 bits).,The NAT 46 router needs to be configured as a gateway or next hop router for IPv6 hosts on an adjacent router of the service provider network.
Connectivity Between IPv4 and IPv6 Hosts Using Stateless NAT 46,N/A (Insufficient information provided)
Enable IPv6 processing on an interface and configure an IPv6 address based on an IPv6 general prefix.,Device(config-if)# ipv6 address 2001:DB8:1::1/96
Mapping of Address and Port Using Translation (MAP-T),"Not specified in the given text. Please refer to ""How to Configure Mapping of Address and Port Using Translation, on page 239"" for specific configuration details."
"MAP-T functionality for double translation (IPv4 to IPv6 and vice versa) on customer edge (CE) devices and border routers. Supporting only the MAP-T border router functionality, not CE functionality. Leveraging NAT64 translation engine and adding MAP-T border router function to the NAT64 stateless function.","Enabled on IPv4 and IPv6 interfaces. Utilizing IPv4 and IPv6 forwarding, IPv4 and IPv6 fragmentation functions, and NAT64 translation functions."
"MAP-T domain should support only one IPv6 prefix per network, retain the ability for IPv4 end hosts to communicate across the IPv6 domain with other IPv4 hosts, and allow communication between IPv4-only and IPv6-enabled end hosts and native IPv6-only servers in domains that use IPv4-translatable IPv6 addresses.","MAP-T configuration should retain the ability for IPv4 end hosts to communicate across the IPv6 domain with other IPv4 hosts, permit both individual IPv4 address assignment and IPv4 address sharing with a predefined port range, allow communication between IPv4-only and IPv6-enabled end hosts and native IPv6-only servers in domains that use IPv4-translatable IPv6 addresses, and allow the use of IPv6 native network operations including the ability to classify IP traffic and perform IP traffic routing optimization policies such as routing."
Optimization based on peering policies for IPv4 destinations outside the domain.,"MAP-T Mapping Rules, including one Basic Mapping Rule (BMR), one Default Mapping Rule (DMR), and one or more Forwarding Mapping Rules (FMRs) for each MAP-T domain."
MAP-T nodes must be provisioned with a basic mapping rule for forwarding packets with an IPv4 destination address and port.,Use the port-parameters command to configure port parameters for the MAP-T BMR (Basic Mapping Rule).
Packet Forwarding between IPv6 and IPv4 for MAP-T CE devices and Border Routers.,"1. Basic Mapping Rule (BMR) address for MAP-T CE device to receive packets.
2. Transport-layer destination port number range for the CE device to forward packets.
3. IPv6 routing rules for forwarding non-BMR traffic on the CE device.
4. IPv4 input interface for incoming IPv4 packets in Border Routers.
5. IPv4 prefix lookup unit (PLU) for comparison in Border Routers."
Mapping of address and port using translation (MAP-T) with Path MTU Discovery and Fragmentation for IPv4-to-IPv6 translation.,Not provided in the text.
Configure the basic mapping rule for address and port translation (MAP-T) in NAT.,"Default Mapping Rule (DMR) prefix, IPv6 user prefix, and IPv6 prefix plus embedded address (EA) bits must be less than or equal to 64 bits. Share ratio, contiguous ports, and start port must be 16 bits."
Configuring Network Address Translation 64 (NAT64) mapping of address and port using translation (MAP-T) domain.,"- Enter global configuration mode using the command `configure terminal`.
- Configure NAT64 MAP-T domain using the command `nat64 map-t domain number`.
- Set the default mapping rule for the MAP-T domain with the command `default-mapping-rule ipv6-prefix/prefix-length`."
Configure an IPv6 address and prefix for the MAP-T BMR.,"Device(config-nat64-mapt)# basic-mapping-rule
Step 5
Device(config-nat64-mapt-bmr)# ipv6-prefix
2001:DA8:B001::/56"
Exit NAT64 MAP-T BMR configuration mode and return to privileged EXEC mode.,end
Configure a Mapping of address and port mapping using translation (MAP-T) function on a device to translate packets between IPv6 and IPv4 addresses.,"Device(config)# nat64 map-t
Device(config)# nat64 map-t domain 1
Device(config-nat64-mapt)# ping-rule 2001:DA8:B001:FFFF::/64
Device(config-nat64-mapt)# basic-mapping-rule
Device(config-nat64-mapt-bmr)# ipv6-prefix 2001:DA8:B001::/56
Device(config-nat64-mapt-bmr)# ipv4-prefix 202.1.0.128/28
Device(config-nat64-mapt-bmr)# $ters share-ratio 16 start-port 1024"
Mapping of Address and Port (MAP) Translation,MAP Translation (MAP-T) - specification
The requirement seems to be related to the handling of IP fragmentation and the use of translatable addresses for IPv4 and IPv6 hosts.,"The configuration would involve setting up the IP header fields, such as the DF bit and other relevant flags, to control fragmentation and reassembly processes for datagrams. Additionally, configuring stateless and stateful translators for handling translatable addresses between IPv4 and IPv6 hosts."
Use IPv6-translatable addresses because IPv6 hosts are represented by the IPv4 address pool in the translator via dynamic states.,"MAP rule—A set of parameters that define the mapping between an IPv4 prefix, an IPv4 address or a shared IPv4 address, and an IPv6 prefix or address. Each MAP domain uses a different mapping rule set."
Disabling Flow Cache Entries in NAT and NAT64,It is not possible to disable flow cache entries in interface overload configuration as session entries are created even if flow entry creation is disabled. Flow cache entries are created for application layer gateway (ALG) traffic because flow-specific information needs to be stored in the session entry for ALG traffic.
Disabling Flow Cache Entries in NAT and NAT64,"Dynamic and static NAT configurations can disable flow cache entries. Instead of creating sessions, dynamic and static NAT translations can translate a packet off the binding (or bindings if both inside and outside bindings are available). A binding or a half entry is an association between a local IP address and a global IP address."
Disabling flow cache entries for dynamic and static translations,"When a NAT configuration is not PAT, disable flow cache entries to save memory usage and provide more scalability for your dynamic or static translations. This may result in lesser performance due to multiple database searches for finding the most specific translation to use."
Disable Flow Cache Entries in NAT and NAT64,"1. Enable
2. Configure terminal
3. ip nat pool name start-ip end-ip {netmask netmask | prefix-length prefix-length}
4. access-list access-list-number permit source source-wildcard
5. ip nat inside source list access-list-number pool name
6. no ip nat create flow-entries"
Enable privileged EXEC mode and configure IP NAT pool.,"1. Enter your password if prompted.
   Device> enable
2. Enter global configuration mode.
   Device# configure terminal
3. Define a pool of global addresses to be allocated as needed.
   ip nat pool name start-ip end-ip {netmask netmask | prefix-length prefix-length}"
Define a standard access list that permits IP addresses to be translated.,Device(config)# access-list access-list-number permit source source-wildcard
Enable IPv6 unicast routing on the device,Device(config)# ipv6 unicast-routing
Disables flow cache entries in the NAT64 configuration.,nat64 settings flow-entries disable
Disable flow cache entries in a static carrier-grade NAT (CGN) configuration.,"1. Enable
2. Configure terminal
3. ip nat settings mode cgn
4. ip nat inside source static local-ip global-ip
5. no ip nat create flow-entries
6. interface virtual-template number
7. ip nat inside
8. exit
9. interface type number
10. ip nat outside
11. end"
Enable privileged EXEC mode and configure static CGN of the inside source address.,enable; ip nat settings mode cgn; ip nat inside source static local-ip global-ip.
Configure NAT settings on a network interface.,"Enable IP NAT inside and outside on an interface, and connect the interface to the outside network."
Disabling Flow Cache Entries in NAT and NAT64,"1. Access the device's configuration mode: `Device# configure terminal`
2. Configure the NAT pool: `Device(config)# ip nat pool net-208 172.16.233.208 172.16.233.223 prefix-length 28`
3. Create an access list to specify the range of IP addresses: `Device(config)# access-list 1 permit 192.168.34.0 0.0.0.255`
4. Apply the access list for NAT inside source list: `Device(config)# ip nat inside source list 1 pool net-208`
5. Disable flow cache entries for NAT: `Device(config)# no ip nat create flow-entries`
6. Configure interfaces and their IP addresses:
   - For GigabitEthernet 0/0/1 (inside interface): `Device(config)# interface gigabitethernet 0/0/1`, `Device(config-if)# ip address 10.114.11.39 255.255.255.0`, `Device(config-if)# ip nat inside`
   - For GigabitEthernet 0/1/1 (outside interface): `Device(config)# interface gigabitethernet 0/1/1`, `Device(config-if)# ip address 172.16.232.182 255.255.255.240`, `Device(config-if)# ip nat outside`
7. Exit the configuration mode: `Device(config-if)# exit`, `Device(config)# exit`"
"Enabling IPv6 and IPv4 addressing on interfaces, configuring NAT64, and disabling flow cache entries in static CGN.","1. Configure description for interface gigabitethernet 0/0/0: `description interface facing ipv6`
2. Enable IPv6 on the interface: `ipv6 enable`
3. Set IPv6 address for the interface: `ipv6 address 2001:DB8:1::1/96`
4. Enable NAT64 on the interface: `nat64 enable`
5. Exit the interface configuration mode: `exit`
6. Repeat steps 1-5 for gigabitethernet 1/2/0, changing descriptions and IP addresses accordingly (facing IPv4).
7. Enable NAT64 prefix stateful for the configured IPv6 address: `nat64 prefix stateful 2001:DB8:1::1/96`
8. Configure NAT64 v6v4 static with specified addresses: `nat64 v6v4 static 2001:DB8:1::FFFE 209.165.201.1`
9. Disable flow entries for static CGN: `nat64 settings flow-entries disable`"
Implement Carrier-Grade Network Address Translation (CGNAT) using CGN mode on a Cisco device.,"1. Configure the device to use CGN mode with `ip nat settings mode cgn`.
2. Set up static inside source translation with `ip nat inside source static 192.168.2.1 192.168.34.2`.
3. Disable flow-entries creation with `no ip nat create flow-entries`.
4. Create an interface virtual-template and enable IP NAT inside on it.
5. Configure the physical interface (e.g., gigabitethernet 2/1/1) as outside interface for NAT with `ip nat outside`."
Disabling of Flow Cache Entries in NAT and NAT64,"ip nat create flow-entries, nat64 settings flow-entries disable, and show ip nat translations."
Paired-Address-Pooling Support in NAT to consistently map a local address to a global address.,"Starting from IOS XE Polaris 16.8 release, you can specify an NAT pool for which PAP support is to be activated."
Support for more global addresses in the address pool than standard NAT.,ip nat pool natpool1 83.0.0.56 83.0.0.56 prefix-length 24
IP NAT configuration for using multiple NAT pools with overload,"- Create two NAT pools named ""natpool1"" and ""natpool2"" with the following IP addresses and prefix length:
  82.0.0.15/24 for natpool1, 83.0.0.56/24 for natpool2
- Use Access Control Lists (ACL) acl1 and acl2 to define which devices are part of the NAT pools
- Use NAT overload to allow multiple devices within an ACL to share the same IP address"
Paired Address Pooling for Port Address Translation (PAT),Supported in both classic (default) and carrier-grade NAT (CGN) mode
Paired-address-pooling for efficient address selection and managing user connections on global addresses.,"The fill-it-up method is used for address selection in paired-address-pooling, fitting the maximum possible users into a single global address before going to the next global address."
Configure Paired-Address-Pooling Support in NAT,"1. Enable
2. Configure terminal
3. ip nat settings pap [limit {1000 | 120 | 250 | 30 | 500 | 60}]
4. ip nat pool name start-ip end-ip {netmask netmask | prefix-length prefix-length}
5. access-list access-list-number permit source [source-wildcard]
6. ip nat inside source list access-list-number pool name overload
7. interface type number
8. ip address ip-address mask
9. ip"
Configuring NAT paired address pooling mode on a device.,ip nat settings pap limit {1000 | 120 | 250 | 30 | 500 | 60};
Set a primary IP address for the interface,ip address ip-address mask
"Configuring NAT with static or dynamic rules, limiting PAP, configuring IP NAT pool and access list, enabling NAT overload.","1. Enable NAT settings with the command ""ip nat settings pap [limit {1000 | 120 | 250 | 30 | 500 | 60}]"".
2. Configure terminal.
3. Create an IP NAT pool with the command ""ip nat pool name start-ip end-ip {netmask netmask | prefix-length prefix-length}"".
4. Define access list and source permitting with the command ""access-list access-list-number permit source [source-wildcard]"".
5. Apply NAT inside source to the specified access list and pool with the command ""ip nat inside source list access-list-number pool name overload"".
6. Configure the interface type and number with the command ""interface type number"".
7. Assign IP address and mask to the interface with the command ""ip address ip-address mask"".
8. Enable NAT on the inside interface with the command ""ip nat inside""."
Implement dynamic Port Address Translation (PAT) or NAT overload using access list and IP address pool.,"1. Establish the access list: `access-list 1 permit 192.168.34.0 0.0.0.255`
2. Create an IP address pool (Step 4): (Example not provided in the text)
3. Configure NAT overload with the access list and IP address pool: `ip nat inside source list access-list-number pool name overload`

Requirement: Set a primary IP address for the interface gigabitethernet 0/0/1.

Configuration:
1. Enter interface configuration mode for gigabitethernet 0/0/1: `interface gigabitethernet 0/0/1`
2. Set the primary IP address for the interface: `ip address ip-address mask`"
"Connect the interface to the inside network, which is subject to NAT.",Device(config-if)# ip address 10.114.11.39 255.255.255.0
Configure paired address pooling along with Network Address Translation (NAT) rules.,"ip nat settings pap, ip nat pool net-208 192.168.202.129 192.168.202.158 netmask 255.255.255.240, access-list 1 permit 192.168.34.0 0.0.0.255, ip nat inside source list 1 pool net-208 overload, interface gigabitethernet 0/0/1 with ip address 10.114.11.39 255.255.255.0, and ip nat inside."
Configure an interface with IP address and NAT settings for use as an outside interface.,Device(config)# interface gigabitethernet 0/1/2; Device(config-if)# ip address 172.16.232.182 255.255.255.240; Device(config-if)# ip nat outside;
The requirement is to implement a feature that allocates a block of ports for translation instead of individual ports in carrier-grade Network Address Translation (CGN) mode.,The configuration involves enabling the carrier-grade Network Address Translation (CGN) mode before enabling the Bulk Logging and Port Block Allocation feature.
Enable paired-address pooling for the feature to work.,"Not supported on interface overload configurations, configure an interface-overload mapping with this feature; however, no messages will be logged for the configuration."
"Network Address Translation (NAT) with additional blocks of ports allocated based on volume of translations, using either consecutive or scattered port-set methods for port allocation.","Scattered port-set method for Bulk Logging and Port Block Allocation with a defined start port number, step value, and the number of ports to allocate."
High-Speed Logging in Bulk Logging and Port Block Allocation,Dynamically allocate a block of global ports instead of a single global port for reduced volume of NAT high-speed logging (HSL).
Enable privileged EXEC mode and configure interfaces for NAT.,"1. Enter your password if prompted.
2. Enable privileged EXEC mode: Device> enable
3. Enter global configuration mode: configure terminal
4. Specify an interface and enter interface configuration mode: interface type number
5. Connect the interface to the inside network (subject to NAT): ip nat inside
6. Exit interface configuration mode and return to global configuration mode: exit
7. Specify another interface and enter interface configuration mode: interface type number
8. Connect the interface to the outside network: ip nat outside"
Enabling CGN mode on the device,Device(config)# ip nat settings mode cgn
Define a standard access list that permits addresses for translation.,access-list <access-list-number> permit source [source-wildcard]
"The requirement is to configure NAT settings for a network device, including setting up the IP NAT pool, access list, and specifying NAT inside source list.","ip nat pool net-208 192.168.202.129 192.168.202.132 prefix-length 24, access-list 1 permit source 192.168.34.0 0.0.0.255, ip nat inside source list 1 pool net-208."
"Displaying NAT pool and port statistics using the ""show ip nat pool name"" command.",Not provided in the text.
MSRPC ALG Support for Firewall and NAT feature provides support for the Microsoft (MS) Remote Procedure Call (RPC) application-level gateway (ALG) on the firewall and Network Address Translation (NAT). The MSRPC ALG provides deep packet inspection (DPI) of the MSRPC protocol. The MSRPC ALG works in conjunction with a provisioning system to allow the network administrator to configure match filters to define match criteria that can be searched in an MSRPC packet.,"MSRPC ALG additionally supports the Virtual Transport Control Protocol (vTCP) functionality which provides a framework for various ALG protocols to appropriately handle the TCP segmentation and parse the segments in the Cisco IOS zone-based firewall, Network Address Translation (NAT) and other applications."
MSRPC ALG Support for Firewall and NAT,Enable the Cisco IOS XE firewall and Network Address Translation (NAT) before applying the Microsoft (MS) Remote Procedure Call (RPC) application-level gateway (ALG) on packets.
MSRPC ALG Support for Firewall and NAT,"Allow client applications to use dynamic TCP or UDP ports, recognize application-specific commands and offer granular security control over them, synchronize multiple streams or sessions of data between two hosts that are exchanging data."
Configure MSRPC ALG Support for Firewall and NAT,1. enable; 2. configure terminal; 3. class-map type inspect match-any class-map-name; 4. match protocol protocol-name; 5. exit; 6. policy-map type inspect policy-map-name; 7. class type inspect class-map-name; 8. inspect; 9. end
Disable vTCP Support for MSRPC ALG,no alg vtcp service msrpc
Enable or disable MSRPC ALG Support on the firewall and NAT configuration.,Set the appropriate command under 'config-pmap-c' to enable or disable MSRPC ALG support based on your specific needs.
MSRPC ALG Support for Firewall and NAT,Cisco IOS XE Release 3.14S
Sun RPC ALG Support for Firewalls and NAT,Configure the Sun RPC ALG for firewall and Network Address Translation (NAT) support.
"Support for Layer 4 or Layer 7 class maps, pass through packets that match Port Mapper Protocol well-known port (111) without Layer 7 inspection.",Configure the match program-number command for Sun RPC program numbers. Support only Port Mapper Protocol Version 2 and RPC Version 2.
• Recognize application-specific commands and offer granular security control over them.,"• Pinhole opening and NAT translation service on any TCP or UDP traffic without application-layer source and destination IP addresses.
• Sun RPC ALG working with a provisioning system for configuring match filters."
Configure a Sun RPC Layer 4 class map and a Layer 7 policy for proper inspection of Sun RPC traffic.,"Enable the Sun RPC ALG by default when Network Address Translation (NAT) is enabled, or use the no ip nat service alg command to disable the Sun RPC ALG on NAT if required. Configure the firewall and NAT settings according to your network requirements."
Sun RPC ALG Support for Firewalls and NAT,Configuring the Firewall for the Sun RPC ALG
Configure a Sun RPC Firewall Policy Map,"1. Enable privileged EXEC mode using the 'enable' command.
2. Enter global configuration mode using the 'configure terminal' command.
3. Create a Layer 7 (protocol-specific) inspect type policy map using the 'policy-map type inspect' command, followed by the protocol name and policy map name. Example: Device(config)# policy-map type inspect sunrpc sunrpc-l7-pmap
4. Specify the traffic class on which to apply the policy map."
Specify the default class (commonly known as the class-default class) before configuring its policy and entering QoS policy-map class configuration mode.,class class-default
Attach a firewall policy map to a zone pair.,Device(config)# zone-pair security clt2srv source z-client destination z-server service-policy type inspect policy-map-name Example: Step 8 Device(config-sec-zone-pair)# service-policy type inspect sunrpc-l4-pmap
Configure Sun RPC ALG support for firewall and NAT.,"1. Layer 4 Class Map configuration (sunrpc-l4-cmap):
   - Device(config)# class-map type inspect match-any sunrpc-l4-cmap
   - Device(config-cmap)# match protocol sunrpc
2. Layer 7 Class Map configuration (sunrpc-l7-cmap):
   - Device(config)# class-map type inspect sunrpc match-any sunrpc-l7-cmap
   - Device(config-cmap)# match program-number 100005
3. Sun RPC Firewall Policy Map configuration (sunrpc-l7-pmap):
   - Device# configure terminal
   - Device(config)# policy-map type inspect sunrpc sunrpc-l7-pmap
   - Device(config-pmap)# class type inspect sunrpc sunrpc-l7-cmap
   - Device(config-pmap-c)# allow
4. Attaching a Layer 7 Policy Map to a Layer 4 Policy Map:
   - Device# configure terminal
   - Device(config)# policy-map type inspect sunrpcl4-pmap
   - Device(config-pmap)# class sunrpcl4-cmap"
Sun RPC ALG Support for Firewalls and NAT,"The command introduced or modified is ""match protocol."""
"Protect system resources by restricting the amount of memory that vTCP can consume for reassembly to 8K for FTP, H323, LDAP, NETBIOS, PPTP, SCCP, SUNRPC, and TFTP.","Memory consumption limit for vTCP reassembly is set to 8K for specific protocols (FTP, H323, LDAP, NETBIOS, PPTP, SCCP, SUNRPC, and TFTP)."
Enable RTSP packet inspection,"1. Configure RTSP protocol to activate vTCP
   - Perform this task to enable RTSP packet inspection.
   - SUMMARY STEPS
     - 1. enable
     - 2. configure terminal
     - 3. class-map type inspect match-any
     - 4. class-map-name (Enter a name for the class map)
     - 5. match protocol protocol-name (Enter the protocol name, e.g., ""rtsp"")
     - 6. exit
     - 7. policy-map type inspect policy-map-name (Enter a name for the policy map)
     - 8. class type inspect class-map-name (Enter the class map name from step 4)
     - 9. inspect (This command is usually placed at the end of the configuration)
     - 10. class class-default
     - 11. exit
     - 12. exit
     - 13. zone security zone-name1 (Enter a name for the first security zone)
     - 14. exit
     - 15. zone security zone-name2 (Enter a name for the second security zone)
     - 16. exit
     - 17. zone-pair security zone-pair-name (Enter a name for the zone pair)
     - 18. source source-zone-name (Enter the first security zone from step 13)
     - 19. destination destination-zone-name (Enter the second security zone from step 15)
     - 20. service-policy type inspect policy-map-name (Enter the policy map name from step 7)
     - 21. exit
     - 22. interface type number (Enter the interface number where RTSP traffic will be inspected)
     - 23. zone-member security zone-name1 (Enter the first security zone from step 13)
     - 24. end"
Return to global configuration mode.,Router(config-if)# exit
Zone security public,"interface GigabitEthernet0/1/0, ip address 10.0.0.1 255.0.0.0, zone-member security private"
Application-Level Gateway (ALG) support for Firewall and Network Address Translation (NAT),"Allows client applications to use dynamic TCP or UDP ports, recognizes application-specific commands for granular security control, synchronizes multiple streams or sessions of data between hosts, and translates network-layer address information in the application payload."
UDP traffic that does not carry the source and destination IP addresses in the application-layer data stream for specific protocols or applications.,"Basic H.323 ALG Support (Application Layer Gateway) for enabling UDP transport in H.323 Version 2, including H.323 Terminal, H.323 Gateway, and H.323 Gatekeeper elements."
High availability (HA) support for vTCP with Firewall and NAT synchronization.,"1. Enable HA support for ALG-H.323 vTCP.
2. Configure the NAT settings on the interface.
3. Define a NAT pool with start-ip, end-ip, prefix-length, and prefix-length.
4. Apply the NAT pool to the inside source list."
Enable privileged EXEC mode on the device using the 'enable' command.,"Enter global configuration mode using the 'configure terminal' command. Then, configure an interface and enter interface configuration mode using the 'interface type number' command. Finally, apply the necessary commands to enable ALG-H.323 vTCP with High Availability Support for Firewall and NAT."
The device should be configured to use Network Address Translation (NAT) and connect to both inside and outside networks. It should define a pool of IP addresses for NAT and enable NAT for the inside source address.,"ip nat inside, ip nat outside, ip nat pool pool-name start-ip end-ip prefix-length, ip nat inside source list pool"
Support for Firewall and NAT in the network configuration,"Configure ALG-H.323 vTCP with High Availability, NAT inside on gigabitEthernet 0/0/1 interface, NAT outside on gigabitEthernet 0/1/1 interface, NAT pool pool1 with IP addresses 10.1.1.10 to 10.1.1.100, apply NAT rules for inside source list pool1, access-list 1 permitting 10.0.0.0/24, and enable ALG-H.323 vTCP with High Availability Support for Firewall and NAT."
SIP ALG management of SIP Layer 7 data using local database for media-related information storage.,Call-ID header field used for search in the local database and managing memory resources. Session timer used to manage and free resources when needed.
SIP ALG Hardening for NAT and Firewall feature providing support for detailed logging of the following methods in Session Initiation Protocol (SIP) application-level gateway (ALG) statistics.,"• PUBLISH
• OPTIONS
• 1XX (excluding 100,180,183)
• 2XX (excluding 200)
• ACK, BYE, CANCEL, INFO, INVITE, MESSAGE, NOTIFY, REFER, REGISTER, SUBSCRIBE, and 1XX-6XX"
Enable NAT support for SIP and configure the port number for either TCP or UDP.,ip nat service sip {tcp | udp} port port-number
Configure the match criterion for a class map based on the named protocol.,Device(config-cmap)# match protocol sip
SIP ALG Hardening for NAT and Firewall,Cisco IOS XE Release 3.8S
SIP ALG Resilience to DoS Attacks feature for protection against Session Initiation Protocol (SIP) application layer gateway (ALG) denial of service (DoS) attacks.,"Configurable lock limit, dynamic blacklist, and configurable timers to prevent DoS attacks; supported by Network Address Translation and zone-based policy firewalls."
SIP DoS attack prevention measures for VoIP networks,"Implement rate limiting, network monitoring, and authentication security to mitigate SIP DoS attacks."
SIP ALG Dynamic Blacklist to mitigate DoS attacks by monitoring abnormal SIP session patterns and dropping packets that exceed predefined trigger criteria.,Not provided in the text.
"A call-proceeding timer that controls the maximum length of an unanswered SIP call, releasing resources for the call when the configured maximum time is reached. This helps prevent future messages related to this call from being improperly parsed by the SIP ALG.","To configure SIP ALG resilience to DoS attacks, follow these steps:
1. Enable
2. Configure terminal
3. alg sip processor session max-backlog concurrent-processor-usage
4. alg sip processor global max-backlog concurrent-processor-usage
5. alg sip blacklist trigger-period trigger-period trigger-size minimum-events destination ip-address
6. alg sip blacklist trigger-period trigger-period trigger-size minimum-events block-time"
Configure dynamic SIP ALG blacklist criteria for the specified destination IP address.,"Device(config)# alg sip processor global max-backlog 5
Device(config)# alg sip blacklist trigger-period trigger-period trigger-size minimum-events destination ip-address"
Enable privileged EXEC mode and display SIP ALG information.,"- Enables privileged EXEC mode using the command `Device> enable`.
- Displays all Session Initiation Protocol (SIP) application layer gateway (ALG) information using the command `Device# show alg sip`."
SIP ALG Resilience to DoS Attacks Configuration,"- timeout: 1014
- start dbl blk tmr: 0
- restart dbl blk tmr: 0
- stop dbl blk tmr: 0
- dbl blk tmr timeout: 0
- start dbl idle tmr: 10
- restart dbl idle tmr: 361
- stop dbl idle tmr: 1
- dbl idle tmr timeout: 9
- Dbl Retmem Failed: 0
- Dbl Malloc Failed: 0
- DblCfg Retm Failed: 0
- DblCfg Malloc Failed: 0
- Session wlock ovflw: 0
- Global wlock ovflw: 0
- Blacklisted: 561"
Displays brief information about all SIP blocked list data.,Device# show platform hardware qfp active feature alg statistics sip dbl
Display SIP timer settings on the device.,Device# show platform hardware qfp active feature alg statistics sip timer
SIP ALG Resilience to DoS Attacks,"1. Device(config)# alg sip processor session max-backlog 5
2. Device(config)# alg sip processor global max-backlog 5
3. Device(config)# alg sip blacklist trigger-period 90 trigger-size 30 destination 10.1.1.1
4. Device(config)# alg sip blacklist trigger-period 90 trigger-size 30 block-time 30
5. Device(config)# alg sip timer call-proceeding-timeout 35
6. Device(config)# alg sip timer max-call-duration 90"
Separate address space for translated addresses among VPNs,Configure the match-in-vrf keyword in the NAT mapping (ip nat inside)
Configure Match-in-VRF Support for NAT,"ip nat inside source static local-ip global-ip [vrf vrf-name]
ip vrf forwarding vrf-name"
Specify an interface and enter interface configuration mode.,Router(config)# interface <interface_type> <interface_number>
Configure Static or Dynamic NAT with Match-in-VRF,"1. Static NAT configuration example:
   - Router# configure terminal
   - Router(config)# ip nat inside source static <local_IP> <global_IP> vrf <vrf_name> match-in-vrf
2. Dynamic NAT configuration example:
   - Router# configure terminal
   - Router(config)# access-list <access_list_number> deny ip <local_network> <local_wildcard>
   - Router(config)# access-list <access_list_number> permit ip <global_network> <global_wildcard>
   - Router(config)# ip nat inside source list <access_list_number> <vrf_name> match-in-vrf
   - Router(config)# ip nat outside source dynamically [any | <global_IP>] <vrf_name>

Please note that the specific details such as IP addresses, access lists, and VRF names will depend on your network configuration."
Set up a NAT configuration with a shared address pool inside a specific VRF.,"1. Configure the match-in-vrf keyword to enable NAT inside and outside traffic in the same VRF.
2. Define the access list for source IPs.
3. Create a static NAT entry using the ""ip nat inside source list"" command with the shared address pool, VRF name, and matching access list.
4. Configure the external interface (GigabitEthernet 0/0/0) with an IP address and enable NAT outside.
5. Configure the internal interface (GigabitEthernet 0/0/1) with an IP address, enable NAT inside, set the VRF to vrf1, and apply the static NAT entry."
IP Multicast Dynamic NAT feature supports source address translation of multicast packets when connecting to the Internet with hosts that do not have globally unique IP addresses.,"NAT translates internal local addresses to globally unique IP addresses before sending packets to the outside network, establishing a one-to-one mapping between an inside local address and one of the addresses from the pool of outside global addresses."
NAT (Network Address Translation) for nonregistered IP addresses to connect to the Internet in a stub domain with limited outside communication.,"NAT configured on the router at the border of a stub domain and a public network, translating internal local addresses to globally unique IP addresses before sending packets to the outside network."
Single global IP address for load distribution among multiple local IP addresses.,NAT Inside and Outside Addresses; Inside local address - an IP address assigned to a host on the inside network.
"The requirement is to configure NAT (Network Address Translation) for various scenarios, such as outside local and global addresses, and support for VRFs (Virtual Routing and Forwarding).","The configuration should include NAT settings for the Outside Interface, Inside Interface, and support for Global VRF or specific VRF X. This may involve setting up Match-in-VRF support when inside and outside interfaces are in the same VRF."
Dynamic Translation of Addresses for mapping between inside local address and pool of global addresses.,"The dynamically configured pool IP address may be used as needed and released for use by other users when access to the Internet is no longer required. When inside global or outside local addresses belong to a directly connected subnet on a NAT router, the router adds IP aliases for them."
Dynamic Translation of Addresses,IP Multicast Dynamic NAT
Configure IP Multicast Dynamic NAT,Router# configure terminal
Set a primary or secondary IP address and enable sparse mode operation of Protocol Independent Multicast (PIM) on an interface.,"```
Router(config)# interface gigabitethernet 0/0/0
Router(config-if)# ip address 10.1.1.1 255.255.255.0
Router(config-if)# ip pim sparse-mode```"
Set a primary or secondary IP address for an interface.,ip address ip-address mask
The requirement is to support the source address translation of multicast packets using IP Multicast Dynamic Network Address Translation.,"The configuration involves translating internal local addresses to globally unique IP addresses before sending packets to the outside network, establishing a one-to-one mapping between an inside local address and one of the addresses from the pool of outside global addresses."
"- NAT-session entry with source IP address, destination IP address, and port information.",- GRE session duration: 24 hours (for both static and dynamic NAT).
Enable NAT of the inside source address using access list and pool overload.,ip nat inside source list {access-list-number | access-list-name} pool name overload
Set up Address Translation for PPTP using NAT and IP access lists.,"- Configure the inside interface (gigabitethernet 0/0/1) with ip nat inside command.
- Configure the outside interface (gigabitethernet 0/1/0) with ip nat outside command.
- Create a NAT pool named pptp-pool with IP addresses 192.168.0.1 to 192.168.0.234 and prefix-length 24.
- Apply the NAT configuration for inside source traffic using the ip nat inside source list pptp-acl pool pptp-pool overload command.
- Create an access list named pptp-acl that permits the IP address 10.1.1.1 with the permit 10.1.1.1 command under the ip access-list standard configuration."
PPTP (Point-to-Point Tunneling Protocol) application layer gateway (ALG) for Port Address Translation (PAT) configuration.,"The PPTP ALG is enabled by default when Network Address Translation (NAT) is configured, and it requires the PPTP ALG to parse PPTP packets. The following commands were introduced or modified: debug platform hardware qfp feature alg datapath pptp, ip nat service pptp, show platform hardware qfp feature alg statistics pptp."
NPTv6 Support,Configuring NPTv6
"NPTv6 support for redirecting or forwarding packets in an IPV6 environment, allowing interconnection of different networks, multihoming, load balancing, peer-to-peer networking, and supporting static IPv6 host to host translations.","The NPTv6 supports prefix longer than 64 bits, configurable IPv4 and IPv6 translations on the same interface, scaling, packet tracing, and conditional debugging. It does not create state in the data plane, operates using minimal memory, supports high availability by default, and does not support multicast, firewall, High Speed Logging (HSL), or syslog."
NAT66 Configuration for Stateless NATv6 Prefix Translation,"- nat66 outside
- nat66 prefixinside 2002:AB01::/64 outside 2002:AB02::/64"
Verify the passed interfaces and stateless NPTv6 prefix configuration on a platform hardware QFP active feature nat66 device.,"Device# show platform hardware qfp active feature nat66 datapath prefix command to verify the passed interfaces and stateless NPTv6 prefix configuration, including hash_salt, NAT66 hash[1] id, len, vrf, in, out, in2out, out2in, and global NPTv6 statistics."
Ensuring both inside and outside interfaces are configured,"Use debug commands for configuration issues, such as:
• debug platform hardware qfp active feature nat66 datapath detailed
• debug platform hardware qfp active feature nat66 datapath all
• debug platform condtion feature nat66 datapath submode detailed"
Multihoming network with NPTv6 Translators configured to map multiple external addresses to a common internal address.,"NPTv6 Translators attached to an internal network, connected to different external networks, with the same internal prefix and different external prefixes."
Configuring the range of ports used in NAT interface overload mapping and blocking specific ports.,Setting the port range for NAT interface overload mapping (see Configuring a Port Range for Interface Overload Mapping below).
Interface Overload Mapping with TPM for NAT router communication using different address and port combinations.,ip nat settings interface-overload port range (1024-65535) to set the port range for requesting ports from the TPM.
Configure the device to forward multicast traffic when there are no directly connected IGMP hosts.,Not provided in the text.
Customize Internet Group Management Protocol (IGMP) on a LAN segment to enable dynamic registration of individual hosts in a multicast group and configure various IGMP features.,"1. Configure the router to forward multicast traffic in the absence of directly connected IGMP hosts.
2. Enable an IGMP Version 3 (IGMPv3) host stack for the router to function as a multicast network endpoint or host.
3. Enable routers to track each individual host that is joined to a particular group or channel in an IGMPv3 environment.
4. Control access to an SSM network using IGMP extended access lists.
5. Configure an IGMP proxy for hosts not directly connected to a downstream router to join a multicast group sourced from an upstream network."
"Switches must support and be enabled for IGMP snooping, specifically for IGMPv3 messages. They should also interoperate with CGMP for better group leave behavior.","The switches need to be configured for IGMP snooping and support IGMPv3. In cases where a switch does not recognize IGMPv3 messages, the router may be configured for IGMPv2 on the interface to maintain the ability to use SSM for host applications that cannot resort to URL Rendezvous Directory (URD) or IGMP v3lite."
"A querier is needed to discover which network devices are members of a given multicast group. Hosts must be able to join and leave multicast groups using IGMP messages, and they should identify group memberships by sending IGMP messages to their local multicast device.","Devices should listen to IGMP messages and periodically send out queries to discover which groups are active or inactive on a particular subnet. Different versions of IGMP (IGMPv1, IGMPv2, and IGMPv3) should be implemented to provide additional features such as signaling desire to leave a multicast group and listening to multicast originating from a set of source IP addresses."
"The requirement is for devices to send IGMP reports to notify interested hosts of a particular multicast stream, with the ability to send these reports asynchronously or in response to IGMP queries. Hosts can only send one IGMP report message per multicast group, and there should be a mechanism for hosts to leave the group without sending any messages if they are no longer interested in receiving multicast packets for that group.",The configuration is not specified in the given text.
The requirement is to design a multicast network that uses IGMP and PIM for efficient multicast traffic forwarding.,"The configuration would involve setting up devices with an election process to select a designated router (DR) with the highest IP address, and configuring the DR to handle tasks such as sending PIM register, Join, and Prune messages toward the rendezvous point (RP), and sending IGMP host-query messages every 60 seconds."
"IGMPv2 capabilities such as Querier election process, Maximum Response Time field, Group-Specific Query messages, and Leave-Group messages.",Not specified in the text.
"IGMPv2 devices elect an IGMP querier based on the lowest IP address on the subnet using query messages. When a device starts, it multicasts a general query message to the all-systems group address (224.0.0.1) with its interface address in the source IP address field of the message.",- IGMPv2 devices should be able to receive and process general query messages from other devices on the subnet.
"The requirement is related to the handling of multicast traffic on subnets and how devices (specifically IGMPv1, IGMPv2, and IGMPv3) respond to hosts leaving a multicast group.","For IGMPv1, the timeout interval for continuing to forward multicast traffic onto the subnet after all hosts have left the multicast group is typically three times the query interval (3 minutes)."
Configuring IGMP settings for multicast traffic,"- Set the IGMP general query address to 224.0.0.1
- Set the IGMP group-specific query address to the desired group IP address
- Set the IGMP group membership report address to the desired group IP address
- Set the IGMPv2 leave-group message address to 224.0.0.2"
Extended ACL Support for IGMP to Support SSM in IPv4,"IGMPv3 must listen to the address 224.0.0.22, and accommodate extended access lists to filter membership reports based on source address, group address, or both."
Appropriate access control with filtering of IGMPv3 messages by group and source addresses.,"Using IGMP extended access lists (ACL) to permit or deny source S and group G in IGMPv3 reports, allowing for filtering based on source address, group address, or source and group address."
"Check each (S, G) pair against the access list and deny access to multicast traffic for denied sources.",Extended ACL support for IGMP to support SSM in IPv4.
"Enable IGMP Proxy in a unidirectional link routing (UDLR) environment for hosts not directly connected to a downstream router, allowing them to join a multicast group sourced from an upstream network.",Implement IGMP UDLs on both upstream and downstream devices.
Enable IGMP proxy mechanism for hosts not directly connected to a downstream device in order to join a multicast group sourced from an upstream network.,"1. User sends an IGMP membership report requesting interest in group G.
2. Router C sends a PIM Join message hop-by-hop to the Router B (RP).
3. Router B receives the PIM Join message and adds a forwarding entry for group G on LAN B.
4. Router B periodically checks its mroute table and proxies the IGMP membership report to its upstream UDL device across the Internet link.
5. Router A creates and maintains a forwarding entry on the unidirectional link (UDL)."
"Enable IGMP report forwarding for proxied (*, G) multicast static route entries and enable the mroute proxy service on interfaces leading to PIM-enabled networks with potential members.","Use the ip igmp mroute-proxy command to enable IGMP report forwarding of proxied (*, G) multicast static route (mroute) entries, and use the ip igmp proxy-service command to enable the mroute proxy service on interfaces leading to PIM-enabled networks with potential members."
"Filter specific source address or group address from the IGMP report for a subnet and restrict membership to (S, G) channel.",Device(config)# ip access-list extended mygroup deny igmp source source-wildcard destination destination-wildcard [igmp-type] [precedence precedence] [tos tos] [log] [time-range time-range-name] [fragments]
Configure IGMPv3 on host-facing interfaces and enable IGMP Proxy for unidirectional link routing (UDLR) environments.,"Enable Sparse Mode PIM on the device, set the IGMP version to 3, and configure the IGMP proxy for UDLR environments."
"All routers on the IGMP UDL must have the same subnet address or be configured with secondary addresses to match all the subnets that the downstream routers are attached to. IP multicast should be enabled and PIM interfaces should be configured. When enabling PIM, follow the guidelines for PIM sparse mode (PIM-SM), PIM sparse-dense mode, or PIM dense mode (PIM-DM) based on the operating mode of the interface.","1. Ensure all routers on the IGMP UDL have the same subnet address or configure secondary addresses for those that cannot.
2. Enable IP multicast and configure PIM interfaces.
3. Configure PIM-SM, PIM sparse-dense mode, or PIM-DM based on the interface's operating mode:
   a. Use PIM-SM for interfaces in a sparse-mode region with static RP, bootstrap (BSR), or Auto-RP with the Auto-RP listener capability.
   b. Use PIM sparse-dense mode for interfaces in a sparse-dense mode region with Auto-RP without the Auto-RP listener capability.
   c. Use PIM-DM for interfaces in dense mode and participating in a dense-mode region.
   d. Configure PIM-DM with proxy-register as needed."
Downstream UDL (Unidirectional Link-Local) device with IGMP UDLR (IGMP Unidirectional Link) and IGMP proxy support.,"1. enable
2. configure terminal
3. interface type number
4. ip igmp unidirectional-link
5. exit
6. interface type number"
Configure multicast forwarding entries on Gigabit Ethernet interface 1/0/0 and request that IGMP reports be sent to loopback interface 0 for all groups in the mroute table that are forwarded to Gigabit Ethernet interface 1/0/0.,ip igmp mroute-proxy command on Gigabit Ethernet interface 1/0/0
Configuring IGMP helpering on a downstream device's loopback interface 0 and enabling the mroute proxy service.,"1. Enable IGMP helpering on loopback interface 0: ""ip igmp helper-address [UDL]""
2. Enable the mroute proxy service: ""ip igmp proxy-service"""
Customizing IGMP and Configuring the Downstream UDL Device for IGMP UDLR with IGMP Proxy Support,Not specified in the given text
Controlling Access to an SSM Network Using IGMP Extended Access Lists,ip access-list extended test1 deny igmp any host 232.2.2.2 permit igmp any any ! interface FastEthernet0/0/0 ip igmp access-group test1
Deny source 10.2.1.32 for IGMPv3 reports on interface 1/1/0 using access list test2,ip access-list extended test2 deny igmp host 10.2.1.32 any permit igmp any any
Filtering a Source S for a Group G,"1. Create an extended access-list (test4) that permits the IGMP host and denies other sources for the specific group.
2. Apply the access-list to the interface using the ""ip igmp access-group"" command."
Enabling source filtering in IGMPv3 for a multicast receiver host to signal to a device which groups it wants to receive multicast traffic from and from which sources this traffic is expected.,Cisco IOS XE Release 3.8S
Access Cisco Feature Navigator to find information about platform support and Cisco software image support for IGMPv3 Host Stack configuration.,"IP multicast must be enabled, all PIM interfaces should be configured using the tasks described in the ""Configuring Basic IP Multicast"" module of the IP Multicast: PIM Configuration Guide, and the device must be configured for SSM. IGMPv3 must be configured on the interface."
The requirement is for a device configuration that supports IGMPv3 and source filtering to function as multicast network endpoints or hosts.,"The configuration should include support for IGMPv3, version 3 of the Internet Group Management Protocol, and enable source filtering. Additionally, it should listen to the link local address 224.0.0.22 and be compliant with RFC 3376."
Enabling the IGMPv3 host stack for Source Specific Multicast (SSM) deployments in environments where fast channel change is required.,Configure the INCLUDE mode capability on the IGMPv3 host stack for SSM groups to support the IGMPv3 Host Stack feature.
Enable and configure IGMPv3 Host Stack on a network device,"1. Enter privileged EXEC mode with the ""enable"" command.
2. Enter global configuration mode with the ""configure terminal"" command.
3. Enter interface configuration mode by specifying the type and number of the interface connected to hosts.
4. Enable IGMPv3 on the interface using the ""ip igmp version 3"" command.
5. Use the ""ip igmp join-group group - address source source - address"" command to configure the IGMPv3 membership for a specific group and source address.
6. Exit configuration mode with the ""end"" command."
"Configuring the interface to join the specified (S, G) channel and enabling the device to provide INCLUDE mode capability for the (S, G) channel","- Use the command ""ip igmp join-group group - address"" to configure the interface to join the specified (S, G) channel.
- Enable the INCLUDE mode capability using the same command."
"Group 232.2.2.4 is now in the SSM range, changing",Building v3 Report on GigabitEthernet0/0
IGMPv3 Report Building on GigabitEthernet0/0/0,FastEthernet0/0/0 enabled for IGMP
IGMP Static Group Range Support,Configure IGMP static group range support on devices with multiple interfaces requiring static group membership entries.
Configure the IGMP Static Group Range Support feature on a device.,"1. Create an IGMP static group class map.
2. Define the group entries associated with the class map (group addresses, group ranges, SSM channels, and SSM channel ranges).
3. Attach the class map to an interface using the ip igmp static-group command."
Defining an SSM channel associated with an IGMP static group class map.,group group-address to group-address source source-address; ip igmp static-group command extended to support IGMP static group ranges.
- Simplify the administration of devices with many interfaces and configurations by introducing the capability to configure group ranges in class maps and attach class maps to the ip igmp static-group command.,- Configure IGMP Static Group Range Support on a device by creating an IGMP static group class and attaching it to an interface.
IGMP Static Group Range Support allows for configuring a range of multicast group addresses that can be used by multicast-enabled interfaces.,"To configure the IGMP Static Group Range, specify a starting and ending address within the multicast address range. The network device will only accept and process traffic for these specified groups."
Create a multicast-flows class map for group 232.1.1.7 to 232.1.1.20.,Device(config-mcast-flows-cmap)# group 232.1.1.7 to 232.1.1.20
Multicast Group Configuration using Class-map on Loopback0 and FastEthernet3/1 interfaces.,"Class-map static
Match any packet with destination address range 232.7.7.7 to 232.7.7.9, source address 10.1.1.10
Match any packet with destination group address 227.7.7.7, source address 10.1.1.10
Match any packet with destination group address range 227.7.7.7 to 227.7.7.9
Match any packet with destination group address 232.7.7.7, source address 10.1.1.10

Class-map static1
Match any packet with destination group address 227.7.7.7"
IGMP Static Group Configuration and Class-map,"- ip igmp static-group class-map static
- ip pim sparse-dense-mode"
Monitor and configure IGMP using Simple Network Management Protocol (SNMP). Allows users to remotely subscribe and unsubscribe from multicast groups.,"Not applicable, as there are no new or modified commands for this feature. The IGMP MIB Support Enhancements for SNMP feature adds full support of RFC 2933 (Internet Group Management Protocol MIB) in Cisco IOS software."
SSM Mapping should support only one application per group G and can be used as a transition solution for full SSM with IGMPv3 enabled on the last hop router.,N/A (not provided in the text)
"IGMPv3 support for source filtering in routers, hosts, and application. SSM support in the router, host, and application.",Not provided in the text.
SSM (Source Specific Multicast) implementation to prevent Denial of Service Attacks from Unwanted Sources.,"In SSM, multicast traffic is transported across the network only if it was requested through IGMPv3, IGMP v3lite, or URD memberships."
"Determine active sources sending multicast traffic and manage multicast groups in ISM (with IGMPv1, IGMPv2, or IGMPv3).","PIM-SM and MSDP for managing ISM, with Rendezvous point management in PIM-SM (including Auto-RP or BSR) and MSDP. In SSM, it is easier to install and manage without the need for these management functions. Only requires upgrading last hop routers to support IGMPv3, IGMP v3lite, or URD."
Multicast addresses allocation for content providers.,IP multicast address allocation.
SSM mapping and IGMP v3lite implementation for immediate development of SSM receiver applications.,URL Rendezvous Directory (URD) for SSM mapping and use of IGMP v3lite in the application development process.
"Each TV channel should have a separate IP multicast group and a unique active server host sending the TV channel. The network environment should be able to handle multiple TV channels being sent from a single server, but each to a different group.","In this setup, routers should be configured to receive IGMPv1 or IGMPv2 membership reports for specific groups, addressing the well-known TV server associated with the multicast group. SSM mapping should be introduced to enable the last hop router to discover sources sending to groups. When a router receives an IGMPv1 or IGMPv2 membership report for a particular group G, it should translate this into one or more (S, G) channel memberships for the well-known sources associated with this group. The router should use SSM mapping to determine one or more source IP addresses for group G and translate the membership report as an IGMPv3 report."
Configure access lists (ACLs) to define group ranges and map them to sources using the ip igmp static ssm-map global configuration command.,Configure static SSM mapping in smaller networks when a DNS is not needed or to locally override DNS mappings that may be temporarily incorrect.
DNS-based SSM Mapping to configure the last hop router to perform reverse DNS lookup to determine sources sending to groups.,The router constructs a domain name that includes the group address G and performs a reverse lookup into the DNS. The router looks up IP address resource records (IP A RRs) for the constructed domain name and uses the returned IP addresses as the source addresses associated with this group. SSM mapping supports up to 20 sources for each group. The router joins all sources configured for a group.
Enable SSM mapping for protection against DoS attacks and coordinated address assignment within a network.,SSM mapping needs to be configured on the network devices to protect receivers from unwanted multicast traffic sources and facilitate coordinated address assignment without external authorities.
Configure the last hop router in an SSM deployment to use static SSM mapping to determine IP addresses of sources sending to groups.,"Enable IP multicast routing, enable PIM sparse mode, and configure SSM before performing this task. Configure ACLs that define the group ranges to be mapped to source addresses."
"Configure static SSM mappings on a device using the ""ip igmp ssm-map static"" command and an access-list to define the groups to be mapped.","The example provided is using the command ""Device(config)# ip igmp ssm-map static 11 172.16.8.11"". The device should also have the appropriate access-list configured to define the groups to be mapped, and additional SSM mappings can be added as needed."
Configure static traffic forwarding with SSM mapping on the last hop router.,"1. enable
2. configure terminal
3. interface (Specify the relevant interface)
4. ip forward-protocol static (Specify the protocol to be used for static traffic forwarding)"
Enable SSM (Source Specific Multicast) mapping for multicast traffic forwarding on a specific interface.,"Configure the interface with 'interface type number' command, and enable IP IGMP static-group source ssm-map using the command 'ip igmp static-group group-address source ssm-map'."
Static forwarding of traffic with SSM mapping,ip igmp static-group group-address source ssm-map
DNS-based SSM Mapping,"- SSM Mapping Enabled
- DNS Lookup Enabled
- Mcast domain: ssm-map.cisco.com
- Name servers: 10.0.0.3, 10.0.0.4"
Display details of IGMP Group configuration and SSM mapping on an interface,"In this example, the ""M"" flag indicates that SSM mapping is configured for the IP multicast group 232.1.1.4 on the GigabitEthernet2/0/0 interface. The group mode is set to INCLUDE and the group source list includes various source addresses with their respective uptimes and flags."
Implement SSM (Source Specific Multicast) mapping on a network device.,"- Enable IP multicast routing using the distributed model: `ip multicast-routing distributed`
- Enable IGMP SSM-map: `ip igmp ssm-map enable`
- Configure static SSM-maps with the appropriate group addresses and associated source addresses:
  - Group 10, Source 172.16.8.10: `ip igmp ssm-map static 10 172.16.8.10`
  - Group 11, Source 172.16.8.11: `ip igmp ssm-map static 11 172.16.8.11`
- Configure the interface for SSM mapping (example with GigabitEthernet0/0/0):
  - Set IP address and subnet mask: `ip address 10.20.1.2 255.0.0.0`
  - Enable PIM sparse-mode routing: `ip pim sparse-mode`
  - Configure IGMP settings for SSM mapping, including:
    - Last member query interval: `ip igmp last-member-query-interval 100`
    - Static group with source and SSM-map: `ip igmp static-group 232.1.2.1 source ssm-map`
    - Enable IGMP version 3: `ip igmp version 3`
    - Enable explicit tracking: `ip igmp explicit-tracking`
    - Limit the number of IGMP memberships to 2: `ip igmp limit 2`
    - Enable IGMP v3lite: `ip igmp v3lite`
    - Enable Unrestricted Route Distribution: `ip urd`
- Set the PIM SSM default behavior: `ip pim ssm default`"
Enable SSM mapping in the Cisco IOS XE software and configure the DNS server for SSM mapping.,"1. Configure the IP domain multicast: `ip domain multicast`
2. Specify the domain prefix for SSM mapping: `ssm-map.cisco.com`
3. Set the IP address of the DNS server to be used by SSM mapping and any other service in the software that utilizes DNS: `ip name-server 10.48.81.21`
4. Enable IP multicast routing: `ip multicast-routing`
5. Enable SSM mapping: `ip igmp ssm-map enable`"
"Configure ACLs for groups permitted by ACL 10 and ACL 11, enable PIM sparse mode, reduce leave latency for IGMPv2 hosts, configure SSM mapping for group 232.1.2.1, and enable IGMPv3 on the interface.","ip access-list extended ACL 10
 permit ip any host 232.1.2.0 log-input
 deny ip any host 232.1.2.10 log-input
!
ip igmp ssm-map static 10
172.16.8.10
!
ip access-list extended ACL 11
 permit ip any host 232.1.2.10 log-input
!
ip igmp ssm-map static 11
172.16.8.11
!
ip pim sparse-mode
!
ip igmp last-member-query-interval 100
!
ip igmp static-group 232.1.2.1 source ssm-map
!
ip igmpv3"
"Configure SSM service, ACLs for static SSM mapping, and DNS-based SSM mapping.","Default keyword defines the SSM range access list as 232/8, ip pim ssm default, access-list 10 permit 232.1.2.10, access-list 11 permit 232.1.2.0, DNS server zone or records for SSM mapping, and Network Registrar to import the zone data (e.g., Router> zone 1.1.232.ssm-map.cisco.com.)."
Enabling privileged EXEC mode and globally enabling IGMP snooping,"enable, configure terminal, ip igmp snooping, bridge-domain bridge-id, device(config)#ip igmp snooping, device(config)#bridge-domain 100, device(config)#interface <interface-name> ip igmp snooping (if needed), device(config-bdomain)#ip igmp snooping"
"Enabling and configuring IGMP snooping on a Cisco device, including report suppression and explicit-tracking limit.",Device(config)# ip igmp snooping tcn flood query; Device(config)# count 4; Device(config)# ip igmp snooping report-suppression; (Optional) Device(config)# ip igmp snooping explicit-tracking-limit limit; Device(config)# ip igmp snooping explicit-tracking-limit 200.
"ip igmp snooping limit num [except {acl-number | acl-name}], ip igmp snooping minimum-version {2 | 3}, ip igmp snooping check { ttl | rtr-alert-option }, ip igmp snooping static source source-address interface port-type port-number",Enabling IGMP Snooping on a device
Configure IP IGMP Snooping with explicit tracking limit and last-member-query-count settings.,"Device(config-bdomain)# ip igmp snooping
explicit-tracking-limit 200
ip igmp snooping last-member-query-count count
Device(config-bdomain)# ip igmp snooping last-member-query-count 5"
- Configure an EFP (Ethernet Flow Protocol) on a bridge domain interface.,"Requirement:
- Configure an EFP (Ethernet Flow Protocol) on a bridge domain interface.

Configuration:
1. Enter the interface configuration mode for the specified BDI (Bridge Domain Interface):
   ```
   Device(config)# interface BDI100
   ```
2. Enter the Ethernet service configuration mode for configuring the EFP:
   ```
   Device(config-if)# service instance id ethernet
   ```
3. Configure a router guard on the EFP:
   ```
   Device(config-if-srv)# router-guard multicast
   ```
4. Disable TCN (Total Cache Null) flooding on the EFP (optional):
   ```
   Device(config-if-srv)# no ip igmp snooping tcn flood
   ```
5. Configure ACL-based filtering on the EFP:
   ```
   Device(config-if-srv)# ip igmp snooping access-group {acl-number | acl-name}
   ```
6. Limit the number of IGMP groups or channels allowed on the EFP:
   ```
   Device(config-if-srv)# ip igmp snooping limit num [except {acl-number | acl-name}]
   ```"
Display IGMP snooping membership information for a specific bridge domain ID.,show igmp snooping membership bd bd-id
IGMP Snooping,show igmp snooping counters [bd bd-id]
Configure CGMP on the multicast device and Layer 2 switches.,Not provided in the text.
"The device should be able to process IGMP reports, create CGMP Join messages, and update its CAM table accordingly to forward multicast traffic. It should also support multiple destination MAC addresses assigned to a single physical port.","The router should have CGMP enabled on the interface, and the Layer 2 switches should be designed to handle multiple destination MAC addresses on a single physical port."
Implementation of IGMP Snooping on Layer 2 LAN switches for IP multicast constraining.,Not specified in the given text.
Design and implement CGMP and IGMP snooping mechanisms for high-end switches with special ASICs.,High-end switches with special hardware support for CGMP and IGMP snooping. Router-Port Group Management Protocol (RGMP) implementation.
Configure IP multicast using IGMP Snooping on a switch,Consult the documentation for the specific switch and follow the provided instructions to enable IGMP snooping.
"Enable CGMP on devices connected to Catalyst switches when using 802, ATM media, or LANE over ATM.","Enabled only on devices connected to Catalyst switches and using 802, ATM media, or LANE over ATM."
Enabling CGMP on an interface of a device connected to a Cisco Catalyst 5000 family switch.,"Device(config)# interface ethernet 1, Device(config-if)# ip cgmp [proxy | router-only]"
Enabling privileged EXEC mode and configuring IP multicast in a Layer 2 Switched Ethernet network using RGMP.,"1. enable
2. configure terminal
3. interface type number
4. ip rgmp
5. end"
Configuring Router-Port Group Management (RGMP),Enabling and configuring RGMP on router and switch devices to restrict IP multicast traffic in switched networks.
Enabling RGMP only on interfaces that do not function as a designated forwarder (DF) for bidirectional groups.,IP multicast and IGMP snooping enabled on the switch.
Implementing a protocol to manage multicast traffic on routers connected to Catalyst switches or Layer 2 switches.,RGMP (Router-Port Group Management Protocol)
"The requirement is to ensure that CGMP and RGMP do not interoperate on the same switched network. When one of them is enabled on a switch or router interface, the other should be automatically disabled.","The configuration would involve enabling either CGMP or RGMP on a switch or router interface depending on the use case, but not both at the same time."
The router sends simultaneous PIM hello and RGMP hello messages to the switch. The PIM hello message is used to locate neighboring PIM routers. The RGMP hello message instructs the switch to restrict all multicast traffic on the interface from which the switch received the RGMP hello message.,"RGMP messages are sent to the multicast address 224.0.0.25, and if RGMP is not enabled on both the router and the switch, the switch automatically forwards all multicast traffic out the interface from which the switch received the PIM hello message."
Forward multicast traffic for group <G> out the interface from which the switch received the RGMP hello message.,Not applicable (the text does not provide specific device configuration information).
RGMP-enabled router should not send an RGMP leave message until it doesn't receive or forward traffic from any source for a specific multicast group (if multiple sources exist).,"To enable RGMP, use the following commands on all routers in your network beginning in global configuration mode:"
Configuring RGMP (Router-Port Group Management Protocol) on a router interface,"Enable RGMP on a specified interface using the ""interface type number"" and ""ip rgmp"" commands"
"IGMP is enabled on the interface and configured with specific settings such as query interval, querier timeout, max query response time, last member query response interval, and inbound IGMP access group. Multicast routing should be enabled on the interface, and RGMP is also enabled.","- Internet address: 10.0.0.0/24
- IGMP version: 2
- IGMP query interval: 60 seconds
- IGMP querier timeout: 120 seconds
- IGMP max query response time: 10 seconds
- Last member query response interval: 1000 ms
- Inbound IGMP access group: not set
- Multicast routing: enabled on interface"
Configure the router to use RGMP (Router-Port Group Management Protocol) for managing multicast groups.,"Use the ""debug ip rgmp"" command on the router and configure the RGMP join <G> and RGMP leave <G> messages for the specified group."
Router A Configuration:,"ip routing
ip multicast-routing distributed
interface gigabitethernet 1/0/0
ip address 10.0.0.1 255.0.0.0
ip pim sparse-dense-mode
no shutdown

Router B Configuration:
ip routing
ip multicast-routing distributed
interface gigabitethernet 1/0/0
ip address 10.2.0.1 255.0.0.0
ip pim sparse-dense-mode
no shutdown

Router C Configuration:
ip routing
ip multicast-routing distributed
interface gigabitethernet 1/0/0
ip address 10.3.0.1 255.0.0.0
ip pim sparse-dense-mode
no shutdown"
IP Multicast Routing distributed,"Distributed Multicast Routing (using PIM-SM and SSM concepts) on interfaces GigabitEthernet 1/0/0 and 1/1/0 with IP addresses 10.4.0.1, 10.5.0.1, 10.6.0.1, and 10.7.0.1 respectively; enabling IGMP and RGMP on Switch A and B."
Emulation of bidirectional links for all IP traffic and support for IP GRE multipoint at a receive-only tunnel.,Not provided in the text.
Configuring GRE tunnels for unidirectional links with separate configurations for upstream and downstream routers.,"1. Configure the tunnel endpoint addresses on both the upstream and downstream routers.
2. On the upstream router, configure the tunnel to receive packets and treat them as received over the unidirectional, send-only interface.
3. On the downstream router, configure the tunnel to send packets when they are redirected by upper-layer protocols."
Ensure that all routers on the UDL have the same subnet address or configure secondary addresses on the upstream router to match all downstream subnets.,"1. Enable: Enables privileged EXEC mode.
2. Configure terminal: Enter global configuration mode.
3. Interface type number: Specify the interface type and number.
4. Interface tunnel number: Specify the tunnel interface number.
5. Tunnel udlr receive-only type number: Configure UDLR tunnel as a receive-only tunnel with the specified type number.
6. Tunnel source {ip-address | type number}: Specify the source address for the tunnel.
7. Tunnel destination {hostname| ip-address}: Specify the destination for the tunnel.
8. Move to the downstream router.
9. Enable: Enables privileged EXEC mode on the downstream router.
10. Configure terminal: Enter global configuration mode on the downstream router.
11. Interface type number: Specify the interface type and number on the downstream router.
12. Interface tunnel number: Specify the tunnel interface number on the downstream router.
13. Tunnel udlr send-only type number: Configure UDLR tunnel as a send-only tunnel with the specified type number on the downstream router.
14. Tunnel source {ip-address | type number}: Specify the source address for the tunnel on the downstream router.
15. Tunnel destination {hostname| ip-address}: Specify the destination for the tunnel on the downstream router.
16. Tunnel udlr address-resolution: Enable UDLR address resolution."
Configuring IP Multicast over Unidirectional Links using a UDLR Tunnel,"1. Enter global configuration mode (Router# configure terminal)
2. Configure the unidirectional send-only interface (interface type number)
3. Configure the receive-only tunnel interface (interface tunnel number)"
Configuring a UDLR tunnel,"tunnel udlr receive-only type number, tunnel source {ip-address | type number}, tunnel destination {hostname| ip-address}, interface type number"
"Configure a send-only tunnel interface using the ""tunnel udlr send-only"" command.","Use the same type and number values as the unidirectional receive-only interface type and number, then enter the type number command in Step 3."
Configure a tunnel source and destination for IGMP UDLR.,"1. Router(config-if)# tunnel source 11.8.2.3 (Configures the tunnel source.)
2. Router(config-if)# tunnel destination 10.3.4.5 (Configures the tunnel destination.)
3. Router(config-if)# tunnel udlr address-resolution (Enables the forwarding of ARP and NHRP for IGMP UDLR.)"
"Configure downstream routers and multicast receivers on subnets, enabling unidirectional links for IP multicast.","1. Enable
2. Configure terminal
3. Interface type number
4. ip igmp unidirectional-link
5. Move to the downstream router
6. Enable
7. Configure terminal
8. ip multicast default-rpf-distance distance
9. Interface type number
10. ip igmp unidirectional-link
11. ip igmp helper-address udl type number
12. Exit
13. show ip igmp udlr [group-name| group-address | type number]"
Enabling privileged EXEC mode and configuring interfaces with IGMP unidirectional-link and IP multicast default-rpf-distance.,"1. Enable privileged EXEC mode using the ""enable"" command.
2. Enter global configuration mode using the ""configure terminal"" command.
3. Configure the interface using the ""interface type number"" command.
4. Configure IGMP on the interface to be unidirectional using the ""ip igmp unidirectional-link"" command.
5. (Optional) Set the distance for the default RPF interface using the ""ip multicast default-rpf-distance distance"" command."
"The requirement is to configure the router for handling multicast traffic, specifically using RPF (Reverse Path Forwarding) and UDLR (Unidirectional Links) to manage how sources reach the destination link.",Router# ip multicast default-rpf-distance 10
Configure the router to prefer non-UDL for IGMP routing.,Set the distance of the interface with the unicast routing protocols greater than the distance of the non-UDL.
Configure a UDLR tunnel for unidirectional link routing between two routers.,"1. Router A Configuration:
   - Enable IP Multicast routing
   - Set Serial0/0/0 to send-only capability
   - Create an interface for Serial0/0/0 with encapsulation HDLC, IP address 10.1.0.1, and enable PIM Sparse-Dense Mode
   - Configure a receive-only UDLR tunnel on the interface tunnel 0 with source 10.20.0.1, destination 10.41.0.2, and set the tunnel to use Serial0/0/0 as the udlr receive-only serial interface
2. Router B Configuration:
   - Enable IP Multicast routing
   - Set Serial1/0/0 to receive-only capability
   - Create an interface for Serial1/0/0 with encapsulation HDLC, IP address 10.1.0.2, and enable PIM Sparse-Dense Mode
   - Configure a send-only UDLR tunnel on the interface tunnel 0 with source 10.41.0.2 and set the tunnel to use Serial1/0/0 as the udlr send-only serial interface"
Configuring IP Multicast over Unidirectional Links,IGMP UDLR Example
IP multicast-enabled interfaces for Uplink and Downlink Routers,"Uplink Router (uplink-rtr):
- Interface gigabitethernet 0/0/0: ip address 12.0.0.1 255.0.0.0, ip pim sparse-dense-mode
- Interface gigabitethernet 1/0/0: ip address 11.0.0.1 255.0.0.0, ip pim sparse-dense-mode
- Interface serial 0/0/0: ip address 10.0.0.1 255.0.0.0, ip pim sparse-dense-mode, ip igmp unidirectional-link

Downlink Router (downlink-rtr):
- Interface gigabitethernet 0/0/0: ip address 14.0.0.2 255.0.0.0, ip pim sparse-dense-mode, ip igmp helper-address udl serial 0/0/0"
Unidirectional link with connectivity to downlink-rtr and uplink-rtr.,"Interface: GigabitEthernet1/0/0
Description: Back channel that has connectivity to downlink-rtr
IP Address: 13.0.0.2 255.0.0.0
Protocol: IP PIM Sparse-Dense Mode

Interface: Serial0/0/0
Description: Unidirectional to uplink-rtr
IP Address: 10.0.0.2 255.0.0.0
Protocol: IP PIM Sparse-Dense Mode, IP IGMP Unidirectional-link"
Upstream and Downstream configurations for a network device.,"ip multicast-routing, tunnel source, tunnel mode gre multipoint, tunnel key, ip address, no ip directed-broadcast, ip pim dense-mode, ip cgmp, fair-queue, ip rsvp bandwidth, interface, ip nhrp network-id, ip nhrp server-only, ip igmp unidirectional-link, ip classless, and ip route."
"Configuring IP Multicast over Unidirectional Links using Integrated UDLR Tunnel, IGMP UDLR, and IGMP Proxy.","1. Enable multicast-routing.
2. Configure the Loopback0 interface with an IP address and enable PIM Sparse Mode.
   ```
   interface Loopback0
   ip address 9.1.90.161 255.255.255.252
   ip pim sparse-mode
   ```
3. Configure the IGMP helper and proxy on the GigabitEthernet2/3/0 interface.
   ```
   ip igmp helper-address udl GigabitEthernet2/3/0
   ip igmp proxy-service
   ```
4. Configure the Tunnel0 interface with an IP address, enable access control with access-group 120 out, and disable directed broadcast and mroute cache.
   ```
   interface Tunnel0
   ip address 9.1.90.97 255.255.255.252
   ip access-group 120 out
   no ip directed-broadcast
   no ip mroute-cache
   ```"
Create a tunnel between source and destination IP addresses with the specified key and UDLR settings.,"tunnel source 9.1.90.97
tunnel destination 9.1.89.97
tunnel key 5
tunnel udlr send-only GigabitEthernet2/3/0
tunnel udlr address-resolution"
"Allow ping and RSVP traffic, deny others",access-list 120 permit icmp any any; access-list 120 permit 46 any any; access-list 120 permit ospf any any
Cisco IOS XE Scripting with Tcl,Not specified in the text
- Partial support for the `after` command with the `ms` keyword,- Cisco IOS XE Gibraltar software
Cisco IOS XE Custom Tcl Command Extensions for SNMP MIB Access,snmp_getbulk community-string non-repeaters max-repetitions oid [oid2 oid3...]
Retrieve object IDs using SNMP get-next operation and specify maximum number of attempts.,"snmp_getbulk, sysDescr.0, sysObjectID.0, sysUpTime.0, sysContact.0, sysName.0, sysLocation.0"
Retrieve individual variables from the SNMP entity on the router and perform set requests on specified variables.,"snmp_getnext community-string oid [oid2 oid3...], snmp_getone community-string oid [oid2 oid3...], snmp_setany community-string oid type val [oid2 type2 val2...]"
Enable privileged EXEC mode.,"enable

2. Requirement: Specify the default location of external encoding files used by the Tcl encoding command.
   Configuration: scripting tcl encdir location-url"
Enabling the interactive Tcl shell and entering Tcl configuration mode.,"Router(config)# exit, tclsh"
Execute Cisco IOS XE CLI EXEC mode commands from a Tcl script using the Tcl command exec.,Not provided in the text.
"The requirement is to enable and use the Tcl script on a Cisco IOS XE device, which should support file system protocols like TFTP, FTP, and rcp.","The configuration involves enabling privileged EXEC mode, entering the interactive Tcl shell, and sourcing the Tcl script with its filename and path."
Retrieve information from SNMP entity on the router using snmp_getid Tcl command extension.,"system.1.0 - Cisco Internetwork Operating System Software: Cisco IOS XE™ 7200 Software (C7200-IK9S-M), Experimental Version 12.3(20030507:225511) [geotpi2itd1 124]
system.2.0 - products.223
sysUpTime.0 - 6664317
system.4.0 - 1-800-553-2447 - phone the TAC
system.5.0 - c7200.myCompany.com
system.6.0 - Bldg 24, San Jose, CA"
Retrieve a set of individual variables from the SNMP entity on the router using the snmp_getone Tcl command extension.,snmp_getone public 1.3.6.1.2.1.1.1.0 1.3.6.1.2.1.1.2.0
Using IP addresses with 31-Bit Prefixes on Point-to-Point WAN Interfaces to Limit Number of IP Addresses Required,Example Using IP Unnumbered Interfaces on Point-to-Point WAN Interfaces to Limit Number of IP Addresses Required
IP Unnumbered Ethernet Polling Support,"Enabling Polling on an Ethernet Interface, Configuring the Queue Size and the Packet Rate for IP ARP Polling for Unnumbered Interfaces, Verifying IP Unnumbered Ethernet Polling Support"
Configure Auto-IP,Configuring the Auto-IP Functionality on Node Interfaces (for Inclusion in an Auto-IP Ring)
"Class D IP addresses are reserved for multicast applications, and Class E IP addresses are reserved for broadcast traffic. Some IP addresses in these ranges are reserved for special uses (refer to RFC 3330). Changing a digit within the network mask can change the network address.",Not provided.
Change the host address from 172.16.89.34/16 to 172.16.89.35/16,10101100.00010000.01011001.00100010/16 to 10101100.00010000.01011001.00100011/16
Class-based subnetting for efficient allocation of IP space,"Class B (16 bits available), Class C (21 bits available)"
Subdivision of IP network addresses into smaller groupings of IP subnetwork addresses (Subnetting),"One Class B IP address for 16 IP subnetwork addresses, starting with the class B IP address of 172.16.0.0, reserving 4 bits from the third octet as subnet bits to create 16 subnet IP addresses (2^4 = 16)."
Unique IP network address for each individual physical network segment separated by a router.,"- Interface Ethernet 1: 172.31.16.0/24 (Connected)
- Interface Ethernet 0: 172.31.32.0/24 (Connected)"
Classful IP addressing or CIDR for IP network addresses and prefixes,Use classful IP addressing or CIDR to assign IP addresses and prefixes to networks
Displays the IP networks the networking device is connected to.,show ip route connected
Increasing the Number of IP Hosts supported on a network segment by using secondary IP addresses,"1. enable
2. configure terminal
3. interface type number
4. no shutdown
5. ip address ip-address mask
6. ip address ip-address mask secondary"
Configure the secondary IP address on an interface.,ip address ip-address mask secondary
Enables privileged EXEC mode and configures subnet zero IP address on an interface.,enable; ip subnet-zero; interface type number; no shutdown; ip address ip-address mask.
The requirement is to specify the format in which netmasks appear for the current session.,"The configuration options are to display network masks in decimal, hexadecimal, or bit count format using the ""term ip netmask-format {bitcount | decimal | hexadecimal}"" command."
Specify the format in which netmasks appear for an individual line on a router.,"Configure the router using the following commands:
1. enable
2. configure terminal
3. line vty first last
4. term ip netmask-format {bitcount | decimal | hexadecimal}
5. end"
Enable privileged EXEC mode on a router.,"1. Enter your password if prompted.
2. Router> enable
3. Enters global configuration mode.
4. configure terminal
5. Specifies the format the router uses to display the network mask for an individual line.
6. Router(config)# ip netmask-format hexadecimal
7. Exits the current configuration mode and returns to privileged EXEC mode.
8. end"
Enable IP connectivity on point-to-point WAN interfaces without assigning an IP address.,"Configure the IP Unnumbered Interfaces feature on a point-to-point WAN interface to use the IP address of another interface for enabling IP connectivity, conserving network addresses."
"Configure IP addresses using the ""ip address"" command on an interface.","Use the ""ip address ip-address mask"" command to set the IP address and subnet mask for a specific interface."
Configure a point-to-point WAN interface with an IP address and enable the IP unnumbered feature.,"1. Enter interface configuration mode: Router(config-if)# interface serial 0/0
2. Enable the point-to-point WAN interface: Router(config-if)# no shutdown
3. Configure the IP address using ip unnumbered feature: Router(config-if)# ip unnumbered fastethernet 0/0"
Limit the number of IP addresses required by using IP Addresses with 31-bit Prefixes on point-to-point WAN interfaces as defined in RFC 3021.,Perform this task to configure an IP address with a 31-bit prefix on a point-to-point WAN interface.
The requirement here is to understand the concept of using a 31-bit subnet mask in point-to-point networks and how it allows the assignment of all-zeros and all-ones IP addresses as host addresses.,"The configuration involves applying a 31-bit (or /31) subnet mask to an IP address, allowing the use of both the first and second host addresses in a point-to-point network. In the example provided, the IP address 192.168.100.4/31 has two host addresses: 192.168.100.4 and 192.168.100.5."
Configure an IP address with a 31-bit prefix on a point-to-point interface.,Enable IP classless addressing on the networking device.
Enabling IP classless (CIDR) on a Cisco router,ip classless
Configure IP addresses and secondary IP addresses on interfaces,"```
!
interface FastEthernet0/0
no shutdown
ip address 172.16.16.1 255.255.240.0
!
interface FastEthernet0/1
no shutdown
ip address 172.16.32.1 255.255.240.0
!
interface FastEthernet0/2
no shutdown
ip address 172.16.48.1 255.255.240.0
!
```"
Configuring IPv4 Addresses on FastEthernet0/1 interface with secondary addresses,"ip address 172.17.16.1 255.255.240.0, ip address 172.17.32.1 255.255.240.0 secondary"
Configure unnumbered IP feature on three interfaces to limit the number of IP addresses required.,"- interface FastEthernet0/0
  no shutdown
  ip address 172.16.16.1 255.255.240.0
- interface serial0/0
  no shutdown
  ip unnumbered fastethernet0/0
- interface serial0/1
  no shutdown
  ip unnumbered fastethernet0/0
- interface serial0/2
  no shutdown
  ip unnumbered fastethernet0/0"
Enable subnet zero,! interface FastEthernet0/0 no shutdown
"No new or modified MIBs are supported, and support for existing MIBs has not been modified",Not applicable (as the text does not provide a specific configuration)
Conserve IP address space by allowing the use of the all-zeros subnet as an IP address on an interface.,"Configure 172.16.0.1/24 on Fast Ethernet 0/0 and enable IP Subnet Zero using the command ""ip subnet-zero""."
Configuration of overlapping IP address pool groups for greater flexibility in dynamically assigning IP addresses.,"IP Control Protocol (IPCP) for IP pool processing, which ensures that a given IP address should not be assigned multiple times."
"Configure a local IP address pool and specify its name, cache size, and range of addresses.","1. Enter global configuration mode using `configure terminal`.
2. Use the command `ip local pool` to define a local IP address pool with a name and set the low and high IP addresses, as well as the cache size."
Configure two ranges of IP addresses for one IP address pool.,ip local pool default 192.168.50.25 192.168.50.50
Forward packets based on preestablished IP routing information.,"Requirement: Forward packets based on preestablished IP routing information.
Configuration: NAT (Network Address Translation) mechanism for reducing the need for globally unique IP addresses."
Establish a secure connection between remote users and a private network using VPDN or VPN.,"Implement Layer 2 tunnel technologies (L2F, L2TP, PPTP) for extending the Layer 2 and higher parts of the network connection across an ISP network."
Enables IP ARP Polling for Unnumbered Interfaces,"interface type number, ip unnumbered type number poll, ip arp poll queue queue-size, ip arp poll rate packet-rate"
Display the status of unnumbered interface support on interfaces configured for IP,show ip interface type number unnumbered
"The auto-IP feature automatically provides IP addresses to the nodes inserted into a ring and addresses the problem of manually reconfiguring nodes during insertion, deletion, and movement of nodes within the ring.","• Ethernet interfaces and sub interfaces.
• Virtual routing and forwarding instance (VRF) interfaces.
• Switch Virtual Interfaces (SVIs).
• EtherChannels."
"Auto-IP configuration on an interface is not retained when the interface is moved from one virtual routing and forwarding instance (VRF) to another, including the global VRF.",The SVI physical interface must be an access port or trunk port with only one associated VLAN or a bridge domain interface (BDI).
Auto-IP configuration on EtherChannel interface,Not possible on member interfaces of the EtherChannel
"The requirement is for a non-owner interface to automatically receive an IP address from the connected neighbor device, and the owner interface to be assigned a preconfigured auto-IP address with an odd number in the last octet.","The configuration involves setting up an auto-IP address on two node interfaces that are designated to be part of an auto-IP ring, ensuring the auto-IP address has an odd number in the last octet."
"Assign IP addresses based on auto-IP address oddity (odd number in the last octet) to non-owner interfaces and subtract 1 from the last octet to allocate to newly detected neighbor, non-owner interfaces.",Auto-IP TLV exchange for node interfaces after insertion of devices.
"Auto-IP address assignment for device interfaces in a ring, with priority-based IP negotiation.",Auto-IP configuration on virtual routing and forwarding instance (VRF) interfaces.
Assign an interface to a VRF and configure auto-IP on the interface if the VRF address family is IPv4.,N/A (auto-IP feature)
Cannot be configured for the same ring.,"Within a VRF, the same auto-IP address cannot be used for different ring IDs."
Auto-IP configuration on a Switch Virtual Interface (SVI),Possible only if a single physical interface is associated with an SVI
"The SVI physical interface must be an access port or trunk port with only one associated VLAN or a bridge domain interface (BDI). If the SVI is mapped to more than one physical port, then the auto-IP configuration on the SVI will be removed.",N/A (Auto-IP address and mask /31 for seed device)
"Configure the IP address of e0/0 interface on R1 to its auto-IP address, making R1 the seed device and owner of the subnet.","Priority - 2, Auto-IP address - 10.1.1.1, Interface IP address - 10.1.1.1"
Insert a device into an existing auto-IP ring by configuring the node interfaces with the auto-IP address.,N/A (as it depends on the specific device and its capabilities)
"Designate an interface as an owner or non-owner interface, assign auto-IP addresses, and perform TLV exchange between devices.","- R3: Interface e0/1 is designated as the owner interface with IP address 10.1.1.5.
- R2: Interface e0/1 is designated as the non-owner interface with IP address 10.1.1.4, and the other node interface is designated as the owner interface with an auto-IP address assigned."
Manually remove a device from an existing auto-IP ring.,No configuration is required if you remove a device from an auto-IP ring and connect its neighbor devices.
Conflict resolution using the auto-swap technique in auto-IP.,No specific configuration is required to enable the auto-swap technique; it is enabled automatically.
Conflict resolution in auto-IP feature using the auto-swap technique for non-owner interfaces.,"Priority value is exchanged between non-owner interfaces, causing conflicts. Auto-swap technique is used to resolve these conflicts on both node interfaces of the inserted device."
Conflict resolution and IP address configuration on R3's interfaces (e0/0 and e0/1),"R3 should be configured with a non-owner interface for e0/1, and the owner interface for e0/0."
"Configure at least one seed device in an auto-IP ring, and configure the auto-IP address on the two node interfaces of the device for a specific ring.",Use the same IP address to configure the IP address on one of the two node interfaces.
Configuring auto-IP on EtherChannel interface.,"1. Enable privileged EXEC mode.
   - Command: enable
2. Enter global configuration mode.
   - Command: configure terminal
3. Run LLDP.
   - Command: lldp run
4. Configure EtherChannel interface.
   - Command: interface type number
5. Enable auto-IP on the EtherChannel interface.
   - Command: auto-ip-ring ring-id ipv4-address auto-ip-address
6. Exit from interface configuration mode.
   - Command: exit
7. Configure individual member interfaces of the EtherChannel.
   - Command: interface type number
8. Enable auto-IP on the member interface.
   - Command: auto-ip-ring ring-id ipv4-address auto-ip-address
9. Set IP address and subnet mask for each member interface.
   - Command: ip address interface-ip-address subnet-mask
10. Exit from global configuration mode.
    - Command: end"
Enable Link Layer Discovery Protocol (LLDP) on a device.,Device# lldp run
Configuring the Auto-IP Functionality on Node Interfaces (for Inclusion in an Auto-IP Ring),Configure the auto-IP address on the 2 designated node interfaces of the device. Ensure that both node interfaces are within the same VRF if configuring for an SVI or VRF interface.
Configure auto-IP on EtherChannel interfaces for non-seed devices in an auto-IP ring.,"1. Enable privileged EXEC mode using the 'enable' command.
2. Enter configuration mode with 'configure terminal'.
3. Run LLDP using the 'lldp run' command.
4. Specify the EtherChannel interface type and number with the 'interface type number' command.
5. Configure auto-IP settings for the EtherChannel with the 'auto-ip-ring ring-id ipv4-address auto-ip-address' command.
6. Exit configuration mode with the 'exit' command.
7. Repeat steps 4 to 6 for the other node interface of the device.
8. Enter configuration mode again with 'configure terminal'.
9. Configure auto-IP settings for the second EtherChannel interface with the 'auto-ip-ring ring-id ipv4-address auto-ip-address' command.
10. Exit configuration mode with the 'end' command.
11. Verify the configuration using the 'show auto-ip-ring [ring-id][detail]' command."
Verifying and troubleshooting Auto-IP functions by performing the task using the show auto-ip-ring command.,"The show auto-ip-ring [ring-id][detail] command is used to display auto-IP ring information for a specific device or auto-IP ring, and the enable command is used to enter privileged EXEC mode."
IP Addressing Configuration,Ethernet0/1 with Priority 1 and Auto-IP enabled.
Display auto-IP ring information for VRF interfaces.,show auto-ip-ring [ring-id][detail]
Configure Auto-IP functionality on node interfaces for inclusion in an Auto-IP Ring.,"1. Enable the device and enter configuration mode: `Device> enable`
2. Enter configuration mode: `Device# configure terminal`
3. Run LLDP: `Device(config)# lldp run`
4. Configure interface Ethernet 0/1 with Auto-IP Ring 4 and IPv4 address 10.1.1.3:
   - `Device(config)# interface ethernet 0/1`
   - `Device(config-if)# auto-ip-ring 4 ipv4-address 10.1.1.3`
5. Configure interface Ethernet 1/1 with Auto-IP Ring 4 and IPv4 address 10.1.1.3:
   - `Device(config)# interface ethernet 1/1`
   - `Device(config-if)# auto-ip-ring 4 ipv4-address 10.1.1.3`"
Automatic allocation and configuration of IP addresses for nodes in a ring topology.,"A predefined pool of IP addresses is used to allocate IP addresses automatically on ring nodes, without manual IP address configuration on each node."
The requirement is to configure ports in a Zero Touch Auto-IP ring so that none of them have manual Auto-IP configurations. All ports of the Auto-IP ring should be configured as Zero Touch Auto-IP ports.,"The configuration involves disabling any manual Auto-IP configurations on ports identified for Zero Touch Auto-IP, ensuring all ports of the Auto-IP ring are configured as Zero Touch Auto-IP ports."
Configure the Zero touch Auto-IP functionality on devices in a ring network. Enable autonomic status for other Auto-IP devices.,"1. Associate one device (R1) to the autonomic network.
2. Configure the registrar:
   - R1(config)# autonomic registrar
   - R1(config-registrar)# domain-id auto-addressing.com
   - R1(config-registrar)# no shutdown
   - R1(config-registrar)# CA local
   - R1(config-registrar)# exit
3. Configure the remaining devices (R2, R3, and R4) as autonomic devices."
"Enable auto mode on all ports in the ring for automatic IP address configuration. Auto mode must be enabled on e0/0 and e0/1 ports on R1, R2, R3, and R4. The ring ID must be identical for ports of the same device. Reserve a pool of IP addresses on the Auto-IP server for IP address allocation to the ring ports.","Device(config-if)# auto-ip-ring 1 ipv4-auto (for enabling auto mode)
R1(config)# auto-ip-ring server (for configuring R1 as the Auto-IP server)"
Allocate a range of IP addresses for the Auto-IP ring and configure one port as the seed port in the Auto-IP ring.,"ipv4-address-pool 10.1.1.10 6, auto-ip-ring 1 ipv4-seed"
Enable LLDP on all Auto-IP ring ports before Auto-IP configuration.,"Not specified in the text.

Requirement: Configure auto mode on the ring ports before inserting a new interface into the ring.
Configuration: Not specified in the text.

Requirement: The number of devices (or /31 subnets) in the Auto-IP ring must be between 1 and 128 for Zero Touch Auto-IP configuration.
Configuration: Not specified in the text.

Requirement: Ensure that IP addresses in the specified range are not already in use when specifying a pool of IP addresses.
Configuration: Not specified in the text.

Requirement: Reserve additional IP addresses for the Auto-IP ring in case more devices are added later.
Configuration: Not specified in the text.

Requirement: The starting IP address used for the Auto-IP address pool reservation must be an even number.
Configuration: Not specified in the text.

Requirement: If a device is removed from an Auto-IP ring, the Auto-IP addresses are released back to the Auto-IP server.
Configuration: Not specified in the text."
"Enable and configure the autonomic registrar on R1 with domain-id auto-addressing.com, no shutdown, and CA local.",R1# configure terminal; R1(config)# autonomic registrar; R1(config-registrar)# domain-id auto-addressing.com; R1(config-registrar)# no shutdown; R1(config-registrar)# CA local
Enable auto mode on Auto-IP ring ports,Configure the auto mode on each Auto-IP ring port using steps 1-7 in the SUMMARY STEPS section.
Configuring an Auto-IP Server and reserving a pool of IP addresses on the server.,ipv4-address-pool auto-ipv4-address number-of-subnets
Configure a seed port to start the Auto-IP negotiation,"1. Device(config)# auto-ip-ring server
2. Device(config-auto-ip-server)# ipv4-address-pool 10.1.1.10 6"
Configuring a Seed Port,"- enable
- configure terminal
- interface type number
- auto-ip-ring ring-id ipv4-seed
- exit
- end"
Show autonomic service and device details.,N/A (as the text does not provide specific configuration information for the requirement)
Configure Auto-IP on all ports of the device.,"Device# configure terminal, Device(config)# lldp run, Device(config)# interface ethernet 0/0, Device(config-if)# auto-ip-ring 1 ipv4-auto, exit, Repeat steps for each Auto-IP ring port."
The Zero Touch Auto-IP feature enables automatic allocation and configuration of IP addresses for nodes in an Auto-IP ring.,"auto-ip-ring ipv4-auto, auto-ip-ring ipv4-seed, auto-ip-ring server, ipv4-address-pool"
LACP for Gigabit Interfaces,Guidelines for LACP for Gigabit Interfaces Configuration
Prerequisites for Configuring Ethernet Local Management Interface at a Provider Edge,Not available in the given text.
Pseudo mLACP Active/Active Support,Configure a Port Channel for Pseudo mLACP
Integrated management for larger deployments of Ethernet as a MAN and WAN technology.,New set of requirements on Ethernet's traditional operations to accommodate public MANs and WANs.
OAM capabilities for discovery and advertisement of information within periodic information OAM PDUs.,"OAM mode (active or passive) to determine device functionality, and OAM configuration (capabilities) to advertise the supported functions and capabilities, such as loopback capability."
"OAM PDU configuration, including maximum OAM PDU size for receipt and delivery, and rate limiting of 10 frames per second to limit bandwidth allocated to OAM traffic.","Platform identity, which is a combination of an organization unique identifier (OUI) and 32-bits of vendor-specific information."
"Detection of failure conditions in an Ethernet OAM system, such as Link Fault, Dying Gasp, and Critical Event.","Communication of failure conditions via specific flags in the OAM PDU, with Link Fault sent once per second and Dying Gasp notifications sent immediately and continuously."
Ensuring the quality of links during installation or troubleshooting by putting the remote peer into loopback mode using the loopback control OAM PDU.,"Loopback mode, where every frame received is transmitted back on the same port except for OAM PDUs and pause frames."
"When two connected ports are in a loopback session, no frames other than the OAM PDUs should be sent to the CPU for software processing. Non-OAM PDU frames should either be looped back at the MAC level or discarded at the MAC level.",Not available
"Per-port configurable option for the IEEE 802.3ah Link Fault RFI Support feature to move a port into a blocking state when an OAM PDU control request packet is received with the Link Fault Status flag set, and allow recovery when the remote link becomes operational.",The Ethernet OAM timeout period can be configured to be the minimum allowable value of 2 seconds or the default value of 5 seconds.
"Availability (HA) on Ethernet OAM components managing EVC connectivity, critical end-to-end connectivity status maintained on hot standby Route Switch Processor (RSP), and maintenance of status information on CE, PE, and access aggregation PE (uPE) network nodes based on CFM and 802.3ah protocols.","Hot standby Route Switch Processor (RSP) with the same software image as the active RSP, support for synchronization of line card, protocol, and application state information between RSPs for supported features and protocols, maintenance of end-to-end connectivity status on CE, PE, and access aggregation PE (uPE) network nodes using CFM and 802.3ah protocols."
Benefits of 802.3ah HA (Hot Standby Router Protocol),"Elimination of network downtime for Cisco software image upgrades, elimination of resource scheduling challenges associated with planned outages and late night maintenance windows, accelerated deployment of new services and applications, faster implementation of new features, hardware, and fixes during upgrades, and reduced operating costs due to the elimination of network downtime during upgrades.

Requirement: NSF SSO Support in 802.3ah OAM (Operation, Administration, and Maintenance)
Configuration: Stateful Switchover (SSO) and Nonstop Forwarding (NSF) are both supported in Ethernet OAM and are automatically enabled. A switchover from an active to a standby Route Switch Processor (RSP) occurs when the active RSP fails, is removed from the networking device, or is manually taken down for maintenance. NSF interoperates with the SSO feature to minimize network downtime."
Enable Ethernet OAM on an interface,ethernet oam [max-rate oampdus | min-rate num-seconds| mode {active | passive} | timeout seconds]
Disable a link monitoring session,ethernet oam mode passive
Enables privileged EXEC mode and enables/disables Ethernet OAM link monitoring on an interface,"- enable
- configure terminal
- interface type number (e.g., gigabitEthernet 3/8)
- ethernet oam [max-rate oampdus | min-rate num-seconds| mode {active | passive} | timeout seconds] (to enable Ethernet OAM)
- no ethernet oam link-monitor (to disable link monitoring)"
Stop link monitoring operations on an ethernet interface.,ethernet oam [max-rate oampdus | min-rate num-seconds| mode {active | passive} | timeout seconds] and no ethernet oam link-monitor on.
Enabling and configuring Ethernet OAM (Optical Channel Monitoring) on a Gigabit Ethernet interface,"1. Enter privileged EXEC mode by typing ""enable"" and entering the password if prompted.
2. Enter global configuration mode by typing ""configure terminal"".
3. Specify the interface by typing ""interface gigabitethernet 3/8"".
4. Enable Ethernet OAM by typing ""ethernet oam [max-rate oampdus | min-rate num-seconds| mode {active | passive} | timeout seconds]"".
5. Start link monitoring operations by typing ""ethernet oam link-monitor on"" and then exit global configuration mode with the ""exit"" command."
"Enable privileged EXEC mode, configure interface gigabitethernet 3/8, and start link monitoring operations.","1. enable
2. configure terminal
3. interface gigabitethernet 3/8
4. ethernet oam link-monitor on"
"Ethernet OAM link-monitor with frame-period, frame-seconds, and receive-crc configurations.","Threshold settings for high (none | high-frames | low-frames) and low (low-frames), window settings for milliseconds or frames."
Ethernet OAM Link Monitor Frame Threshold Configuration,ethernet oam link-monitor frame {threshold {high {high-frames | none} | low low-frames} | window milliseconds}
Configure the frame period and threshold values for Ethernet OAM link monitoring.,Device(config-if)# ethernet oam link-monitor frame-period {threshold {high {none | high-frames} | low low-frames} | window frames}
"Configure the link-monitor function with high threshold, frame window, and various other parameters on a specific interface (e.g., gigabitEthernet 3/8) to monitor the quality of the Ethernet connection and take appropriate action in case of issues.","1. Enter global configuration mode: `Device# configure terminal`
2. Select the interface you want to configure: `Device(config)# interface gigabitEthernet 3/8`
3. Enable the link-monitor function with custom parameters:
   - High threshold action: `Device(config-if)# ethernet oam link-monitor high-threshold action error-disable-interface`
   - Frame window: `Device(config-if)# ethernet oam link-monitor frame window 399`
   - Threshold high: `Device(config-if)# ethernet oam link-monitor frame-period threshold high 599`
   - Frame seconds window: `Device(config-if)# ethernet oam link-monitor frame-seconds window 699`
   - Receive CRC window: `Device(config-if)# ethernet oam link-monitor receive-crc window 99`
   - Transmit CRC threshold low: `Device(config-if)# ethernet oam link-monitor transmit-crc threshold low 199"
Configure Ethernet OAM link-monitor settings on an interface.,"1. Set high threshold action to error-disable-interface
2. Set frame window to 399
3. Set frame-period threshold high to 599
4. Set frame-seconds window to 699
5. Set receive-crc window to 99
6. Set transmit-crc threshold low to 199
7. Set symbol-period threshold high to 299"
"Enable privileged EXEC mode, enter global configuration mode, configure a template and enter template configuration mode, and configure Ethernet OAM interfaces to monitor ingress and egress frames with CRC errors for a period of time.","1. Enable privileged EXEC mode: enable
2. Enter global configuration mode: configure terminal
3. Configure a template and enter template configuration mode: template template-name
4. Configure an Ethernet OAM interface to monitor ingress frames with CRC errors for a period of time: ethernet oam link-monitor receive-crc {threshold {high {high-frames | none} | low low-frames} | window milliseconds}
5. Configure an Ethernet OAM interface to monitor egress frames with CRC errors for a period of time: ethernet oam link-monitor transmit-crc {threshold {high {high-frames | none} | low low-frames} | window milliseconds}"
Configure the link-monitor on Ethernet OAM with a threshold or window for error symbols and frame triggers an action when reached.,ethernet oam link-monitor symbol-period {threshold {high {none | high-symbols} | low low-symbols} | window symbols} ethernet oam link-monitor frame {threshold {high {none | high-frames} | low low-frames} | window milliseconds}
Configure Ethernet OAM link-monitor frame-period and frame-seconds parameters.,Device(config-template)# ethernet oam link-monitor frame-period threshold high 599; Device(config-template)# ethernet oam link-monitor frame-seconds window 699
Configure a port for Link Fault RFI Support by putting it into a blocking state when an OAM PDU control request packet is received with the Link Fault Status flag set.,"1. enable
2. configure terminal
3. interface type number
4. ethernet oam remote-failure {critical-event | dying-gasp | link-fault} action {error-block-interface}"
Configure a global OAM template for both PE and CE configuration using Ethernet OAM options.,Device(config)# template oam; Device(config-template)# ethernet oam link-monitor symbol-period threshold low 10; Device(config-template)# ethernet oam link-monitor symbol-period threshold high 100; Device(config-template)# ethernet oam link-monitor frame window 100; Device(config-template)# ethernet oam link-monitor frame threshold low 10; Device(config-template)# ethernet oam link-monitor frame threshold high 100; Device(config-template)# ethernet oam link-monitor frame-period window 100; Device(config-template)# ethernet oam link-monitor frame-period threshold low
"Ethernet OAM configuration on a device, with specific frame and CRC parameters.","- Frame Period Threshold High: 100
- Frame Seconds Window: 1000
- Frame Seconds Threshold Low: 10
- Frame Seconds Threshold High: 100
- Receive CRC Window: 100
- Receive CRC Threshold High: 100
- Transmit CRC Window: 100
- Transmit CRC Threshold High: 100"
Disable high threshold link monitoring for receive CRC errors on the Ethernet OAM interface.,Device(config-if)# ethernet oam link-monitor receive-crc threshold high none
Verifying OAM Session and OAM Discovery Status for Gigabit Ethernet interface Gi6/1/1 with remote client MAC address 0012.7fa6.a700 and OUI 00000C.,"Local mode: active, Unidirection: not supported, Link monitor: supported (on), Remote mode: active"
MTU Size,"Requirement: MTU Size
Configuration: 1500"
Verify link monitoring configuration and status on the local client.,"Mode: active, PDU max rate: 10 packets per second, PDU min rate: 1 packet per 1 second, Link timeout: 5 seconds, High threshold action: no action, Status: supported (on), Symbol Period Error Window: 1 million symbols, Low threshold: 1 error symbol(s), High threshold: none, Frame Error Window: 10 x 100 milliseconds."
Ethernet OAM implementation for monitoring and troubleshooting metro Ethernet networks and Ethernet WANs.,Cisco IOS Release 12.4(15)T
Competitive advantage for service providers,Supports both distribution and access network environments with the outward facing MEPs enhancement
Maintenance Point and Maintenance Endpoints (MEPs) configuration on Cisco devices.,"Two classes of maintenance points exist, MEPs and MIPs. MEPs have the following characteristics:
• Per maintenance domain (level) and service (S-VLAN or EVC)
• At the edge of a domain, define the boundary
• Within the bounds of a maintenance domain, confine CFM messages
• When configured to do so, proactively transmit Connectivity Fault Management (CFM) continuity check messages (CCMs)
• At the request of an administrator, transmit traceroute and loopback messages
Inward Facing MEPs: Inward facing means the MEP communicates through the Bridge Relay function and uses"
"The device should be able to send and receive CFM frames using the relay function, while dropping CFM frames from the direction of the wire. Additionally, it should process CFM frames coming from the direction of the relay function, drop CFM frames at a lower level from the direction of the relay function, and transparently forward all CFM frames at its level or higher level, regardless of their origin (relay function side or wire side). The device must have a MEP of level L (where L is less than 7) requiring a MIP of level M > L on the same port.",Not applicable
"1. All CFM frames at a lower level should be stopped and dropped, regardless of whether they originate from the wire or relay function.",1. CFM frames are standard Ethernet frames distinguishable by EtherType and for multicast messages by MAC address.
"CFM CCMs should have a configurable periodic interval for transmitted messages, a hold-time value, and the ability to carry the status of the port on which the MEP is configured.","The interval can be from 10 seconds to 65535 seconds, with a default of 30 seconds. The hold-time value should have a default of 2.5 times the transmit interval."
Cross-check function for verifying service operationality and endpoint status,The cross-check function must be initiated from the CLI every time a service verification is needed.
CFM over Bridge Domains allows untagged CFM packets to be associated with a maintenance end point (MEP).,EtherType of CFM is used to map traffic to an Ethernet virtual circuit (EVC) or bridge domain based on the encapsulation configured on the Ethernet flow point (EFP). The VLAN ID is used for matching and mapping traffic to the EFP.
"Encapsulation for EFP, support for different encapsulations in the same bridge domain, and High Availability (H)A.","Untagged, single tagged, and double tagged encapsulation with dot1q and IEEE dot1ad EtherTypes; both up MEP, down MEP, and MIP are supported."
"EVC state and associated customer VLAN information from the PE, Stateful Switchover (SSO) and Nonstop Forwarding (NSF) support in CFM.","802.3ah OAM for PEs and CEs, EVC configuration and remote UNI from CFM."
"Enabling In Service Upgrades (ISSUs) for Cisco software upgrades or downgrades without disrupting packet flow, using Connectivity Fault Management (CFM).",ISSU support in CFM 802.1ag 1.0d
Define a CFM maintenance domain at a specific maintenance level and enter Ethernet CFM configuration mode.,ethernet cfm domain domain-name level level-id
mep archive-hold-time minutes,Device(config-ecfm)# mep archive-hold-time 60
Set the amount of time that CFM traceroute cache entries are retained.,Device(config)# ethernet cfm traceroute cache hold-time minutes
Set the amount of time that data from a missing MEP is kept in the continuity check database or that entries are held in the error database before they are purged.,mep archive-hold-time minutes
Bind a service instance to a bridge domain instance.,bridge-domain bridge-id
Configuring Ethernet Connectivity Fault Management in a Service Provider Network,service s41 evc 41 vlan 41 direction down continuity-check [interval cc-interval]
Encapsulation method used by the interface,encapsulation ppp
Configure a maintenance association within a maintenance domain and enter Ethernet connectivity fault management service configuration mode.,"service short-ma-name evc evc-name vlan vlanid
direction down"
Configure an Ethernet service instance on an interface and enter Ethernet service configuration mode.,"device(config-if)# service instance id ethernet [evc-name]

Requirement: Set the encapsulation method used by the interface.
Configuration: device(config-if-srv)# encapsulation encapsulation-type

Requirement: Bind a service instance to a bridge domain instance.
Configuration: device(config-if-srv)# bridge-domain bridge-id

Requirement: Create a MIP and set the maintenance level number.
Configuration: device(config-if-srv)# cfm mip level level"
"Provisioning the Network on the CE-B, setting up Ethernet CFM Domain with a specific Level.","1. Enable privileged EXEC mode using the 'enable' command.
2. Enter global configuration mode using the 'configure terminal' command.
3. Define an Ethernet CFM domain using the 'ethernet cfm domain domain-name level level-id' command, where 'domain-name' is the name of the maintenance domain and 'level-id' is the maintenance level ID."
Configure a CFM maintenance domain at a specific level and enter Ethernet CFM configuration mode.,ethernet cfm domain <domain-name> <level-id>
Set the amount of time that CFM traceroute cache entries are retained.,hold-time minutes
Enables privileged EXEC mode.,Device(config)# end
Configure maintenance association within a maintenance domain and enter Ethernet connectivity fault management service configuration mode.,service short-ma-name evc evc-name vlan vlanid direction down
Binds a service instance to a bridge domain instance,Device(config-if-srv)# bridge-domain {bridge-id}
Set continuity check interval for Ethernet connectivity fault management.,Device(config-ecfm-srv)# continuity-check interval 10s
Set the maximum size for the CFM traceroute cache table.,"ethernet cfm traceroute cache size entries
Value: 200

Requirement: Set the amount of time that CFM traceroute cache entries are retained.
Configuration: ethernet cfm traceroute cache hold-time minutes
Value: 60"
"Enable SNMP trap generation for Ethernet CFM with mep-unknown, mep-missing, and service-up continuity.",snmp-server enable traps ethernet cfm crosscheck [mep-unknown | mep-missing | service-up]
Set the maximum size for the CFM traceroute cache table.,ethernet cfm traceroute cache size entries
Configure MEP domain and ID on the device,Device(config-if-srv)# bridge-domain 100
Configure the interval at which CCMs are transmitted.,continuity-check interval (interval value)
CFM traceroute cache table configuration,"ethernet cfm traceroute cache size entries, ethernet cfm traceroute cache hold-time minutes"
Set the encapsulation method used by the interface.,encapsulation <encapsulation-type>
Configure the interval at which CCMs are transmitted.,continuity-check interval
Provisioning Service on the N-PE A,"1. Enable privileged EXEC mode by typing ""enable"". If prompted, enter your password.
2. Configure terminal with the command ""configure terminal"".
3. Set Ethernet CFM domain with ""ethernet cfm domain domain-name level level-id"".
4. Configure Service Short MA-Name EVC EVC-Name VLAN Vlanid Direction Down with ""service short-ma-name evc evc-name vlan vlanid direction down"".
5. Run Continuity Check with ""continuity-check"". Optionally add interval with ""continuity-check [interval cc-interval]"".
6. Exit the current mode by typing ""exit"".
7. Set MEP Archive Hold Time with ""mep archive-hold-time minutes"".
8. Exit the current mode again by typing ""exit"".
9. Configure Ethernet CFM Global with ""ethernet cfm global"".
10. Configure Ethernet CFM Traceroute Cache with ""ethernet cfm traceroute cache"".
11. Set Ethernet CFM Traceroute Cache Size Entries with ""ethernet cfm traceroute cache size entries"".
12. Set Ethernet CFM Traceroute Cache Hold-Time Minutes with ""ethernet cfm traceroute cache hold-time minutes"".
13. Configure Interface Type Number with ""interface type number"".
14. Create a Service Instance ID Ethernet with ""[evc-name]"" by typing ""service instance id ethernet [evc-name]"".
15. Set Encapsulation Encapsulation-Type with ""encapsulation encapsulation-type"".
16. Leave the current mode by typing ""exit"".
17. Configure Bridge-Domain Bridge-ID with ""bridge-domain bridge-id"".
18. Enter CFM MIP Level and set Level with ""cfm mip level level"".
19. Exit the current mode by typing ""exit"".
20. Exit the current mode again by typing ""exit"".
21. Configure Interface Type Number with ""interface type number"".
22. Create a Service Instance ID Ethernet with ""[evc-name ]"" by typing ""service instance id ethernet [evc-name ]"".
23. Set Encapsulation Encapsulation-Type with ""encapsulation encapsulation-type"".
24. Configure Bridge-Domain Bridge-ID with ""bridge-domain bridge-id"".
25. Enter CFM MEP Domain Domain-Name MPID ID by typing ""cfm mep domain domain-name mpid id"".
26. End the configuration with ""end""."
Configure a CFM maintenance domain at a specific maintenance level and enter Ethernet CFM configuration mode.,ethernet cfm domain domain-name level level-id
Configuring a maintenance association within a maintenance domain and entering Ethernet connectivity fault management service configuration mode.,"- Short Maintenance Association Name (short-ma-name): evc
- Evc Name (evc-name): evc-name
- VLAN ID (vlanid): vlan
- Direction: down

Example:
Step 4
Device(config-ecfm)# service short-ma-name evc evc-name vlan vlanid direction down"
MEP Archive Hold Time,"mep archive-hold-time minutes (e.g., Device(config-ecfm)# mep archive-hold-time 60)"
Set the amount of time that CFM traceroute cache entries are retained.,ethernet cfm traceroute cache hold-time minutes
Ethernet connectivity fault management (CFM) service configuration,"1. Enter CFM service configuration mode using the command ""service short-ma-name evc evc-name vlan vlanid""
2. Set the direction to down using the command ""direction down""
3. Configure the transmission of continuity check messages (CCMs) using the command ""continuity-check""
4. Set the interval at which CCMs are transmitted using the command ""continuity-check [interval cc-interval]"""
Provisioning Service on the N-PE B,"1. Configure Ethernet CFM domain with a specific level-id
   - Command: ethernet cfm domain domain-name level level-id

2. Configure service Short MA Name EVC for a specific VLAN ID and direction (down)
   - Command: service short-ma-name evc evc-name vlan vlanid direction down

3. Configure Continuity Check with an optional interval (cc-interval)
   - Command: continuity-check [interval cc-interval]"
Configure a maintenance association within a maintenance domain and enter Ethernet connectivity fault management service configuration mode.,service short-ma-name evc evc-name vlan vlanid direction down
Specify an interface and enter interface configuration mode.,"interface type number (e.g., Device(config)# interface gigabitethernet3/0)"
Configure cross-checking on an inward facing MEP (U-PE A),ethernet cfm domain ServiceProvider level 4; mep crosscheck mpid 402 vlan 100; ethernet cfm mep crosscheck start-delay 60
Define a CFM domain at a specified level and enter Ethernet CFM configuration mode.,ethernet cfm domain domain-name level level-id
• Enter your password if prompted.,"Device> enable
configure terminal"
Configuring and Enabling Cross-Checking for an Outward Facing MEP on the CE-B,"1. enable
2. configure terminal
3. ethernet cfm domain domain-name level level-id [direction outward]
4. mep crosscheck mpid id vlan vlan-id [mac mac-address]
5. exit
6. ethernet cfm mep crosscheck start-delay delay
7. exit
8. ethernet cfm mep crosscheck {enable | disable} level {level-id | level-id-level-id [,level-id-level-id]} vlan {vlan-id | any | vlan-id-vlan-id [,vlan-id-vlan-id]}"
Enter your password if prompted.,Device> enable
Enabling privileged EXEC mode,"Device> enable, configure terminal"
Return to global configuration mode.,exit
Configure a Multi-Protocol Label Switching (MPLS) Traffic Engineering (TE) label switched path (LSP) for a bridge domain.,"1. Enter the interface configuration mode: `Device(config-if-srv)#`
2. Configure the bridge-domain for the LSP: `Device(config-if-srv)# bridge-domain 100`
3. Exit the interface configuration mode and enter global configuration mode: `Configures a MEP for a domain.`
4. Create a CFM MEP for the domain with a specific Multi-Protocol Label Switching (MPLS) Identifier (MPID) value: `cfm mep domain domain-name mpid mpid-value`
5. Exit the global configuration mode and return to privileged EXEC mode: `end`"
Enabling Ethernet Connectivity Fault Management (CFM) globally on a device.,Device(config)# ethernet cfm ieee
Specify an interface and enter interface configuration mode.,interface type number
Configuring UP MEP over Port Channel in VPLS,"1. Configure MEP domain using the command ""cfm mep domain domain-name"".
2. Set MPID with the ""mpid"" and ""mpid-value"" commands.
3. Enable Ethernet CFM using the ""ethernet cfm ieee"" command.
4. Configure global Ethernet CFM settings with the ""ethernet cfm global"" command.
5. Set up Ethernet CFM domain, specifying domain-name and level-id with the ""ethernet cfm domain domain-name level level-id"" command.
6. Configure service with ""service csi-id evc evc-name"".
7. Use ""continuity-check [interval time]"" to set continuity check parameters."
Defining a CFM maintenance domain at a particular level.,Device(config)# ethernet cfm domain domain-name level level-id
Exit VFI configuration mode and return to global configuration mode.,exit
Enable Ethernet Connectivity Fault Management (CFM) with IEEE 802.1ag Standard on a device.,Device# configure terminal; ethernet cfm ieee
Configuring Connectivity Fault Management (CFM) offload on an Ethernet interface.,"1. enable
2. configure terminal
3. ethernet cfm ieee
4. ethernet cfm global
5. ethernet cfm domain domain-name level"
Continuity-check interval,3.3s
Offload sampling for CCM session with different intervals,"offload sampling <sampling_rate> (e.g., offload sampling 1000)"
Configure the OAM Manager on a PE device to ensure UNI service types are matched with EVC configurations and Ethernet service instances are matched with CE-VLAN configurations.,"1. enable
2. configure terminal
3. ethernet cfm domain domain-name level level-id [direction outward]
4. service csi-id vlan vlan-id
5. exit
6. ethernet evc evc-id
7. oam protocol {cfm svlan svlan-id domain domain-name | ldp}
8. exit
9. Repeat Steps 3 through 8 to define other CFM domains that you want OAM manager to monitor.
10. end"
Enabling Ethernet OAM on an interface in a network configuration.,"Device(config)# interface ethernet 1/3
Device(config-if)# ethernet oam max-rate 50
Device(config-if)# end"
"Ethernet CFM (ConvergedForwarding and Management) configuration for various levels, traps, and domains.","ethernet cfm cc level any vlan any interval 20 loss-threshold 3; snmp-server enable traps ethernet cfm cc mep-up mep-down cross-connect loop config; snmp-server enable traps ethernet cfm crosscheck mep-missing mep-unknown service-up; ethernet cfm domain Customer level 7; ethernet cfm domain ServiceProvider level 4; mep archive-hold-time 60; ethernet cfm domain OperatorA level 1, mep archive-hold-time 65; ethernet cfm global; ethernet cfm traceroute cache; ethernet cfm traceroute cache size 200; ethernet cfm traceroute cache hold-time 60; interface gigabitethernet4/2 (ethernet cfm mip level 1); interface gigabitethernet3/1 (ethernet cfm mip level)."
Implement Ethernet Connectivity Fault Management (CFM) in the network for Service Provider domain.,"- Set ethernet cfm mip level 1 on interface gigabitethernet4/1 and gigabitethernet3/0
- Configure ethernet cfm domain ServiceProvider level 4 with mep archive-hold-time 60
- Set ethernet cfm domain OperatorA level 1 with mep archive-hold-time 65
- Enable ethernet cfm global and ethernet cfm traceroute cache
- Configure ethernet cfm traceroute cache size 200 and hold-time 60
- Set ethernet cfm cc level any vlan any interval 20 loss-threshold 3"
Implement Ethernet Connectivity Fault Management (CFM) for a Service Provider Network.,"- Configure Ethernet CFM settings:
  - Traceroute cache size: 200
  - Traceroute cache hold-time: 60
- Enable SNMP traps for Ethernet CFM events:
  - MEP up and down, cross-connect loop config
  - Crosscheck, MEP missing, MEP unknown, service-up
- Set Ethernet CFM domain to Customer level 7
- Enable global Ethernet CFM settings"
Configuring Ethernet Connectivity Fault Management in a Service Provider Network,Not provided in the text
Ethernet CFM Traceroute Cache,"- cache size: 200
- hold-time: 60"
"Ethernet CFM MEP level 7, direction outward, domain Customer1, MPDU ID 702, VLAN 100, Ethernet CFM CC enabled at level 7 and VLAN 100","Ethernet CFM CC at any level with VLAN any and interval 20, loss-threshold 3"
Configure Ethernet CFM on the Cisco ASR 1000 Router,Not provided in the text
"Down MEPs for Routed Ports, Sends and receives Ethernet CFM frames at its level via the wire connected to the port where the MEP is configured, Processes all Ethernet CFM frames at its level coming from the direction of the wire, Drops all Ethernet CFM frames at a lower level coming from the direction of the wire, Transparently drops all Ethernet CFM frames at a higher level.",Not specified in the provided text.
Ethernet CFM continuity check messages (CCMs) and linktrace messages (LTMs) for maintaining communication and discovering connectivity between Maintenance Entities (MEPs).,"CCMs transmitted at a periodic interval of 100 milliseconds by MEPs, terminated by remote MEPs at the same maintenance level, unidirectional and do not solicit a response. LTMs are multicast frames transmitted by a MEP to track the path (hop-by-hop) to a destination MEP and similar to Layer 3 traceroute messages."
• SNMP trap generation for CFM events,"1. ethernet cfm logging
2. logging snmp-trap 0 7
3. logging history debugging"
Monitor SNMPv2c traps for network events and generate logs.,"Community: public, From: 7.32.22.154"
Continuity Check message is received from a remote MEP with mpid 10 evc 2 vlan 2 MA name s2 domain cust2 interface status Up.,local mep with mpid 20 level 2 BD/VLAN 2 dir D Interface Te0/3/1 exited AIS defect condition.
"Synchronization of line card, protocol, and application state information between RPs for supported features and protocols. Maintaining end-to-end connectivity status on CE, PE, and access aggregation PE (uPE) network nodes based on protocols such as Ethernet LMI, CFM, and 802.3ah.",Not provided in the text
"Assign a MEP at every UNI that is part of a service instance and assign a MEP at the network to network interface (NNI) between operators if there is more than one operator. A port with a MIP at a lower level cannot have maintenance points at a higher level, and a port with a MEP at a lower level should have either a MIP or MEP at a higher level.",Not available in the provided text
Determine and assign service provider MEPs and MIPs across different levels and domains according to specific rules.,"Assign a MEP at every UNI that is part of a service instance, proceed to the next higher service provider level, assign MEPs, follow the rule that A port with a MIP at a lower level cannot have maintenance points at a higher level and A port with a MEP at a lower level should not have either a MIP or a MEP at a higher level. Configure a MIP on every uPE, at the UNI port, in the customer maintenance domain."
Configuring Ethernet CFM for the Cisco ASR 1000 Router,"enable, configure terminal, ethernet cfm domain domain-name level level-id, mep archive-hold-time minutes, exit, ethernet cfm global, ethernet cfm ieee, ethernet cfm traceroute cache, ethernet cfm traceroute cache size entries, ethernet cfm traceroute cache hold-time minutes, snmp-server enable traps ethernet cfm cc [mep-up] [mep-down] [config] [loop] [cross-connect], snmp-server enable traps ethernet cfm crosscheck [mep-unknown] [mep-missing] [service-up], end"
Enabling caching of CFM data learned through traceroute messages.,ethernet cfm traceroute cache
Enabling privileged EXEC mode and configuring Ethernet CFM domain.,Device> enable; configure terminal; ethernet cfm domain domain-name level level-id; ethernet cfm global.
Ethernet CFM traceroute cache size,"ethernet cfm traceroute cache hold-time minutes (e.g., 60)"
Configure Ethernet CFM for the Cisco ASR 1000 Router.,Device(config-ecfm-srv)# service {ma-name | ma-num | vlan-id vlan-id | vpn-id port | vlan vlan-id [direction down]}; Device(config-ecfm)# mep archive-hold-time 60; Device(config-ecfm)# continuity-check {interval time | loss-threshold threshold | static rmep}
Configures the time period between CCM transmissions.,continuity-check interval [interval time | loss-threshold threshold | static rmep]
Enables cross-checking between the list of configured remote MEPs of a domain and MEPs learned through CCMs.,"ethernet cfm mep crosscheck {enable | disable} domain domain-name {port | vlan {vlan-id | vlan-id - vlan-id | , vlan-id - vlan-id}}"
Configure and enable the Cross-Check Function (CE-B) on a device.,"1. Enable privileged EXEC mode.
   - Command: enable
2. Enter global configuration mode.
   - Command: configure terminal
3. Define an outward CFM domain at a specified level and enter Ethernet CFM configuration mode.
   - Command: ethernet cfm domain domain-name level level-id
4. Configure the maintenance association within a maintenance domain and enter Ethernet CFM configuration mode.
   - Command: service short-ma-name evc evc-name vlan vlanid direction down
5. Enter the MEP MPLS ID.
   - Command: mep mpid mpid
6. Exit from the current mode and return to privileged EXEC mode.
   - Command: exit
7. Configure Ethernet CFM MEP cross-check start delay.
   - Command: ethernet cfm mep crosscheck start-delay delay
8. Exit from Ethernet CFM MEP cross-check configuration mode.
   - Command: exit
9. Enable or disable the Cross-Check Function for a specific domain and port/VLANs.
   - Command: ethernet cfm mep crosscheck {enable | disable} domain domain-name {port | vlan {vlan-id | vlan-id - vlan-id | , vlan-id - vlan-id}}"
Connectivity Fault Management (CFM) service configuration,"service short-ma-name evc evc-name vlan vlanid direction down
mep mpid mpid"
"Ethernet CFM configuration with MIP and MEP domains, global settings, and traceroute cache settings.","1. Ethernet CFM global: ethernet cfm global
2. Ethernet CFM IEEE: ethernet cfm ieee
3. Ethernet CFM MIP Level 7 VLAN 101: interface gigabitethernet3/2, ethernet cfm mip level 7 vlan 101
4. Ethernet CFM MIP Auto-Create Level 7 VLANs 1-4094: ethernet cfm mip auto-create level 7 vlan 1-4094
5. Ethernet CFM MEP Domain ServiceProvider-L4 MPID 401 VLAN 101: interface gigabitethernet3/2, ethernet cfm mep domain ServiceProvider-L4 mpid 401 vlan 101
6. Ethernet CFM MEP Domain OperatorA-L1 MPID 101 VLAN 101: interface gigabitethernet3/2, ethernet cfm mep domain OperatorA-L1 mpid 101 vlan 101
7. Ethernet CFM MIP Level 1 VLAN 101: interface gigabitethernet4/2, ethernet cfm mip level 1 vlan 101
8. Ethernet CFM Traceroute Cache Size 200 and Hold-Time 60: ethernet cfm traceroute cache size 200, ethernet cfm traceroute cache hold-time 60
9. SNMP Traps: snmp-server enable traps ethernet cfm cc mep-up mep-down cross-connect loop config, snmp-server enable traps ethernet cfm crosscheck mep-missing mep-unknown service-up"
"Continuity Check, Ethernet CFM Domain, MIP Auto-Create, Service Configuration","- Ethernet CFM level 1 for OperatorA
- MEP Archive Hold Time of 65
- MIP Auto-Create
- VLAN 101 for MetroCustomer1OpA service
- Ethernet CFM mip level 1 on gigabitethernet3/0 interface with manual MIP
- Ethernet CFM mip level 4 on gigabitethernet4/0 interface with manual MIP
- SNMP Traps for Ethernet CFM events (cc, mep-up, mep-down, cross-connect loop config, crosscheck mep-missing, mep-unknown)
- U-PE B Configuration: Ethernet CFM global, Ethernet CFM IEEE, and Ethernet CFM traceroute cache with size 200 and hold-time 60
- Ethernet CFM Domain Customer-L7 level 7: MIP auto-create and VLAN 101 direction down for service Customer1
- Ethernet CFM Domain ServiceProvider-L4 level 4: MEP archive hold time of 60, Service MetroCustomer1, and VLAN 101
- Ethernet CFM Domain OperatorB level 2: MIP auto-create and MEP archive hold time of 65 for service MetroCustomer1OpB"
Ethernet CFM configuration on Cisco ASR 1000 Router,"- interface gigabitethernet1/0: ethernet cfm mip level 7, <<< manual MIP
- interface gigabitethernet2/0: ethernet cfm mip level 2, <<< manual MIP
- snmp-server enable traps ethernet cfm cc mep-up mep-down cross-connect loop config
- snmp-server enable traps ethernet cfm crosscheck mep-missing mep-unknown service-up
- PE-AGG B Configuration: ethernet cfm global, ethernet cfm ieee
- ethernet cfm domain OperatorB level 2
- mep archive-hold-time 65
- mip auto-create
- service MetroCustomer1OpB vlan 101
- interface gigabitethernet1/1: ethernet cfm mip level 2, <<< manual MIP"
"Ethernet CFM MIP configuration and level 2, Ethernet CFM Global, Ethernet CFM IEEE, Ethernet CFM Traceroute Cache, Ethernet CFM Traceroute Cache Size, Ethernet CFM Traceroute Cache Hold-Time, Ethernet CFM Domain ServiceProvider level 4, MEP Archive-Hold-Time, MIP Auto-Create, Continuity Check","- Interface gigabitethernet2/1: Ethernet CFM MIP level 2, Ethernet CFM Global, Ethernet CFM IEEE, Ethernet CFM Traceroute Cache, Ethernet CFM Traceroute Cache Size 200, Ethernet CFM Traceroute Cache Hold-Time 60
- Interface gigabitethernet1/2gigabitethernet0/0/2: Ethernet CFM MIP level 2
- Interface gigabitethernet2/2: Ethernet CFM MIP level 4
- SNMP Server Enable Traps for Ethernet CFM CC MEP-UP, MEP-DOWN, CROSS-CONNECT LOOP CONFIG, Ethernet CFM Crosscheck MEP-MISSING, MEP-UNKNOWN SERVICE-UP"
Ethernet CFM configuration for different domains and levels.,"ethernet cfm mep domain Customer-L7 mpid 701 vlan 101; ethernet cfm global, ethernet cfm ieee, ethernet cfm traceroute cache, ethernet cfm traceroute cache size 200, ethernet cfm traceroute cache hold-time 60, ethernet cfm mip auto-create level 7 vlan 1-4094."
"MEP archive hold time, MIP auto-create, Continuity check, Ethernet CFM global, Ethernet CFM IEEE, Ethernet CFM traceroute cache, Ethernet CFM traceroute cache size, Ethernet CFM traceroute cache hold-time, Ethernet CFM domain Customer-L7 level 7, MIP auto-create, Service Customer1 vlan 101 direction down.","- MEP archive-hold-time: 60 (OperatorA), 65 (OperatorB)
- MIP auto-create: Enabled for MetroCustomer1 and Customer1
- Continuity check: Enabled for MetroCustomer1 and ServiceProvider-L4
- Ethernet CFM domain OperatorA level 1, OperatorB level 2
- Ethernet CFM mip level 1 (interface gigabitethernet3/0), level 7 (interface gigabitethernet1/0)
- Ethernet CFM mep domain OperatorA mpid 102 vlan 101 (interface gigabitethernet4/0)
- Ethernet CFM global, IEEE, traceroute cache, traceroute cache size 200, traceroute cache hold-time 60
- Ethernet CFM domain Customer-L7 level 7, MIP auto-create, Service Customer1 vlan 101 direction down"
Configure Ethernet CFM on a Cisco ASR 1000 router.,"- Set the MIP on ethernet interfaces with mpid and vlan values.
- Enable global Ethernet CFM settings.
- Configure traceroute cache size and hold-time for Ethernet CFM.
- Set Ethernet CFM domain level for different service providers.
- Set MEP archive-hold-time and enable MIP auto-create.
- Configure vlan for a specific service in continuity-check."
"Ethernet CFM with MIP auto-create, Ethernet CFM global, Ethernet CFM ieee, and Ethernet CFM traceroute cache.",Interface gigabitethernet1/2 with ethernet cfm mip level 2; manual MIP. Interface gigabitethernet2/2 with ethernet cfm mip level 4; manual MIP. Interface gigabitethernet3/2 with ethernet cfm mep domain Customer-L7 mpid 702 vlan 101.
Configuring IEEE Standard-Compliant Ethernet CFM in a Service Provider Network,Ethernet CFM for the Cisco ASR 1000 Router
Database maintained by every MEP for maintaining received information about other MEPs in the maintenance domain.,MIP CCDB (a database of information about MEPs in the maintenance domain) can be maintained by a MIP.
"Ethernet service protection (Ethernet Operations, Administration, and Maintenance [EOAM], connectivity fault management [CFM], Ethernet Local Management Interface [E-LMI]) on EVCs",N/A (not specified in the provided text)
Configure a bridge domain and Ethernet rewrite criteria.,"1. Configure the bridge domain using the ""bridge-domain"" command.
2. Configure the Ethernet rewrite criteria using the ""rewrite"" command.
3. Define the matching criteria to be used for mapping 802.1q frames ingressing on an interface to the appropriate EFP with the ""encapsulation dot1q vlan-id"" command.
4. Enter a single VLAN ID or a range of VLANs for the outermost tag using the ""[, vlan-id [- vlan-id]]"" syntax.
5. Configure double-tagged 802.1q encapsulation with the ""encapsulation dot1q second-dot1q"" command and enter a single VLAN ID or a range of VLANs for the second tag."
• POP Operations,"- Remove the outermost VLAN tag
- Remove the two outermost VLAN tags
- Egress Frame Filtering"
Ensuring frames exiting an EFP contain a Layer 2 header that matches the encapsulation characteristics associated with the EFP to prevent unintended frame leaks.,Number of EFPs per bridge domain - maximum of 4096.
Ethernet MAC Address Learning,MAC address learning is always enabled and cannot be disabled.
Forwarding frames based on the destination Layer 2 MAC address and supporting multiple bridge domains.,"EFPs support bridging, and each bridge domain can learn up to 1000 MAC addresses per second. The Layer 2 frame forwarding rate is 8 million packets per second (MPPS) if flooding is not involved. MAC Address Aging is supported with a configurable time period ranging from 30 to 600 seconds with a granularity of 1 second, and the default value is 5."
Split Horizon Group feature for service instances in a bridge domain to join groups.,"Each bridge domain can support two split horizon groups, and service instances cannot pass data between the same split-horizon group but can forward data to other service instances not in the same split-horizon group within the same bridge domain."
Configure a split horizon group using the bridge-domain CLI command with the split-horizon and group keywords.,Not provided in the text.
Configure an Ethernet service instance on an interface and enter Ethernet service configuration mode.,"Example:
Step 4
• The example shows how to configure Ethernet service instance 1.
Router(config-if)# service instance 1 ethernet"
Enabling privileged EXEC mode and configuring interface with type number.,"enable, configure terminal, interface type number"
Apply an IP access list or object group access control list to an interface or a service policy map.,ip access-group access-list-number | access-list-name} {in | out}
Network Interface Device (NID) support feature to enable NID functionality on a device without including an NID hardware in the network.,"The feature combines the Customer-Premises Equipment (CPE) and the NID functionality into a physical device, providing advantages such as eliminating the need for a separate NID hardware."
NID Support feature on Cisco ISR 4000 Series Integrated Services Routers.,Not applicable (restrictions apply).
Configure NID Support,"1. Enable NID support on a device by accessing the interface gigabitEthernet 0/0/2 and disabling its IP address.
2. Set up port tagging on the interface.
3. Encapsulate the traffic with dot1q 10 encapsulation type.
4. Set the CoS (Class of Service) to 6."
Network Interface Device Support,Set cos 6 (Cosmetic Operation System)
Verify connectivity with port tagging configured using ping command.,"interface GigabitEthernet0/2.1101 (encapsulation dot1Q 100, ip address 10.0.2.4 255.255.255.0), interface GigabitEthernet0/2.1102 (encapsulation dot1Q 100, ip address 10.0.3.4 255.255.255.0)."
Enable debugging of configuration-related issues.,debug ethernet nid configuration
Ethernet Performance Monitoring on Untagged EFPs,Configure Ethernet Performance Monitoring on Untagged EFPs
Test delay or loss of packets with specific CoS using dot1q tag,"EPM testing with tagged EFPs, enabling performance monitoring functionality"
Configuring Ethernet Performance Monitoring on Untagged EFPs,Enable Ethernet Performance Monitoring on Untagged EFPs by following the steps provided in the text.
Set encapsulation to untagged on a device interface.,encapsulation untagged
Configure Ethernet Y1731 delay using DMM.,Device (config-ip-sla)# ethernet y1731 delay DMM
Support and Documentation,"Cisco.com user ID and password, software release with support for Ethernet Performance Monitoring on Untagged EFPs"
Ethernet Performance Monitoring on untagged EFPs,"Cisco Aggregation Services ASR 903 Series Routers, Cisco IOS Release 15.5(2)S"
Using the IEEE 802.3ad Link Aggregation MIB for management of interfaces and ports that are part of an LACP port channel,Not specified in the provided text
"Locate and download MIBs for selected platforms, Cisco software releases, and feature sets using Cisco MIB Locator (http://www.cisco.com/go/mibs)",IEEE 802.3ad
Introduction of LAG MIB support in Cisco IOS XE software,The LAG MIB supports the management of interfaces and ports that are part of an LACP port channel and is accessed by an SNMP manager application.
"Port channel should be used with a wide range of addresses such as Source MAC, Destination MAC, Source IP, Destination IP, and VC to have the traffic flowing across all the 16 member links.",LACP neighbor comes up on dot1q tagged EFP.
Configuring IEEE 802.3ad Link Bundling for Gigabit EtherChannel,"1. Ensure all LAN ports in each EtherChannel are the same speed (either Gigabit Ethernet or Ten Gigabit Ethernet).
2. Configure all LAN ports as either Layer 2 or Layer 3.
3. Enable Port-Channel and LACP on the desired interfaces."
Create and configure a port-channel interface before adding interfaces to the channel group.,"Port-channel interface affects all LAN ports assigned to it, and configuration changes are propagated to all interfaces within the same channel group."
A LAN port in passive mode cannot form an EtherChannel with another LAN port that is also in passive mode because neither port will initiate negotiation.,"Configure an LACP system priority on each device running LACP, which can be configured automatically or through the command-line interface (CLI). Configure an LACP port priority on each port configured to use LACP, which can also be configured automatically or through the CLI."
Administrative key value on each port for aggregation with other ports using LACP.,LACP bundle supports lacp max-bundle command and uses the Slow Protocol Multicast address of 01-80-C2-00-00-02 for transmitting LACP protocol data units (PDUs).
• Implement Cisco nonstop forwarding (NSF) and nonstop routing (NSR) on Gigabit EtherChannel bundles.,"• IEEE Link Aggregation Group (LAG) MIB enabled for monitoring and managing link aggregation.
• Enable LACP (802.3ad) for Gigabit Ethernet interfaces to bundle individual Ethernet links into a single logical link with up to four links."
"All LAN ports on a port channel must be the same speed and configured as either Layer 2 or Layer 3 LAN ports. If a segment within a port channel fails, traffic should switch to the remaining segments within the port channel. Inbound broadcast and multicast packets on one segment in a port channel should be blocked from returning on any other segment of the port channel.",Not specified in the text provided.
Guidelines for LACP for Gigabit Interfaces Configuration,Every port added to a port channel must be configured identically. No individual differences in configuration are allowed. Bundled ports can be configured on different line cards in a chassis. Maximum transmission units (MTUs) must be configured on only port channel interfaces; MTUs are propagated to the bundled ports. QoS and committed access rate (CAR) are applied at the port level. Access control lists (ACLs) are applied on port channels. MAC configuration is allowed only on port channels. MPLS IP should be enabled on bundled ports using the mpls ip command. Unicast Reverse Path Forwarding (uRPF) should be
Enable Cisco Discovery Protocol and create a port channel interface on the LAN ports.,"cdp enable command in interface configuration mode, use the interface port-channel command in global configuration mode."
Configure a port channel and set the channel group mode.,"Use the commands ""interface port-channel channel-number"" and ""channel-group channel-group-number mode {active | passive}"" to create a port channel and configure the channel group in either active or passive mode."
Configure a port channel,"enable, configure terminal, interface port-channel channel-number, lacp max-bundle max-bundles, ip address ip-address mask, end, show running-config interface port-channel group-number"
"Configure Port-channel and set IP address, no negotiation auto, and lacp max-bundle for Carrier Ethernet Configuration.","interface Port-channel10
ip address 172.31.52.10 255.255.255.0
no negotiation auto
lacp max-bundle 3"
Configuring LACP (802.3ad) for Gigabit Interfaces and creating a port channel with two bundled ports.,"1. Enable privileged EXEC mode using the ""enable"" command.
2. Enter global configuration mode using the ""configure terminal"" command.
3. Specify the port channel interface and enter interface configuration mode using the ""interface port-channel number"" command, where number is between 1 and 64.
4. Assign an IP address to the port channel interface using the ""ip address ip-address mask"" command.
5. Configure individual interfaces using the ""interface type slot/subslot/ port"" command.
6. Remove the IP address from the individual interfaces using the ""no ip address"" command.
7. Configure the port channel group using the ""channel-group channel-group-number mode {active | passive}"" command, where channel-group-number is between 1 and 254 and mode can be either active or passive.
8. Exit interface configuration mode using the ""exit"" command.
9. Configure individual interfaces using the ""interface type slot/subslot/ port"" command again.
10. Remove the IP address from the individual interfaces using the ""no ip address"" command again.
11. Configure the port channel group for the second interface using the ""channel-group channel-group-number mode {active | passive}"" command, where channel-group-number is between 1 and 254 and mode can be either active or passive.
12. Exit global configuration mode using the ""end"" command."
Assign an interface to a port channel group and set the LACP mode.,Device(config-if)# channel-group channel-group-number mode {active | passive}
Set the LACP system priority and port priority on a device.,"1. enable
2. configure terminal
3. lacp system-priority priority
4. interface slot/subslot/port
5. lacp port-priority priority
6. end"
Enter your password if prompted.,"Device> enable, configure terminal, lacp system-priority priority"
Specify the bundled port priority for LACP and enter interface configuration mode.,Example: Device(config)# interface gigabitethernet 0/1/1; Device(config-if)# lacp port-priority 500
Adding and Removing Interfaces from a Link Bundle,"interface type slot/subslot/port, channel-group channel-group-number mode {active | passive}, no channel-group channel-group-number mode {active | passive}"
Enabling privileged EXEC mode and configuring a Gigabit Ethernet interface.,"Enable privileged EXEC mode using the ""enable"" command, enter global configuration mode with ""configure terminal"", configure a Gigabit Ethernet interface using ""interface gigabitethernet <slot/subslot/port>"", add the interface to a channel group and enter interface configuration mode with ""channel-group <channel-group-number> mode {active | passive}"", and remove the interface from the channel group with ""no channel-group <channel-group-number> mode {active | passive}""."
Enable privileged EXEC mode on the device and enter global configuration mode. Remove the specified port channel group from a physical port. Set a minimum threshold of active links for a LACP bundle.,"1. Device> enable (Enters global configuration mode)
2. configure terminal
3. no interface port-channel number (Removes the specified port channel group from a physical port)
4. lacp min-bundle min-bundle (Sets a minimum threshold of active links for a LACP bundle)"
Configuring IEEE 802.3ad Link Bundling,Setting a Minimum Threshold of Active Links
Queue management with PXF First-In-First-Out strategy on Port-channel1,"queue: 0/8192 (size), input queue: 0/75 (size)"
"Transmit and receive load as a fraction of 255, calculated as an exponential average over 5 minutes using the value from the bandwidth interface configuration command.","N/A (This is a description, not a configuration)"
Total number of error-free packets received by the system.,"packets input

Requirement: Total number of bytes, including data and MAC encapsulation, in the error-free packets received by the system.
Configuration: bytes (input)

Requirement: Number of received packets discarded because there was no buffer space in the main system.
Configuration: no buffer

Requirement: Total number of broadcast or multicast packets received by the interface.
Configuration: broadcasts

Requirement: Number of packets that are discarded because they are smaller than the minimum packet size for the medium.
Configuration: runts

Requirement: Number of packets that are discarded because they exceed the maximum packet size for the medium.
Configuration: giants

Requirement: Total number of no buffer, runts, giants, cyclic redundancy checks (CRCs), frame, overrun, ignored, and abort counts. Other input-related errors can also increment the count, so that this sum might not balance with the other counts.
Configuration: input errors

Requirement: CRC generated"
Configure LACP for Gigabit Ethernet ports 2/0 and 4/0 into port channel 1.,"Set system-priority to 65535, create port channel 1 with lacp max-bundle 1."
Configure channel group number 5 and include it in the channel group.,"1. Device1# configure terminal
2. Enter configuration commands, one per line. End with CNTL/Z.
3. Device1(config)# interface port-channel5
4. Device1(config-if)#"
Channel-group configuration for redundancy and load balancing,channel-group 5 mode active
LACP configuration and port-channel state,"- lacp fast-switchover
- lacp max-bundle 1
- no ip address

Port-channel state:
- RU - L3 port-channel UP State
- SU - L2 port-channel UP state"
"ARP type: ARPA, ARP Timeout 04:00:00, No. of active members in this channel: 1","Member 0: GigabitEthernet7/0/0, Full-duplex, 1000Mb/s"
Channel group configuration for LACP port in Admin and Oper state on Port GigabitEthernet 5/0/0.,"- channel-group 5 mode active
- interface gigabitethernet 5/0/0"
Adding a device member to a port-channel,GigabitEthernet7/0/0 added as member-2 to port-channel5
Physical Port Link Down on GigE 7/0/0 Interface,"- Interface: GigabitEthernet7/0/0
- State: Changed to up"
"Encapsulation ARPA, loopback not set, Keepalive set (10 sec), No. of active members in this channel: 2","Member 0: GigabitEthernet3/0/0, Full-duplex, 1000Mb/s; Member 1: GigabitEthernet7/1/0, Full-duplex, 1000Mb/s"
Configuring IEEE 802.3ad Link Bundling,"Cisco IOS commands for EtherChannel, LACP, and Network Management Command"
"The requirement is to implement a method for aggregating multiple Ethernet links into a single logical channel based on the IEEE 802.3ad standard, providing capability to dynamically provision, manage, and monitor various aggregated links and enabling interoperability between Cisco devices and devices of third-party vendors.","The following commands were introduced or modified: channel-group (interface), debug lacp, lacp max-bundle, lacp port-priority, lacp system-priority, show lacp."
Support for 14 Member-links per GEC Bundle on Cisco ASR 1000 Series Aggregation Services Routers.,Denali 16.3.1 or higher (Cisco IOS XE)
Support for Y1731 over Port Channel interfaces,"• MEG level—MEG level at which the MEP exists
• Priority
• Drop eligibility—marked drop ineligible
• Transmission rate
• Total interval of ETH-DM
• MEF10 frame-delay variation algorithm"
Frame-delay measurement using TxTimeStampf and RxTimef elements for one-way delay calculation. Clock synchronization is required for one-way frame-delay measurement.,Both the transmitting MEP and receiving MEPs must have synchronized clocks for one-way frame-delay measurement.
Y.1731 Performance Monitoring feature,Cisco IOS XE Release 3.5S (with support for the Cisco ASR 903 Router) and Cisco IOS XE Release 3.6S (with support for port channels and cross connect functionality).
"The requirement is to provide the status of Ethernet virtual circuits (EVCs) in large Ethernet MANs and WANs, notify a CE device of the operating state of an EVC, and communicate EVC and user network identifier (UNI) attributes to a CE device.","The configuration involves enabling Ethernet LMI on all supported interfaces and ensuring that it communicates the following procedures: notifying when an EVC is added or deleted, notifying the availability state of a configured EVC, and communicating UNI and EVC attributes to the CE device."
Enable Ethernet Local Management Interface (LMI) on an interface.,ethernet lmi interface
Implement Layer 2 Access Control Lists on EVCs for packet filtering based on MAC addresses.,N/A (The text does not provide specific configuration details)
Configuring Layer 2 Access Control List on EVCs,"1. Enable privileged EXEC mode with the command ""enable""
2. Enter global configuration mode with the command ""configure terminal""
3. Define an extended MAC ACL and enter mac access-list control configuration mode with the command ""mac access-list extended name"" (e.g., Device(config)#mac access-list extended test-12-acl)
4. Create an ACE for the ACL by allowing forwarding of Layer 2 traffic based on conditions specified in the permit command, such as Device(config-ext-macl)#permit 00aa.00bb.00cc 0.0.0 any"
Creating a Layer 2 ACL using the mac access-list extended command,"1. Enable privileged EXEC mode with the ""enable"" command.
2. Enter global configuration mode with the ""configure terminal"" command.
3. Specify the type and number of the interface to configure with the ""interface type number"" command.
4. Configure an Ethernet service instance on the interface with the ""service instance id ethernet"" command.
5. Set the encapsulation to dot1q vlan-id with the ""encapsulation dot1q vlan-id"" command.
6. Apply the MAC access list to the service instance with the ""mac access-group access-list-name in"" command."
Configuring a Layer 2 ACL with ACEs on a Service Instance and stopping all other traffic.,"1. Enable privileged EXEC mode.
   - Command: enable
2. Enter global configuration mode.
   - Command: configure terminal
3. Define an extended MAC ACL and enter mac access-control list configuration mode.
   - Command: mac access-list extended name
4. Add three permit statements for the ACEs.
   - Command: permit {src-mac mask | any} {dest-mac mask | any}
5. Add a deny statement to stop all other traffic.
   - Command: deny any any
6. Exit from MAC access-control list configuration mode.
   - Command: exit
7. Enter interface configuration mode for the desired type and number.
   - Command: interface type number
8. Configure the service instance.
   - Command: service instance id ethernet
9. Set the encapsulation to dot1q with the specified VLAN ID.
   - Command: encapsulation dot1q vlan-id
10. Enter mac access-group configuration mode for the interface.
    - Command: mac access-group access-list-name in"
Forwarding of Layer 2 traffic if the conditions are matched. This creates an ACE for the ACL.,"permit {src-mac mask | any} {dest-mac mask | any} (e.g., Device(config-ext-macl)# permit 00aa.bbcc.ddea 0.0.0 any)"
Allows forwarding of Layer 2 traffic if the conditions are matched. This creates an ACE for the ACL.,Device(config-ext-macl)# permit 00aa.bbcc.ddec 0.0.0 any
Display detailed information about Ethernet customer service instances.,show ethernet service instance id id interface type number detail
Implementing and configuring Layer 2 Access Control Lists (ACL) on service instances.,MAC Access-list extended named mac-11-acl with two permit entries for specific MAC addresses.
Configuring the CFM over EFP Interface with Cross Connect Feature,Configuring CFM over an EFP Interface with the Cross Connect feature on the Cisco ASR 903 Router.
"The requirement for this text is related to implementing Layer 2 Ethernet over GRE on the ASR 1000 platform, including terminating IP GRE tunnels, managing subscriber sessions, and deploying a two-box model.","The configuration for this scenario involves setting up virtual Ethernet interfaces, Ethernet service instances, IP GRE tunnel data planes, L2 bridge-domain data planes, and configuring the Virtual Ethernet interface on the ASR 1000 platform as a virtual interface."
The system must be able to process and classify IP GRE encapsulated Ethernet packets with transparent Ethernet bridging protocol (0x6558) as Ethernet over soft GRE packets.,"Virtual Ethernet interface with service instance classification module, Ethernet service instance classification using VLAN tag in the packet, programmed processing FIA for vlan tag manipulation, and L2 bridge domain processing module to learn client source MAC address and IP GRE tunnel end-points."
"Configuring MAC Address Limiting on Service Instances, Bridge Domains, and EVC Port Channels","The capability to control and filter MAC address learning behavior at the granularity of a per-service instance. When a violation requires a shutdown, only the customer assigned to a given service instance is affected and not all customers who are using the port."
Enabling and configuring MAC address security on EFPs in a bridge-domain.,"Total number of MAC addresses supported under MAC Security is limited to 64K (65536), total number of secure EFPs in the system is limited to 64K (65536), total number of MAC addresses supported under MAC Security, per EFP, is limited to 1K (1024), and it is recommended to enable MAC address security feature on all the EFPs in a bridge-domain."
Ethernet bridging support as an important Layer 2 service offered on a router as part of an EVC.,Service instances are configured under a port channel with load-balancing across member links.
The maximum number of secure addresses allowed in a bridge domain should not be exceeded.,"If attempting to add a new address would cause the secure address count to exceed the maximum number, an existing dynamically learned address on the service instance should be removed from the MAC address table."
A MAC Address Deny List should be implemented to prevent unauthorized devices from accessing a service instance. The list contains MAC addresses that are not allowed on the service instance.,"The operator can configure one or more denied MAC addresses for a service instance that is part of a bridge domain. The system performs a test before allowing the configuration of a denied address, rejecting it if the address is already configured as a permitted address on the specific service instance or if the address has been learned and saved as a sticky address on the service instance."
Upper limit for the number of secured MAC addresses on a bridge domain service instance.,The upper limit includes addresses added as part of a permit list and dynamically learned MAC addresses.
"Configure the maximum number of MAC addresses that can exist in the MAC table for a service instance, considering both statically configured and dynamically learned (including sticky) addresses.","For a service instance with MAC security enabled and without the maximum number of MAC addresses configured, allow only one address in the associated permit list and do not learn any addresses dynamically. If the service instance does not have an associated permit list, allow one MAC address to be learned dynamically."
The requirement is to configure the maximum number of MAC addresses allowed on a bridge domain and service instance.,"The example configuration has Bridge Domain with MACAddressLimit set to 1000 and Service Instances 1001, 1002, and 1003 with MACAddressLimits of 5, 10, and ""To be configured"" respectively."
Configure the maximum count of addresses for service instance 1003.,MAC security maximum addresses 35
"Bridge domain limit of 20, Dynamic secure address count limitation, MAC Move and MAC Locking for same bridge domain",Not applicable (as the text does not provide specific configuration details)
Configure all service instances within the same bridge-domain as secured service instances.,Not specified in the text.
The ability to make dynamically learned MAC addresses on secured service instances permanent even after interface transitions or device reloads.,Sticky MAC Address Configurations (mac security sticky command)
"Description of the expected behavior of the different MAC security elements when various triggers are applied, such as configuration changes or link state transitions.","Enabling and disabling MAC Security on a Service Instance, purging existing MAC table entries, adding permitted MAC address entries and sticky addresses to the MAC table, updating aging timer for all entries according to secure aging rules."
Enable MAC address security on a service instance,"1. enable
2. configure terminal
3. interface type number
4. service instance id
5. ethernet
6. encapsulation dot1q vlan-id
7. bridge-domain bridge-id
8. mac security
9. end"
Configure a port channel group number and enter interface configuration mode.,"Requirement: Configure a port channel group number and enter interface configuration mode.
Configuration: Device# configure terminal; interface port-channel channel-group"
Mapping ingress dot1q frames to the appropriate service instance.,encapsulation dot1q vlan-id
Configure ingress dot1q frames on an interface to the appropriate service instance.,"encapsulation dot1q vlan-id
Example: Device(config-if-srv)# encapsulation dot1q 100

Requirement: Bind the service instance to a bridge-domain instance where bridge-id is the identifier for the bridge-domain instance.
Configuration: bridge-domain bridge-id
Example: Device(config-if-srv)# bridge-domain 200

Requirement: Add the specified MAC address as a denied MAC address for the service instance.
Configuration: mac security address deny mac-address
Example:"
Adding a denied MAC address to a service instance for MAC security.,Device(config-if-srv)# mac security address deny <MAC_ADDRESS>
Configure an upper limit for the number of secured MAC addresses in a bridge domain.,"Enable, configure terminal, bridge-domain bridge-id."
Enabling MAC security on the service instance,Device(config-if-srv)# mac security
"Create a service instance on an interface and configure matching criteria, encapsulation, binding to a bridge-domain instance, and violation mode.","1. Service Instance Configuration:
   - Device(config)# interface gigabitethernet2/0/1
   - Device(config-if)# service instance 100 ethernet
   - Device(config-if-srv)# encapsulation dot1q 100

2. Bridge-domain Configuration:
   - Device(config-if-srv)# bridge-domain 100

3. Violation Mode Configuration:
   - Device(config-if-srv)# mac security violation restrict
   - or
   - Device(config-if-srv)# mac security violation protect"
Configure MAC Address Aging for secured MAC addresses under MAC security.,"(Not provided in the text, but it should include configuring MAC address aging settings on a specific device or service instance.)"
"Enable and configure a privileged EXEC mode, create a service instance with Ethernet type, define matching criteria for ingress dot1q frames, and set bridge domain bridge-id.","1. enable
2. configure terminal
3. interface gigabitethernet2/0/1 (example)
4. service instance 100 ethernet
5. encapsulation dot1q vlan-id
6. bridge-domain bridge-id"
Enable MAC security and configure sticky MAC address on a service instance.,"1. enable
2. configure terminal
3. interface type number
4. service instance id ethernet
5. encapsulation dot1q vlan-id
6. bridge-domain bridge-id
7. mac security sticky address mac-address
8. mac security
9. end"
"Configuring MAC Address Limiting on Service Instances, Bridge Domains, and EVC Port Channels",N/A (not provided in the text)
Enable MAC security on the service instance.,mac security
Enable privileged EXEC mode and display all the service instances with MAC security enabled.,"1. Enter your password if prompted.
2. Device> enable
3. Device# show ethernet service instance mac security"
Display service instances on a specific bridge domain with MAC security enabled.,"1. enable
2. show bridge-domain id mac security
3. end"
Display secured addresses on all service instances,show ethernet service instance mac security address
Showing the MAC Addresses of All Service Instances on a Specific Bridge,"enable, show bridge-domain id mac security address"
Bring a specific service instance out of the error-disabled state.,"enable, configure terminal, interface type number, service instance id ethernet, encapsulation dot1q vlan-id, bridge-domain bridge-id, mac security, errdisable recovery cause mac-security interval, end"
Define matching criteria to map ingress dot1q frames on an interface to the appropriate service instance.,encapsulation dot1q vlan-id
Enable MAC security on a service instance.,Device> enable; Device# configure terminal; Device(config)# interface gigabitethernet 3/0/1; Device(config-if)# service instance 100 ethernet; Device(config-if-srv)# encapsulation dot1Q 100; Device(config-if-srv)# bridge-domain 100; Device(config-if-srv)# mac security
Configure MAC Address Permit List on a Device,"1. Enable device configuration mode
2. Enter global configuration mode
3. Configure the interface port-channel 2 with service instance 100 ethernet
4. Encapsulate the interface with dot1Q 100
5. Create bridge domain 100
6. Enable MAC security on the interface
7. Add MAC address permit list for specified addresses"
Configure a MAC address deny list and limit the number of maximum addresses in a bridge domain.,"1. Enable configuration mode on the device.
2. Configure the interface with service instance, encapsulation, and bridge-domain settings.
3. Deny specific MAC addresses using the ""mac security address deny"" command.
4. Set the maximum number of allowed MAC addresses in the bridge domain using the ""mac limit maximum addresses"" command."
Configure a MAC Address Limit on a Service Instance,"- Interface: gigabitethernet 3/0/1
- Service Instance: 100 ethernet
- Encapsulation: dot1Q 100
- Bridge-domain: 100
- MAC Limit Maximum Addresses: 10"
Bridge domain configuration with ID 100.,bridge-domain 100
"Ethernet Operation, Administration, and Management (OAM) must be operational in the network. For Ethernet OAM to operate, the provider edge (PE) side of a connection must be running Ethernet Connectivity Fault Management (CFM) and Ethernet Local Management Interface (LMI). All VLANs used on a PE device to connect to a customer edge (CE) device must also be created on that CE device. To use nonstop forwarding (NSF) and In Service Software Upgrade (ISSU), stateful switchover (SSO) must be configured and working properly.","Ethernet Local Management Interface (LMI) is not supported on routed ports, EtherChannel port channels, ports that belong to an EtherChannel, private VLAN ports, IEEE 802.1Q tunnel ports, Ethernet over Multiprotocol Label Switching (MPLS) ports, or Ethernet Flow Points (EFPs) on trunk ports."
"End-to-end per-service-instance (per VLAN) Ethernet connectivity monitoring, fault verification, and fault isolation.","OAM manager with two interworking protocols, Ethernet Connectivity Fault Management (CFM) and Ethernet Local Management Interface (LMI)."
Communication of EVC and user network interface (UNI) attributes to a CE device,"End-to-end connectivity status is maintained on the customer edge (CE), provider edge (PE), and access aggregation PE (uPE) network nodes based on information received by protocols such as Ethernet Local Management Interface (LMI), Connectivity Fault Managment (CFM)"
"Accelerated deployment of new services and applications, faster implementation of new features, hardware, and fixes due to the elimination of network downtime during upgrades. Reduced operating costs due to outages while the system delivers higher service levels due to the elimination of network downtime during upgrades.",NSF SSO Support in Ethernet LMI (Local Management Interface).
Connectivity Fault Management (CFM),"Ethernet virtual circuits (EVCs), Ethernet service instances including untagged Ethernet flow points (EFPs), and Ethernet LMI customer VLAN mapping."
Define a universally unique customer service instance (CSI) and VLAN ID within the maintenance domain.,"Device(config-ecfm)# service csi-id evc evc-name vlan vlan-id
Example: Device(config-ecfm)# service csi2 evc evc_1 vlan 10"
Configure Ethernet service instance on a physical interface connected to a CE device.,Example: Device(config)# interface gigabitethernet 1/3/1; Device(config-if)# service instance 400 ethernet
"Enabling Ethernet Local Management Interface (LMI) for untagged keywords on a Customer Edge (CE) device, ensuring that the main interface line protocol stays up.","Requirement: Enabling Ethernet Local Management Interface (LMI) for untagged keywords on a Customer Edge (CE) device, ensuring that the main interface line protocol stays up.

Configuration: ethernet lmi ce-vlan map <VLAN_ID>"
Enable Ethernet Local Management Interface (LMI) on a device or an interface.,"1. Enable privileged EXEC mode using the command 'enable'.
2. Enter global configuration mode with the command 'configure terminal'.
3. Define an interface to configure as an Ethernet LMI by entering the command 'interface type number'.
4. Configure Ethernet LMI on the interface using the command 'ethernet lmi interface'.
5. Set the desired value for Ethernet LMI with either 'ethernet lmi n393 value' or 'ethernet lmi t392 value'.
6. Exit configuration mode by entering the command 'end'."
Configure Ethernet LMI parameters for the UNI on specific interfaces.,"Use the command ""ethernet lmi {n393 value | t392 value}"" to enable Ethernet LMI for specific interfaces."
Display interface-only information about Ethernet customer service instances for all interfaces or a specified interface.,show ethernet service interface [type number] [detail]
Configuring Ethernet Local Management Interface at a Provider Edge,"Associated EVC: 50, CE-VLAN: 30"
"Ethernet OAM Manager, Connectivity Fault Management (CFM), and Ethernet Local Management Interface (LMI) configuration on a provider edge (PE) device.","- Device> enable
- Device# configure terminal
- Device(config)# ethernet cfm global
- Device(config)# ethernet cfm domain provider level 4
- Device(config-ecfm)# service customer_1 evc test1 vlan 10
- Device(config-ecfm-srv)# continuity-check
- Device(config-ecfm-srv)# continuity-check interval 1s/10s/1m/10m
- Device(config-ecfm-srv)# exit
- Device(config-ecfm)# exit
- Device(config)# ethernet evc test1
- Device(config-evc)# uni count 3
- Device(config-evc)# oam protocol cfm domain provider
- Device(config-evc)# exit
- interface gigabitEthernet 0/5/1
- Device(config-if)# ethernet lmi"
"OAM manager, CFM, and Ethernet LMI configuration over an Xconnect configuration.","1. Service instance on interface Ethernet Uni with CISCO ID:
   - Encapsulation untagged
   - L2protocol peer
   - Bridge-domain 1
2. Service instance on Ethernet1 with VLAN 101:
   - Encapsulation dot1q 2
   - Bridge-domain 2
   - CFM mep domain provider Mpid 10"
Configure Ethernet LMI on a CE device.,"1. Device(config)# ethernet lmi global
2. Device(config)# ethernet lmi ce"
Link Layer Discovery Protocol in Multivendor Networks,"How to Configure Link Layer Discovery Protocol in Multivendor Networks, on page 302"
Find information about platform support and Cisco software image support using Navigator.,"Access Cisco Feature Navigator at www.cisco.com/go/cfn, no account required."
Implementing and using the Link Layer Discovery Protocol (LLDP) in multivendor networks for network topology discovery.,"Support for Type-Length-Value (TLV) types 0 through 127, LLDP-MED, Extended Power-via-Media Dependent Interface (MDI), Inventory, LLDP-MED Capabilities, MAC/PHY Configuration Status, Network Policy, and Port VLAN ID. Restrictions include using LLDP with 802.1 media types such as Ethernet, Token Ring, and Fiber Distributed Data Interface (FDDI) networks, and limiting the maximum number of neighbor entries per chassis on MED-capable network connectivity devices."
"LLDP (Link Layer Discovery Protocol) for network management, accurate network mapping, inventory data, and network troubleshooting.",Devices supporting LLDP can send information about themselves while receiving and recording information about their neighbors. Advertisements are sent out and received on every active and enabled interface.
"Include network topology discovery, inventory management, emergency services, VLAN assignment, and inline power supply. Also, include LLDP and Cisco Discovery Protocol for devices such as IP phones, conference bridges, routers, and switches.",Not provided in the text
Devices must provide IEEE 802 network access to LLDP-MED endpoints.,"There are three classes of LLDP-MED endpoints, including Generic (class 1) for basic participant endpoints like IP communications controllers, Media (class 2) for endpoints that support media streams like media gateways and conference bridges, and Communication Device (class 3) for endpoints that support IP communications end users like IP phones and Softphone."
Discovering types of information supported by LLDP-MED for efficient operation and management of endpoint devices and network devices.,"1. Capabilities - Endpoints determine the types of capabilities that a connected device supports and which ones are enabled.
2. Inventory - Exchange hardware, software, and firmware versions, among other inventory details.
3. LAN speed and duplex - Discover mismatches in speed and duplex settings.
4. Location identification - Endpoints learn their location from a network device for location-based applications on the telephone and emergency calls.
5. Network policy - Network connectivity devices notify telephones about the VLANs they should use.
6. Power - Network connectivity devices and endpoints exchange power information."
"Supports E-911 emergency service, interoperability between multivendor devices, inventory management, and MIB support","Fast start capability, supports plug and play installation"
Network policy TLV and Power management TLV,"VLAN configurations, Layer 2 and Layer 3 attributes, network-policy profile TLV (including values for VLAN, class of service (CoS), differentiated services code point (DSCP), and tagging mode)"
"The requirement is to convey power information such as how the device is powered, power priority, and how much power the device needs. The system should support advertisement of fractional wattage power requirements, endpoint power priority, and endpoint and network connectivity-device power status.","The configuration includes enabling LLDP (Link Layer Discovery Protocol) and using the power TLV (Type, Length, Value) to determine the actual power requirement of the endpoint device for adjusting the system power budget. The switch processes requests and either grants or denies power based on the current power budget, updating the power budget accordingly. If LLDP-MED is disabled or if the endpoint does not support the LLDP-MED power TLV, the initial allocation value is used throughout the system."
Enabling LLDP on a supported interface and setting the LLDP packet hold time.,"1. Enable global configuration mode: Device> enable
2. Enter terminal configuration: configure terminal
3. Disable LLDP-MED TLV or LLDP packet reception on a supported interface: no lldp {med-tlv-select tlv | receive | transmit}
4. Specify the interface type and number and enter interface configuration mode: Device(config)# interface Gigabitethernet 0/1
5. Disable an LLDP-MED TLV or LLDP packet reception on a supported interface: no lldp {med-tlv-select tlv | receive | transmit}
6. Enable LLDP on the Supported Interface: lldp {med-tlv-select tlv | receive | transmit}
7. Set the LLDP packet hold time (in seconds): lldp holdtime seconds"
Setting LLDP Packet Frequency,Device(config)# lldp timer rate {time_value}
Monitoring and maintaining LLDP in multivendor networks.,"enable, show lldp [entry {* | word} | errors | interface [ethernet number]| neighbors [ethernet number| detail]| traffic], clear lldp {counters | table}, end"
Enable LLDP TLV on a supported interface,"enable, configure terminal, interface type number, lldp tlv-select tlv, end"
Enable specific LLDP-MED TLV on a supported interface,Perform this task to enable a specific LLDP-MED TLV on a supported interface.
Enabling and configuring LLDP-MED on a network interface.,"1. Enter privileged EXEC mode by typing ""enable"".
2. Enter global configuration mode by typing ""configure terminal"".
3. Specify the interface type and number on which to enable LLDP-MED by typing ""interface type number"".
4. Enable a specific LLDP-MED TLV on a supported interface by typing ""lldp med-tlv-select tlv""."
Configure a Gigabit Ethernet interface for voice traffic and disable IP address.,"Device1(config)# interface GigabitEthernet0/1/7
Device1(config-if)# switchport voice vlan 10
Device1(config-if)# no ip address"
"Configure LLDP timer, hold time, and TLVs options on Device 2.","Device> enable; Device# configure terminal; Enter configuration commands, one per line. End with CNTL/Z.; Device(config)# lldp run; Device(config)# lldp holdtime 150; Device(config)# lldp timer 15; Device(config)# lldp tlv-select port-vlan; Device(config)# lldp tlv-select mac-phy-cfg; Device2(config)# interface ethernet 0/0"
Configuring Voice VLAN,Not provided in the text.
Enabling LLDP transmission on the interfaces of Device2,lldp transmit on Device2's interface
"Configure LLDP on Device 1 with hold time, timer, and TLV options.","Enable LLDP, set hold time to 150, set timer to 15, select port-vlan and mac-phy-cfg as TLV options."
Support for Link Layer Discovery Protocol (LLDP) in Cisco software releases,"IEEE 802.1ab LLDP, commands introduced or modified: clear lldp, lldp and show lldp"
LLDP-MED Support for VoIP applications,"Platforms supported: Cisco 5700 Series Wireless LAN Controllers, Cisco Catalyst 3850 Series Switches, Cisco Catalyst 3650 Series Switches"
Implement Aggregation Control Protocol (LACP) with Multichassis LACP (mLACP) feature,"Configure mLACP as described in ""How to Configure mLACP, on page 330"" and follow configuration examples for mLACP found on page 360."
Implementing a mechanism to prevent forwarding loops over the redundant setup using Multichassis Link Aggregation Control Protocol (MLACP) for dynamic negotiation and establishment of LAGs.,"Enabling Multichassis Link Aggregation Control Protocol (MLACP) on DHD's uplinks placed in a LAG, commonly referred to as EtherChannel. This assumes the DHD is capable of running only IEEE 802.3ad LACP for establishing and maintaining the LAG."
"mLACP operation in independent mode, use of preferential forwarding status bit, local and remote PEs determining their own pseudowire status.","The attachment circuit redundancy mechanism determines and controls the pseudowire redundancy mechanism. mLACP system and port priorities are configured to determine the status of the attachment circuit on a given PoA, and then the status of the pseudowires on a given PoA is synchronized with that of the"
"Dual-Homed Topology and mLACP feature for LACP state machine and protocol operation in a dual-homed topology, adherence to IEEE 802.3ad standard.",Not specified in the text provided.
Highest LACP priority and specifying system MAC address and system priority values for a given redundancy group.,mlacp system-mac mac-address and mlacp system-priority priority-value commands in Cisco IOS Release 12.2(33)SRE.
Unique identification of ports within a system using a 4-byte port identifier.,"The port identifier is the concatenation of the 2-byte Port Priority and 2-byte Port Number, with Port Priority in the most significant two octets and Port Number making up the third and fourth octets."
Prevent overlap in LACP port priority configuration.,"Port priority values must be set consistently for all member links within a LAG, and the port priorities for active PoA should be higher than those for standby PoA in multichassis operation with active/standby redundancy mode."
Extend LACP to operate over a multichassis setup and synchronize protocol attributes and states between the two chassis.,"Coordination of system MAC address between the two PoAs is essential for masking the DHD from its connection to two disjointed devices. In Cisco IOS software, the LACP system MAC address defaults to the ROM backplane base MAC address and cannot be changed by configuration."
"The requirement is to configure the System MAC address and ensure that it has a lower numeric value for higher system priority, making sure that the addresses are uniform on both PoAs.",The configuration should include setting the System MAC address with a lower numeric value to provide higher system priority and ensuring uniformity of the addresses on both PoAs.
Monitoring LSP and PE isolation for associated service instances.,"Native redundancy and resiliency mechanisms such as MPLS fast reroute (FRR), mLACP solution, and native IP/MPLS protection procedures."
Define core-facing interfaces for each redundancy group using explicit configuration. Failure point E should be monitored and trigger failover for all multichassis LAGs configured on a given PoA.,"Configure more ports with the same key than the number of links a device can aggregate in a given LAG, normally through hardware or software restrictions, or due to configuration (e.g., active/standby redundancy)."
"DHD-based control with max-bundle value equal to L, where L is the fewest number of links connecting the DHD to a PoA.","Maximum number of links per bundle should be greater than one. The selection of the active/standby link depends on the relative port priority and system priority. The DHD must be configured with the max-bundle value equal to L, where L is the fewest number of links connecting the DHD to a PoA."
"The DHD controls the selection of active/standby links, and it must be used with a PoA minimum link threshold failure policy where the threshold is set to L.",By configuring the PoA's virtual LACP instance with a lower system priority value than the DHD's system priority.
The system should limit the maximum number of links per bundle to be equal to the number of links going to the PoA. Both DHD and PoA should independently select the active/standby link.,"DHD should be configured with a parameter set to some value greater than L, and both DHD and PoA should be limited to the maximum number of links per bundle equal to L."
LACP fast-switchover feature support for both DHD and PoAs to provide a failover time of less than one second.,lacp min-links command used to configure the minimum threshold for forcing mLACP failover to standby PoA's member links.
Failure detection and automatic failover in active PoA and active PoA uplinks.,"mLACP, standby PoA, ICRM, DHD-controlled variant, dynamic port priority."
Dynamic port priority functionality for mLACP in both revertive and nonrevertive modes.,"mlacp lag-priority command, lacp failover non-revertive command in interface configuration mode."
MAC Flushing Mechanisms for multichassis redundancy in multipoint bridged services to prevent traffic blackholing.,N/A (not provided in text)
The requirement is to configure the mLACP feature for PE redundancy in traditional VPLS.,Configure Interchassis Group and Basic mLACP Commands (Global Redundancy Group Configuration) to set up the communication between multiple PoAs and to enable the MAC flushing mechanism based on the LDP MAC Address Withdraw message.
Configuring interchassis redundancy with BFD monitoring and defining MLACP member settings.,"1. Enter redundancy configuration mode: `Router# configure terminal`
2. Configure interchassis redundancy: `Router(config)# redundancy`
3. Define the interchassis group ID: `Router(config-red)# interchassis group group-id`
4. Example: `Router(config-red)# interchassis group 50`
5. Configure BFD to monitor the state of the peer: `Step 4`
6. Set the IP address of the mLACP peer member: `Step 6`
7. Example: `Router(config-r-ic)# member ip 172.3.3.3`
8. Define the node ID used in the LACP Port ID field by this member of the mLACP redundancy group: `Step 7`
9. Example: `Router(config-r-ic)# mlacp node-id 5`"
Return the CLI to privileged EXEC mode,enable
Configure port channel and interface configuration,Router(config)# interface port-channel port-channel-number
Configure max-bundle links connected to the PoA such that the value of the max-bundles argument is not less than the total number of links in the LAG that are connected to the PoA.,lacp max-bundle 4
"The channel is an mLACP port channel, and it should have a matching group-id for redundancy.",interchassis group group-id
Configuring Redundancy for VPWS,"1. enable
2. configure terminal
3. pseudowire-class pw-class-name
4. encapsulation mpls
5. status peer topology dual-homed
6. exit
7. interface port-channel port-channel-number
8. no ip address
9. lacp fast-switchover
10. lacp max-bundle max-bundles
11. exit
12. redundancy
13. interchassis group group-id
14. exit
15. exit
16. interface port-channel port-channel-number
17. service instance id ethernet [evc-name]
18. encapsulation dot1q vlan-id [, vlan-id[- vlan-id]] [native]
19. exit
20. xconnect peer-ip-address vc-id {encapsulation mpls | pw-class pw-class-name} [pw-class pw-class-name] [sequencing {transmit | receive | both}]
21. backup peer peer-router-ip-addr vcid [pw-class pw-class-name] [priority value]
22. end"
"Enter global configuration mode and configure a pseudowire class with MPLS encapsulation, status peer topology dual-homed, and exit the pseudowire class configuration mode.","1. Enter global configuration mode: `configure terminal`
2. Specify the name of a Layer 2 pseudowire class and enter pseudowire class configuration mode: `pseudowire-class pw-class-name`
3. Specify that MPLS is used as the data encapsulation method for tunneling Layer 2 traffic over the pseudowire: `encapsulation mpls`
4. Enable the reflection of the attachment circuit status onto both the primary and secondary pseudowires: `status peer topology dual-homed`
5. Exit pseudowire class configuration mode: `exit`"
"Configure port-channel with no IP address assigned, enable LACP fast-switchover and configure max-bundle links.","1. Step 7: Router(config)# interface port-channel1
2. Step 8: Router(config-if)# no ip address
3. Step 9: Router(config-if)# lacp fast-switchover"
Configure a subinterface in a VLAN with encapsulation dot1q and vlan-id.,"subinterface in a VLAN, encapsulation dot1q vlan-id [, vlan-id[- vlan-id]], [native]."
Bind an attachment circuit to a pseudowire,xconnect peer-ip-address vc-id {encapsulation mpls | pw-class pw-class-name} [pw-class pw-class-name] [sequencing {transmit | receive | both}]
Pseudowire status peer topology dual-homed configuration is necessary if the peer PE devices are connected to a dual-homed device.,Router(config-pw-class)# status peer topology dual-homed
Multichassis LACP port channel,interchassis group group-id
Configuring Redundancy for VPLS,"Coupled and Decoupled Modes for VPLS, enable, configure terminal, l2 vfi"
Configure Multichassis LACP (mLACP) port-channel for redundancy in VPLS.,"Set the group-id to match the configured redundancy, and exit the interchassis redundancy mode."
"Configure redundancy for VPLS on Cisco ME3600, ME3600X 24CX, ME3800 series switches.","1. enable
2. configure terminal
3. l2 vfi name manual
4. vpn id vpn-id
5. status decoupled
6. neighbor neighbor ip-address vc-id {encapsulation mpls | pw-class pw-class-name}
7. exit
8. interface port-channel port-channel-number
9. switchport mode trunk
10. switchport trunk allowed vlan none
11. lacp fast-switchover
12. lacp max-bundle max-bundles
13. exit
14. redundancy
15. interchassis group group-id
16. exit
17. exit
18. interface port-channel port-channel-number
19. service instance id ethernet [evc-name]
20. encapsulation dot1q vlan-id [, vlan-id[- vlan-id]] [native]
21. bridge-domain bridge-id [split-horizon [group group-id]]
22. exit
23. interface vlan vlanid
24. no ip address
25. xconnect vfi vfi-name
26. end"
Enabling privileged EXEC mode,"Enter your password if prompted, then use the command ""Router> enable"""
Entering global configuration mode and configuring a Layer 2 Virtual Routing and Forwarding (VRF) instance.,"configure terminal, l2 vfi name manual, l2 vfi vfi1 manual, vpn id vpn-id, vpn id 100, status decoupled, neighbor neighbor ip-address vc-id {encapsulation mpls | pw-class pw-class-name}, neighbor 10.1.1.1 50 encapsulation mpls"
Enable LACP 1-to-1 link redundancy and configure maximum number of bundles for PoA.,"lacp fast-switchover, lacp max-bundle [number], interchassis group [group-id]."
Enable IEEE 802.1Q encapsulation on a specified subinterface in a VLAN.,"service instance 1 ethernet; encapsulation dot1q vlan-id [, vlan-id[- vlan-id]]; [native]"
Specifying the data encapsulation method for tunneling Layer 2 traffic over the pseudowire using MPLS.,encapsulation mpls
Configure mLACP port channel with interchassis redundancy group-id matching the configured redundancy group.,"Router(config)# redundancy
Router(config-red)# interchassis group 230"
"Configure Hierarchical VPLS (H-VPLS) on Cisco ME3600, ME3600X 24CX, ME3800 series switches.","1. enable
2. configure terminal
3. pseudowire-class pw-class-name
4. encapsulation mpls
5. status peer topology dual-homed
6. status decoupled
7. exit
8. interface port-channel port-channel-number
9. switchport mode trunk
10. switchport trunk allowed vlan none
11. lacp fast-switchover
12. lacp max-bundle max-bundles
13. exit
14. redundancy
15. interchassis group group-id
16. exit
17. exit
18. interface port-channel port-channel-number
19. service instance id ethernet [evc-name]
20. encapsulation dot1q vlan-id [, vlan-id[-vlan-id]] [native]
21. exit
22. xconnect peer-ip-address vc-id {encapsulation mpls | pw-class}"
Enable privileged EXEC mode and configure MPLS for encapsulation in a pseudowire class.,"1. Enter your password if prompted.
2. Router> enable
3. Enters global configuration mode.
4. configure terminal
5. Specifies the name of a Layer 2 pseudowire class and enters pseudowire class configuration mode.
6. pseudowire-class pw-class-name
7. Specifies that MPLS is used as the data encapsulation method for tunneling Layer 2 traffic over the pseudowire.
8. encapsulation mpls
9. Enables the reflection of the attachment circuit status onto both the primary and secondary pseudowires. This status peer topology dual-homed.
10. Router(config-pw-class)# status peer topology dual-homed (Optional) Enables decoupled mode. The state of the attachment circuits on the uPE is"
Debugging of interchassis redundancy and LACP activity,debug redundancy interchassis {all | application | error | event | monitor} and debug lacp [all | event| fsm| misc| multi-chassis [all | database | lacp-mgr | redundancy-group | user-interface] | packet]
Debugging for etherchannel component.,debug lacp etherchannel
Enabling privileged EXEC mode on a router.,"1. Use the ""enable"" command to enter privileged EXEC mode.
2. If prompted, enter your password."
Enabling the display of AToM events when AToM is configured for nonstop forwarding/stateful switchover (NSF/SSO) and Graceful Restart.,debug mpls l2transport checkpoint
MPLS LDP Graceful Restart and MPLS Label Protocol,"mpls ldp graceful-restart, mpls label protocol ldp"
- Redundancy in SSO (Single System Operation) mode,"- Backbone interface: Ethernet0/2
- Monitor peer BFD (Bit Flip Detection) on backbone interface Ethernet0/2
- MLACP node-id 0 and 1
- Service instance 1 for Port-channel1
- Encapsulation dot1q 100 on Port-channel1
- Bridge-domain 200 on Port-channel1
- Layer 2 VFI VPLS_200
- VPN ID: 10
- Interface Loopback0 with IP address 200.0.0.1
- Interface Ethernet0/0 as active member of channel-group 1
- Interface Ethernet1/3 with IP address 10.0.0.200 and MPLS enabled
- Interface Vlan200 with Xconnect vfi VPLS_200 for standby PoA
- MPLS LDP graceful-restart and protocol LDP for VPLS"
Inter-Chassis Group Configuration and Monitoring,"interchassis group 1
member ip 201.0.0.1
backbone interface Ethernet0/2
backbone interface Ethernet1/2
backbone interface Ethernet1/3
monitor peer bfd"
"EtherChannel configuration with Eth VLAN 2 on Po1 and Po2, both with IP addresses 172.2.2.2 and 172.4.4.4 respectively.","- Po1(Eth VLAN 2): IP address 172.2.2.2, port-channel number 1, LACP protocol.
- Po2(Eth VLAN 2): IP address 172.4.4.4, port-channel number 2, LACP protocol."
Primary Aggregator configuration for Port-channel,"Logical slot/port - 14/11, Number of ports - 2, HotStandBy port - null, Passive port list - Gi9/15 Gi9/16, Protocol - LACP, Fast-switchover - enabled, Direct Load Swap - disabled"
"Display the LACP parameters, local configuration, status of the backbone uplink, peer information, node ID, channel, state, priority active and inactive links for the multichassis group.",Router# show lacp multichassis group 100
"- Display the interface port-channel value channel group, LAG state, priority, inactive links peer configuration, and standby links using the show lacp multichassis port-channel command.","- Interface Port-channel1 (Local Configuration)
  - Address: 0014.6a8b.c680
  - Channel Group: 1
  - State: Standby
  - LAG State: Up
  - Priority: 32768
  - Inactive Links: 0
  - Total Active Links: 4
  - Bundled: 0
  - Selected: 0
  - Standby: 4
  - Unselected: 0
- Interface Port-channel1 (Peer Configuration)
  - Address: 000a.f331.2680
  - Channel Group: 1
  - State: Active
  - LAG State: Up
  - Priority: 28000
  - Inactive Links: 0
  - Total Active Links: 4
  - Bundled: 4
  - Selected: 4
  - Standby: 0
  - Unselected: 0"
The requirement is not explicitly mentioned in the given text.,"rg_id: 100, peer addr: 172.1.1.1, ldp_session 0x2, client_id 0, app type: MLACP"
Show MPLS L2Transport VC configuration for virtual circuit ID 2.,"Local interface - Po1 (Eth VLAN 2), Destination address - 172.2.2.2, VC ID - 2, Status - Standby."
"Display the LACP parameters, local configuration, status of the backbone uplink, peer information, node ID, channel, state, priority active and inactive links for a specific Interchassis Redundancy Group.","Use the ""show lacp multichassis group"" command to view the desired LACP information for a specific Interchassis Redundancy Group."
"Display device, port, and member-link information related to LACP using the ""show lacp internal"" command.","The configuration is not explicitly stated in the provided text. However, it can be inferred that the command ""show lacp internal"" can display various flags and states such as S (Slow LACPDUs), F (Fast LACPDUs), A (Active mode), P (Passive mode), Admin, Oper, Port number, and more."
Dual-homed network (DHN) for redundancy.,Multichassis LACP (mLACP).
The service instance must be on a Pseudo mLACP port channel and cannot be mixed with primary and secondary VLAN lists.,DHD nodes must support the LACP functionality and MVRP MAC flush functionality in Pseudo mLACP topology.
"Active/active mode redundancy in two PoAs in a redundancy group for higher bandwidth utilization, flexible access network topologies, control over provisioning, role assignment, failover, and load sharing between PoAs, PE node redundancy for VPWS, VPLS, and native Ethernet aggregation.",The DHD is configured with two different port channels connected to a single multichassis LAG (mLAG) on the PoA side. The LACP module on the PoAs receives two different port keys from the two different port channels on the DHD. The mLAG on the PoA ignores the port keys from the DHD's LACP PDUs to form a single bundle on the PoA side.
Configure ICCP Multichassis VLAN Redundancy and Port Channel for Pseudo mLACP,"1. Enable privileged EXEC mode.
2. Enter global configuration mode.
3. Configure the port channel and enter interface configuration mode.
4. Set the port channel as an mLACP port-channel."
Configure interchassis group for Multichassis VLAN Redundancy,Router(config-if)# mlacp interchassis group <group-id>
Configure the port channel on the active and standby PoA for Pseudo mLACP.,"1. Active PoA-POA1
   a. Router# configure terminal
   b. Router(config)# interface port-channel1
   c. Router(config-if)# mlacp interchassis group 1
   d. Router(config-if)# mlacp mode active-active
   e. Router(config-if)# mlacp load-balance primary vlan 10,20
   f. Router(config-if)# mlacp load-balance secondary vlan 30,100
   g. Router(config-if)# end
   
2. Standby PoA-POA2
   a. Router# configure terminal
   b. Router(config)# interface port-channel1
   c. Router(config-if)# mlacp interchassis group 1
   d. Router(config-if)# mlacp mode active-active
   e. Router(config-if)# mlacp load-balance primary vlan 30,100
   f. Router(config-if)# mlacp load-balance secondary vlan 10,20
   g. Router(config-if)# end"
MC-LAG TCN Interworking for MAC flushing in the access network using MSTP with Topology Change Notification (TCN) scheme.,Ethernet Flow Points (EFPs) towards the core and access networks must support the MSTP instance.
DHD access node(s) must support MSTP TCN and MSTP TCN enabled port channel interface must be compliant with High Availability (HA) synchronization.,"Enabling MAC mode for multichassis LACP (mLACP) or Pseudo mLACP (P- mLACP), creating a mLACP sub-block, and configuring the P-mLACP mode before enabling MSTP TCN. Additionally, ensuring that port channel configuration on both Point of Attachments (PoAs) is the same, including EFP IDs, and each PoA may be connected to the DHD with a different number of links for the Link Aggregation Group (LAG) (and hence configured with a different value for the max-links value)."
Enable Multiple Spanning Tree (MST) for VLANs on a device.,"1. Enter global configuration mode using the command 'configure terminal'.
2. Set spanning-tree mode to MST using the command 'spanning-tree mode mst'.
3. Extend system ID with the command 'spanning-tree extend system-id'.
4. Enter MST configuration submode using the command 'spanning-tree mst configuration'.
5. Specify the name of an MST region using the command 'name name'.
6. Specify the revision number for the MST using the command 'revision version'."
Enabling MST for VLANs,Device(config-mst)# revision 1
"Current root has priority 32769, address 2834.a252.7380, Port path cost 20000, Port priority 128, Port Identifier 128.14","hello time 2, max age 20, forward delay 15, transmit hold-count 6"
Enable MSTP TCN Sequence on MC-LAG Interworking,"1. Active PoA-POA1
   - Device# configure terminal
   - Device(config)# interface port-channel1
   - Device(config-if)# mlacp interchassis group 1
   - Device(config-if)# mlacp mode active-active
   - Device(config-if)# mlacp mac mstp-tcn
   - Device(config-if)# mlacp load-balance primary vlan 10,20
   - Device(config-if)# mlacp load-balance secondary vlan 30,100
   - Device(config-if)# end

2. Standby PoA-POA2
   - Device# configure terminal
   - Device(config)# interface port-channel1
   - Device(config-if)# mlacp interchassis group 1
   - Device(config-if)# mlacp mode active-active
   - Device(config-if)# mlacp mac mstp-tcn
   - Device(config-if)# mlacp load-balance primary vlan 30,100
   - Device(config-if)# mlacp load-balance secondary vlan 10,20
   - Device(config-if)# end"
Monitor BFD (Bidirectional Forwarding Detection) on the peer.,"- Backbone interface: GigabitEthernet0/0/2 and GigabitEthernet0/0/1
- MLACP System MAC Address: 0001.0001.0001
- MLACP System Priority: 100
- MLACP Node ID: 1"
Rewrite ingress tag pop 1 symmetric,bridge-domain 212 split-horizon
MLACP configuration for interchassis grouping and load balancing across multiple VLANs.,"- mlacp interchassis group 100
- mlacp mode active-active
- mlacp mac mstp-tcn
- mlacp load-balance primary vlan 110-120
- mlacp load-balance secondary vlan 100-109"
Multichassis Link Aggregation Control Protocol (MC-LAG) with Carrier Ethernet support,"1. bridge-domain 202 split-horizon
2. service instance 20 ethernet
   - encapsulation dot1q 110
   - rewrite ingress tag pop 1 symmetric
   - xconnect 3.3.3.3 91 encapsulation mpls
3. bridge-domain 211
4. service instance 21 ethernet
   - encapsulation dot1q 111
   - rewrite ingress tag pop 1 symmetric
5. service instance 22 ethernet
   - encapsulation dot1q 112
   - rewrite ingress tag pop 1 symmetric
6. bridge-domain 212 split-horizon"
MC-LAG TCN Interworking with MVRP and MSTP TCN for MAC Flushing in Dual Homed Device (DHD) switches.,"Multiple VLAN Registration Protocol (MVRP), Multiple Spanning Tree Protocol with Topology Change Notification (MSTP TCN) scheme, mlacp mac mstp-tcn, show ethernet service, show spanning-tree detail. Cisco IOS XE Release 3.17S."
CFM must be configured and enabled for Y.1731 fault management features to function.,"IEEE CFM cannot coexist with the Per VLAN Spanning Tree (PVST) protocol, and IEEE CFM cannot operate with the following line cards on the same system: FI_WS_X6196_RJ21, FI_WS_X6196_RJ45, FI_WS_X6548_RJ21, FI_WS_X6548_RJ45."
"Dying gasp is generated in specific conditions (e.g., administratively disabling 802.3ah, link down caused by administration down, power failure, reload).","Requirement: Dying gasp is generated in specific conditions (e.g., administratively disabling 802.3ah, link down caused by administration down, power failure, reload).
Configuration: Administratively disabling 802.3ah does not disrupt traffic and should not generate an AIS unless the Reason field is empty in Cisco routers and non-Cisco routers interworking."
"The requirement is for the maintenance point ID (MPID) of the MEP to be the same as the receiving MEP's MPID, and for each MEP to maintain a list of its peer MPIDs during provisioning. Additionally, the ETH-AIS function must suppress alarms when a defect condition is detected at either the server layer or the server sublayer (virtual MEP).","The configuration is for the ETH-AIS function, which can be enabled or disabled on either a MEP or a SMEP. Transmission of frames carrying ETH-AIS information must be configured accordingly."
"ETH-AIS should not be applied in STP environments; however, it can be configured by a network administrator. Only MEP or SMEP can send frames with ETH-AIS information.",AIS transmission frequency and period can be configured by the network administrator.
"The requirement is to configure the transmission interval for AIS frames, and it should be such that a MEP clears a defect condition only if no AIS frames are received within a time period equal to 3.5 times the configured transmission interval.","The recommended configuration is an AIS transmission period of one second. However, an AIS transmission period of one minute is supported to enable ETH-AIS across all VLANs supported by IEEE CFM."
Configure ITU-T Y.1731 Fault Management Functions,"1. Enable privileged EXEC mode.
2. Enter global configuration mode.
3. Enable Ethernet CFM AIS link status globally.
4. Disable Ethernet CFM AIS function.
5. Exit global configuration mode.
6. Configure Ethernet CFM domain settings.
7. Configure service settings.
8. Disable AIS settings (expiry-threshold, level, period, suppress-alarms).
9. End configuration mode."
Enable the AIS function for a specific maintenance association.,ais [expiry-threshold threshold | level level-id | period seconds| suppress-alarms]
Provisions a MIP at a specified maintenance level on an interface.,"ethernet cfm mip level level-id [vlan {vlan-id| vlan-id - vlan-id| , vlan-id - vlan-id}]"
Traceroute cache hold-time,60 seconds
Enable AIS on the Ethernet CFM domain with a level of 7 and an AIS period of 1.,"```
ethernet cfm domain PROVIDER_DOMAIN level 4
service customer101provider evc customer101provider@101 vlan 101
continuity-check
ais period 1
ais level 7
service customer110provider evc customer110provider@110 vlan 110
continuity-check
!
ethernet cfm ais link-status global
disable
!
!
interface Ethernet 0/1
no ip address
ethernet oam remote-loopback supported
ethernet oam
ethernet cfm mip level 4 vlan 1,101,110
ethernet cfm ais link-status
!
```"
Transmit AIS with default settings and suppress alarms when enabled.,"Interface: Ethernet0/0, AIS-Status: Enabled, AIS Period: 60000 (ms)."
Level to transmit AIS,Level to transmit AIS: 4 (default)
ITU-T Y.1731 Fault Management Functions feature,"Adds ETH-AIS and ETH-RDI functions for fault detection, fault verification, and fault isolation in large MANs and WANs; introduces/modifies commands ais and clear"
Configure IP SLAs Metro-Ethernet 3.0 (ITU-T Y.1731) for dual-ended Ethernet delay or delay variation operation in the correct order.,"1. Switch ON the control-word if the remote end is not switched ON.
2. Ensure to have Y1731 sender as PTP master, and the Y1731 responder as PTP slave for RX and TX timestamping.
3. Reconfigure IP SLA Y1731 while doing online insertion removal (OIR) of IM or router reload if local MEP is deleted during the course.
4. Use non-zero CoS value in dot1q tag when testing delay or loss of packets with a specific CoS for IPSLA Y.1731 PM session."
"To remove the MEP configurations in an already-configured dual-ended operation, always remove the MEPs in the reverse order in which they were configured. That is, remove the scheduler first, then the threshold monitoring configuration, and then the sender MEP configuration on the source device before removing the scheduler, proactive threshold monitoring, and receiver MEP configuration on the destination device.","1. enable
2. configure terminal
3. ip sla operation-number
4. ethernet y1731 delay receive 1DM domain domain-name {evc evc-id | vlan vlan-id} cos cos {mpid source-mp-id | mac-address"
Configure the receiver on the responder and enter IP SLA Y.1731 delay configuration mode.,ethernet y1731 delay receive 1DM domain domain-name {evc evc-id | vlan vlan-id} cos cos {mpid source-mp-id | mac-address source-address}
Set delay variation and frame offset values for IP SLAs Ethernet operation.,"- delay-variation one-way 5
- frame offset offset-value (e.g., Router(config-sla-y1731-delay)# frame offset 1)"
Configuring IP SLAs Metro-Ethernet 3.0 (ITU-T Y.1731) Operations and Configuring the Sender MEP on the Source Router,"- ethernet y1731 delay
- 1DM domain domain-name {evc evc-id | vlan vlan-id} {mpid target-mp-id | mac-address target-address} cos cos {source {mpid source-mp-id | mac-address source-address}}
- aggregate interval seconds
- frame interval milliseconds
- frame size bytes
- history interval intervals-stored
- owner owner-id"
Monitoring Ethernet frame loss using the monitor loss counter command on devices at both ends of the operation.,"Cisco IOS Y.1731 implementation allows monitoring of frame loss for frames on an EVC regardless of the CoS value (any CoS or Aggregate CoS cases). Refer to the ""Configuration Examples for IP SLAs Metro-Ethernet 3.0 (ITU-T Y.1731) Operations"" section for specific configuration instructions."
Configure IP SLAs Ethernet operation with frame interval and history interval settings.,"Step 8
Device(config-sla-y1731-loss)# frame interval 100

Step 9
Device(config-sla-y1731-loss)# history interval 2"
Scheduled must be already configured. The frequency of all operations scheduled in a multioperation group must be the same.,"The list of one or more operation ID numbers to be added to a multioperation group must be limited to a maximum of 125 characters in length, including commas (,)."
Enable and configure IP SLA operations,"• Enter one of the following commands:
  - ip sla schedule operation-number [life {forever | seconds}] [start-time {[hh:mm:ss] [month day | day month] | pending | now | after hh:mm:ss}] [ageout seconds] [recurring]
  - ip sla group schedule group-operation-number operation-id-numbers {schedule-period schedule-period-range | schedule-together} [ageout seconds] frequency group-operation-frequency [life {forever | seconds}] [start-time {hh:mm [:ss] [month day | day month] | pending | now | after hh:mm [:ss]}]
• show ip sla group schedule
• show ip sla configuration"
Display IP SLAs group schedule details.,"show ip sla group schedule 1 3,4,6-9"
"Statistics Parameters, Distribution Delay One-Way, Distribution Delay-Variation One-Way, History","- Aggregation Period: 900
- Frame offset: 1
- Number of Bins: 10 (for both Distribution Delay One-Way and Distribution Delay-Variation One-Way)
- Bin Boundaries: 5000,10000,15000,20000,25000,30000,35000,40000,45000,-1 (for both Distribution Delay One-Way and Distribution Delay-Variation One-Way)
- Number of intervals: 2 (for History)"
Frame Delay and Frame Delay Variation Measurement Configuration,N/A (The text does not provide a specific configuration)
"- Statistics Parameters: Aggregation Period, Frame offset, Distribution Delay Two-Way, Distribution Delay-Variation Two-Way, History, Number of intervals.","- Aggregation Period: 900
- Frame offset: 1
- Distribution Delay Two-Way: Number of Bins = 10, Bin Boundaries = 5000,10000,15000,20000,25000,30000,35000,40000,45000,-1
- Distribution Delay-Variation Two-Way: Number of Bins = 10, Bin Boundaries = 5000,10000,15000,20000,25000,30000,35000,40000,45000,-1
- History: Number of intervals = 2
- Ethernet Y1731 Loss Operation: Frame Type = LMM, Domain = xxx, Vlan = 12, Target Mpid = 34, Source Mpid = 23, CoS = 4, Request size (Padding portion) = 0, Frame Interval = 1000, Operation frequency (seconds) = 60"
VXLAN-MCLAG Active-Active High Availability Support feature implementation on Cisco ASR1000 Series Aggregation Services Routers.,Dual-home device with pseudo Multichassis Link Aggregation Control Protocol (pMLACP) redundancy mode and layer 2 VxLAN.
Configuring Interchassis Redundancy Groups on PoA,"1. enable
2. configure terminal
3. redundancy
4. interchassis group
group-id"
"Configure the member IP, peer monitoring method, MLACP node ID, and backbone interface.","5. member ip peer ip address - Example: Device(config-r-ic)# member ip 172.168.40.24
6. monitor peer [bfd | track] - Example: Device(config-r-ic)# monitor peer bfd
7. mlacp node-id node id - Example: Device(config-r-ic)# mlacp node-id 2
8. backbone interface backbone if - Not provided in the text, please provide the command or action for this configuration."
Configuring mLACP peer PoA RG ID and mlacp interchassis group rg id,Step 6 - Device(config-if)# mlacp interchassis group 2
Enable mLACP active-active POA redundancy.,mlacp mode active-active
"Configure network virtualization endpoint interface, VNI information, remote Peer IPV4 Address, and interface loopback.","1. Device(config)# interface nve
2. Device(config-if)# member vni 7777
3. Device(config-if-nve-vni)# ingress-replication 99.1.1.1
4. Device(config-if)# source-interface Loopback10
5. Device(config-if)# no shutdown"
Configuring Dual-homed Device,"1. enable
2. configure terminal
3. interface Port-channel number
4. switchport group-id
5. switchport trunk encapsulation"
Configuring Dual-homed Device using dot1q trunking and allowing VLANs 20-50.,"switchport trunk encapsulation dot1q, switchport trunk allowed vlan 20-50, interface GigabitEthernet3/1, switchport trunk encapsulation dot1q, switchport trunk allowed vlan 20-50."
Enables privileged EXEC mode and configures ethernet channel of interfaces on a switch.,"1. Enable privileged EXEC mode using the 'enable' command.
2. Enter global configuration mode using the 'configure terminal' command.
3. Configure an Ethernet channel of interfaces using the 'interface Port-channel number' command.
4. Set the interface as an Ethernet interface using the 'switchport group-id' command.
5. Define the encapsulation format as IEEE 802.1Q (dot1q) for the specified interface using the 'switchport trunk encapsulation dot1q' command.
6. Specify that only certain VLANs are allowed on the specified trunk using the 'switchport trunk allowed vlan 20-50' command.
7. Set the interface as an Ethernet trunk port using the 'switchport mode trunk' command."
Configuring dual-homed device for VXLAN-MCLAG Active-Active High Availability Support.,"1. Enter interface configuration mode on the Gigabit Ethernet interface (Step 8).
2. Configure the interface as a trunk (Step 7)."
"None BLCK 258, Port-channel1 service instance 20, AED MAC address, Policy, Tag, Age, Pseudoport, VNI7777, VxLAN","nve2.VNI8888, 16908308, None FRWD 285, Port-channel1.EFP40"
1. Port-Channel 1 enabled and active,"1. Interface Port-Channel 1
2. P-mLACP Enabled: Yes
3. Redundancy Group: 1
4. Revertive Mode: Revertive
5. Primary VLANs: 20
6. Secondary VLANs: 40"
Configuring VXLAN HA on Multicast Mode for VXLAN-MCLAG Active-Active High Availability Support.,"1. Enable multicast routing with the command ""ip multicast-routing distributed"".
2. Enable PIM bidirectional mode with the command ""ip pim bidir-enable"".
3. Set the PIM rendezvous point (RP) address with the command ""ip pim rp-address 4.4.4.4 bidir"".
4. Configure redundancy mode with the command ""redundancy mode sso"".
5. Define interchassis group with the command ""interchassis group 1"".
6. Enable Bidirectional Forwarding Detection (BFD) with the command ""monitor peer bfd"".
7. Set MLAG system priority with the command ""mlacp system-priority 200"".
8. Define MLAG node ID with the command ""mlacp node-id 0"".
9. Configure bridge domains and VXLANs with appropriate member interfaces and service instances."
VXLAN-MCLAG Active-Active High Availability Support,mlacp mode active-active; mlacp load-balance primary vlan 40; mlacp load-balance secondary vlan 20; service instance 20 ethernet encapsulation dot1q 20; service instance 40 ethernet encapsulation dot1q 40; interface nve1 member vni 7777 mcast-group 225.1.1.1
Implementing Multicast VPN (mVPN) using PIM and BGP EVPN on a network device.,"- Interface Loopback10 with IP address 77.1.1.1/32 and PIM Sparse-Mode enabled.
- Interface Loopback11 with IP address 88.1.1.1/32 and PIM Sparse-Mode enabled.
- Interface GigabitEthernet0/1/0 with IP address 192.168.20.1/24, PIM Sparse-Dense-Mode, and Negotiation Auto enabled.
- OSPF configuration with Router ID 3.3.3.3 and Network 0.0.0.0 255.255.255.255 Area 10.
- Second POA (POA2) configuration: IP Multicast-Routing Distributed, PIM Bidirectional Mode enabled, PIM RP Address 4.4.4.4 with Bidirectional, Redundancy in SSO Mode, Interchassis Group 1, Monitor Peer BFD, Member IP 3.3.3.3, Backbone Interface GigabitEthernet0/0/1, MLACP System-Priority 200, MLACP Node-ID 1, Bridge-Domain 20 with VNI 7777 and Port-channel1 service-instance 20, Bridge-Domain 40 with VNI 8888 and Port-channel1 service-instance 40.
- Interface Loopback10: IP address 77.1.1.1/32 and PIM Sparse-Mode enabled.
- Interface Loopback11: IP address 88.1.1.1/32 and PIM Sparse-Mode enabled.
- Interface Port-channel1: No IP Address, Negotiation Auto enabled."
"MLACP load balancing with primary VLAN 20 and secondary VLAN 40, service instance 20 and 40 for Ethernet.","Service instance 20 Ethernet, encapsulation dot1q 20; service instance 40 Ethernet."
- Configure Loopback interface with IP address 88.1.1.1 and subnet mask 255.255.255.255.,"- Configure Loopback11 and Loopback10 interfaces with IP addresses 88.1.1.1 and 3.3.3.3, respectively.
- Configure nve1 and nve2 interfaces without IP addresses, adding vni members 7777 and 8888, respectively.
- Set source-interface for Loopback10 and Loopback11 as Loopback11 and Loopback10, respectively.
- Configure OSPF router with router-id 3.3.3.3 and network 0.0.0.0 255.255.255.255 area 10.
- Configure POA2 redundancy mode sso, interchassis group 1, monitor peer bfd, member ip 3.3.3.3, and backbone interface GigabitEthernet0/0/1. Set mlacp system-priority to 200 and mlacp node-id to 1.
- Create bridge-domain 20 with vni member 7777 and Port-channel1 service instance 20.
- Create bridge-domain 40 with vni member 8888."
"- Port-channel configuration with specific settings (lacp, mlacp, etc.)","- Port-channel1: negotiation auto, lacp fast-switchover, mlacp interchassis group 1, mlacp mode active-active, mlacp load-balance primary vlan 20, mlacp load-balance secondary vlan 40
- Service instance 20 and 40: Ethernet interface with encapsulation dot1q 20 and dot1q 40
- NVE interfaces nve1 and nve2: member VNI 7777 and 8888, ingress-replication 99.1.1.1 and 100.1.1.1
- Branch1 bridge-domain 20 with VNI 7777 and GigabitEthernet0/0/0 as service instance 20 member
- Loopback10: IP address 99.1.1.1
- NVE interface nve1: member VNI 7777, ingress-replication 77.1.1.1, source-interface Loopback10
- GigabitEthernet0/0/0: No IP address, negotiation auto, service"
Instance 20 Ethernet and encapsulation dot1q 20.,Router OSPF 10 with network 0.0.0.0 255.255.255.255 area 10.
Bridge-domain configuration for VXLAN Multichassis Link Aggregation Group (MCLAG) Active-Active High Availability Support.,"1. bridge-domain 40
2. member vni 8888
3. member GigabitEthernet0/0/0 service-instance 40

Requirement: Loopback interface configuration for IP address assignment.

Configuration:
1. interface Loopback11
2. ip address 100.1.1.1 255.255.255.255

Requirement: NVGRE Tunnel interface configuration with replication and source-interface settings.

Configuration:
1. interface nve1
2. no ip address
3. member vni 8888
4. ingress-replication 88.1.1.1
5. source-interface Loopback11

Requirement: GigabitEthernet interface configuration for negotiation, service instance, encapsulation, and no IP address settings.

Configuration:
1. interface GigabitEthernet0/0/0
2. no ip address
3. negotiation auto
4. service instance 40 ethernet
5. encapsulation dot1q 40"
Enable Cisco ASR 1000 Series Routers to act as a Layer 2 VxLAN gateway to support bridging traffic across VxLAN segments in a hypervisor and on VLANs on physical servers.,Not provided
New scale number (8192 or 16000) support for 8G RP memory.,Platforms that require an 8G RP memory for new scale number (8192 or 16000).
Platforms that support a new scale number (8192 or 16000) require an 8G RP memory.,8G RP memory.
Configuring the VxLAN UDP Destination Port,"1. Enable privileged EXEC mode with the command ""enable"".
2. Enter global configuration mode with the command ""configure terminal"".
3. Configure the VxLAN UDP destination port number with the command ""vxlan udp port [port_number]""."
"Create a network virtualization endpoint (NVE) interface and enter NVE interface configuration mode. Assign the previously-created loopback interface to the NVE interface using the source-interface command. Create a VNI member or a range of VNI members using the member vni command, and specify the multicast group using the multicast-group command.","1. Enter NVE interface configuration mode with `Router(config)# interface nve 1`.
2. Assign the previously-created loopback interface to the NVE interface with `Router(config-if)# source-interface loopback 0`.
3. Create a VNI member or range of VNI members using the member vni command, e.g., `Router(config-if)# member vni 7115` and specify the multicast group with the multicast-group command, e.g., `Router(config-if)# multicast-group 225.1.1.1`."
Enable headend replication functionality using unicast IP addresses for ingress-replication.,ingress-replication Unicast IP Addresses - 225.1.1.1 and 225.1.1.2
Remove the VLAN tag before sending the VLAN traffic to VxLAN and add the VLAN tag in the reverse direction.,"Step 4
Command: Rewrite ingress tag pop 1 symmetric"
Mapping the VLAN to the Bridge Domain,"1. bridge-domain bridge-id
2. member interface service-instance id
3. member vni vni-id"
VxLAN Support,"Cisco IOS XE Release 3.13.1S or later on Cisco ASR 1000 Series Routers, Cisco ISR 1000 Series Integrated Services Routers, and Cisco ISR 4000 Series Integrated Services Routers"
Peers for every VNI up to 32 nodes.,"Cisco IOS XE Everest 16.5.1b, Support for multiple ingress replication peers"
VxLAN GPE tunnel and VxLAN dummy-L2 tunnel restrictions and configuration,"1. VxLAN GPE tunnel and VxLAN dummy-L2 tunnel do not support IS-IS.
2. Layer2 traffic is not supported.
3. IPv6 for underlay encapsulation is not supported."
"Encapsulation format for Ethernet frames in an outer UDP/IP transport and VxLAN header extension for protocol typing, OAM, and versioning capabilities.",Not specified in the text.
"VxLAN GPE Tunnel with features such as encapsulation, ECMP entropy benefits, direct upper layer protocol options (IPv4, IPv6, Ethernet, NSH), and manual source port range configuration for GPE tunnel and Dummy-L2 tunnel.","8K Tunnel interfaces with VxLAN GPE or VxLAN dummy-L2 mode supported; overlay encapsulation supported for both IPv4 and IPv6, underlay encapsulation supported only for IPv4."
Configure the source port range for VxLAN GPE Tunnel and VxLAN Dummy-L2 Tunnel,• vxlan source-port-range udp • vxlan source-port-range gpe-tunnel-udp • vxlan source-port-range dummy-l2-tunnel-udp
"VxLAN GPE Tunnel and VxLAN Dummy-L2 Tunnel support for both IPv4 and IPv6, Global tunnel CLIs for UDP source port generation.","Configure Vxlan GPE Tunnel on VTEP1 with the command set given in the text (interface Tunnel1, ip address 192.168.1.1 255.255.255.0, tunnel source GigabitEthernet2, tunnel mode vxlan-gpe ipv4, and tunnel destination)."
Configure Vxlan GPE Tunnel on VTEP2 and Vxlan Dummy-L2 Tunnel on VTEP1.,"- Interface Tunnel1 (Vxlan GPE Tunnel on VTEP2)
  - ip address 192.168.1.2 255.255.255.0
  - tunnel source GigabitEthernet2
  - tunnel mode vxlan-gpe ipv4
  - tunnel destination 20.1.1.16
  - tunnel vxlan vni 123456
- Interface Tunnel0 (Vxlan Dummy-L2 Tunnel on VTEP1)
  - ip address 192.168.2.3 255.255.255.0
  - tunnel source GigabitEthernet2
  - tunnel mode vxlan ipv4 default-mac
  - tunnel destination 20.1.1.17
  - tunnel vxlan vni 123456"
Change UDP dst port for Vxlan Dummy-L2 Tunnel. Default UDP port of Dummy-L2 Tunnel is 4789.,"Tunnel destination: 20.1.1.16
Tunnel VXLAN VNI: 123456
VxLAN Dummy-L2 Tunnel UDP Port: 4789"
Add VxLAN VNI in tunnel,"#interface tunnel0; tunnel vxlan vni xxxx

Requirement: Perform the following steps to add VxLAN source port hash in tunnel
Configuration: #interface tunnel0; vxlan source-port-hash 3-tuple; vxlan source-port-hash 3-tuple-for-fragments

Requirement: Example of VxLAN GPE Tunnel and VxLAN Dummy-L2 Tunnel
Configuration: #interface Tunnel0; ip address 192.168.2.1 255.255.255.0"
"Tunnel configuration with IPv6 address, tunnel mode, source interface, destination IP address, VXLAN VNI, and UDP ports.","ipv6 address 2001::1/64, tunnel source GigabitEthernet2, tunnel mode vxlan-gpe ipv4, tunnel destination 20.1.1.16, tunnel vxlan vni 123456, and UDP ports for VXLAN (4789), VXLAN GPE Tunnel (4790), and VXLAN Dummy L2 Tunnel (4789)."
Exchange L3 information between L3VPN and EVPN BGP neighbors using different sets of import and export route-targets.,"Route targets associated with the L3VPN BGP neighbor are normal RTs, while those associated with the EVPN BGP neighbor are labeled as stitching RTs."
"Data Center VXLAN with Support for MP-BGP, Control-plane learning of end-host Layer 2 and Layer 3 reachability information using BGP routing protocol.","VXLAN Tunnel EndPoint (VTEP), running the host-reachabilty protocol BGP command to specify control-plane learning within Data center site through BGP routing protocol, DCI Gateway router and EVPN BGP neighbor (Data Center BGP neighbor) exchange BGP EVPN NLRIs of route type 5 that carry L3 routing information and associated VXLAN encapsulation information."
EVPN Route Targets configuration for EVPN-VXLAN related processing.,Add a new keyword to the existing route-target configuration to specify the route targets used in EVPN-VXLAN related processing. The base (existing) route target configuration does not affect EVPN-VXLAN related processing.
"The requirement is to configure EVPN route type 2 or 5, allowing the local VNI to be sent to the peer and expecting the peer to send EVPN traffic with the VNI. The local VNI should be in the range of 4k to 16m, while the egress VNI can be any valid VNI number from 1-16m.","Configure Router MAC extended community for exchanging Router's MAC between EVPN peers. By default, all BDI interfaces share the same MAC address, but it is flexible to configure different MAC addresses for BDI interfaces. Different EVPN VRF may send different RMAC to the EVPN peer if configured accordingly."
"Redistributing VRF routes and importing them into the EVPN table, controlling the import of VRF routes per VRF, performing import only when advertise l2vpn evpn is configured under that VRF and local VTEP is up.",The specific configuration details are not provided in the given text.
Configuring Customer Edge (CE) 1 Using VRF Lite,"1. Define VRF and IPv4 address family. EVPN RT is 65535:1.
```
vrf definition evpn1
rd 65535:1
address-family ipv4
route-target both 65535:1 stitching
exit-address-family
```
2. Define Bridge Domain and associate vxlan vni 3000.
```
bridge-domain 200
member vni 30000
Interface loopback0
ip address 33.33.33.33 255.255.255.255
```
3. Define Bridge Domain Interface (BDI).
```
interface BDI200
vrf forwarding evpn1
ip address 100.1.1.1 255.255.255.0
encapsulation dot1Q 200
```
4. Create Interface NVE1.
```
Interface gi0/0/0.2
enc dot1q 2
ip address 4.0.0.1 255.255.255.0
Interface gi0/0/1.2
enc dot1q 2
vrf forwarding evpn1
ip address 3.3.3.1 255.255.255.0
interface nve1
no ip address
source-interface Loopback0
host-reachability protocol bgp
member vni 30000 vrf evpn1
```
5. Define OSPF for underlay reachability.
```
Router ospf 100
router-id 33.33.33.33
network 33.33.33.33 0.0.0.0 area 0
```"
"Define and configure BGP, EVPN address-family, VRF, RD/RT, and OSPF for a network with specific addresses and routing configurations.","1. Configure BGP and EVPN address-family:
   - router bgp 65535
   - bgp router-id 33.33.33.33
   - neighbor 44.44.44.44 remote-as 65535
   - neighbor 44.44.44.44 update-source Loopback0
   - address-family l2vpn evpn
   - neighbor 44.44.44.44 activate
   - neighbor 44.44.44.44 send-community both
   - exit-address-family

2. Configure VRF and RD/RT:
   - Define VRF and RD/RT.
   - vrf definition vrf1
   - rd 65530:1
   - address-family ipv4
   - route-target both 65530:1
   - exit-address-family

3. Configure interfaces and routing protocols:
   - Define VRF and RD/RT.
   - vrf definition vrf1
   - rd 65530:1
   - address-family ipv4
   - route-target both 65530:1
   - exit-address-family
   
   - Configure Loopback and GigabitEthernet interfaces.
   - interface loopback0
     - ip address 33.33.33.22 255.255.255.255
   - Interface GigabitEthernet0/0/0.2
     - enc dot1q 2
     - vrf forwarding vrf1
     - ip address 3.3.3.254 255.255.255.0
   - Interface gigabitEthernet0/0/1
     - mpls ip
     - ip address 2.2.2.1 255.255.255.0

4. Configure OSPF:
   - router ospf 100
   - router-id 33.33.33.22
   - network 33.33.33.22 0.0.0.0 area 0
   - network 2.2.2.1"
Configure BGP for VPNv4 and IPv4 between routers with specific settings.,"router bgp 65530
bgp router-id 33.33.33.22
neighbor 22.22.22.22 remote-as 65530
neighbor 22.22.22.22 update-source Loopback0
!
address-family vpnv4
neighbor 22.22.22.22 activate
neighbor 22.22.22.22 send-community both
exit-address-family
!
address-family ipv4 vrf vrf1
neighor 3.3.3.253 remote-as 65535
neighor 3.3.3.253 update-source Gi0/0/0.2
neighor 3.3.3.253 ebgp-multihop 255"
"Configuring Provider Edge 2 and Branch Router, VRF definition for vrf1 with rd 65530:1, Route-target both 65530:1.","interface loopback0 with ip address 22.22.22.22, Interface GigabitEthernet0/0/0.200 with enc dot1q 200, VRF forwarding vrf1 for the interface, IP address 1.1.1.254 for the interface, Interface gigabitEthernet0/0/1 with MPLS IP and ip address 2.2.2.254, Router OSPF 100 with router-id 22.22.22.22 and network configurations, Router BGP 65530 with bgp router-id 22.22.22.22, Neighbor configurations for 33.33.33.22, Address family VPNv4 and IPv4 VRF vrf1 configurations including redistribution of connected routes."
Verify EVPN VxLAN L3 configuration and functionality.,"1. Use the command ""show ip bgp l2vpn evpn"" to display Layer 2 Virtual Private Network (L2VPN) address family information from the Border Gateway Protocol (BGP) table.
2. Use the command ""show mlrib evpn mac"" to display the MLRIB information pertaining to an EVPN network.
3. Use the command ""show nve peers"" to display information that determines if the VNI is configured for peer."
EVPN VxLAN L3,"Interface, VNI, Type Peer-IP, Router-RMAC, eVNI, state flags UP time, nve1, L3CP 66.66.66.66"
"Configuration of Inter-AS Option AB for MPLS VPN or an MPLS VPN that supports CSC, and setting up VRFs on the ASBR interface for each VPN customer.","Use the inter-as-hybrid global command to configure Inter-AS Option AB, and follow the steps provided in the text to set up VRFs on the ASBR interface for each VPN customer."
Configure an interface with VRF and MPLS support for BGP session between ASBR peers.,interface type number; ip vrf forwarding vrf-name; (Optional) mpls bgp forwarding; end
Configuring MP-BGP Session Between ASBR Peers,EVPN VxLAN L3
"Adding a BGP or multiprotocol BGP neighbor entry to the neighbor table, configuring remote AS number for the neighbor.","- Example: Router(config)# router bgp 100
- neighbor {ip-address | peer-group-name} remote-as as-number

Example: Router(config)# neighbor 192.168.0.1 remote-as 200"
Configure an eBGP peer router as an Inter-AS Option AB peer and a neighbor for an inter-as-hybrid session.,"1. Set the peer group name using the ""peer-group-name"" argument in the ""neighbor"" command.
2. Advertise imported paths to this peer using the ""activate"" command.
3. Configure RTs on the VRF for advertised routes."
Define VRF and IPv4 address family for EVPN interconnect with MPLS VPN as PE.,"1. vrf definition EVPN
   rd 100:1
2. address-family ipv4
   route-target import 100:1
   route-target export 100:1 stitching
3. exit-address-family"
Configure EVPN with VxLAN L3 for interconnecting MPLS VPNs as PE,"neighbor 10.10.10.111 send-community both, neighbor 10.10.10.222 activate, neighbor 10.10.10.222 send-community both, exit-address-family, vxlan udp port 0xBEEF"
Support for a given feature in a software release,Cisco IOS XE Denali 16.3.1
"VxLAN static routing configures P2MP underlay tunnels between the router and multiple servers, and overlay routing within those tunnels. The feature supports GPE and dummy-L2 P2MP tunnels, and it allows specifying a range of numbers for naming the tunnels.","The following commands were modified or added by this feature: vxlan route-profile, show vxlan route-profile all, show vxlan static-route, show vxlan static-route next-hop bind-label."
"Operate at more than 10 Gbps and provide different types of encapsulations (IPv4-over-IPv4, IPv4-over-IPv6, IPv6-over-IPv4, and IPv6-over-IPv6).",Cisco IOS XE Gibraltar 16.12.x
Create one-to-many static routes between the servers and enterprise edge router to automatically generate VxLAN tunnels on demand.,"Connecting the servers that provide cloud services to customers and the enterprise edge routers, such as a Cisco ASR 1000 Series router, that communicates with customers."
"Configure a route-profile with symmetric and persistent options for point-to-many-point tunnel, using VxLAN static routing.","```
route-profile-name symmetric persistent
vxlan static-route vrf host1_1_1 100.0.10.0 255.255.255.0 vni 1
```"
VxLAN Static Routing Configuration and Status,"af11 symmetric persistent
vrf host1_1_1 100.0.20.0 255.255.255.0 vni 1 11.11.11.11 dst-mac 0011.0000.001a route-profile
af21 symmetric persistent
vrf host1_1_1 100.0.20.0 255.255.255.0 vni 1 1111::1111 dst-mac 0011.0000.001a route-profile"
Display VxLAN static route configurations,"1. Route profile associated with each prefix (e.g., ""test"" and ""test2"")
2. VXLAN VNI (e.g., 2, 5, 6, 7)
3. IPv4 or IPv6 addresses (e.g., 20.1.1.1, 20::1, 3.3.3.2, 3.3.3.3)
4. Route-profile (e.g., ""test"", ""test2"")"
IPv6 Multicast: Bootstrap Router,Configure RP Mapping
Multicast transmission and multicast group concept.,Internet Group Management Protocol (IGMP) for joining a group.
Implement IP multicast routing using IGMP for tracking multicast groups within a LAN and PIM for tracking packets between routers.,Not provided in the text.
Assign multicast group addresses conforming to the multicast address range assignments reserved by IANA and ensure IP Class D addresses are used for multicast traffic.,"The high-order four bits of a Class D address are 1110, allowing host group addresses to be in the range 224.0.0.0 to 239.255.255.255. The source address for multicast datagrams is always the unicast source address."
Multicast address range subdivision for predictable behavior and address reuse within smaller domains.,"The multicast address ranges include:
- Reserved for network protocols on a local network segment: 224.0.0.0 to 224.0.0.255
- Reserved Link-Local Addresses: Not specified in the text
- Globally Scoped Addresses: 224.0.1.0 to 238.255.255.255
- Source Specific Multicast: 232.0.0.0 to 232.255.255.255
- GLOP Addresses: Not specified in the text"
Use limited scope addresses in private multicast domains,Addresses within the range 239.0.0.0 to 239.255.255.255
"Protocol independent unicast routing protocol that can leverage EIGRP, OSPF, BGP, and static routes. PIM uses the unicast routing table to perform reverse path forwarding (RPF) check function instead of building a separate multicast routing table.","PIM operating in dense mode or sparse mode, handling both sparse groups and dense groups at the same time. The mode determines how the router populates its multicast routing table and forwards multicast packets from directly connected devices."
Multicast traffic management and multicast group tracking.,"PIM Join messages, shared distribution tree, source-based distribution tree, RP (Rendezvous Point) management, edge routers learning about sources through data packets on the shared tree."
"Multicast Group Modes in PIM and their support for different modes (PIM Bidirectional mode, PIM Sparse mode, PIM Dense mode, PIM Source Specific Multicast (SSM) mode).",Bidirectional Mode with a rendezvous point (RP) and unassigned IP address for establishing a loop-free spanning tree topology.
"Membership to a bidirectional group is signalled via explicit Join messages, and multicast traffic packets flow down the shared tree to only those receivers that have explicitly asked to receive the traffic.",Not specified in the text.
PIM-SM with Auto-RP feature for automating distribution of group-to-RP mappings in a PIM network.,"A router is designated as an RP-mapping agent, which receives RP-announcement messages from the RPs and arbitrates conflicts. The RP-mapping agent sends consistent group-to-RP mappings to all other routers for automatic discovery of RPs for the groups they support."
"The requirement is to make Auto-RP work by designating a router as an RP mapping agent that receives the RP announcement messages and arbitrates conflicts. This mapping agent sends consistent group-to-RP mappings to all other routers using dense mode flooding, allowing automatic discovery of which RP to use for supported groups.","The configuration involves assigning two group addresses, 224.0.1.39 and 224.0.1.40, for Auto-RP by the Internet Assigned Numbers Authority (IANA). It is advantageous because changes to the RP designation only need to be configured on the routers that are RPs, not on leaf routers. Another advantage is the ability to scope the RP address within a domain using the time-to-live (TTL) value for Auto-RP advertisements."
"Configure RPs for easy, well-tested, and stable operation.","1. Use static RP, Auto-RP, or bootstrap router for configuring an RP.
2. Implement Sparse-Dense Mode for Auto-RP using the command ip pim sparse-dense-mode on all interfaces.
3. Configure a ""sink RP"" (RP of last resort) to prevent groups other than 224.0.1.39 and 224.0.1.40 from operating in dense mode."
Enable RPs to forward traffic between multicast domains using PIM-SM.,MSDP peering session using TCP connection between RPs in different domains and border routers leading to other domains.
Configuring Anycast RP with the same IP address on loopback interfaces and using MSDP for information exchange between RPs.,Each downstream router should be configured to know that the Anycast RP loopback address is the IP address of their local RP. All RPs must be MSDP peers.
Multicast Forwarding,"Multicast-capable routers that create distribution trees to control the path of IP multicast traffic through the network, connecting sources to receivers in a multicast group. The distribution tree can be shared by all sources or separate for each source (shared or source tree), and can be one-way or bidirectional. Notations used in multicast routing tables include (S,G) = (unicast source for the multicast group G, multicast group G) and (*,G) = (any source for the multicast group G, multicast group G). The notation of (S,G), pronounced “S comma G,” enumerates a shortest path tree."
Multicast Distribution Shared Tree with a common rendezvous point (RP),Router D as the root for group 224.2.2.2
Maintaining path information for each source in a network with thousands of sources and groups without causing a resource issue.,Not provided in the text.
Reverse Path Forwarding (RPF) algorithm for multicast datagram forwarding using unicast routing information and RPF check to guarantee a loop-free distribution tree.,Not provided in the text.
Ensure all interfaces are configured with the ip pim sparse-mode command to prevent dense mode fallback.,Interface configuration for sparse mode (ip pim sparse-mode) to avoid dense mode fallback and group creation over sparse mode interfaces.
PIM-DM fallback prevention for multicast groups without a group-to-RP mapping,"Enable PIM sparse mode by default, or explicitly disable PIM-DM fallback behavior using the no ip pim dm-fallback command if interfaces are not configured with the ip pim sparse-mode command."
RP address set to 0.0.0.0 exhibits specific behavior in a network.,"The behavior is maintained when the RP address is set to 0.0.0.0, with no PIM Join or Prune messages sent for (*, G) or (S, G, RPbit), and received registers are answered with register stop. The (*, G) outgoing interface list is maintained only for IGMP state, and MSDP SA messages for RP 0.0.0.0 groups are still accepted and forwarded."
"Bidirectional flow of data, allowing trees to scale to an arbitrary number of sources.",Cisco Group Management Protocol (CGMP) on Layer 2 switches to forward multicast traffic only to interested ports.
Active attempt to send multicast data to all potential receivers in dense mode (DM).,Not applicable.
Multicast distribution path for efficient routing of data between source and receivers in sparse mode.,UDLR tunnel using a back channel (GRE tunnel) for control traffic through unidirectional links.
"A solution that allows IP and its associated unicast and multicast routing protocols to believe the unidirectional link is logically bidirectional, accommodating all IP unicast and multicast routing protocols without changing them.",The solution should support no more than 20 tunnels feeding into the upstream router and be designed for use with unidirectional GRE tunnels to move control packets from a downstream node to an upstream node.
"The requirement is to enable a URD-capable web page that provides information about the source, group, and application (via media-type) on a web page.","Not provided in the text. However, it mentions that the last-hop router should be URD capable and use the information to initiate the PIM source, group (S,G) join on behalf of the host."
Configuring the filter-autorp keyword to examine and filter Auto-RP discovery and announcement messages at the administratively scoped boundary.,"Ensuring that all addresses in the Auto-RP group range are permitted by the boundary ACL, or else filtering and removing the entire group range from the Auto-RP message before forwarding it."
"Configure Anycast RP for redundancy, load-sharing, and fault tolerance in a PIM-SM network within a single multicast domain.","1. Configure two or more RPs with the same IP address on loopback interfaces using a 32-bit mask, making it a host address.
2. Ensure that downstream routers are configured with the anycast RP loopback address as the IP address of their local RP."
"The requirement described in the text is to have an equal distribution of sources registering with each RP, and a method for RPs to exchange information about active sources using MSDP.",The configuration mentioned in the text is having all the RPs configured as MSDP peers of each other.
"IGMPv3 support for SSM implementation in devices, hosts, and applications",Protocol Independent Multicast (PIM-SSM) enabled
Maintain knowledge about actively sending multicast traffic hosts in the network.,"Receivers provide information through source addresses relayed to last-hop devices by IGMPv3. SSM provides IP multicast service for applications that utilize SSM. Membership in a host group requires signaling the host group through IGMP Version 1, 2, or 3."
Support for IGMP Version 3 and SSM services in a network configured for PIM-SM.,"Last-hop devices must be upgraded to a software image that supports SSM, while non-last-hop devices must only run PIM-SM in the SSM range and may need additional access control configuration to suppress MSDP signaling, registering, or PIM-SM shared-tree operations within the SSM range."
"Enable PIM-SSM for groups within the SSM range and accept (S, G) channel subscriptions through IGMPv3 INCLUDE mode membership reports.",Configure the SSM range using the ip pim ssm global configuration command.
Allocating a unique IP multicast group address for an application,"Session Description Protocol (SDP), Session Announcement Protocol (SAP)"
Traffic forwarding from any active source sending to a multicast group to all receivers should be controlled and limited to prevent unwanted sources from disrupting the Internet broadcast.,"Implement SSM (Source Specific Multicast) instead of ISM (Internet Group Management Protocol - Version 1, 2, or 3), which prevents denial of service attacks by not allowing simple traffic sending to a multicast group."
"Bidir-PIM for many-to-many applications within individual PIM domains, scalable multicast groups without overhead due to the number of sources.",Configure basic IP multicast modes. No single task is required but at least one must be performed to configure IP multicast in a network. Configuring Sparse Mode with Auto-RP may be needed.
Enable distributed multicast routing and configure PIM dense mode for two Auto-RP groups.,"1. Use the distributed keyword to enable Distributed Switching (config)# ip multicast-routing
2. Configure IP multicast traffic for the two Auto-RP groups 209.165.201.1 and 209.165.201.22 to be PIM dense mode flooded across interfaces operating in PIM sparse mode (config)# ip pim autorp listener
3. Skip Step 5 if configuring sparse-dense mode in Step 8.
4. Select an interface connected to hosts on which PIM can be enabled and configure it for PIM dense mode."
The requirement is to configure the device as a Rendezvous Point (RP) for PIM-SM multicast routing.,"To configure the device as an RP, use the following commands:
(config)# ip pim send-rp-announce loopback0 scope 31 group-list 5
(config)# ip pim send-rp-discovery interface-type interface-number scope ttl-value interval seconds"
Auto-RP allows the RP function to run separately on one device and the RP mapping agent to run on one or multiple devices. It is possible to deploy the RP and the RP mapping agent on a combined RP/RP mapping agent device.,1. Optional interface-type and interface-number arguments for defining the source address of the RP mapping agent. 2. Use of scope keyword and ttl-value argument to specify the Time-to-Live (TTL) value in the IP header of Auto-RP discovery messages. 3. Optional interval keyword and seconds argument to specify the interval at which Auto-RP discovery messages are sent.
Configure IP Multicast using Sparse Mode with Auto-RP,Set up Sparse Mode for IP Multicast and enable Auto-RP to automatically configure the network.
Enable IP multicast routing and configure PIM sparse mode on an interface connected to hosts.,"1. Enable distributed multicast routing: `router(config)# ip multicast-routing`
2. Select an interface connected to hosts: `router(config)# interface <type number>`
3. Enable PIM sparse mode on the selected interface: `router(config-if)# ip pim sparse-mode`"
Configure routers for multicast and BSR functionality.,"1. Repeat Steps 1 through 6 on every multicast-enabled interface on every router.
2. Configure the router to announce its candidacy as a bootstrap router (BSR) using the command ""ip pim bsr-candidate interface-type interface-number [hash-mask-length [priority]]"".
3. Perform Step 8 on the RP or combined RP/BSR routers."
Hash mask length for RP groups,Default hash mask length is 0
Explicitly set the priority value to 192,Not provided in the text
Configure the router to advertise itself as a PIM Version 2 candidate RP to the BSR.,ip pim rp-candidate interface-type interface-number [group-list access-list] [interval seconds] [priority value]
Implement PIM BSR with default priority value specified in the draft-ietf-pim-sm-bsr IETF draft (192).,Explicitly set the priority value to 192 on Cisco IOS and Cisco IOS XE implementations.
Configuring Sparse Mode with a Bootstrap Router,ip pim bsr-border
Ending the current configuration session and returning to privileged EXEC mode.,Router(config-if)# end
Enable PIM on an interface and configure it to use sparse mode.,device(config)# ip pim sparse-mode; device(config)# interface gigabitethernet 1/0/0; device(config-if)# ip pim sparse-mode
Configure PIM RP address for a particular multicast group.,`device(config-if)# ip pim rp-address rp-address [access-list] [override]`
Configuring Source Specific Multicast (SSM) for access lists in IP Multicast Operation,"1. Configure the access list before referencing it in the ip pim ssm command.
2. Use the following commands on each interface that uses IP multicast:
   - configure terminal
   - ip multicast-routing [distributed]
   - ip pim ssm {default | range access-list}
   - ip pim sparse-mode
3. Repeat Steps 1 through 6 on every interface that uses IP multicast.
4. Use the following command on all host-facing interfaces:
   - ip igmp version 3"
Enable Distributed Switching and configure SSM service.,"device(config)# ip multicast-routing, device(config)# ip pim ssm default (if using the default keyword)."
Configure PIM Sparse Mode on an interface.,(config-if)# ip pim sparse-mode
Implement Anycast RP with a single address for an RP to achieve faster IP routing convergence towards the closest RP.,"Loopback interface 0 of the RPs (RP1 and RP2) is configured with the 10.0.0.1 IP address, which must be a host route with a subnet mask of 255.255.255.255. The downstream routers should be informed about the 10.0.0.1 RP address using the ip pim rp-address command. MSDP is required to share source information between RPs, and loopback interface 1 of the RPs (RP1 and RP2) is configured for MSDP peering."
Anycast RP configuration for reaching other domains using valid IP addresses.,"On RP 1:
ip pim rp-address 10.0.0.1
interface loopback 0
ip address 10.0.0.1 255.255.255.255
!
interface loopback 1
ip address 10.1.1.1 255.255.255.255
!
ip msdp peer 10.1.1.2 connect-source loopback 1
ip msdp originator-id loopback 1
On RP 2:
ip pim rp-address 10.0.0.1
interface loopback 0
ip address 10.0.0.1 255.255.255.255"
Implementation of the BSR RP selection should be compatible with RFC 2362.,"1. Select the candidate RP with the highest priority (lowest configured priority value).
2. If there is a tie in the priority level, select the candidate RP with the highest hash function value.
3. If there is a tie in the hash function value, select the candidate RP with the highest IP address."
Consistent RP selection between Cisco and non-Cisco routers in a PIM Version 2 BSR environment.,"- access-list 10 permit 224.0.0.0 7.255.255.255 (on Cisco router)
- ip pim rp-candidate gigabitethernet1/0/0 group-list 10 priority 20 (on Cisco router)
- access-list 20 permit 224.0.0.0 15.255.255.255 (on non-Cisco router)
- ip pim rp-candidate gigabitethernet2/0/0 group-list 20 priority 10 (on non-Cisco router)"
Configure different candidate RPs to announce partially overlapping group address prefixes with the same group prefix length.,access-list 10 permit 224.0.0.0 7.255.255.255 ip pim rp-candidate gigabitethernet1/0/0 group-list 10 priority 20 access-list 20 permit 224.0.0.0 7.255.255.255 access-list 20 permit 232.0.0.0 7.255.255.255 ip pim rp-candidate gigabitethernet2/0/0 group-list 20 priority 10
Configuring multicast routing and filtering for SSM (Source-Specific Multicast) traffic on a router.,"1. Enable IP multicast-routing globally.
2. Configure interfaces with IP addresses and enable PIM Sparse-Mode on each interface.
   - Example for GigabitEthernet3/1/0: `ip address 172.21.200.203 255.255.255.0` and `ip pim sparse-mode`.
   - Example for GigabitEthernet3/2/0: `ip address 131.108.1.2 255.255.255.0` and `ip pim sparse-mode`.
3. Configure SSM Filtering using an access list, denying traffic in the SSM range and allowing other traffic.
   - Example: `ip access-list extended no-ssm-range deny ip any 232.0.0.0 0.255.255.255 ! SSM range permit ip any any`
4. Configure PIM to accept register messages only from the access list defined in step 3.
   - Example: `ip pim accept-register list no-ssm-range`"
Loopback interfaces must be routed throughout the PIM domain to allow communication with the RP.,"- Loopback interface 0: ip address 10.0.1.1 255.255.255.0
- Loopback interface 1: ip address 10.0.2.1 255.255.255.0"
Support for a given feature in a given software release,Auto-RP automates the distribution of group-to-rendezvous point (RP) mappings in a PIM network.
Bidirectional PIM implementation for scalability and avoiding source-specific state in routers.,"Cisco IOS XE Releases (3.8S, 3.9S) with support for Cisco ISR 4400 Series Routers and Cisco CSR 1000V."
Determine the PIM mode to be used and configure access lists before beginning the configuration task.,Not specified in the given text.
Configuring Basic IP Multicast in IPv6 Networks,N/A (not provided)
IPv6 nodes and routers must join specific multicast groups.,"Join the All-nodes multicast group FF02:0:0:0:0:0:0:1 (scope is link-local), Solicited-node multicast group FF02:0:0:0:0:1:FF00:0000/104 for each assigned unicast and anycast addresses, and the All-routers multicast group FF02:0:0:0:0:0:0:2 (scope is link-local)."
IPv6 Multicast Groups configuration for interfaces,"Interface must have an IPv6 address configured (site-local or global) to enable IPv6 forwarding. The interface automatically joins the following required multicast groups: Solicited-node multicast group FF02:0:0:0:0:1:FF00::/104 for each unicast and anycast address assigned to the interface, All-nodes link-local multicast group FF02::1, and All-routers link-local multicast group FF02::2."
Address reuse in different zones of non-global scope,"Site boundary for zones with scopes other than interface-local, link-local, and global"
Efficient packet forwarding in IPv6 multicast fast switching using the MFIB and adjacency tables for Layer 2 addressing information.,PIM protocol logic allows fast-switching of the first packet; precomputed MAC encapsulation header; use of MFIB for IPv6 destination prefix-based switching decisions; maintenance of adjacency table with Layer 2 next-hop addresses for all MFIB entries.
Multicast Source Discovery Protocol (MSDP) support on IPv4 for situations where interdomain connection is not required.,"Unicast IP address chosen as the RP address, either statically configured or distributed using a dynamic protocol to all PIM devices throughout the domain. Each device in the anycast RP set is configured with a loopback interface using the RP address and has a separate physical IP address for communication between the RPs. Each device in the Anycast set must contain the list of all the devices in the Anycast."
Configure a PIMv6 Anycast RP for anycast RP group members to have the same IP addresses and consistent configurations in all RPs.,"Each device in the anycast RP set must be configured with the addresses of all other devices in the set, including the local device's IP address."
"PIM devices in a domain must be able to map each multicast group to the correct RP address. The BSR protocol for PIM-SM provides a dynamic, adaptive mechanism to distribute group-to-RP mapping information rapidly throughout a domain.",IPv6 BSR feature
"PIM device needs to know the correct incoming interface for packets destined for G when forwarding data packets using (*, G) state.","Candidate BSRs and C-RPs are configured within a domain, and C-RPs periodically unicast C-RP-Adv messages to the BSR of that domain advertising their willingness to be an RP."
The requirement is that PIM devices within a PIM bootstrap domain should be able to receive BSMs and store the winning BSR and RP set for all administratively scoped zones that apply.,"The configuration would include setting up PIM devices in such a way that they can recognize, parse, and process BSMs, allowing them to perform RPF checks and forward packets accordingly. Additionally, these devices should be configured to create BSR entries containing RPF information for future BSMs from the same BSR and handle timed-out BSR entries when no longer receiving BSMs from a given BSR."
Configuring a site-local or global IPv6 address on an interface to automatically configure a link-local address and activate IPv6 for that interface.,The interface should be configured with either a site-local or global IPv6 address.
"Enabling privileged EXEC mode and enabling/disabling debugging for IPv6 MFIB, MLD, and PIM protocols.","1. Enables privileged EXEC mode: `enable`
2. Enables debugging output on the IPv6 MFIB: `debug ipv6 mfib group-name | group-address]`
3. Enables debugging on MLD protocol activity: `debug ipv6 mld [group-name | group-address | interface-type]`
4. Enables debugging on PIM protocol activity: `debug ipv6 pim [group-name | group-address | interface-type | neighbor | bsr]`
5. Displays debugging messages for IPv6 BGP dampening: `debug bgp ipv6 {unicast | multicast} dampening [prefix-list prefix-list-name]`"
Configuring Basic IP Multicast in IPv6 Networks and Configuring PIMv6 Anycast RP,"- Configure IPv6 multicast on the interface
- Set the IPv6 address and prefix length or use a prefix name with sub-bits and prefix length
- Enable PIMv6 Anycast RP with rp-address, peer-address, and optionally VRF name (vrf-name)"
Configure PIM RP for an anycast group range for a remote and local router.,Device(config-if)# ipv6 pim anycast-rp [rp-address] [peer-address]
"Configure an interface type and number, and place the device in interface configuration mode.",Device(config)# interface FastEthernet 1/0
The requirement is to configure the device to disable multicast for groups or channels denied by an access list named list2.,The configuration involves setting up ipv6 multicast group-range with the access list name (list2) and configuring MLD states on an interface specified by int2.
Deny all or most multicast groups or channels for list2 and permit authorized groups or channels only for interface int2.,"Device(config)# interface int2
Device(config-if)# ipv6 mld access-group int-list2"
Configuring PIMv6 Anycast RP and PIM anycast-rp,"1. Set the RP address using ipv6 pim rp-address command:
   - Device1(config)# ipv6 pim rp-address 2001:DB8::1:1 acl_sparse1
   - Device2(config)# ipv6 pim rp-address 2001:DB8::1:1 acl_sparse1

2. Configure Loopback interfaces with IPv6 addresses:
   - Device1(config)# interface Loopback4
     Device1(config-if)# ipv6 address 2001:DB8::4:4/64
     Device1(config-if)# no shut
   - Device1(config)# interface Loopback5
     Device1(config-if)# ipv6 address 2001:DB8:0:ABCD::1/64
     Device1(config-if)# no shut
   - Device2(config)# interface Loopback4
     Device2(config-if)# ipv6 address 2001:DB8::3:3/64
     Device2(config-if)# no shut
   - Device2(config)# interface Loopback5
     Device2(config-if)# ipv6 address 2001:DB8:0:ABCD::1/64
     Device2(config-if)# no shut

3. Configure PIM Anycast RP using ipv6 pim anycast-rp command:
   - Device1(config)# ipv6 pim anycast-rp 2001:DB8:0:ABCD::1 2001:DB8::3:3
   - Device2(config)# ipv6 pim anycast-rp 2001:DB8::1:1 2001:DB8::4:4"
Provide IPv6 multicast support for multiple virtual routing/forwarding contexts (VRFs) on a device.,N/A (as the text does not provide specific configuration details)
Using MSDP to interconnect multiple PIM-SM domains.,"1. Configure MSDP peers.
2. Configure mesh groups.
3. Configure default peers.
4. Use filters to control and scope MSDP activity.
5. Monitor and maintain MSDP."
Introduces a more manageable approach for building multicast distribution trees between multiple domains using MSDP to interconnect Multiple PIM-SM Domains.,Not specified in the given text.
Implementing MSDP for source registration and interoperation between multiple PIM-SM domains.,"Running MSDP on RPs sending to global multicast groups, using BGP or MBGP for interdomain operation."
"The requirement is for MSDP to be implemented between RP peers when a PIM designated router registers a source with its RP. The RP sends a Source-Active message to all of its MSDP peers, and the DR sends encapsulated data to the RP only once per source when it goes active.",Not applicable in this text as there is no specific device configuration mentioned.
"The router should have an entry for (172.16.5.4, 228.1.2.3) and be able to join the source tree when a host requests it.",Caching of MSDP SA messages is mandatory and enabled by default when an MSDP peer is configured. The ip multicast cache-sa-state command will automatically be added to the running configuration.
"SA message origination, receipt, and processing in detail for MSDP session.","The A flag being set in the (S, G) mroute entry on the RP indicates that the source is a candidate for advertisement by the RP to other MSDP peers."
"The system should use BGP routing data to approximate the MSDP topology, and MSDP peers should generally follow the same topology as the BGP peer topology.",Not applicable for this specific text passage.
None,None
"MSDP MD5 Password Authentication with RFC 2385 compliance, using the MD5 algorithm for security purposes.","The ip msdp password peer command is used to enable MD5 authentication for TCP connections between two MSDP peers, with the same password configured on both peers."
Limit the overall number of SA messages that a device can accept from specified MSDP peers using the sa-limit command.,"Configure appropriate SA message limits for all MSDP peerings, with low limits for stub MSDP regions and high limits for peerings acting as transits for SA messages across the Internet."
"The value specified for the keepalive-interval argument must be less than the value specified for the holdtime-interval argument, and it must be at least one second.",Not applicable (as no specific configuration is mentioned)
Adjusting the hold-time interval for waiting for keepalive messages from MSDP peers.,"Hold-time interval set to 75 seconds by default.

Requirement: Adjusting the connection-retry interval for reestablishing MSDP peering sessions after reset.
Configuration: Connection-retry interval set to 30 seconds by default."
Peering between routers in nondirectly connected autonomous systems for redundancy and confederation configurations.,"Not provided, as the text does not specify a configuration setting for this requirement."
Configuring a default MSDP peer and adjusting settings for multicast domains and redundancy purposes.,Using the ip msdp default-peer command to define a default peer from which to accept all SA messages without performing the peer-RPF check.
MSDP peers must accept SA messages from only one default peer to prevent conflicting information.,"Default MSDP peers are accepted from either Router A or Router C, but not both. If Router A is the first default peer in the configuration, it will be used if it is up and available."
"Default MSDP Peer Scenario, Prefix List (optional)","Router B advertises SAs to Router A and Router C. If a prefix list is specified, it determines the default peers for the listed prefixes. Without a prefix list, Router B uses Router A if available and running, otherwise Router C. Multiple active default peers can be configured without a prefix list, with the first configured peer being the active default until connectivity or router availability changes."
Control what sources are advertised in SA messages on an RP configured for MSDP,Configure SA origination filters on an RP to restrict private addresses from being advertised to other MSDP peers across the Internet.
"The requirement is to configure a device to only originate SA messages for local sources that meet specific criteria. This can be done using extended access lists, AS-path access lists, or route maps, or a combination of these.","1) Configure the device to originate SA messages for local sources matching (S, G) pairs in an extended access list. 2) Configure the device to originate SA messages for local sources sending to specific groups that match AS paths defined in an AS-path access list. 3) Configure the device to originate SA messages for local sources based on criteria defined in a route map. 4) Implement an SA origination filter that includes an extended access list, an AS-path access list, and/or route map, with all conditions needing to be true before any local sources are advertised in SA messages."
Outgoing Filter Lists for MSDP,Creating outgoing filter lists to control the forwarding of SA messages to MSDP peers.
"Configuring the device to only forward SA messages to the MSDP peer that match the (S, G) pairs permitted in an extended access list.","Extended Access List for matching (S, G) pairs and configuring MSDP settings."
Filter a subset of outgoing SA messages based on match criteria defined in a route map or the announcing RP address contained in the SA message.,"Configure the device to only forward SA messages that match the criteria defined in the route map or filter outgoing SA messages based on their origin, using an extended access list, a route map, and either an RP access list or an RP route map."
"Configure the device to filter incoming SA messages based on their origin, even after the SA message may have already been transmitted across one or more MSDP peers.",MSDP and Incoming Filter Lists in PIM-SM Domains
"Configure an incoming filter list for MSDP peers that includes extended access list, route map, and either RP access list or RP route map.",N/A (The text does not provide specific configuration details)
Configuring a TTL threshold for encapsulated multicast packets in SA messages sent to MSDP peers.,Using the ip multicast ttl-threshold command.
Configure a noncaching device to send SA request messages to one or more specified MSDP peers to reduce join latency for a noncaching peer.,Enable the noncaching peer to send SA request messages when an noncaching RP has an MSDP peer that is caching SAs.
Creating an SA request filter to control outgoing SA requests from MSDP peers based on specified criteria using a standard access list.,"Configure the device to either ignore all SA requests from a specified MSDP peer or honor only SA request messages that match the groups defined in a standard access list, ignoring other groups for that specific peer."
Enable privileged EXEC mode and configure an MSDP peer with the specified DNS name or IP address.,Device> enable; Device# configure terminal; ip msdp peer {peer-name|peer-address} [connect-source type number] [remote-as as-number]; Device(config)# ip msdp peer 192.168.1.2 connect-source loopback0
Configuring MSDP MD5 Password Authentication,ip msdp authentication md5 <password>
Configure MSDP MD5 password authentication between MSDP peers.,N/A (as the text does not provide specific configuration details)
Enable and configure MSDP peer encryption for secure communication between MSDP peers using MD5 authentication.,"Enable privileged EXEC mode, enter global configuration mode, enable MSDP password encryption with the ""ip msdp password peer"" command, and specify the desired encryption type (e.g., MD5) and peer-name or peer-address."
Must manually disconnect the session to activate the new or changed password.,Exits global configuration mode and returns to privileged EXEC mode.
Adjusting MSDP Keepalive and Hold-Time Intervals,ip msdp keepalive <interval> holdtime <interval>
Adjust time values for keepalive-interval and hold-time-interval arguments on both ends of the MSDP peering session.,Not provided in the text.
Configure MSDP keepalive settings for additional peers.,ip msdp keepalive {peer-address | peer-name} keepalive-interval hold-time-interval
Adjust the interval at which MSDP peers wait after peering sessions are reset before attempting to reestablish the peering sessions.,ip msdp timer connection-retry-interval
Enabling compliance with the peer-RPF forwarding rules specified in IETF RFC 3618.,ip msdp rpf rfc3618
Enter your password if prompted.,"Device> enable, configure terminal"
Configure an MSDP default peer for accepting all MSDP SA messages.,ip msdp default-peer {peer-address | peer-name} [prefix-list list]
MSDP peers must be fully meshed with all other MSDP peers in the mesh group and configured as a peer using the ip msdp peer command and as a member of the mesh group using the ip msdp mesh-group command.,ip msdp peer <peer_address> [ip address <interface_address>] [preference <priority>]; ip msdp mesh-group peermesh
Enabling a filter for MSDP SA messages originated by the local device.,ip msdp redistribute [list access-list] [asn as-access-list] [route-map map-name]
Configure outgoing MSDP messages with a filter using sa-filter out command.,"Device# configure terminal
                 ip msdp sa-filter out {peer-address | peer-name} [list access-list] [route-map map-name] [rp-list access-list | rp-route-map map-name]"
Enabling a filter for incoming MSDP SA messages,ip msdp sa-filter in {peer-address | peer-name} [list access-list] [route-map map-name] [rp-list access-list | rp-route-map map-name]
Set a TTL value for MSDP messages originated by the local device.,ip msdp ttl-threshold {peer-address | peer-name} ttl-value
Enable MSDP SA-Request Filtering on the device,"Configure the device to filter SA-Request messages using the ""ip msdp sa-request"" command followed by the peer's IP address or name and an optional access list."
Configure a single SA request filter per MSDP peer.,`ip msdp filter sa-request [peer-address | peer-name] list access-list`
Exit global configuration mode and return to privileged EXEC mode.,Device(config)# exit
Configure the device on the border between a PIM-SM and PIM-DM domain to originate SA messages for active sources in the PIM-DM domain.,"Configure ip msdp border sa-address type number on the interface used as the originator ID, which is the RP field in the SA message."
Enables privileged EXEC mode.,Device> enable
"Clear TCP connection to the specified MSDP peer, reset MSDP message counters, clear statistics counters for the specified MSDP peer, and clear SA cache entries.","1. Device> enable (to enable MSDP-related commands)
2. clear ip msdp peer [peer-address | peer-name] (Clears the TCP connection to the specified MSDP peer and resets all MSDP message counters.)
3. clear ip msdp statistics [peer-address | peer-name] (Clears the statistics counters for the specified MSDP peer.)
4. clear ip msdp sa-cache [group-address] (Clears SA cache entries or use the optional group-address argument to clear all SA cache entries associated with a specific group.)"
A device configured as the MSDP speaker in a domain. This device must have SNMP and the MSDP MIB enabled.,"1. enable
2. snmp-server enable traps msdp
3. snmp-server host host [traps | informs] [version {1 | 2c | 3 [auth| priv | noauth]}] community-string
[udp-port port-number] msdp
4. exit"
Enabling privileged EXEC mode and sending MSDP notifications for use with SNMP.,"1. Enable privileged EXEC mode using the ""enable"" command.
2. Send MSDP notifications using the ""snmp-server enable traps msdp"" command."
"If the first configured peer goes down or connectivity to this peer is lost, the second configured peer should become the active default.",Not provided in the text.
"The requirement is to configure MSDP Mesh Groups for three devices (Router A, Router B, and Router C) to be fully meshed members of an MSDP mesh group. This includes configuring peer and mesh-group settings on each device.","Router A Configuration:
ip msdp peer 10.2.2.2
ip msdp peer 10.3.3.3
ip msdp mesh-group test-mesh-group 10.2.2.2
ip msdp mesh-group test-mesh-group 10.3.3.3

Router B Configuration:
ip msdp peer 10.1.1.1
ip msdp peer 10.3.3.3
ip msdp mesh-group test-mesh-group 10.1.1.1
ip msdp mesh-group test-mesh-group 10.3.3.3

Router C Configuration:
ip msdp peer 10.1.1.1
ip msdp peer 10.2.2.2
ip msdp mesh-group test-mesh-group 10.1.1.1
ip msdp mesh-group test-mesh-group 10.2.2.2"
Comply with the peer-RPF forwarding rules defined in the IETF RFC 3618 specifications. Enabling the MSDP Compliance with IETF RFC 3618 feature prevents SA message loops and allows MSDP peerings between routers in nondirectly connected autonomous systems.,"ip msdp rpf rfc3618, show ip msdp rpf-peer."
Support for Cisco CSR 1000V and MSDP MD5 Password Authentication in IP Multicast configuration.,"Introduced or modified commands: ip msdp password peer, show ip msdp peer; compatible with Cisco IOS XE Releases 2.5, 3.8S, and 3.9S."
PIM Allow RP support for connecting PIM SM domains and working with static configurations only.,Not specified in the given text.
Creating a source-based distribution tree from the source to the receiver without including the RP unless it is within the shortest path between the source and receiver.,Not specified in the text provided.
"The requirement here is to define rendezvous points (RP-A, RP-B) for different group ranges in a network and handle incoming (*, G) Joins correctly.","1. Define different RPs (RP-A, RP-B) for different group ranges.
2. Implement PIM Allow RP feature to allow receiving devices to use their own RP when an incoming (*, G) Join is processed and a different RP is identified."
Only applicable for downstream traffic and building the shared tree; not working with Auto-RP or BSR; static configuration support.,PIM Allow RP is used to compensate for embedded RP in consumer network different than one configured statically in transport network.
Configure PIM Allow RP for IP multicast routing on a network device.,"1. Enable IP multicast-routing with the ""ip multicast-routing"" command (optional: specify VRF name).
2. Configure terminal mode.
3. Enable distributed PIM sparse-mode with the ""ip pim sparse-mode"" command (optional: enable IPv6 with ""ipv6 pim enable"").
4. Configure interface type and number.
5. Enable IPv6 multicast routing if applicable (use ""ipv6 address"" command).
6. Set interface to active by using the ""no shutdown"" command on each interface.
7. Exit configuration mode.
8. Repeat Steps 4 through 8 for all interfaces that use IP multicast.
9. Configure RP-addresses with the ""ip pim rp-address"" command (optional: specify access-list and override)."
Enable multicast routing on all interfaces for both IPv4 and IPv6,"For IPv4:
1. Enable multicast routing: `ip multicast-routing [vrf vrf-name]` (distributed keyword is optional in Cisco IOS XE Release 3.2S and earlier releases)
2. For PIM and MLD on all multicast-enabled interfaces of the device: `Device(config)# ip multicast-routing`

For IPv6:
1. Enable multicast routing: `ipv6 multicast-routing [vrf vrf-name]`
2. Enable PIM sparse mode: `ip pim sparse-mode`
3. Enable PIM for IPv6: `ipv6 pim enable`

Note: Select an interface connected to hosts on which PIM can be enabled, and use the command `interface type number`."
Enable IPv6 and IPv6 PIM by default on an interface.,"1. Device(config-if)# ip pim sparse-mode
2. Device(config-if)# ipv6 pim enable"
Enabling PIM Allow RP,ip pim allow-rp [group-list access-list | rp-list access-list]
PIM Allow RP configuration,IPv4 PIM Allow RP
"IP Multicast routing configuration using PIM (Protocol Independent Multicast) with distributed mode and proper interfaces, OSPF (Open Shortest Path First) network configuration, and PIM RP-address and mroute settings.","- Set ip multicast-routing distributed command on the downstream-router.
- Configure Loopback100 interface with IP address 101.10.1.2/24, IP IGMP static-group 239.1.2.3, and PIM sparse-dense-mode.
- Enable the Ethernet1/2 interface with IP address 11.10.2.2/24 and PIM sparse-dense-mode.
- Create OSPF process 200 with network statements for both 11.0.0.0/8 and 101.0.0.0/8 under area 1.
- Set ip pim rp-address to 11.30.3.3 and ip mroute to 11.30.3.3/32 with a last-hop gateway of 11.10.2.1."
Implement PIM (Protocol Independent Multicast) routing on an upstream router to handle multicast traffic.,"1. Configure a distributed multicast-routing on the upstream router:
```
!
ip multicast-routing distributed
!
```
2. Define interfaces and their respective IP addresses and multicast settings:
```
interface FastEthernet0/0/2
  ip address 11.10.2.1 255.255.255.0
  ip pim sparse-dense-mode
  no shut
!
interface FastEthernet0/0/4
  ! interface to RP (11.10.3.3)
  ip address 10.10.4.1 255.255.255.0
  ip pim sparse-dense-mode
  no shut
!
```
3. Configure OSPF (Open Shortest Path First) routing protocol with the appropriate network addresses:
```
router ospf 200
  network 10.0.0.0 0.255.255.255 area 1
  network 11.0.0.0 0.255.255.255 area 1
!
```
4. Configure PIM settings, such as the RP-address and allow-rp:
```
ip pim rp-address 11.10.3.3
ip pim allow-rp
!
end
```"
PIM allow RP configuration on the upstream device for multicast traffic processing and creating Joins to the RP.,"The configured address is (20::1:1:3) for the RP, and the pim allow-rp command must be present on the upstream device."
Router Configuration for IPv6 Multicast Routing and OSPF in a Network with Two Routers (Downstream-router and Upstream-router),"1. Downstream-router Configuration:
   - Hostname: downstream-router
   - Unicast Routing: enabled
   - Multicast Routing: enabled
   - Loopback100 Interface:
       - Link-local IPv6 address: FE80::50:1:2
       - Global Unicast IPv6 address: 50::1:1:2/64
       - IPv6 routing enabled on the interface
   - OSPF 1 area 0: enabled with Router-ID as 205.2.0.2
   - Multicast Listener Discovery (MLD) join-group: FF03::1
   - Ethernet1/2 Interface:
       - Link-local IPv6 address: FE80::10:1:2
       - Global Unicast IPv6 address: 10::1:1:2/64
       - IPv6 routing enabled on the interface
   - OSPF 1 area 0: enabled with Router-ID as 205.2.0.2

2. Upstream-router Configuration:
   - Hostname: Upstream-router
   - Unicast Routing: enabled
   - Multicast Routing: enabled
   - FastEthernet0/0/2 Interface:
       - Link-local IPv6 address: FE80::10:1:1
       - Global Unicast IPv6 address: 10::1:1:1/64
       - IPv6 routing enabled on the interface
   - OSPF 1 area 0: enabled with Router-ID as 205.1.0.1
   - FastEthernet0/0/3 Interface (interface to the RP):
       - Link-local IPv6 address: FE80::20:1:1
       - Global Unicast IPv6 address: 20::1:1:1/64
       - IPv6 routing enabled on the interface
   - OSPF 1 area 0: enabled with Router-ID as 205.1.0.1
   - PIM RP-address: 20::1:1:3 (RP's IPv6 address)
   - PIM allow-rp (PIM RP check is enabled)"
Configure Source Specific Multicast (SSM),"SSM feature is an extension of IP multicast where datagram traffic is forwarded to receivers from only those multicast sources to which the receivers have explicitly joined. For multicast groups configured for SSM, only source-specific multicast distribution trees (no shared trees) are created."
Use random IP addresses out of the SSM range for an application to minimize the chance for reuse of a single address within the SSM range between different applications.,"Use a different group for each television (S, G) channel with SSM."
"IGMPv3 should be used for proper membership report recognition, and URD or IGMP v3lite should be implemented if the operating system is not upgraded for IGMPv3.","- IGMP version: IGMPv3 or IGMP v3lite (depending on the OS upgrade status)
- URD intercept URL string length: Fewer than 256 bytes"
Check if host operating system supports IGMPv3 using HSIL.,HSIL with IGMPv3 kernel support for at least one version of the host operating system.
Source Specific Multicast (SSM) extension for IP multicast to forward traffic only to receivers from explicitly joined sources.,"Protocol Independent Multicast source-specific mode (PIM-SSM), Internet Group Management Protocol Version 3 (IGMPv3)."
IGMP Version 3 support for Source Specific Multicast (SSM),"Router, Host, and Application must all support SSM"
The requirement is for an Internet Service Multicasting (ISM) system that delivers IP datagrams to a group of receivers called the multicast host group. It uses both ISM and Source Specific Multicast (SSM) services.,"- Systems must be able to signal their membership in the host group or (S, G) channel using IGMP Version 1, 2, or 3."
Channel subscription signaling using IGMP INCLUDE mode membership reports for SSM coexistence with ISM service.,IGMP Version 3 support for channel subscription signaling.
Support for Source Specific Multicast (SSM) services in a network with an established IP multicast service based on PIM-SM.,"Upgrade only the last-hop routers to a software image that supports SSM, and configure non-last-hop routers to run PIM-SM in the SSM range while suppressing MSDP signaling, registering, or PIM-SM shared-tree operations within the SSM range."
Enable and configure PIM-SSM for groups within the SSM range.,"Use the ip pim ssm global configuration command to enable PIM-SSM mode, which will affect PIM operations within the SSM range of addresses. Only PIM (S, G) Join and Prune messages are generated by the router in this mode, and incoming messages related to RPT operations are ignored or rejected. Routers that are not last-hop routers can still run PIM-SM for SSM groups."
"IGMPv3 Host Signaling for last-hop routers in multicast groups, allowing hosts to signal membership and filter capabilities with respect to sources using EXCLUDE or INCLUDE modes.",IGMPv3 can operate with both ISM (both EXCLUDE and INCLUDE mode reports are accepted by the last-hop router) and SSM (only INCLUDE mode reports are accepted by the last-hop router).
Internet Broadcast Applications,"The ability to provide Internet broadcast services through SSM without the need for unique IP multicast addresses, prevention against DoS attacks, and ease of installation and operation of SSM."
Develop a software solution to write and run SSM applications on hosts that do not support IGMPv3 in their operating system kernel.,"Compile applications with the Host Side IGMP Library (HSIL) for IGMP v3lite, and use the HSIL client library linked to the SSM application."
Enable SSM with URD using a single initial URD channel subscription through a web page.,"The last hop router from the receiver host must be enabled for URD to intercept the HTTP connection toward the web server on port 465, preventing a TCP connection to the web server and allowing the web server to ""listen"" to requests on port 465 and install a Common Gateway Interface (CGI) script."
"To monitor SSM, use the commands in privileged EXEC mode as needed, such as ""show ip igmp groups detail"" and ""show ip mroute"". Configure a router for SSM using IGMPv3 with the example provided.","Example of configuring a router (running IGMPv3) for Source Specific Multicast:
```
ip multicast-routing
!
interface GigabitEthernet3/1/0
 ip address 172.21.200.203 255.255.255.0
 description backbone interface
 ip pim sparse-mode
!
interface GigabitEthernet3/2/0
 ip address 131.108.1.2 255.255.255.0
 ip pim sparse-mode
 description ethernet connected to hosts
 ip igmp version 3
!
ip pim ssm default
```"
SSM Filtering Configuration for legacy RP routers that do not support SSM routing.,ip access-list extended no-ssm-range deny ip any 232.0.0.0 0.255.255.255 ! SSM range permit ip any any ip pim accept-register list no-ssm-range
Configure Source Specific Multicast (SSM) filtering for MSDP peers in a router.,"- Use the ""ip msdp redistribute list"" command to specify the list of non-preferred sources, e.g., ""ip msdp redistribute list msdp-nono-list"".
- Configure the SA filter for each MSDP peer using the ""ip msdp sa-filter in"" command followed by the MSDP peer name and the list of non-preferred sources, e.g., ""ip msdp sa-filter in msdp-peer1 list msdp-nono-list"".
- Repeat the configuration for each MSDP peer using ""msdp-peerN"" as appropriate."
"Implement Source Specific Multicast (SSM) in Cisco IOS XE Release 2.1 and later versions, including the Cisco ASR 903 Router.","Include support for SSM in the specified Cisco IOS XE releases, and ensure that multicast groups are configured to use only source-specific multicast distribution trees."
Configure a Generic Route Encapsulation (GRE) tunnel to tunnel IP multicast packets between non-IP multicast areas.,Not provided in the text. Please refer to the specific section or manual for configuration details.
Per packet load balancing in IP multicast,"Load balancing can be done per (S1, G) on Link X and per (S2, G) on Link Y, where X and Y are parallel links. Creating a tunnel between the routers enables per packet load balancing for the tunnel unicast packets."
Configure two routers with a GRE tunnel between them for handling multicast packets using Reverse Path Forwarding (RPF) checks and static mroute.,"Not specified in the text, as it provides description but not specific configuration details."
Enable and configure the tunnel for Multi-Protocol Label Switching (MPLS) and Multicast routing,"1. Enable privileged EXEC mode by typing ""enable"" and entering your password if prompted.
2. Enter global configuration mode by typing ""configure terminal"".
3. Configure a tunnel interface with the command ""interface tunnel number"".
4. Set the IP addressing for the tunnel interface using ""ip unnumbered type number"".
5. Enable MPLS using ""ip pim sparse-mode"".
6. Specify the tunnel source with ""tunnel source {ip-address | type number}"".
7. Configure the tunnel destination with ""tunnel destination {hostname | ip-address}"".
8. Repeat Steps 1 through 7 on the router at the opposite end of the tunnel, reversing the tunnel source and destination addresses.
9. Exit configuration mode by typing ""end""."
Configuring the tunnel source and destination addresses to match between Router A and Router B.,"1. Configure the tunnel source address on Router A using `tunnel source {ip-address | type number}`.
   Example: `Router(config-if)# tunnel source 100.1.1.1`
2. Configure the tunnel destination address on Router A using `tunnel destination {hostname | ip-address}`.
   Example: `Router(config-if)# tunnel destination 100.1.5.3`
3. Repeat Steps 1 and 2 for Router B, but reverse the tunnel source and destination addresses.
4. End the current configuration session and return to privileged EXEC mode using `end`.
   Example: `Router(config-if)# end`"
Configure routers to reverse path forward correctly over the tunnel for multicast traffic.,"Router(config)# ip mroute 0.0.0.0 0.0.0.0 tunnel
0"
"Display the contents of the IP multicast routing (mroute) table using the ""show ip mroute"" command with optional parameters.","Use the ""show ip mroute"" command to view the IP multicast routing table with optional parameters such as group-address, group-name, source-address, source-name, interface-type, interface-number, summary, count, and active kbps."
Configuring a tunnel between R102 and R104 for non-IP multicast areas.,"- Enable multicast routing on R102 and R104.
- Configure the ip pim sparse-dense-mode command on tunnel interfaces."
Configuration of PIM dense mode and ensuring successful RPF checks for multicast source address in dense mode.,ip mroute 10.1.1.0 255.255.255.0 tunnel 0 command on R104.
"Successful RPF verification of multicast (S,G) traffic flowing over the Shortest Path Tree (SPT) for a multicast source.","ip mroute source-address nexthop command configured for the multicast source, pointing to the tunnel interface; ip mroute 10.1.1.0 255.255.255.0 tunnel 0 command on R104; enabling IP multicast routing."
Enabling IP multicast routing on the router.,"```
ip multicast-routing
```"
Ensuring a successful RPF check for packets flowing from the source using ip mroute command.,ip mroute 10.1.1.0 255.255.255.0 Tunnel0
Automatic Multicast Tunneling (AMT) support and IP Multicast configuration,"- AMT tunnel supports PIM passive mode on the AMT Gateway side.
- AMT supports SSM modes for PIM signaling.
- AMT supports IPv4 transport for tunnels.
- For AMT, auto-rp is invalid between relay and gateway."
Automatic Multicast Tunneling (AMT) for establishing a tunnel and sending multicast traffic in the AMT tunnel.,AMT supports IPv4-in-IPv4 and IPv6-in-IPv4 tunnels in Cisco IOS XE Release 3.15S.
"Automatic Multicast Tunneling (AMT) with support for IPv4 transport, IPv4 multicast traffic, and IPv6 multicast traffic. AMT can be configured in relay-only, gateway-only, and relay-gateway coexisting modes.","AMT relay and gateway tunnel require an interface IP address. The interface IP addresses do not need to be unique, and you can configure the same addresses for the tunnel source address using the ip unnumbered command. You must also configure IGMP."
Automatic Multicast Tunneling (AMT) to work across tunnels,Tunnel source port and tunnel destination port must be configured for a valid AMT configuration.
"Tunnel source interface should be reachable from receivers under all instances, using a loopback interface for better availability. IP PIM passive is recommended for AMT tunnel interfaces.","Use a loopback interface for the tunnel source, reusing the loopback interface used for carrying router and router-ID IP address (usually Loopback 0). Enable IP PIM passive mode on AMT tunnel interfaces."
Enabling and Configuring Automatic Multicast Tunneling on a Relay,tunnel source loopback 0
Specify the UDP encapsulation protocol and tunnel destination port for a multipoint tunnel configuration.,tunnel mode udp multipoint; tunnel dst-port dynamic
Enable Source Specific Multicast (SSM) range for IP multicast addresses.,ip pim ssm {default | range access-list}
Enable IPv6 PIM Passive mode,ipv6 pim passive
"Enable IPv6 PIM passive mode operation on the device interface and configure tunnel source, UDP encapsulation protocol, dynamic tunnel destination address and port, and IPv4 or IPv6 traffic on AMT gateway interface.","1. Device(config-if)# ipv6 enable
2. Device(config-if)# ipv6 pim passive
3. Device(config-if)# tunnel source loopback 0
4. Device(config-if)# tunnel mode udp ip
5. Device(config-if)# tunnel destination dynamic
6. Device(config-if)# tunnel src-port dynamic
7. Device(config-if)# tunnel dst-port dynamic
8. Device(config-if)# amt gateway traffic {ip | ipv6}"
"Configure Source Specific Multicast (SSM) range of IP multicast addresses using the ""ip pim ssm"" command, enable passive PIM operation with ""ipv6 multicast pim-passive-enable"", specify the IP address along with interface type, number, and multicast route with the ""ip route"" command, and configure IPv6 prefix and length with the ""ipv6 route"" command.","1. Device(config)# ip pim ssm default (SSM range configuration)
2. Device(config)# ipv6 multicast pim-passive-enable (Passive PIM operation)
3. Device(config)# ip route 101.0.0.2 255.255.255.255 tunnel10 multicast (Specify IP address, interface type, number, and multicast route)
4. Device(config)# ipv6 route 2011::101:0:0:2/128 Tunnel10 multicast (Configure IPv6 prefix and length)"
IGMP membership configuration for IP multicast on an interface,"Add an IGMP static-group command to create an IGMP membership request on the interface for IP multicast. This can be done on any physical interface configured for IP multicast, but it may not work if there are multiple routers attached to the interface and the AMT gateway router is not the PIM-DR. An alternative is to put the join on an existing loopback interface and enable it for IP multicast (IP PIM passive)."
"Gateway joining multicast traffic towards the AMT relay when mroute shows incoming interface as Tunnel and when joined (e.g., one or more outgoing interfaces).",N/A (no specific configuration mentioned in the text)
Automatic Multicast Tunneling,Displaying and Verifying AMT Relay Configuration
Configure the AMT relay,"enable, configure terminal, interface"
Configure Automatic Multicast Tunneling (AMT) using IPv4 and IPv6 in a UDP multipoint tunnel mode.,"1. Set the IP address for the Tunnel10 interface: `ip address 11.1.1.1 255.255.255.0`
2. Disable IP redirects: `no ip redirects`
3. Enable PIM sparse-mode: `ip pim sparse-mode`
4. Enable IGMP version 3: `ip igmp version 3`
5. Enable IPv6 on the Tunnel10 interface: `ipv6 enable`
6. Set the tunnel source to Loopback0: `tunnel source Loopback0`
7. Configure the tunnel mode as UDP multipoint: `tunnel mode udp multipoint`
8. Set the tunnel destination port to dynamic: `tunnel dst-port dynamic`
9. Set the tunnel source port to dynamic: `tunnel src-port dynamic`
10. Enable AMT relay traffic for IP and IPv6: `amt relay traffic ip`, `amt relay traffic ipv6`
11. Configure IP multicast routing as distributed: `ip multicast-routing distributed`
12. Configure IPv6 multicast routing: `ipv6 multicast-routing`
13. Enable PIM SSM (Source Specific Multicast) as the default mode: `ip pim ssm default`"
IP Multicast Routing Configuration,"ip multicast-routing distributed, ipv6 multicast-routing, ip pim ssm default, ipv6 multicast pim-passive-enable, ip route 101.0.0.2 255.255.255.255 Tunnel10 multicast, ipv6 route 2011::101:0:0:2/128 Tunnel10 multicast"
Configure the PIM Hello message interval on an interface to prevent increased CPU and memory utilization and system-wide negative impact on performance.,Set the PIM Hello message interval to a higher value to reduce CPU and memory utilization and improve overall system performance.
Support for Multicast (PIM),Enabling BFD PIM on an Interface
BFD Support for Multicast (PIM),"Cisco IOS Release 15.4(1)T, ip pim bfd, ipv6 pim bfd, show ip pim, show ipv6 pim interface"
To use Cisco Feature Navigator to find information about platform support and Cisco software image support.,The maximum number of HSRP groups that can be tracked by PIM on each interface is 16.
HSRP awareness in PIM for coordinating PIM DR election and HSRP master election.,Hot Standby Router Protocol (HSRP) for establishing fault-tolerant default gateway by sharing an IP address and a MAC address between network devices.
Transparent recovery for hosts in case of device reload or power loss and HSRP configuration for network segment.,"Virtual MAC address and IP address shared among a group of devices running HSRP, with one device being the active router (AR) based on priority mechanism."
Consistent IP multicast forwarding in a redundant network with virtual routing groups enabled using HSRP Aware PIM.,"HSRP Aware PIM enables multicast traffic to be forwarded through the HSRP active router (AR), allows PIM to leverage HSRP redundancy, avoids potential duplicate traffic, and enables failover depending on the HSRP states in the device. The PIM designated router (DR) runs on the same gateway as the HSRP AR and maintains mroute states."
Primary or secondary IP address for an interface.,ip address ip-address mask (Example: Device(config-if)# ip address 10.0.0.2 255.255.255.0)
Feature Information for VRRP Aware PIM,Only PIM sparse mode (SM) and source specific multicast (SSM) modes are supported. PIM interoperability with Hot Standby Router Protocol (HSRP) IPv6 is not supported.
VRRP Aware PIM for consistent IP multicast forwarding in a redundant network with virtual routing groups enabled.,Not provided.
Create a VRRP group and enter VRRP configuration mode.,Device(config-if)# vrrp 1 address-family ipv4
Configure VRRP settings on a device.,"Set the VRRP leader, group ID, and IP address for the VRRP group; configure the priority value for the designated router (DR); and enable the VRRP Aware PIM feature with the DR-priority value."
VRRP Aware PIM configuration for PIM,"fhrp version vrrp v3, vrrp 1 address-family ipv4, vrrp 1 ip 10.1.6.1, interface Ethernet0/0 ip pim redundancy VRRP1 vrrp, dr-priority 90"
"The requirement is for a redundancy mechanism for the Protocol Independent Multicast (PIM) to interoperate with Virtual Router Redundancy Protocol (VRRP). This mechanism, called VRRP Aware PIM, allows PIM to track VRRP state and preserve multicast traffic upon failover in a redundant network with virtual routing groups enabled.","The configuration is not specified in the provided text, as it mentions that no commands were introduced or modified."
Verify IP Multicast traffic routing through an IP multicast network.,"Common commands used for verification include ""show ip igmp groups"" and displaying group-to-RP mappings."
"Display the contents of the multicast routing (mroute) table, verify IP multicast fast switching is enabled on the outgoing interface, and display statistics related to the number of multicast packets received by and sent out a PIM-enabled interface.","Use the commands ""show ip mroute"", ""show ip interface"", and ""show ip pim interface"" to verify the requirements."
Testing IP multicast reachability using PIM-enabled routers,"Configure routers to respond to Multicast Pings by enabling, configuring terminal, setting interface type number, and using the ip igmp join-group group-address command. Repeat steps for each interface on the router participating in the multicast network."
Configure the router to join a specific group address for all interfaces participating in the multicast network.,(config-if)# ip igmp join-group group-address
Ping an IP multicast group address,"ping group-address (e.g., ping 225.2.2.2)"
Verify IGMP memberships on the last hop router.,Use the 'show ip igmp groups' command to display information about the multicast groups with receivers directly connected to the last hop router and learned through IGMP.
Confirm that multicast traffic is being forwarded on the last hop router,"- Use ""show ip pim interface count"" command to check for Fast Switched (FS) or Distributed Fast Switched (D) state and Interface status
- Use ""show ip mroute count"" command to view multicast traffic forwarding counts"
Verify the operation of IP multicast on routers along the SPT in a PIM-SM or PIM-SSM network.,"1. Enable privileged EXEC mode by running ""enable"" command. Enter your password if prompted.
2. Use the ""show ip mroute [group-address]"" command to confirm the RPF neighbor toward the source for a particular group or groups."
Display information about active sources sending traffic to groups at a rate greater than or equal to 1 kb/s using the show ip mroute command with the active keyword.,Specify a value of 1 for the kb/s argument in the show ip mroute command with the active keyword to display information about active sources sending traffic to groups at a rate greater than or equal to 1 kb/s.
The requirement seems to be related to the configuration and operation of PIM (Protocol Independent Multicast) for multicast routing on a router.,"The text provided does not explicitly mention any specific configuration settings or parameters. However, it discusses the display of PIM group-to-RP mappings using the ""show ip pim rp mapping"" command and mentions the use of the ""show ip mroute"" command for verifying the mroute table on the last hop router."
Disabling Directed broadcast forwarding and enabling Split horizon,"Directed broadcast forwarding is disabled, Split horizon is enabled"
Enable IP Fast Switching for multicast traffic.,"Requirement: Enable IP Fast Switching for multicast traffic.
Configuration: IP Multicast Fast Switching is enabled (Fast state)."
Fast Switched with Hardware Switching Enabled,"- Address: 172.31.100.2
- Interface: GigabitEthernet0/0/0
- FS Mpackets In/Out: 4122/0
- Neighbor IP Address: 10.1.0.1
- Second Interface: GigabitEthernet1/0/0
- RP-tree Forwarding Counts: Pkt Count/Pkts per second/Avg Pkt Size/Kilobits per second"
Implementing IP Multicast routing with PIM-SM or SSM on a Cisco router.,"- Configure the incoming and outgoing interfaces for multicast routing (e.g., GigabitEthernet0/0/0, Serial1/0/0).
- Set the IP address (10.0.0.1) and multicast group address (239.1.2.3) on the router.
- Enable PIM-SM or SSM on the router for multicast routing.

Example:
```
interface GigabitEthernet0/0/0
 ip address 10.0.0.1 255.255.255.248
 ip pim sparse-mode
!
interface Serial1/0/0
 ip address 0.0.0.0 0.255.255.255
 ip pim sparse-mode
```"
Enabling and monitoring IP Multicast Heartbeat to ensure proper delivery of packets and receive alerts when parameters are not met.,"The ip multicast heartbeat command allows for configuring minimum packet observation, interval settings, SNMP trap generation, and network management station destination."
Session Announcement Protocol (SAP) listener support for using session description and announcement protocols and applications in multicast multimedia conferences and sessions.,"Session Description Protocol (SDP), defined in RFC 2327, to describe sessions with properties like contact information, session lifetime, media (audio, video, whiteboard) with specific attributes such as time-to-live (TTL) scope, group address, and User Datagram Protocol (UDP) port number."
"The requirement is related to handling network management protocols, specifically SNMP and PIM MIB extensions.","The configuration should include settings for PIM interface enable/disable using the ip pim command in interface configuration mode, managing neighbor adjacencies as per RFC 2934, handling changes in RP mapping information due to Auto-RP messages or BSR messages, and monitoring for invalid (*, G) Join or Prune messages and invalid PIM register messages."
"Monitor and maintain IP multicast routing by displaying multicast peers, packet rates, loss information, and tracing the path from a source to a destination branch for a multicast distribution tree.","Enable the command ""mrinfo"" with appropriate parameters, followed by the command ""mstat."""
Display IP multicast packet rate and loss information.,"mstat {source-name | source-address} [destination-name | destination-address] [group-name | group-address]

Requirement: Trace the path from a source to a destination branch for a multicast distribution tree.
Configuration: mtrace {source-name | source-address} [destination-name | destination-address] [group-name | group-address]

Requirement: Display IP multicast system statistics.
Configuration: show ip mroute [group-address | group-name] [source-address | source-name] [type number] [summary] [count]"
Clearing IP Multicast routing table and caches,"1. Enable privileged EXEC mode using the ""enable"" command
2. Clear IP Multicast routing table entries using the ""clear ip mroute {* | group-name [source-name | source-address] | group-address [source-name | source-address]}"" command
3. Clear PIM Auto-RP cache using the ""clear ip pim auto-rp rp-address"" command
4. Clear IGMP cache using the ""clear ip igmp group [group-name | group-address | interface-type interface-number]"" command
5. Clear CGMP cache using the ""clear ip cgmp [interface-type interface-number]"" command"
Enable IP multicast routing and monitor IP multicast packet delivery.,"1. Enter global configuration mode: configure terminal
2. Enable IP multicast routing: ip multicast-routing distributed
3. Specify SNMP notification operation settings: snmp-server host {hostname | ip-address} [traps | informs] [version {1 | 2c | 3 [auth | noauth | priv]}] community-string[udp-port port] [notification-type]
4. Set up SNMP server to send IP multicast traps: Router(config)# snmp-server host 224.1.0.1 traps public
5. Enable the router to send IP multicast traps: snmp-server enable traps ipmulticast
6. Monitor IP multicast packet delivery: ip multicast heartbeat group-address minimum-number window-size interval (interval should be a multiple of 10 seconds on platforms that use Multicast Distributed Fast Switching)"
Enable PIM MIB Extensions for IP Multicast,snmp-server enable traps pim [neighbor-change | rp-mapping-change | invalid-pim-message]
Enable PIM interface notifications,snmp-server enable traps pim neighbor-change rp-mapping-change invalid-pim-message
Management station with the IP address of 224.1.0.1.,"snmp-server host 224.1.0.1 traps public, snmp-server enable traps ipmulticast, ip multicast heartbeat 224.1.1.1 1 1 10"
PIM Group-to-RP Mappings and Auto-RP Configuration,"- Group(s) 227.0.0.0/8, RP 10.10.0.2 (?), v2v1, bidir
- Group(s) 228.0.0.0/8, RP 10.10.0.3 (?), v2v1, bidir
- Group(s) 229.0.0.0/8, RP 10.10.0.5 (mcast1.cisco.com), v2v1, bidir
- Group(s) (-)230.0.0.0/8, RP 10.10.0.5 (mcast1.cisco.com), v2v1, bidir"
Loopback interface configuration with address 10.10.0.2,"Loopback0 interface, unicast address, 90 seconds, 409600 bandwidth"
Enabling PIM MIB Extensions for IP Multicast,"1. Configure PIM traps to be sent as SNMP v2c traps to the host with IP address 10.0.0.1:
   snmp-server host 10.0.0.1 traps version 2c public pim

2. Configure the router to send the neighbor-change class of trap notification to the host:
   snmp-server enable traps pim neighbor-change

3. Enable PIM Sparse-Dense Mode on interface ethernet0/0:
   interface ethernet0/0
   ip pim sparse-dense-mode"
Monitoring and Maintaining IP Multicast,Protocol Independent Multicast (PIM)
Monitor the status of IP multicast delivery and be informed when delivery fails.,Simple Network Management Protocol (SNMP) traps.
Multicast User Authentication and Profile Support,Add user authentication and provide a user profile download on a per-interface basis for a new multicast service environment.
Enabling AAA authorization and setting parameters for IPv6 multicast user access.,"1. enable
2. configure terminal
3. aaa authorization multicast default [method3 | method4]
4. aaa accounting multicast default [start-stop | stop-only] [broadcast] [method1] [method2] [method3]
[method4
5. interface type number
6. ipv6 multicast aaa account receive access-list-name [throttle throttle-number"
AAA authorization for multicast traffic on a network device.,aaa authorization multicast default method3 | method4
Enable AAA accounting for IPv6 multicast services using RADIUS for billing or security purposes.,"Requirement: Enable AAA accounting for IPv6 multicast services using RADIUS for billing or security purposes.

Configuration: 
1. Configure AAA accounting for multicast default with the following options: start-stop, stop-only, broadcast, method1, method2, method3, and method4. Example: Device(config)# aaa accounting multicast default start-stop
2. Specify an interface type and number to place the device in interface configuration mode. Example: Device(config)# interface FastEthernet 1/0
3. Enable AAA accounting on specified groups or channels using an access list name. Example: Device(config)# ipv6 multicast aaa account receive access-list-name
4. Optionally, set throttle values to control the amount of traffic received. Example: Device(config)# ipv6 multicast aaa account throttle throttle-number"
Disable multicast protocol actions and traffic forwarding for unauthorized groups or channels on all interfaces in a device.,1. Configure ipv6 multicast group-range access-list-name on the device to disable multicast protocol actions and traffic forwarding for unauthorized groups or channels on all interfaces.
"The requirement is for devices in a domain using PIM-SM to be able to map each multicast group to the correct RP address, and for the IPv6 BSR feature to detect when an RP becomes unreachable and modify mapping tables accordingly.","The configuration involves setting up the IP or IPv6 address of an RP for every PIM-SM multicast group, and having devices in the domain use the IPv6 BSR protocol to rapidly distribute group-to-RP mapping information throughout the domain."
PIM devices within a PIM bootstrap domain with administratively scoped ranges must be able to receive BSMs and store the winning BSR and RP set for all administratively scoped zones that apply.,N/A (The given text does not provide specific configuration settings for this requirement.)
Configuring BSR devices to announce scope-to-RP mappings,ipv6 pim [vrf vrf-name] bsr announced rp ipv6-address [group-list access-list-name] [priority priority-value] [bidir] [scope scope-value]
Enabling privileged EXEC mode and configuring IPv6 multicast with Bootstrap Router (BSR) features.,"1. Enable privileged EXEC mode: `enable`
2. Enter global configuration mode: `configure terminal`"
IPv6 Multicast: Bootstrap Router Configuration,N/A (not provided in the text)
Implementing IPv6 multicast with BSR Bi-Dir Support in Cisco IOS XE Release 3.9S,"Enable the ""ipv6 multicast-routing"", ""ipv6 pim bsr announced rp"", and ""ipv6 pim bsr candidate bsr"" commands. Configure static mappings for IPv6 multicast devices to announce scope-to-RP mappings directly from BSR, instead of learning them from candidate-RP messages."
RPF flooding of BSR packets enables a Cisco IPv6 device to not disrupt the flow of BSMs.,The following command was introduced: show ipv6 pim bsr.
Intradomain multicast routing support using PIM-SM in a network with relatively few devices involved in each multicast.,PIM-SM (Protocol Independent Multicast - Sparse Mode) with the use of an RP (Router Preference) for shared trees.
PIM-Sparse Mode configuration,Not available in the given text.
DR election process requirement on multiaccess LANs.,Embedded RP support for IPv6 PIM. Statically configured RP for devices that are the RP. Configuration of specific embedded RP group range or mask in the access list of the static RP.
Configuring the RP address on all devices (including the RP device).,"Configure the RP address on all devices, including the RP device itself."
Enabling IPv6 Multicast Routing,"1. Enable IPv6 unicast routing on all interfaces of the device.
2. Configure the device to enable IPv6 multicast routing with the command ""ipv6 multicast-routing [vrf vrf-name]""."
Enable IPv6 multicast routing on the device.,device(config)# ipv6 multicast-routing [vrf vrf-name]
Configure periodic join and prune announcement intervals for a specified interface using the ipv6 pim hello-interval command.,"The interval can be set by specifying a value in seconds (e.g., Device(config-if)# ipv6 pim hello-interval 45)."
Enabling IPv6 Multicast Routing on all interfaces and configuring PIM (PIM-SM),"1. Enable privileged EXEC mode: enable
2. Enter global configuration mode: configure terminal
3. Specify interface type and number, placing the device in interface configuration mode: interface FastEthernet 1/0
4. Turn off IPv6 PIM on the specified interface: no ipv6 pim
5. Enable multicast routing on all interfaces: ipv6 multicast-routing"
Implement PIM Sparse Mode configuration for IPv6 multicast.,"Set the RP address to 2001:DB8::1, set the SPT threshold to infinity to prevent switchover, and apply a filter on sources without local multicast BGP prefix."
SSM configuration with static information source and IPv6 multicast range lists.,SSM Exp:never Learnt from ::: for FF33::/32 to FF3F::/32; SM RP:40::1:1:1 Exp:never Learnt from ::: for FF13::/64; SM RP:40::1:1:3 Exp:never Learnt from ::: for FF09::/64.
PIM-SM uses unicast routing to provide reverse-path information for multicast tree building in a network where relatively few routers are involved and these routers do not forward multicast packets for a group unless there is an explicit request.,"clear ipv6 pim topology, debug ipv6 pim, debug ipv6 pim neighbor, ipv6 pim, ipv6 pim dr-priority, ipv6 pim hello-interval, ipv6 pim rp-address , ipv6 pim spt-threshold infinity, show ipv6 mroute, show ipv6 pim group-map, show ipv6 pim interface, show ipv6 pim neighbor, show ipv6 pim range-list, show ipv6 pim topology, show ipv6 pim tunnel"
Display the contents of the IPv6 multicast routing table.,show ipv6 mroute [vrf vrf-name] [link-local | group-name | group-address [source-address | source-name]] [summary] [count]
RPF information display for the unicast host with the IPv6 address of 2001:DB8:1:1:2.,"- Interface: Ethernet3/2
- Neighbor: FE80::40:1:3
- Route/Mask: 20::/64"
PIM source-specific multicast (SSM) routing protocol support and optimization of bandwidth utilization by forwarding datagram traffic to receivers from only those multicast sources that the receivers have explicitly joined.,Not specified in the given text.
"Traffic for one (S, G) channel consists of datagrams with an IPv6 unicast source address S and the multicast group address G as the IPv6 destination address. Systems will receive this traffic by becoming members of the (S, G) channel. Receivers must subscribe or unsubscribe to (S, G) channels to receive or not receive traffic from specific sources. MLD version 2 is required for SSM to operate, and SSM must be supported in the Cisco IPv6 device, the host where the application is running, and the application itself.",Not applicable
Reverse Path Forwarding for multicast datagram forwarding.,"The device uses the Reverse-path forwarding to forward multicast datagrams, where the packet is discarded if it does not arrive on the RPF interface and the RPF check is performed differently for source trees and shared trees."
Enabling privileged EXEC mode on a device and configuring PIM leaf device behavior.,"1. Enter your password if prompted.
   - Device> enable
2. Enter global configuration mode.
   - Device> configure terminal
3. Configure when a PIM leaf device joins the SPT for specified groups.
   - Device(config)# ipv6 pim [vrf vrf-name] spt-threshold infinity [group-list access-list-name]
4. Set the SPT threshold to infinity on the configured device.
   - Device(config)# ipv6 pim spt-threshold infinity
5. Specify group list for PIM leaf device joining the SPT.
   - Device(config)# ipv6 pim [vrf vrf-name] spt-threshold infinity group-list access-list-name
6. Accept or reject registers at the RP.
   - Device(config)# ipv6 pim [vrf vrf-name] accept-register {list access-list | route-map map-name}
7. Specify interface type and number, and place the device in interface configuration mode.
   - Device(config)# interface type number
8. Configure the DR priority on a PIM device.
   - Device(config)# ipv6 pim dr-priority value
9. Set the DR priority for a specific interface on a PIM device.
   - Device(config-if)# ipv6 pim dr-priority value"
Configure the periodic join and prune announcement intervals for a specified interface.,"ipv6 pim hello-interval <value>
ipv6 pim join-prune-interval <value>"
IPv6 Multicast: PIM Source-Specific Multicast,Configuring Join/Prune Aggregation
"The requirement is to implement and support the PIM-SSM feature for IPv6 multicast in the router or network device. This feature enables optimized bandwidth utilization by forwarding datagram traffic only to receivers that have explicitly joined the specific multicast sources, thus denying unwanted Internet broadcast traffic.","- clear ipv6 pim topology
- debug ipv6 pim
- debug ipv6 pim neighbor
- ipv6 pim
- ipv6 pim dr-priority
- ipv6 pim hello-interval
- ipv6 pim rp-address
- ipv6 pim spt-threshold infinity
- show ipv6 mroute
- show ipv6 pim group-map
- show ipv6 pim interface
- show ipv6 pim neighbor
- show ipv6 pim range-list
- show ipv6 pim topology
- show ipv6 pim tunnel"
IPv6 Multicast: PIM Source-Specific Multicast,"Gibraltar 16.11.x, 288"
Configure IPv6 Source Specific Multicast Mapping (SSM) on a device,"Enable SSM mapping (DNS-based or static), configure either DNS-based or static SSM mapping, enable/disable query for DNS server, specify access-list and source-address for static SSM mapping, and view configuration using the ""show ipv6 mld [vrf vrf-name] ssm-map"" command."
The requirement is for the deployment of IPv6 Source Specific Multicast (SSM) with hosts that are incapable of providing MLD version 2 support in their TCP/IP host stack and IP multicast receiving application.,"The configuration introduces or modifies the following commands: ipv6 mld ssm-map enable, ipv6 mld ssm-map query dns, and ipv6 mld ssm-map query."
"Finding Feature Information for IPv6 Bidirectional PIM, Configuration Examples for IPv6 Bidirectional PIM","How to Configure IPv6 Bidirectional PIM, Configuration Examples for IPv6 Bidirectional PIM"
Enable PIM passive mode on an interface for multicast routing.,Not provided in the text.
Enable and configure IPv6 multicast PIM passive mode on a device.,"1. Enter privileged EXEC mode by typing ""enable"" and following the prompts if prompted for a password.
2. Enter global configuration mode by typing ""configure terminal"".
3. Enable the PIM passive feature on an IPv6 device by typing ""ipv6 multicast pim-passive-enable"".
4. Specify an interface type and number, and place the device in interface configuration mode by typing ""interface type number"".
5. Enable the PIM passive feature on a specific interface by typing ""ipv6 pim passive"" in interface configuration mode."
Implementing IPv6 PIM Passive mode on the Cisco IOS XE platform.,"pim-passive-enable, ipv6 pim passive, show ipv6 pim."
A separate physical IP address for communication between the RPs in the Anycast set. Each device in the Anycast set must contain the list of all devices in the Anycast set. The IP address of the local device must be included in the set so that all devices in the anycast set have the same IP addresses.,"1. Each device in the Anycast set is configured with the list of all other devices in the Anycast set.
2. The RP address, or a prefix that covers the RP address, is injected into the unicast routing system inside the domain.
3. All devices in the anycast RP set must have consistent configuration for the IP addresses and addresses of all other devices in the anycast RP set."
Configure the PIMv6 Anycast RP solution to ensure transparent failover and routing of registers when RP1 is not reachable.,"1. Enable PIMv6 on the devices.
2. Configure IPv6 addresses for DR1, RP1, RP2, RP3, and RP4.
3. Set up PIMv6 anycast RP peers by configuring RP1 and RP2 with their respective IPv6 addresses."
Configure PIM RP for an anycast group range.,Device(config)# ipv6 pim anycast-rp {IP address of local device} {IP address of remote router}
Configure the address of the PIM RP for an anycast group range for a remote or local router.,"1. Use the command ""ipv6 pim anycast-RP rp-address"" to configure the address of the PIM RP.
2. Enter the specific RP-address using the ""peer-address"" command.
3. Example: Device(config-if)# ipv6 pim anycast-rp 2001:DB8::1:1 2001:DB8::3:3"
Configure MTR in VRF for BGP/MPLS L3VPNs and multicast sub-address families within a VRF address family.,"1. Enable
2. Configure terminal
3. Vrf definition vrf-name
4. Rd route-distinguisher
5. Ipv4 multicast multitoplogy
6. Address-family ipv4
7. Exit-address-family
8. Address-family ipv4 multicast
9. Topology topology-instance-name
10. All-interfaces
11. Exit
12. Exit-address-family
13. Exit
14. Interface type number
15. Interface type number
16. Vrf forwarding vrf-name
17. [IP Address and Mask]
18. IP PIM sparse-dense-mode
19. End"
Configuring a VRF routing table and entering VRF configuration mode on a terminal device.,Device# configure terminal; vrf definition vrf-name
VRF configuration with IPv4 multicast multitopology support.,"1. Define the VRF: Device(config)# vrf definition vd1
2. Enable IPv4 multicast support for multi-topology routing (MTR) in a VRF instance: Device(config-vrf)# rd 10:1
3. Specify the IPv4 address family and enter address family configuration mode: Device(config-vrf)# ipv4 multicast multitoplogy
4. Exit address family configuration mode and remove the IPv4 address family: Device(config-vrf-af)# exit-address-family
5. Specify the IPv4 address family multicast type and enter VRF address family configuration mode: Device(config-vrf)# address-family ipv4 multicast
6. Enter VRF address family topology configuration mode: Device(config-vrf)# topology"
SNMP Notification Support over VPNs,VPN-Aware SNMP
SNMP Manager controls and monitors network activities using SNMP.,NMS (Network Management System) is the most common managing system for SNMP.
"The requirement is to perform operations on the Simple Network Management Protocol (SNMP) to retrieve data, modify SNMP object variables, and send notifications using the SNMP Get operation.",The configuration should be done on the Network Management Server (NMS) for retrieving SNMP object variables using three types of GET operations.
SNMP Security Models and Levels,"v1, noAuthNoPriv (uses community string match for authentication)
v2c, noAuthNoPriv (uses community string match for authentication)
v3, authNoPriv (provides authentication based on HMAC-MD5 or HMAC-SHA algorithms)
v3, authNoPriv (provides DES 56-bit encryption in addition to authentication based on CBC-DES standard)
v3, md5orShaAuthPriv (authentication based on MD5 or SHA, Data Encryption Standard)"
"Configure an SNMP agent to use the version of SNMP supported by the management station and support communications with multiple managers using different SNMP protocols (SNMPv1, SNMPv2c, and SNMPv3).","Cisco IOS software configuration for supporting communications with one management station using SNMPv1 protocol, another using SNMPv2c protocol, and another using SNMPv3. SNMPv3 supports RFCs 1901 to 1908, 2104, 2206, 2213, 2214, and 2271 to 2275."
The requirement is to introduce new commands and command modifications for the Interface Index Display of the SNMP feature. This allows advanced users of SNMP to view information about interface registrations directly on the managed agent without using an external NMS.,"The configuration involves displaying MIB information from the agent, specifically addressing three objects in the Interfaces MIB: ifIndex, ifAlias, and ifName."
Assigning identification numbers to interfaces and subinterfaces.,"The ifAlias object (ifXEntry 18) is used for assigning user-specified descriptions to interfaces for SNMP network management. It can be set using the description command in interface configuration mode or subinterface configuration mode or by using a Set operation from an NMS. The new CLI command, snmp ifmib ifalias long, configures the system to handle IfAlias descriptions of up to 256 characters."
Use SNMP GET operation to retrieve a limited number of elements instead of performing an SNMP table query (SNMP MIB Walk) on QOS MIB.,SNMP Support for VPNs feature allows SNMP traps and informs to be sent and received using VPN routing and forwarding (VRF) tables.
"The requirement is for ifIndex persistence to maintain a consistent correspondence between ifIndex values and interfaces across reboots, enabling applications such as device inventory, billing, and fault detection.","The configuration involves supporting an ifIndex value that can persist across reboots, allowing users to avoid workarounds for consistent interface identification. This feature enables the mapping between ifDescr object values and ifIndex object values to be maintained consistently."
"Create a trigger table with supplementary tables for additional objects based on the type of test performed for a trigger. The Event MIB should allow setting event triggers based on existence, threshold, and Boolean trigger types, and send notifications to interested hosts when a trigger is activated.","Event MIB supports the following types of object sampling: Absolute, Delta, Changed"
"Evaluation of expression values and sampling methods (Absolute, Delta, Changed) for different expressions.",SNMP notification logging mechanism with the Notification Log MIB for recording information.
Create or Modify an SNMP View Record,"1. enable
2. configure terminal
3. snmp-server view view-name oid-tree {included | excluded}
4. no snmp-server view view-name oid-tree {included | excluded}
5. end
6. show snmp view"
Create an SNMP view record for including or excluding specific OIDs in the MIB-II subtree.,"Use the ""snmp-server view"" command followed by ""view-name oid-tree {included | excluded}"" to create a view record for including or excluding specific OIDs in the MIB-II subtree."
"Creating or Modifying Access Control for an SNMP Community. The community string acts like a password to regulate access to the agent on the device. Optionally, you can specify one or more of the following characteristics associated with the string.",snmp-server community <community_string> <privilege_level> <access_list_number>
- Create or modify a community string for SNMP.,"- ""snmp-server community string [view view-name] [ro | rw] [ipv6 nacl] [access-list-number]"" command"
Enable privileged EXEC mode and configure SNMP community string.,"enable, configure terminal, snmp-server community string [view view-name] [ro | rw] [ipv6 nacl] [access-list-number], no snmp-server community string, show snmp community."
"Configure a remote user by specifying the IP address or port number for the remote SNMP agent of the device where the user resides, and configure the SNMP engine ID using the snmp-server engineID command with the remote option.","1. Specify the IP address or port number for the remote SNMP agent.
2. Configure the SNMP engine ID using the snmp-server engineID command with the remote option."
Remove configurations and reconfigure SNMP settings for an existing user,"First, reconfigure all the SNMP configurations to remove the user, then configure a new password with a minimum length of one character (recommended eight characters for security), which can be either plain text or localized MD5 digest. If using MD5 digest, it should be formatted as aa:bb:cc:dd where aa, bb, and cc are hexadecimal values and the digest should be exactly 16 octets in length."
Configure SNMP engine ID for a remote user,snmp-server engineID remote ip-address udp-port udp-port-number vrf vrf-name engine-id-string
Show SNMP user information,"User name, Engine ID, Storage-type, Active access-list, Row status, Authentication Protocol, Privacy protocol, Group name"
Enable and configure the SNMP manager on a device,"1. enable
2. configure terminal
3. snmp-server manager
4. snmp-server manager session-timeout seconds (optional)"
Display the status of SNMP sessions,show snmp sessions [brief]
Display the current set of pending SNMP requests.,show snmp pending
Change the session timeout value for SNMP manager.,snmp-server manager session-timeout seconds
SNMP logging enabled,Logging to 172.17.58.33.162
"SNMP Manager-role output packets should have specific number of Get-request PDUs, Get-next PDUs, Get-bulk PDUs, Set-request PDUs, Inform-request PDUs, Timeouts, and Drops.","Requirement: SNMP Manager-role output packets should have specific number of Get-request PDUs, Get-next PDUs, Get-bulk PDUs, Set-request PDUs, Inform-request PDUs, Timeouts, and Drops.

Configuration: SNMP Manager-role input packets should have specific number of Inform response PDUs and Trap PDUs, while Informs in flight should be 0/25 (current/max)."
Enabling the SNMP Agent Shutdown Mechanism,"Using SNMP packets, a network management tool can send messages to users on virtual terminals and on the console."
Enabling the SNMP agent shutdown mechanism,system-shutdown global configuration command
Enabling system shutdown using the SNMP message reload feature,"1. Enable privileged EXEC mode with the command ""enable"".
2. Enter global configuration mode with the command ""configure terminal"".
3. Enable system shutdown using the SNMP message reload feature with the command ""snmp-server system-shutdown""."
Limit the number of TFTP servers used for configuration file copies via SNMP to the servers in an access list.,snmp-server tftp-server-list number
Disable SNMP agent operation,no snmp-server
Configuring SNMP Notifications,Use the snmp-server host command to specify whether you want SNMP notifications to be sent as traps or informs.
Configure the Device to Send SNMP Notifications,"1. enable
2. configure terminal
3. snmp-server engineID remote remote-ip-address remote-engineID
4. snmp-server user
username groupname [remote host [udp-port port] {v1 | v2c | v3 [encrypted]
[auth {md5 | sha} auth-password]} [access access-list]
5. snmp-server"
Enable SNMP traps with specified settings.,"Requirement: Enable SNMP traps with specified settings.
Configuration: snmp-server host [traps | informs] [version {1 | 2c | 3 [auth | noauth | priv]}] community-string [notification-type]"
Configuring the engine ID for a remote host in the SNMP server settings.,Use the snmp-server engineid remote command to specify the engine ID for a remote host.
"The requirement is to configure the SNMP server settings for a device, including enabling SNMP notifications (traps or informs), specifying the host that will receive the notifications, and configuring the type of notifications to be sent.","1. Configure the SNMP server host using the command: `snmp-server host example.com`
2. Specify the version of SNMP notifications with the command: `informs version 3 public` (optional)
3. Enable sending of traps or informs with the command: `snmp-server enable traps`
4. If needed, specify the type of notifications to be sent using the command: `notification-type <type>`
5. Configure notification options using the command: `notification-options <options>` (optional)"
Enable Syslog Trap Messages and configure trap message severity.,"Use the snmp-server enable traps syslog command to enable Syslog traps, and use the logging snmp-trap command to specify the trap level (e.g., logging snmp-trap 0 7 or individual trap levels like emergencies, alert, etc.). Apply the Syslog history command with the logging history informational command to enable traps up to informational level."
Set up SNMP notification configuration and message queue length for a device,"1. Enable privileged EXEC mode using 'enable' command
2. Enter global configuration mode with 'configure terminal' command
3. Configure the trap-source with 'snmp-server trap-source interface' command, specifying the interface (e.g., FastEthernet 2/1)
4. Set up the queue-length for each notification using 'snmp-server queue-length length' command, specifying the queue length (e.g., 50 entries)"
"Configure trap-timeout and inform operation values (retries, timeout, pending) for SNMP on a Cisco IOS XE device.","Device(config)# snmp-server trap-timeout 30
Device(config)# snmp-server informs retries 10
Device(config)# snmp-server informs timeout 30
Device(config)# snmp-server informs pending 100"
Disables the sending of linkUp and linkDown notifications for all generic interfaces.,no snmp-server link-status
Configure SNMP notification log options to control log size and timing values.,"1. enable
2. configure terminal
3. snmp mib notification-log default
4. snmp mib notification-log globalageout seconds
5. snmp mib notification-log globalsize size
6. end"
"Configure the SNMP notification log to delete entries older than a specified age, and set the maximum number of entries that can be stored in all SNMP notification logs.","1. Set the global ageout value for the SNMP notification log using the command ""snmp mib notification-log globalageout"" followed by the desired age in seconds (e.g., ""globalageout 20"").
2. Set the maximum number of entries that can be stored in all SNMP notification logs using the command ""snmp mib notification-log globalsize size"" followed by the desired size (e.g., ""globalsize 600"")."
Display information about the state of the local SNMP notification logging,Device# show snmp mib notification-log
Display Interfaces MIB ifIndex values,Device# show snmp mib ifmib ifindex [type number] [detail] [free-list]
Clearing and setting the ifIndex persistence for a specific interface using the snmp ifindex command in SNMP configuration.,"Use the ""snmp ifindex clear"" command to remove any previously entered ifIndex configuration commands, then use the ""snmp ifindex persist"" command to enable the global configuration setting for ifIndex persistence on the desired interface."
Configure SNMP Support for VPNs,"Association of SNMP agents and managers with specific VRFs, using the specified VRF for sending SNMP traps, informs, and responses between agents and managers. Support for VPNs allows users to configure an SNMP agent to only accept SNMP requests from a certain set of VPNs."
Configure SNMP support for a specific VPN using VPN-aware MIBs.,"1. enable
2. configure terminal
3. snmp-server host {vrf vrf-name} {traps | informs} {version {1| 2c| 3 [auth | noauth |priv]}] community-string {udp-port port} {notification-type}
4. snmp-server engineID remote {ip-address | udp-port udp-port-number} {vrf vrf-name} {engineid-string}
5. exit
6. show snmp host"
Enter global configuration mode and configure SNMP settings.,"1. Enter global configuration mode using 'configure terminal' command.
2. Specify recipient of an SNMP notification operation with 'snmp-server host' command.
3. Configure VRF table for sending SNMP notifications with '[vrf vrf-name]' option.
4. Select the desired SNMP version, trap types and authentication/privacy options.
5. Specify community string, UDP port, and notification type.
6. Configure name for remote SNMP engine when using VPN for a remote SNMP user with 'snmp-server engineID remote' command.
7. Enter the IP address, UDP port number, VRF name, and engine ID string.
8. Exit global configuration mode using 'exit' command."
Configuring Event MIB Using SNMP,"Monitor the delta values of ifInOctets for all interfaces once per minute. If any of the samples exceed the specified threshold, a trap notification will be sent."
Monitor ifInOctets for all interfaces.,"The Event MIB is configured to monitor the delta values of ifInOctets for all interfaces once per minute. If any of the samples exceed the specified threshold of 30, a Trap notification will be sent."
Create a trigger row in the table with 'john' as the mteOwner and '1' as the trigger name.,"- mteTriggerEnabled.4.106.111.104.110.1 -i 1
- mteTriggerEntryStatus.4.106.111.104.110.1 -i 5
- mteTriggerValueID.4.106.111.104.110.1 -d 1.3.6.1.2.1.2.2.1.10
- mteTriggerValueIDWildcard.4.106.111.104.110.1 -i 1
- mteTriggerTest.4.106.111.104.110.1 -o '20'
- mteTriggerFrequency.4.106.111.104.110.1 (Not specified in the text, but it can be set to 60)"
Set the Rising Threshold value for the mteTriggerThresholdRising object.,"Requirement: Set the Rising Threshold value for the mteTriggerThresholdRising object.

Configuration: $ADDRESS private mteTriggerThresholdRising.4.106.111.104.110.1 -i 30"
Activate the trigger,- setany -v2c $ADDRESS private mteTriggerEntryStatus.4.106.111.104.110.1 -i 1
Configure scalar variables for the Event MIB,"Enable privileged EXEC mode, enter global configuration mode, set minimum value for object sampling, set maximum value for object instance sampling."
"Configure the Event MIB object list by being familiar with Event MIB objects and object identifiers, which can be added to notifications according to the event, trigger, or trigger test.","To configure the Event MIB object list, use the following commands in order: 1. enable, 2. configure terminal, 3. snmp mib event object list owner object-list-owner name object-list-name object-number, and 4. object id object-identifier."
Configure a management event using SNMP MIB events and object identifiers.,"1. Enable privileged EXEC mode with the 'enable' command.
2. Enter global configuration mode with the 'configure terminal' command.
3. Enter the event configuration mode with the 'snmp mib event owner event-owner' command, followed by the 'name event-name' command.
4. Use the 'description event-description' command to describe the function and use of the event."
"Configuring an event action for an application to perform actions during an event trigger, such as sending a notification or setting a MIB object.","1. Enable privileged EXEC mode (enable)
2. Enter global configuration mode (configure terminal)
3. Set the event action information to either set or notification (snmp mib event owner event-owner name event-name)
4. Configure the event action (action notification)
5. Set the object ID for the MIB object (object id object-id)
6. End the configuration mode (end)"
Configure the event action for an SNMP MIB event,"Set the notification action for an event using the ""snmp mib event owner"" command and specify the event name. Then, use the ""action notification"" command to generate a notification whenever an object associated with an event is modified."
Configure SNMP MIB Event Trigger,Device(config)# snmp mib event trigger owner owner1 name EventTriggerA
Configure trigger parameters for the test existence trigger type using the specified steps.,"test existence, event owner, object list owner, type (present | absent | changed), startup (present | absent)"
"Enable test existence configuration mode on a device for performing an event trigger test. Configure the event, owner, and object list for the existence trigger test. Perform the specified type of existence test (present, absent, or changed).","1. Device(config-event-trigger)# test existence
2. Device(config-event-trigger-existence)# event owner event-owner name event-name
3. Device(config-event-trigger-existence)# object list owner object-list-owner name object-list-name
4. Device(config-event-trigger-existence)# type {present | absent | changed}"
Configure trigger parameters for the threshold trigger test.,"1. Test Threshold
2. Object List Owner and Object-list Name (object-list-owner name object-list-name)
3. Rising integer-value
4. Rising Event Owner and Event-name (rising event owner event-owner name event-name)
5. Falling integer-value
6. Falling Event Owner and Event-name (falling event owner event-owner name event-name)
7. Delta Rising integer-value
8. Delta Rising Event Owner and Event-name (delta rising event owner event-owner name event-name)
9. Delta Falling integer-value
10. Delta Falling Event Owner and Event-name (delta falling event owner event-owner name event-name)
11. Startup (rising | falling | rising-or-falling)
12. End"
Set the delta rising and falling thresholds for the event trigger with specific values.,"Delta rising threshold: 30 (Step 7 example)
Delta falling threshold: 10 (Step 9 example)"
Identify the expression and its unique identifier for object identification in an SNMP configuration.,expObjectID.9.2
Enable privileged EXEC mode and configure SNMP MIB expression delta settings.,"Requirement: Enable privileged EXEC mode and configure SNMP MIB expression delta settings.
Configuration: 
1. Enable privileged EXEC mode using ""enable"" command.
2. Enter global configuration mode using ""configure terminal"" command.
3. Set the minimum delta interval in seconds with ""snmp mib expression delta minimum seconds"" command.
4. Limit the maximum number of dynamic instance entries for wildcarded delta objects with ""snmp mib expression delta wildcard maximum number-of-instances"" command."
Configure the expression for the sysLocation MIB using a description and evaluate it.,"device(config-expression)# description ""expression-description""; expression expression;"
Configures the conditional object identifier with wildcard.,conditional object conditional-object-id [wildcard]
"Enable SNMPv1, SNMPv2c, and SNMPv3 with read-only permissions using the community string named ""public"". Configuration does not cause the device to send traps.","Device(config)# snmp-server community public
Device(config)# snmp-server enable traps isdn"
Allowing read-only access for all objects to members of access list 4 that specify the comaccess community string.,snmp-server host 172.16.1.33 public
"Configure the SNMPv2c authentication failure traps on the device with community string ""public"" for the host ""example.com"".","Device(config)# snmp-server community public ro 4
Device(config)# snmp-server enable traps snmp authentication
Device(config)# snmp-server host example.com version 2c public"
Send traps at the priv security level when the SNMPv3 security model is enabled.,Device(config)# snmp-server group group3 v3 priv Device(config)# snmp-server user PrivateUser group3 remote 10.12.8.4 v3 auth md5 password1 priv access des56
SNMP manager and trap settings,"snmp-server enable traps, snmp-server host example.com informs version 2c public, snmp-server manager, snmp-server manager session-timeout 1000"
Extend the maximum description length for SNMP MIB descriptions to exceed 64 characters.,"Enable ifAlias long name support using the command ""snmp ifmib ifalias long"" and then apply the extended description to the interface with the command ""description FastEthernet1/0/0 this is a test of a description that exceeds 64 characters in length""."
Configure event notifications and actions for monitoring interfaces.,Device(config-event)# action notification; Device(config-event-action-notification)# object id ifInOctets; Device(config-event)# action set; Device(config-event-action-set)# object id ifInOctets; Device(config-event-action-set)# value 10.
"The requirement is to configure an event trigger for existence, boolean, and threshold tests.","Existence Test:
- Event Owner: owner1
- Name: EventA
- Object List: owner1 name ObjectListA
- Type: present
- Startup: present

Boolean Test:
- Comparison: unequal
- Value: 10
- Object List: owner1 name ObjectListA
- Event Owner: owner1
- Name: EventA
- Startup:

Threshold Test: (Incomplete)"
- Description for sysLocation MIB object,"- Object ID: 2
- Object 2: id ifInOctets, wildcard, discontinuity object sysUpTime, conditional object mib-2.90.1.3.1.1.2.3.112.99.110.4.101.120.112.53 (wildcard), sample delta, end"
"To locate and download MIBs for selected platforms, Cisco IOS XE software releases, and feature sets using Cisco MIB Locator at http://www.cisco.com/go/mibs","Not applicable as it is a requirement, not a configuration."
"The Interface Index Display for SNMP feature introduces new commands and command modifications that allow advanced users of SNMP to view information about the interface registrations directly on the managed agent. This feature addresses three objects in the Interfaces MIB: ifIndex, ifAlias, and ifName.",Not provided in the text
Enhance the SNMP Diagnostics feature by adding Cisco IOS CLI commands to display recently requested object identifiers and SNMP debug messages.,Introduced or modified commands - show snmp stats oid and debug snmp detail.
Implement SNMP Manager feature on Cisco ASR 1000 series routers.,Cisco IOS XE Release 2.1
SNMP Support over VPNs with Context-Based Access Control and SNMP Versions,"1. SNMPv1 - Simple Network Management Protocol (RFC 1157, security based on community strings)
2. SNMPv2c - Community string-based Administrative Framework for SNMPv2 (RFC 1901, RFC 1905, RFC 1906, uses community-based security model of SNMPv1)"
An Internet standard defined in RFC 1157 and using the community-based security model,"SNMPv2c (community string-based Administrative Framework) with RFCs 1901, 1905, and 1906"
Enhanced security for VPN communication and protection against snooping of clear text community strings.,Implementing the SNMP Notification Support over VPNs feature with Cisco software to enable secure sending and receiving of SNMP notifications (traps and informs) specific to individual VPNs.
SNMP Support for VPNs—Context-Based Access Control feature,Association of SNMP agents and managers with specific VRFs for sending SNMP notifications (traps and informs) and responses between agents and
Create a route-target extended community for a VRF.,Device(config-vrf)# route-target export 100:1000
- Create two VPNs (Customer_A and Customer_B) with different route targets and contexts.,"- VRF Customer_A:
  - Route Distinguisher (RD): 100:110
  - Context: A
  - Route Targets: Export 100:1000, Import 100:1000
- VRF Customer_B:
  - Route Distinguisher (RD): 100:120
  - Context: B
  - Route Targets: Export 100:2000, Import 100:2000"
Encryption Support for SNMP Version 3 with AES and 3-DES,"AES encryption: Cipher Feedback (CFB) mode with encryption key sizes of 128, 192, or 256 bits.
3-DES encryption: 168-bit key"
AES Cipher Algorithm support for encryption in Simple Network Management Protocol (SNMP) User-based Security Model (USM) draft.,The AES Cipher Algorithm with a 128-bit key size is implemented in the SNMP USM.
AES and 3-DES Encryption Support for SNMP Version 3,N/A (as there is no specific configuration mentioned)
- Implement AES-256 and 3-DES encryption in SNMP-USM.,"- Encryption Algorithms: AES and 3-DES
- Key Sizes: AES - 128, 192, or 256 bits; 3-DES - 168 bits
- Mode: AES - Cipher Feedback (CFB) mode"
Support for encryption and authentication in SNMP Version 3,"AES and 3-DES Encryption Support for SNMP Version 3, with the ability to select privacy protocols through CLI and MIB."
Display information about configured SNMP users,Use the 'show snmp user' command in privileged EXEC mode
Enhance the encryption capabilities of Simple Network Management Protocol (SNMP) Version 3.,"Support for SNMP 3 User-Based Security Model (USM) compliant with RFC 3414, which defines DES as the only required method of message encryption for SNMP Version 3 authPriv mode."
"SNMP Support for VLAN Subinterfaces on Cisco 3600 series, Cisco 4000-m series, Cisco 7200 series, and Cisco 7500 series routers.","1. Enable privileged EXEC mode.
   - Command: enable
2. Enter global configuration mode.
   - Command: configure terminal
3. Configure the SNMP community string.
   - Command: snmp community string <community-string>
4. Select a particular Fast Ethernet interface for configuration.
   - Command: interface type slot/port
5. Enable ISL encapsulation with VLAN identifier.
   - Command: encapsulation isl vlan-identifier
6. Configure an IP address on the selected interface.
   - Command: ip address ip-address mask
7. Exit configuration mode.
   - Command: end
8. Verify the configured VLANs.
   - Command: show vlans"
Enable the Inter-Switch Link for VLAN subinterfaces and set primary or secondary IP addresses for interfaces.,"1. Set encapsulation type for the interface: `encapsulation isl vlan-identifier`
2. Set the primary or secondary IP address for an interface using `ip address ip-address mask`."
"Enhance the CISCO-ENHANCED-MEMPOOL-MIB module to provide buffer pool and buffer cache statistics, and configure SNMP notifications for memory buffers changes.","SNMP Notification Support: Read-only access to MIB, enabling SNMP objects that remotely monitor the memory pool statistics of all physical entities (line cards and route processors) in a managed device."
Enable buffer peak notifications in CISCO-ENHANCED-MEMPOOL-MIB.,snmp-server enable traps memory [bufferpeak]
Enable SNMP traps for memory buffer peak notifications on a device.,snmp-server enable traps memory bufferpeak
"Symmetric Encryption Protocol (CBC-DES, DES-56) and Simple Network Management Protocol (SNMP)",N/A (The text provided does not contain specific device configurations.)
View-based Access Control Model (VACM) for Simple Network Management Protocol (SNMP),"RFC 3415, MIBs, Cisco IOS XE software releases, and feature sets (e.g., SNMPv2, Ethernet-like Interfaces MIB, Event MIB, Expression MIB Support, Interfaces Group MIB, Interfaces Group MIB Enhancements, MIB Enhancements for Universal Gateways and Access Servers)"
Periodic MIB Data Collection and Transfer Mechanism,"- Polling Interval (Frequency of Data Collection): Can be configured in the command-line interface (CLI)
- Transfer Interval (Frequency of Data Transfer): Can be specified by the user and used for transferring data to a specified NMS"
Polling interval for specified instances,Transfer interval (default: once every 30 minutes)
"The objects in a bulk statistics object list must be indexed by the same MIB index, but they do not need to belong to the same MIB or MIB table.","When specifying an object name instead of an OID, only object names from the Interfaces MIB (IF-MIB.my), Cisco Committed Access Rate MIB (CISCO-CAR-MIB.my), and the MPLS Traffic Engineering MIB (MPLS-TE-MIB.my) may be used."
"Add MIB objects to the bulk statistics object list using the ""add"" command.","Use the ""add"" command followed by either an OID or object-name to add MIB objects to the bulk statistics object list."
Configure a Bulk Statistics Schema for Periodic MIB Data Collection and Transfer Mechanism.,"1. enable
2. configure terminal
3. snmp mib bulkstat schema schema-name
4. object-list list-name
5. instance {exact | wild} {interface interface-id [sub-if] | controller controller-id [sub-if] | oid oid}
6. instance range start oid
end oid
7
.
instance repetition oid - instance max repeat-number
8. poll-interval minutes
9. end"
Configure data collection to repeat for a certain number of instances of a MIB object.,instance repetition <number> max
Bulk statistics file transfer interval and destination URL,"transfer-interval 20, primary url ftp://user:password@host/folder/bulkstat1, secondary url tftp://10.1.0.1/tftpboot/user/bulkstat1"
Bulk statistics file transfer with retry and retention time configuration,"retry number (0 to 100), retain minutes (0 to infinity)"
Configure a retain interval larger than 0 for retries.,retain [interval] and retry [number].
Enable SNMP traps and bulk statistics collection on Cisco devices.,snmp-server enable traps bulkstat
Enables privileged EXEC mode.,enable
Periodic MIB Data Collection and Transfer Mechanism,"snmp mib bulkstat transfer (e.g., Device# show snmp mib bulkstat transfer)"
Polling of objects for ATM interface 2/0 and Fast Ethernet interface 2/1 with periodic data collection and transfer mechanism.,"ATM Interface 2/0:
- Objects to be polled: ifInOctets, ifOutOctets, ifInUcastPkts, ifInDiscards, CcarStatSwitchedPkts, CcarStatSwitchedBytes, CcarStatFilteredBytes
- Polling interval: Once every 5 minutes
- Instances: Main interface and all subinterfaces
- For CAR MIB objects, poll all instances related to the specified interface

Fast Ethernet Interface 2/1:
- Objects to be polled: ifInOctets, ifOutOctets, ifInUcastPkts, ifInDiscards, CcarStatSwitchedPkts, CcarStatSwitchedBytes, CcarStatFilteredBytes
- Polling interval: Once every 10 minutes
- Instances: Only main interface is to be monitored
- For CAR MIB objects, only include instances pertaining to packets in the incoming direction (on the main interface)"
- Transfer of bulk statistics file,"- snmp mib bulkstat transfer bulkstat1
- schema ATM2/0-IFMIB
- schema ATM2/0-CAR
- schema FastEthernet2/1-IFMIB
- schema FastEthernet2/1-CAR
- url primary ftp://username1:pswrd@cbin2-host/users/username1/bulkstat1"
Periodic MIB data collection and transfer mechanism with retry attempts for file transfers,"- Primary URL: tftp://username1@10.1.0.1/tftpboot/username1/bulkstat1
- Format schemaASCII
- Transfer interval: 30 seconds
- Retry: 5 attempts
- Buffer size: 1024 bytes
- Retain: 30 seconds"
Support for all Cisco implemented MIBs and using the Cisco Data Collection MIB (CISCO-DATA-COLLECTION-MIB.my) function for reporting errors and statistics during data collection and transfer.,Configuring data collection using CLI and SNMP.
Periodic MIB Data Collection and Transfer Mechanism feature provides the ability to periodically transfer selected MIB data from Cisco IOS XE-based devices to specified Network Management Stations (NMS).,"add (bulkstat object) , buffer-size (bulkstat), debug snmp bulkstat, enable (bulkstat), format (bulkstat), instance (MIB), instance range, instance repetition, object-list, poll-interval, retain, retry (bulkstat), schema, show snmp mib bulkstat transfer, snmp mib bulkstat object-list, snmp mib bulkstat schema, snmp mib bulkstat transfer, snmp-server enable traps bulkstat"
CPU utilization requirements are platform dependent. The packet buffer is stored in DRAM. Packets can be exported to external devices. No intermediate storage on flash disk is required.,"Embedded Packet Capture (EPC) captures multicast packets only on ingress and does not capture the replicated packets on egress. From Cisco IOS XE Release 3.7S, Embedded Packet Capture is only supported on Advance Enterprise Krypto (K9) images. From Cisco IOS XE Release 3.9S, Embedded Packet Capture is available on the following images: IP Base Images, Special Services Images, Advance Security Images, Advance IP Services Images, Advance Enterprise Images."
"Ability to trace, troubleshoot, and capture data packets flowing through, to, and from a Cisco device. Network administrator can define capture buffer size and type (circular or linear), maximum number of bytes of each packet to capture, direction of traffic flow (ingress or egress, or both), packet capture rate throttling, filtering options using an Access Control List, maximum packet capture rate, and sampling interval.","Embedded Packet Capture with support for IPv4 and IPv6 packets, extensible infrastructure for enabling packet capture points (capture point is a traffic transit point where a packet is captured and associated with a buffer)."
Facility to export the packet capture in PCAP format suitable for analysis using any external tool.,"Packet Data Capture with unique names and parameters, buffer storage size ranging from 1 MB to 100 MB (linear or circular), and limit options such as duration, every, and packet-len."
Configure the embedded packet capture to monitor and capture traffic data on a Cisco IOS XE Gibraltar device.,"1. Enter the ""monitor capture mycap interface"" command for the egress direction.
2. Specify the interface-name using the ""interface-name in"" command.
3. Configure the buffer to capture packet data with the ""monitor capture capture-name buffer circular size bytes"" command.
4. Start the capture of packet data at a traffic trace point with the ""monitor capture capture-name start"" command.
5. Export captured data for analysis using the ""monitor capture capture-name export file-location/file-name"" command."
Monitor and maintain the packet data captured.,Device# monitor capture mycap stop; Device# end; enable; show monitor capture mycap buffer dump; show monitor capture mycap parameter
"Stopping the capture cap1, Deactivating policy-map, Policy epc_policy_cap1, Removing Class epc_class_cap1 from Policy",N/A (as no specific device configuration was mentioned in the text)
"Embedded Packet Capture (EPC) is a feature that allows network administrators to capture, analyze, and manage packets on a device for better troubleshooting, application analysis, and security.","The following commands were introduced or modified for EPC: debug epc, monitor capture (access list/class map), monitor capture (interface/control plane), monitor capture export, monitor capture limit, monitor capture start, monitor capture stop, and show monitor capture."
Enable and configure IPv6 on the router to run IPv6 RIP.,"1. Enter privileged EXEC mode with ""enable"".
2. Enter global configuration mode with ""configure terminal"".
3. Enable IPv6 unicast-routing globally using ""ipv6 unicast-routing"".
4. Configure the interface for IPv6 RIP with ""interface type number"" and ""ipv6 rip name enable""."
Enable forwarding of IPv6 unicast datagrams,ipv6 unicast-routing
Define the maximum number of equal-cost routes that IPv6 RIP can support.,"maximum-paths number-paths (1 to 64, default is four paths)"
Configure the default-information originate command on an interface to control the originating of the default route (::/0) in updates sent on that interface.,"1. Specify the ""default-information originate"" command with either ""suppress"" or ""always"" keyword depending on whether you want to suppress other routes or not."
"RIP process named process1 should redistribute BGP routes according to a route map where routes that match the prefix list are also tagged. The number of parallel paths is set to one for route tagging, and IPv6 RIP timers should be adjusted.","- router rip process1
- maximum-paths 1
- redistribute bgp 65001 route-map bgp-to-rip
- distribute-list prefix-list eth0/0-in-flt in GigabitEthernet0/0/0
- interface GigabitEthernet0/0/0
  - ipv6 address 2001:DB8::/64 eui-64
  - ipv6 rip process1 enable
  - ipv6 rip process1 default-information originate

Prefix List:
- ipv6 prefix-list bgp-to-rip-flt seq 10 deny 2001:DB8:3::/16 le 128
- ipv6 prefix-list bgp-to-rip-flt seq 20 permit 2001:DB8:1::/8 le 128"
Display information for a specified IPv6 RIP process using the show ipv6 rip command with the name argument and the next-hops keyword.,None provided in the text.
Feature Navigator to find information about platform support and Cisco software image support for IPv6 RIP enhancements.,"Platforms supported include 12.2(2)T, 12.2(17a)SX1, 12.2(25)SEA, 12.2(25)SG, 12.2(33)SRA, 12.3, 15.0(2)SG, Cisco IOS XE Release 2.1, Cisco IOS XE Release 3.2.0SG, IPv6 RIPng (RIPng), and IPv6 RIPng Nonstop Forwarding."
Advertising non-expired routes from local RIB to neighbors running RIP,IPv6 RIP insertion into primary IPv6 RIB for learned routes
Enabling IPv6 RIP routing process on an interface and configuring route tags for IPv6 RIP routes.,Router(config)# interface gigabitethernet 0/0/0; Router(config-if)# ipv6 rip word enable; (for enabling the IPv6 RIP routing process) Router(config)# ipv6 router one enable; (for redistributing routes into the IPv6 RIP routing process)
Configuring Route Tags for IPv6 RIP Routes,"1. enable
2. configure terminal
3. route-map map-tag [permit | deny] [sequence-number]
4. match ipv6 address {prefix-list prefix-list-name | access-list-name}
5. set tag tag-value"
Define a route map to permit or deny specific IPv6 prefixes using a sequence number and associate it with the redistributed routes.,"1. Enter route-map configuration mode: `Router# configure terminal`
2. Create a route map with a permit or deny action and a sequence number: `route-map map-tag [permit | deny] [sequence-number]`
3. Follow this step with a match command: `Router(config)# route-map bgp-to-rip permit 10`
4. Specify a list of IPv6 prefixes to be matched: `match ipv6 address {prefix-list prefix-list-name | access-list-name}`
5. Set the tag value to associate with the redistributed routes: `set tag tag-value`"
Designate a range of prefix lengths for matching in IP routing configurations using ge and le keywords.,The ge and le keywords can be used to specify the range of the prefix length to be matched in more detail than the usual ipv6-prefix / prefix-length argument.
"The requirement is to configure a prefix list using the ""ipv6 prefix list"" command, with optional ge and le keywords specifying the range of allowed prefix lengths.","1. Enable the ipv6 prefix-list feature.
2. Configure terminal.
3. Use the ""ipv6 prefix list"" command to create a prefix list with desired sequence numbers, deny/permit actions, and specified prefixes. Optionally add ge and le keywords to define the range of allowed prefix lengths.
4. Repeat step 3 as many times as necessary to build the desired prefix list."
"The requirement is to configure a route map that matches prefix list and allows route tagging with one parallel path, adjusts IPv6 RIP timers, filters inbound routing updates on Gigabit Ethernet interface 0/0/0 using a prefix list named eth0/0-in-flt, and redistributes BGP 65001 route-map bgp-to-rip into IPv6 RIP process1.","```
ipv6 router rip process1
maximum-paths 1
redistribute bgp 65001 route-map bgp-to-rip
distribute-list prefix-list eth0/0-in-flt in Gigabitethernet0/0/0
!
interface Gigabitethernet0/0/0
ipv6 address 2001:DB8::/64 eui-64
ipv6 rip process1 enable
ipv6 rip process1 default-information originate
!
ipv6 prefix-list bgp-to-rip-flt seq 10 deny 2001:DB8:3::/16 le 128
ipv6 prefix-list bgp-to-rip-flt seq 20 permit 2001:DB8:1::/8 le 128
!
ipv6 prefix-list eth0/0-in-flt seq 10 deny ::/0
ipv6 prefix-list eth0/0-in-flt seq 15 permit ::/0 le 128
!
route-map bgp-to-rip permit 10
match ipv6 address prefix-list bgp-to-rip-flt
set tag 4
```"
Display information about all current IPv6 RIP processes using the show ipv6 rip command.,Device> show ipv6 rip
"To access Cisco Feature Navigator and find information about platform support and Cisco software image support without an account on Cisco.com, visit https://cfnng.cisco.com/.",Configure ip routing command before you configure RIP.
"If RIP configuration does not have a network statement covering a specific interface, do not configure RIP under that interface. Redistribution of route(s) from another routing protocol into RIP through that interface may not work.",The text does not provide a specific configuration example for the mentioned requirement.
"RIP (Routing Information Protocol) implementation with support for plain text and MD5 authentication, route summarization, CIDR, and VLSMs.","- RIP Version 2 (RIPv2) enabled on devices
- Plain text or MD5 authentication configured for RIPv2 communication
- Route summarization and classless interdomain routing (CIDR) enabled
- Variable-length subnet masks (VLSMs) supported"
Secure RIPv2 Authentication Configuration on Cisco Devices,Use MD5 authentication instead of plain-text authentication in RIP packets for enhanced security.
The requirement is to configure the interval time for suppressing routing information about better paths and the amount of time before a route is removed from the routing table.,The configuration involves setting the values for the interval time for suppressing routing information and the amount of time for postponing routing updates.
Adjusting IP routing support in Cisco software for faster convergence of various IP routing algorithms and quicker fallback to redundant devices.,Not provided in the text.
Efficient handling of child routes in RIP routing table by using summary IP addresses.,"Summary IP address functions, automatic summarization of subprefixes to classful network boundaries when crossing classful network boundaries (automatic summary)."
RIP Route Summarization,summary-address rip routerconfiguration
Neighbor authentication to prevent unauthorized or malicious routing updates from compromising network security.,The exchange of an authenticating key (password) between the sending and receiving routers to authenticate the source of each routing update packet.
Neighbor authentication using plain text and Message Digest Algorithm (MD5) version 5.,"Each participating neighbor router must share an authenticating key for plain text authentication, which is specified at each router during configuration. For MD5 authentication, the message digest is created using the key and a message, but the key itself is not sent, preventing it from being read while it is being transmitted."
Key-based authentication for neighbor routers in routing updates.,MD5 algorithm with message digest/hash for secure transmission of keys.
The device sends RIPv2 updates with MD5 authentication to a non-Cisco neighbor using Frame Relay.,IP-RIP Delay Start feature enabled on Cisco device when establishing RIPv2 neighbor relationship using MD5 authentication with a non-Cisco device over a Frame Relay network.
"The requirement is related to using Cisco devices, and not needing the IP-RIP Delay Start feature if only Cisco devices are in the network. Also, there is a mention of an offset list for increasing incoming and outgoing metrics to routes learned via RIP and adjusting timers for routing protocol performance.","There is no specific configuration provided in the text. However, it mentions adjusting timers (rate and interval) for routing updates and optionally limiting the offset list with an access list or interface."
Offset list for routing metrics in RIP configuration.,offset-list [access-list-number | access-list-name] {in | out} and offset [interface-type interface-number].
"Enable and configure RIP (Routing Information Protocol) version, authentication mode, and key-chain name for a device.","1. enable
2. configure terminal
3. router rip
4. version {1 | 2}
5. exit
6. interface type number
7. ip rip send version [1] [2]
8. ip rip receive version [1] [2]
9. ip rip authentication key-chain name-of-chain
10. ip rip authentication mode {text | md5}
11. end"
Configuring Routing Information Protocol,Specifying a RIP Version and Enabling Authentication
Enable RIPv2 on a router and configure interfaces to send and receive only RIPv2 packets.,"1. Enter router configuration mode: `Device(config)#router rip`
2. Configure the router to use RIP Version 2: `Device(config-router)#version 2`
3. Exit the router configuration mode and enter the global configuration mode: `Device(config-router)#exit`
4. Specify an interface and enter interface configuration mode: `Device(config)#interface type number` (e.g., `Device(config)#interface Ethernet 3/0`)
5. Configure the interface to send only RIPv2 packets: `Device(config-if)#ip rip send version [1] [2]` (e.g., `Device(config-if)#ip rip send version 2`)
6. Configure the interface to accept only RIPv2 packets: `Device(config-if)#ip rip receive version [1] [2]` (e.g., `Device(config-if)#ip rip receive version 2`)
7. Enable RIP authentication: `Device(config-if)#ip rip authentication key-chain name-of-chain` (e.g., `Device(config-if)#ip rip authentication key-chain chainname`)"
Enable IP RIP authentication using MD5 or default to plain-text authentication on an interface.,ip rip authentication mode {text | md5}
Automatic route summarization in RIP Version 2,Disabling automatic route summarization using the 'no auto-summary' command in router configuration mode.
Configure the IP address and network mask for summarization on a Router's Ethernet interface using RIP.,"1. Enter the global configuration mode by typing ""Router(config)#"".
2. Enter the interface configuration mode by typing ""Router(config)#interface Ethernet 3/0"".
3. Specify the IP address and network mask for summarization using the ""ip summary-address rip"" command followed by the IP-address and network-mask, like this: ""Router(config-if)# ip summary-address rip 10.2.0.0 255.255.0.0""."
Enables privileged EXEC mode.,enable
Configuring Interpacket Delay,output-delay milliseconds
Configure and optimize RIP for WAN to reduce routing traffic and prevent unnecessary closing of WAN circuits.,"Set the output-delay for outbound RIP updates using the ""output-delay milliseconds"" command under router configuration mode, and use the ""end"" command to exit router configuration mode and return to privileged EXEC mode."
Configure a router to use the IP-RIP Delay Start feature on a Frame Relay interface.,"1. Enter global configuration mode: `configure terminal`
2. Configure a serial interface: `interface serial controller-number`
3. Enable triggered extensions to RIP: `ip rip triggered`
4. Return to privileged EXEC mode: `end`"
IP-RIP Delay Start feature is required only when the Cisco router is configured to establish a RIPv2 neighbor relationship with a non-Cisco device and you want to use MD5 neighbor authentication.,"To configure RIPv2 on the router, follow these steps:
1. enable
2. configure terminal
3. router rip
4. network ip-network
5. version 2
6. [no] auto-summary"
Configure the router to use only RIP (Routing Information Protocol) Version 1 or Version 2 for receiving and sending packets.,Router(config-router)# version {1 | 2}
Disable or restore the default behavior of automatic summarization of subnet routes into network-level routes.,[no] auto-summary
Remove previously configured IP address from the interface,"no ip address

Requirement: Specify Frame Relay encapsulation for the interface
Configuration: encapsulation frame-relay [mfr number | ietf]

Requirement: Specify the type of Frame Relay local management interface (LMI) for the interface
Configuration: frame-relay lmi-type {cisco | ansi | q933a}

Requirement: Exit interface configuration mode
Configuration: exit

Requirement: Specify a subinterface and the connection type for the subinterface and enter subinterface configuration mode
Configuration: interface type number/subinterface-number {point-to-point | multipoint}

Requirement: Assign a data-link connection identifier (DLCI) to a Frame Relay subinterface
Configuration: frame-relay interface-dlci dlci [ietf | cisco]"
Configure IP with MD5 Authentication for RIPv2 and IP-RIP Delay on a Frame Relay Subinterface.,"1. enable
2. configure terminal
3. key chain name-of-chain
4. key number
5. key-string string
6. exit
7. interface type number
8. no cdp enable
9. ip rip delay <delay_value>"
Disable Cisco Discovery Protocol on interfaces when configuring the IP-RIP Delay Start feature.,no cdp enable
Disable split horizon on serial interfaces connected to networks 172.16.0.0 and 192.168.0.0 at Router C for network overlap.,no ip split-horizon on Router C's serial interface S0 (connected to networks 172.16.0.0 and 192.168.0.0).
"The requirement is for configuring the Router B with an IP address, enabling encapsulation frame-relay, and disabling ip split-horizon on interface serial 1.","Interface Serial 1:
ip address 172.16.2.2
encapsulation frame-relay
no ip split-horizon"
Adjust individual address family timers for RIP configuration.,"```
router rip
version 2
timers basic 5 10 15 20
redistribute connected
network 10.5.0.0
default-metric 10
no auto-summary
address-family ipv4 vrf
```"
"The IP Summary Address for RIPv2 feature enables summarizing routes in RIP Version 2, improving scalability and efficiency in large networks.",ip summary-address rip
"Overcome constant RIP updates over expensive circuit-based WAN links by triggering extensions to send information on the WAN only when there has been an update to the routing database, and suppress periodic update packets over the interface where this feature is enabled.","The following commands were introduced or modified: ip rip triggered, show ip rip database."
Configure BFD on RIPv2 Neighbors,"1. enable
2. configure terminal
3. router rip
4. bfd all-interfaces
5. end"
Configure BFD for all interfaces associated with a RIPv2 neighbor on a router.,"!
interface GigabitEthernet 0/0/0
ip address 10.10.10.1 255.255.255.0
bfd interval 50 min_rx 50 multiplier 5
end
!
interface GigabitEthernet 0/0/1
ip address 10.10.20.1 255.255.255.0
bfd interval 50 min_rx 50 multiplier 5
end
!
router rip
version 2
redistribute connected
network 10.0.0.0
neighbor 10.10.20.2 bfd
bfd all-interfaces
no auto-summary
!"
"Enable the IPv6: RIPng VRF-Aware Support feature to isolate, improve modularity and performance by storing fewer routes in a single routing table.","1. enable
2. configure terminal
3. ipv6 unicast-routing
4. vrf definition vrf-name
5. address-family ipv6
6. exit
7. exit
8. ipv6 rip vrf-mode enable
9. ipv6 router rip rip-process-name
10. exit
11. interface type number
12. vrf forwarding vrf-name
13. ipv6 enable
14. ipv6 rip rip-process-name enable
15. end"
Enable IPv6 RIP routing process on the interface.,ipv6 rip myrip enable
Enable and configure IPv6 RIP with VRF-aware support on a device.,"1. Create a VRF named vrf1 using the ""definition vrf1"" command.
2. Enter the VRF configuration mode with ""Device(config-vrf)# address-family ipv6"".
3. Exit the VRF AF configuration mode with ""Device(config-vrf-af)# exit"".
4. Exit the VRF configuration mode with ""Device(config-vrf)# exit"".
5. Enable IPv6 RIP with VRF-aware support on the device using ""Device(config)# ipv6 rip vrf-mode enable"".
6. Configure the device to use IPv6 RIP for myriad routing using ""Device(config)# ipv6 router rip myrip"".
7. Exit the global configuration mode with ""Device(config-rtr)# exit"".
8. Enter the interface configuration mode for Ethernet 0/0 with ""Device(config)# interface Ethernet 0/0"".
9. Enable VRF forwarding for vrf1 on the interface with ""Device(config-if)# vrf forwarding vrf1"".
10. Enable IPv6 on the interface with ""Device(config-if)# ipv6 enable"".
11. Configure IPv6 RIP for myriad routing on the interface with ""Device(config-if)# ipv6 rip myrip enable"".
12. Exit the interface configuration mode with ""Device(config-if)# end""."
Verify IPv6 RIPng VRF-Aware Support,Debug IPv6 RIP for VRF vrf1
Verify and configure IPv6 RIPng in a VRF context,"1. Ensure that the device supports IPv6 routing and RIPng.
2. Configure a VRF (Virtual Routing and Forwarding) instance to separate traffic for different customers or departments.
3. Enable RIPng on the device and add the interface(s) to be advertised by RIPng.
4. Set the RIPng metric and prefix for the IPv6 routes.
5. Configure RIPng authentication, if required."
IPv6 RIPng VRF-Aware Support,"clear ipv6 rip, debug ipv6 rip, ipv6 rip vrf-mode enable, and show ipv6 rip."
Configuring Login and Failed-Login Banners for AAA Authentication,N/A (not provided in the text)
Implementation of Authorization and Authentication Profile Caching for Network Performance Optimization and Failover Mechanism.,General Configuration Procedure for Implementing Authorization and Authentication Profile Caching.
"Implement an authentication method that will be applied only to a specific interface (e.g., interface 3) using a named method list.","AAA authentication ppp default group radius group tacacs+ local, aaa authentication ppp apple group radius group tacacs+ local none, interface async 3, ppp authentication chap apple."
PPP authentication using server groups (R2 and T2) for matching the method list name (apple).,"1. Define the RADIUS server group ""rad2only"" with members R2 (172.16.2.7) using aaa group server radius rad2only server 172.16.2.7.
2. Define the TACACS+ server group ""tac2only"" with members T2 (172.16.2.77) using aaa group server tacacs+ tac2only server 172.16.2.77.
3. Apply PPP authentication using the server groups in this order: group rad2only, group tac2only, and local using aaa authentication ppp default group rad2only group tac2only local."
"- Command for Bounce host port: Cisco:Avpair=""subscriber:command=bounce-host-port""","- Bounce host port: Not specified in the text
- Disable host port: Not specified in the text
- Reauthenticate host: Not specified in the text"
Terminate a session without disabling the host port using CoA Disconnect-Request.,"Cisco:Avpair=""subscriber:command=disable-host-port"" VSA in a CoA Request to restrict a host's access to the network."
AAA security services for login authentication methods,"aaa new-model, aaa authentication logincommand, login authentication line configuration command"
AAA Authentication Login Methods,"1. enable - Uses the enable password for authentication.
2. krb5 - Uses Kerberos 5 for authentication.
3. krb5-telnet - Uses Kerberos 5 Telnet authentication protocol when using Telnet to connect to the router.
4. line - Uses the line password for authentication.
5. local - Uses the local username database for authentication.
6. local-case - Uses case-sensitive local username authentication.
7. none - Uses no authentication.
8. group radius - Uses the list of all RADIUS servers for authentication.
9. group tacacs+ - Uses the list of all TACACS+ servers for authentication.
10. group group-name - Uses a subset of RADIUS or TACACS+ servers for authentication as defined by the aaa group server radius or aaa group server tacacs+ command."
Secure Telnet sessions for router configuration,aaa authentication login default enable
Kerberos as the login authentication method,aaa authentication login default krb5
Specifying the line password as the method of user authentication for login when no other method list has been defined.,aaa authentication login default line
Enable RADIUS as the login authentication method.,aaa authentication login default group radius
Enable the configuration mode for NAS to provide hints of user IP addresses during user authentication and use TACACS+ as the login authentication method.,Use the 'aaa authentication login' command with the group 'tacacs+' or 'group-name' method to specify TACACS+ as the login authentication method. Make sure to enable communication with the TACACS+ security server before using it as the login authentication method.
Specify a subset of RADIUS or TACACS+ servers for login authentication method.,"Use the aaa group server command to define and specify members of the group, such as the example for the group loginrad with servers 172.16.2.3, 172.16.2.17, and 172.16.2.32. To use the group as the method of user authentication at login when no other method list has been defined, enter the command aaa authentication login default group loginrad."
Enabling AAA globally and applying PPP authentication to an interface using a local authentication list.,"1. Router(config)# aaa new-model (Enable AAA globally)
2. Router(config)# aaa authentication ppp {default | list-name} method1[method2...] (Create a local authentication list with specified methods)
3. Router(config)# interface interface-type interface-number (Enter the specific interface configuration mode)
4. Router(config-if)# ppp authentication {protocol1 [protocol2...]} [if-needed] {default | list-name} [callin] (Apply the local authentication list to the specified protocols on the interface)"
"Implement PPP authentication using MS-CHAP and PAP, with the option to switch to another configured protocol if authentication fails.","Use the aaa authentication ppp command to create one or more lists of authentication methods. Apply these lists using the ppp authentication line configuration command. To specify the local username database as the default method for user authentication, use the following command: aaa authentication ppp default local."
"PPP authentication to succeed even if all methods return an error, including TACACS+ server errors",aaa authentication ppp default group tacacs+ none
PPP Authentication using Kerberos,aaa authentication ppp krb5
Kerberos as the PPP authentication method,aaa authentication ppp default krb5
PPP Authentication using Group RADIUS and Configuring RADIUS Attribute 44 in Access Requests.,"Use the aaa authentication ppp command with the group radius method to specify RADIUS as the login authentication method, enter the following command: aaa authentication ppp default group radius. Enable communication with the RADIUS security server by referring to the chapter ""Configuring RADIUS."""
Enabling RADIUS server tracking and using TACACS+ for PPP authentication.,"1. Use the radius-server attribute 44 include-in-access-req command in global configuration mode to allow the RADIUS daemon to track a call from beginning to end.
2. Use the aaa authentication pppcommand with the group tacacs+ method to specify TACACS+ as the login authentication method.
3. Enter the following command: aaa authentication ppp default group tacacs+ to specify TACACS+ as the method of user authentication at login when no other method list has been defined.
4. Enable communication with the TACACS+ security server before using TACACS+ as the PPP authentication method. Refer to the chapter ""Configuring TACACS+"" for more information about establishing communication with a TACACS+ server."
Specify and define group name and members using the aaa group server command.,aaa group server radius ppprad server 172.16.2.3 server 172.16.2 17 server 172.16.2.32
Enable communication with RADIUS or TACACS+ security server for using group name as PPP authentication method.,Not provided in the text.
Number of background processes for handling AAA authentication and authorization requests for PPP,Router(config)# aaa processes number (1 to 2147483647)
Case-sensitive local username authentication and using a subset of RADIUS or TACACS+ servers for authentication as defined by the aaa group server radius or aaa group server tacacs+ command.,Not provided in the text
Allowing guest logins through ARAP and using RADIUS as a backup authentication method.,Command: aaa authentication arap default auth-guest group radius
ARAP authentication using line password for guest group radius,aaa authentication arap default guest group radius
Define a line password for using line password as ARAP authentication method,aaa authentication arap default line
User authentication at login when no other method list has been defined.,AAA authentication ARAP default group RADIUS or AAA authentication ARAP default group TACACS+
NASI authentication using AAA,"1. Device(config)# aaa new-model
2. Device(config)# aaa authentication nasi
3. Device(config)# line number
4. Device(config-line)# nasi authentication list-name"
"Create a default list of authentication methods using the ""default"" keyword in the aaa authentication nasi command.","Default methods can be specified in the command line, with none as the final method to allow all users to be authenticated even if all methods return an error."
"Authentication using local username database, case-sensitive local username authentication, no authentication, RADIUS servers, TACACS+ servers, a subset of RADIUS or TACACS+ servers, NASI authentication using enable password.","Local username database, case-sensitive local username authentication, list of all RADIUS servers, list of all TACACS+ servers, aaa group server radius/tacacs+ command, group group-name, aaa authentication nasi default enable command, defined enable password."
Configuring Authentication,NASI Authentication Using Enable Password
NASI Authentication Using Line Password,aaa authentication nasi default line
Adding users to the local username database and NASI authentication methods (RADIUS or TACACS+),Use aaa authentication nasicommand with group radius method for RADIUS or group tacacs+ method keyword for TACACS+
Enable communication with the TACACS+ security server and configure NASI authentication using a group.,"Use ""aaa authentication nasi default group tacacs+"" command to enable NASI authentication. Define the group using the ""aaa group server"" command."
Specify group name nasirad as the method of user authentication at login when no other method list has been defined.,aaa authentication nasi default group nasirad
Change the login timeout value from the default of 30 seconds to a specified value between 1 and 300 seconds.,Router(config-line)# timeout login response <timeout_value>
AAA authentication with support for both RADIUS and TACACS+ servers.,aaa authentication enable default [method1 [method2...]]; router(config)# authentication [method1 [method2...]]
AAA Authentication Enable Default Methods,"enable, line, none, group radius, group tacacs+, group-name, aaa authentication password-prompt"
Change the default text displayed when a user is prompted to enter a password.,Router(config)# aaa authentication password-prompt text-string
Preventing an Access Request with a Blank Username from Being Sent to the RADIUS Server,"1. Enable privileged EXEC mode using 'enable' command.
2. Enter global configuration mode using 'configure terminal' command.
3. Enable AAA globally using 'aaa new-model' command.
4. Use 'aaa authentication suppress null-username' command to prevent an Access Request with a blank username from being sent to the RADIUS server."
Suppress null-username authentication,aaa authentication suppress null-username
Configuring Message Banners for AAA Authentication,"Delimiting character for login and failed-login banners, text string itself."
Enabling AAA and configuring a personalized login banner,"1. Enable AAA by entering the command ""aaa new-model"" in Device(config) mode.
2. Create a personalized login banner using the commands ""aaa authentication banner delimiter string delimiter"" in Device(config) mode."
Packet of Disconnect (POD) to terminate connections on the Network Access Server (NAS) when specific session attributes are identified.,"1. Configure AAA accounting records using: Router(config)# aaa accounting network default
2. Set up delay start for AAA accounting: Router(config)# aaa accounting delay-start
3. Configure POD server with server-keystring: Router(config)# aaa pod server server-keystring
4. Specify the Radius server host IP address and non-standard port using: Router(config)# radius-server host IP address non-standard"
Double authentication for remote users in the network,The user must activate double authentication by issuing the access-profile command after each stage of authentication.
Double authentication in PPP connections between multiple hosts and a network access server can lead to undesirable events if not managed properly.,Not specified in the text.
Double Authentication,"Enable AAA using aaa-new modelglobal configuration command, configure network access server with login and PPP authentication method lists, apply those method lists to appropriate lines or interfaces, configure AAA network authorization at login using aaa authorization command, and configure security protocol parameters (e.g., RADIUS or TACACS+)."
"Configuring RADIUS and TACACS+ for access control list AV pairs on the security server, establishing a Telnet connection to the local host.","Access-profile command as an autocommand for remote users, double authentication with Telnet to the local host and logging in."
"Understanding how the access-profile command works and configuring authorization statements. Also, troubleshooting double authentication using the debug aaa per-user debug command.","Configure virtual templates for ISDN or Multilink PPP at the local host if needed. In double authentication, restrict user privileges to connect only by establishing a Telnet connection after CHAP (or PAP) authentication."
Double Authentication for accessing user profile with AAA reauthentication.,access-profile [merge | replace] [ignore-sanity-checks] command in EXEC configuration mode.
Automated double authentication for Multilink PPP ISDN connections with a companion client application.,"1. Enable AAA using the ""aaa-new modelglobal configuration command.""
2. Use the ""aaa authentication"" command to configure network access server for login and PPP authentication."
"Configure AAA network authorization, security protocol parameters (RADIUS or TACACS+), and access control list AV pairs on the security server.","Apply method lists to appropriate lines or interfaces, use the aaa authorization command for network authorization at login, configure autocommands with the access-profile command."
"Set up local AAA server for dynamic authorization service, support CoA.","aaa server radius dynamic-author

Step 4: Functionality to push the policy map in input and output. Example: Router(config)# aaa server radius dynamic-author direction and enter dynamic authorization local server configuration mode. In this mode, the RADIUS application commands are configured.

Example: Router(config)# aaa server radius dynamic-author

Step 5: Configure IP address or hostname of the AAA server client. Example: Router(config-locsvr-da-radius)#client 192.168.0.5 server-key cisco1

Requirement: Optional - Configures username domain options for the RADIUS application.

Configuration: domain {delimiter character| stripping [right-to-left]} Example: Step 6"
Domain delimiter configuration and stripping direction (right-to-left or left-to-right),"domain delimiter (@, /, $, %, \, #, or -); right-to-left or left-to-right stripping direction"
Configuring Domain Stripping at the Server Group Level,aaa group server radius server-name domain-stripping [strip-suffix word] [right-to-left ] [prefix-delimiter word] [delimiter word]
Enables privileged EXEC mode.,enable
Configure line password protection and choose between TACACS or extended TACACS for username and password authentication.,"Enable, configure terminal, implement AAA or use Non-AAA Authentication Methods."
Establishing Username Authentication,"username name [access-class number] (Optional), username name [privilege level] (Optional), username name [autocommand command] (Optional), username name [noescape] [nohangup] (Optional)"
Password encryption enabled using the password-encryption command,Enabling the service password-encryption command
Use of CHAP or PAP on an interface with PPP encapsulation.,"PPP encapsulation, enabling CHAP or PAP on the interface."
"The requirement is to use the same password for encryption on both the remote device and the access server, ensuring secure authentication without transmitting the password in clear text.","No specific configuration details are provided in the given text. However, it mentions enabling CHAP or PAP authentication."
"Enable CHAP or PAP, configure host name authentication, and set a secret or password for each remote system.",Enable PPP encapsulation and enable CHAP or PAP on the interface.
Enabling PPP Encapsulation and PAP or CHAP authentication on a network interface.,"In interface configuration mode, use the command ""encapsulation ppp"" to enable PPP encapsulation, and ""ppp authentication {protocol1 [protocol2...]} [if-needed] {default | list-name} [callin] [one-time]"" to enable CHAP or PAP authentication."
PPP connection authentication using CHAP or PAP,PPP authentication chap pap
"Authentication method configuration for AAA, TACACS, and extended TACACS.","Enabling AAA or using TACACS or extended TACACS for authentication, specifying authentication method lists, enabling support for one-time passwords with the one-time keyword, and using if-needed keyword for selective authentication via PAP or CHAP."
PPP authentication via CHAP if-needed should not be configured on the interface if the remote device authenticated via a standard login procedure and initiated PPP from the EXEC prompt.,The remote device should use a list-name that has been configured with the aaa authentication pppcommand to enable PPP on the line.
Enabling outbound PAP authentication,Router(config-if)# ppp pap sent-username username password
Refuse PAP authentication from peers requesting PAP authentication,Router(config-if)# ppp pap refuse
Enable and configure common CHAP secret password for a collection of routers.,"Router(config-if)# ppp chap password secret
Router(config-if)# ppp chap refuse [callin]"
Delay CHAP authentication until after the peer has authenticated itself to the router.,Router(config-if)# ppp chap wait secret
The requirement is to configure the router to use MS-CHAP for PPP authentication between a PC using Microsoft Windows NT or Windows 95 and a Cisco device or access server acting as a network access server.,"Enable MS-CHAP by negotiating CHAP Algorithm 0x80 in LCP option 3, Authentication Protocol. Ensure compatibility with Microsoft Windows NT 3.5 and 3.51, Windows 95, and Microsoft LAN Manager 2.x."
"The requirement is that the format does not require the authenticator to store a clear or reversibly encrypted password, and PPP authentication using MS-CHAP can be used with or without AAA security services.","MS-CHAP provides an authenticator-controlled authentication retry mechanism, an authenticator-controlled change password mechanism, and defines a set of ""reason-for failure"" codes returned in the Failure packet message field."
PPP Authentication using MS-CHAP,Router(config-if)# encapsulation ppp; Router(config-if)# ppp authentication ms-chap [if-needed] [list-name | default] [callin] [one-time];
Enabling PPP encapsulation and configuring PPP authentication using MS-CHAP.,"Router(config-if)# encapsulation ppp, Router(config-if)# ppp authentication ms-chap [if-needed] [list-name | default] [callin] [one-time]"
PPP authentication using MS-CHAP with username authentication,"ppp authentication chap if-needed, MS-CHAP secret in local username/password database"
Configure RADIUS authentication and authorization on Cisco IOS XE software.,"1. Use RADIUS for authentication at the login prompt with the command ""aaa authentication login radius-login group radius local"". 2. Use PPP authentication using CHAP or PAP if the user has not already logged in with the command ""aaa authentication ppp radius-ppp if-needed group radius"". 3. Query the RADIUS database for information during EXEC authorization and provide authorization if the user has successfully authenticated with the command ""aaa authorization exec default group radius if-authenticated"". 4. Query RADIUS for network authorization with the command ""aaa authorization network default group radius""."
1. RADIUS authentication and authorization configuration,"1. radius-server host 172.16.71.146 auth-port 1645 acct-port 1646
2. radius-server attribute 44 include-in-access-req
3. radius-server attribute 8 include-in-access-req"
"TACACS+ authorization for commands set at privilege level 2, if the user has already successfully authenticated.",radius-server host 172.16.71.146 auth-port 1645 acct-port 1646
TACACS+ as the security protocol for PPP authentication,"1. aaa new-model
2. aaa authentication ppp test group tacacs+ local
3. interface serial 0
4. ppp authentication chap pap test
5. tacacs-server host 192.0.2.3
6. tacacs-server key goaway"
Kerberos authentication for PPP,aaa authentication ppp default krb5
"The aaa processes command allocates 16 background processes to handle AAA requests for PPP, the autoselect ppp command allows a PPP session to start up automatically on these selected lines, and the modem dialin command configures modems attached to the selected lines to only accept incoming calls.","The line command switches the configuration mode from global configuration to line configuration, the autoselect during-login command is used to display the username and password prompt without pressing the Return key, the login authentication admins command applies the “admins” method list for login authentication, the interface group-async command selects and defines an asynchronous interface group, and the encapsulation ppp command sets PPP as the encapsulation."
Configure AAA authentication with login and failed-login banners using RADIUS as the default authentication method.,"1. Enable AAA: `Device> enable`
2. Enter configuration mode: `Device# configure terminal`
3. Enable AAA new model: `Device(config)# aaa new-model`
4. Set up login banner: `Device(config)# aaa authentication banner *Unauthorized Access Prohibited*`
5. Set up default group RADIUS for login authentication: `Device(config)# aaa authentication login default group radius`"
Implement AAA authentication with banner messages for unauthorized access and failed logins.,"1. Configure AAA new-model (Device(config)# aaa new-model).
2. Set up AAA authentication banners for successful and failed login attempts (Device(config)# aaa authentication banner *Unauthorized Access Prohibited*).
3. Specify RADIUS as the default login authentication method (Device(config)# aaa authentication login default group radius)."
Configure POD (packet of disconnect) to terminate connections on NAS when specific session attributes are identified.,aaa pod server server-key xyz123; radius-server host 192.0.2.3 non-standard; radius-server key rad123
"AAA (Authentication, Authorization, and Accounting) configuration for PPP and login authentication, network and EXEC authorization using RADIUS or TACACS+ servers.","RADIUS example:
1. aaa new-model
2. radius-server host secureserver
3. radius-server key myradiuskey
4. aaa authentication ppp default group radius
5. aaa authentication login default group radius
6. aaa authorization network default group radius
7. aaa authorization exec default group radius

TACACS+ example: (Note: The text is incomplete and does not provide the full TACACS+ example.)"
AAA authentication and authorization configuration using TACACS+ server for network access and execution.,"tacacs-server host security, tacacs-server key mytacacskey, aaa authentication ppp default group tacacs+, aaa authentication login default group tacacs+, aaa authorization network default group tacacs+, aaa authorization exec default group tacacs+."
"AAA server configuration for first-stage PPP authentication and authorization with TACACS+ servers, remote host named ""hostx"", double authentication (CHAP) and Telnet connections limited to the local host (10.0.0.2).","1. Password for ""hostx"": welcome
2. User-Service-Type: Framed-User, Framed-Protocol: PPP
3. cisco-avpair: lcp:interface-config=ip unnumbered fastethernet 0
4. cisco-avpair: ip:inacl#3=permit tcp any 172.21.114.0 0.0.0.255 eq telnet
5. cisco-avpair: ip:inacl#4=deny icmp any any
6. cisco-avpair: ip:route#5=10.0.0.0"
Implement access-profile merge using autocommand with shell user type.,cisco-avpair = “shell:autocmd=access-profile merge”
Authentication and authorization for PPP and IPX protocols,"- chap = cleartext ""welcome""
- service = exec
- autocmd = ""access-profile""
- inacl#3=”permit tcp any host 10.0.0.2 eq telnet”
- inacl#4=”deny icmp any any”
- In IPX protocol: (No specific configuration provided)"
Autocommand execution when pat_merge logs in.,"Requirement: Autocommand execution when pat_merge logs in.
Configuration: autocmd = “access-profile merge”"
PPP authentication using CHAP (Challenge Handshake Authentication Protocol),"virtual-profile virtual-template 1
dialer-list 1 protocol ip permit
tacacs-server host 172.16.57.35 port 1049
tacacs-server timeout 90
tacacs-server key mytacacskey"
"AAA authentication, authorization, and accounting configuration for RADIUS-based PPP authentication and usage tracking.","1. aaa authentication ppp dialins group radius local - defines the authentication method using RADIUS and then falling back to local authentication on serial lines with PPP.
2. aaa authorization network default group radius local - assigns an address and other network parameters to the RADIUS user.
3. aaa accounting network default start-stop group radius - tracks PPP usage.
4. username command - defines the username and password for the PPP Password Authentication Protocol (PAP) caller identification.
5. radius-server host - defines the name of the RADIUS server host.
6. radius-server key - defines the shared secret text string between the network access server and the RADIUS server host.
7. interface group-async - selects and defines an asynchronous interface group."
"Enable fallback methods for authentication, authorization, or accounting by trying groups of RADIUS or TACACS+ servers or a local database in some cases.",The following command was introduced or modified: aaa authentication ppp.
Implement MS-CHAP version 1 for PPP authentication on Cisco ASR 1000 Series Aggregation Services Routers in Cisco IOS XE Release 2.1.,aaa authentication banner; ppp authentication ms-chap version 1
Handshake Authentication Protocol (CHAP) and Password Authentication Protocol (PAP),"Both are supported on synchronous and asynchronous interfaces. In Cisco IOS XE Release 2.1, the feature was introduced on the Cisco ASR 1000 Series Aggregation Services Routers with the following commands: ppp authentication, ppp pap sent-username, and ppp pap refuse."
Prevent Sending of Access Request with a Blank Username,aaa authentication suppress null-username
Session termination with port shutdown and CoA requests,"RFC 5176 Compliance, Disconnect Request message (Packet of Disconnect)"
"A CoA NAK message is not sent for all CoA requests with a key mismatch, and the message is sent only for the first three requests for a client. After that, all the packets from that client are dropped. When there is a key mismatch, the response authenticator sent with the CoA NAK message is calculated from a dummy key value.",Not provided in the text.
Sending an access request to the server with the same identity attributes used for initial successful authentication.,"If session authentication is in progress, terminate the process and restart the authentication sequence starting with the configured method attempted first."
Terminating a session without disabling the host port and reinitializing the authenticator state machine for the specified host.,CoA Disconnect-Request
Configuring RADIUS Change of Authorization,"1. Enable privileged EXEC mode.
2. Enter global configuration mode.
3. Enable authentication, authorization, and accounting (AAA) globally.
4. Enter dynamic authorization local server configuration mode and specify a RADIUS client from which a device accepts Change of Authorization (CoA) and disconnect."
Configure the device as a AAA server to facilitate interaction with an external policy server.,"Configure the RADIUS key to be shared between a device and RADIUS clients. Use the command ""client {ip-address | name [vrf vrf-name]} server-key [0 | 7] string"" to set up the client and share the key."
"The requirement is to configure a device to listen for RADIUS requests on a specific port, specify the type of authorization used for RADIUS clients, and optionally ignore session key and server key.","- Set the port number for listening RADIUS requests using the ""port"" command: `Device(config-locsvr-da-radius)# port <port-number>`
- Specify the type of authorization to be used for RADIUS clients with the ""auth-type"" command: `Device(config-locsvr-da-radius)# auth-type {any | all | session-key}`
- Optionally ignore the session key using the ""ignore session-key"" command: `Device(config-locsvr-da-radius)# ignore session-key`
- Optionally ignore the server key using the ""ignore server-key"" command: `Device(config-locsvr-da-radius)# ignore server-key`"
Ignore RADIUS server Change of Authorization (CoA) requests in the form of a bounce port command or disable port command on an authenticated port with multiple hosts.,"1. enable
2. configure terminal
3. aaa new-model
4. authentication command bounce-port ignore
5. authentication command disable-port ignore
6. end"
"Enabling privileged EXEC mode, setting up local AAA server for dynamic authorization, configuring IP address or hostname of the AAA server client.","enable, aaa new-model, aaa server radius dynamic-author, client {ip-addr | hostname} [server-key [0 | 7] string]."
Configuring the server key at the client level for RADIUS application.,Device(config-locsvr-da-radius)# client 192.168.0.5 server-key cisco1
Configure the UDP port for CoA requests.,port port-num
Enable AAA and configure RADIUS for dynamic authorization.,"aaa new-model, aaa server radius dynamic-author, client 10.0.0.1, server-key cisco123, port 3799, auth-type all, ignore session-key"
The character cannot be used in the text string for the banner.,Display a maximum of 2996 characters in a login or failed-login banner.
Configure Message Banners for AAA Authentication,"1. enable
2. configure terminal
3. aaa new-model
4. aaa authentication banner delimiter-string delimiter
5. end"
Configure a failed-login banner for AAA Authentication.,"1. enable
2. configure terminal
3. aaa new-model
4. aaa authentication banner delimiter-string delimiter
5. aaa authentication fail-message delimiter-string delimiter"
Display a message when a user login fails.,"aaa authentication fail-message ""delimiter"""
Configure login and failed-login banners for AAA authentication,Device(config)# aaa new-model; Device(config)# aaa authentication banner *Unauthorized Access Prohibited*; Device(config)# aaa authentication login default group radius
Implement a secure login system with message banners and failure messages.,"1. Configure AAA (Authentication, Authorization, and Accounting) with the following commands:
   - Device> enable
   - Device# configure terminal
   - Device(config)# aaa new-model
   - Device(config)# aaa authentication banner *Unauthorized Access Prohibited*
   - Device(config)# aaa authentication fail-message *Failed login. Try again.*
   - Device(config)# aaa authentication login default group radius"
"Enable personalized login and failed-login banners for user authentication using AAA (Authentication, Authorization, and Accounting).","aaa authentication banner, aaa authentication fail-message, aaa new-model."
Configure domain stripping at the server group level,Use the domain-stripping command in server group RADIUS configuration mode. Per-server group configuration overrides the global configuration.
Enable domain stripping on the server group level for RADIUS servers.,"1. Enable privileged EXEC mode with `enable`.
2. Enter global configuration mode with `configure terminal`.
3. Enable AAA with `aaa new-model`.
4. Add the RADIUS server and enter server group RADIUS configuration mode with `aaa group server radius server-name`.
5. Configure domain stripping with `domain-stripping [strip-suffix word] [right-to-left ] [prefix-delimiter word] [delimiter word]`.
6. Exit configuration mode with `end`."
Configure domain stripping at the server group level for AAA-Domain Stripping at Server Group Level,"domain-stripping [strip-suffix word] [right-to-left ]
[prefix-delimiter word] [delimiter word]"
AAA-Domain Stripping at Server Group Level feature allows domain stripping to be configured at the server group level.,The following command was introduced: domain-stripping. Cisco IOS XE Release - 3.4S
AAA Double Authentication Secured by Absolute Timeout,Per-user session timeout for securing the double authentication mechanism in network connections authorized by service providers.
Absolute Timeout feature with per-user session timeout for double authentication mechanism.,"Configure session-timeout in the login user profile as a link control protocol (LCP) per-user attribute, and use access-profile command to enable AAA double authentication."
"The requirement is to configure the Timeout settings in a TACACS+ and RADIUS user profile. Specifically, the timeout must be configured under the service types “exec” and “ppp” (LCP) in TACACS+ to apply a timeout to the EXEC session and to the PPP session.","- In a RADIUS profile, only one session-timeout is configured, along with the autocommand access-profile. The timeout is applied to the EXEC session and to the PPP session respectively.
- In TACACS+, the timeout must be configured under the service types “exec” and “ppp” (LCP) to apply a timeout to the EXEC session and to the PPP session. If the timeout is configured only under the service type “ppp,” the timeout value will not be available during an EXEC authorization, and the timeout will not be applied to the EXEC session."
TACACS+ User Profile Configuration,"user=aaapbx2; chap=cleartext Cisco; pap=cleartext cisco; login=cleartext cisco; service=ppp protocol=lcp; idletime=3000; timeout=3; service=ppp protocol=ip; inacl#1=""permit tcp any any eq telnet""; service=ppp protocol=ipx"
"Allowing the upload and installation of any attribute-value (AV) pair, custom static routes, Service Advertisement Protocol (SAP) filters, and other requirements in user profiles.",Using the merge keyword with caution as it allows everything open in terms of conflicting configurations.
The requirement description seems to be related to configuring a broker_merge user's access and routing settings for a network device.,"- Username: broker_merge
- Login method: cleartext Cisco
- CHAP: cleartext ""cisco""
- Service: exec, ppp (LCP, IP), ipx
- Autocmd: access-profile merge
- Timeout: 6 seconds
- Access lists: N/A (details depend on software specifications)
- Routes: 10.4.0.0/8, 10.5.0.0/8, 10.6.0.0/8
- Inbound ACL: permit tcp any any, permit icmp host 10.60.0.0 any"
Throttling mechanism for controlling packets (flow control) at the NAS level to improve RADIUS server performance.,Not specified in the text provided.
Configure global throttling for accounting and access request packets,radius-server throttle { accounting threshold } [access threshold [access-timeout number-of-timeouts]]
Throttling Accounting and Access Request Packets Per Server Group,Throttling for a specified server group with the threshold value for that server group.
Configure throttling of server-group accounting and access request packets.,"1. Enable privileged EXEC mode.
   - Command: enable
2. Enter global configuration mode.
   - Command: configure terminal
3. Enter server-group configuration mode.
   - Command: aaa group server radius <server-group-name>
4. Configure the specified server-group throttling values for accounting and access request packets.
   - Command: throttle {[accounting threshold] [access threshold [access-timeout number-of-timeouts]]}"
Set the accounting threshold value and access threshold value for a server group.,"- Accounting threshold value: 100
- Access threshold value: 200"
Limit the number of access requests packets sent to server-group-A to 200 and set the number of time-outs allowed per transaction to 2.,"Enable, configure terminal, aaa group server radius server-group-A, throttle access 200 access-timeout 2"
Throttling of AAA RADIUS Records,Not provided in the given text
Configure the shared-secret text string and encryption type for a server.,"• server-key - Configures the shared-secret text string.
• encryption-type - (Optional) Single-digit number that defines whether the text immediately following is encrypted, and if so, what type of encryption is used. Encryption types are 0 (text not encrypted) and 7 (encrypted using an encryption algorithm defined by Cisco).
• string - The shared-secret text string that is shared between the network access server and the client workstation. This shared-secret string must be the same on both systems."
Verifying AAA Dead-Server Detection Configuration and RADIUS POD configuration.,"The output of the show running-config command must show the same values in the ""Dead Criteria Details"" field that were configured using the radius-server dead-criteria command. To verify the RADIUS POD configuration, use the show running-configuration privileged EXEC command."
Server (NAS) must exchange PPP messages with remote users and communicate by L2F or L2TP requests and responses with the customer tunnel server to set up tunnels.,Not specified in the provided text.
AAA Authorization and Authentication Cache,Caching authorization and authentication responses for a configured set of users or service profiles.
Authentication Profile Caching,Authorization and Authentication Profile Caching
Implement profile caching for network performance optimization or as a failover mechanism in case of unavailability of RADIUS and TACACS+ servers.,"The router should communicate with an offload RADIUS or TACACS+ server to authenticate calls, apply policies, and manage service access."
Minimize the impact of AAA authentication and authorization by caching responses for given users on the router.,Profile caching for authentication and authorization responses.
"Store user credentials in a profile cache using regular expression "".*@example.com"" to simplify authentication process.","Authentication is disabled, and users access authorization profiles from a common Access Response stored in cache."
Configuring authentication and authorization method list for cache server group query last during user authentication attempts to a router.,Configure the authentication and authorization method list so that the cache server group is queried last when a user attempts to authenticate to the router. Refer to the Method Lists in Authorization and Authentication Profile Caching section for more information.
Optimize network performance or provide failover capability using the profile caching feature by changing the order of authentication and authorization methods in the method list.,"Adjust the order of the authentication and authorization methods in the method list to place the cache server group first for optimizing network performance, or last for providing failover capability."
Update existing server groups to reference newly defined cache groups for optimization and failover mechanisms.,Update authentication or authorization method lists to use the cached information.
Implement Authorization and Authentication Profile using Caching and Cache Profile Groups,"1. Enable privileged EXEC mode with the 'enable' command.
   Example: Router> enable
2. Enter global configuration mode with the 'configure terminal' command.
   Example: Router#
3. Enable AAA with the 'aaa new-model' command.
4. Create a cache profile group with the 'aaa cache profile group-name' command.
5. Define the profile name and specify whether it is an authentication or non-authentication profile using '[no-auth]'.
6. Repeat Step 5 for each username you want to add to the profile group in Step 4.
7. Add regular expressions for caching with the 'regexp matchexpression {any|only}[no-auth]' command.
   Example: regexp matchexpression {any|only}[no-auth]
8. Repeat Step 7 for each regular expression you want to add to the cache profile group defined in Step 4.
9. Add a caching rule with the 'all [no-auth]' command.
10. End the configuration mode with the 'end' command.
   Example: Router# end
11. Show the AAA cache group with the 'show aaa cache group name' command.
12. Clear the AAA cache group with the 'clear aaa cache group name {profile name| all}' command.
13. Debug the AAA cache group with the 'debug aaa cache group' command."
Enable AAA access control model on the router.,"1. Configure terminal mode using the command ""configure terminal"".
2. Enable AAA access control model with the command ""aaa new-model""."
Create an individual authentication and authorization cache profile based on a username match.,"- aaa cache profile networkusers@companyname
- profile name [no-auth]
- Example: Router(config-profile-map)# profile networkuser1 no-auth"
Define how RADIUS and TACACS+ server groups use the information stored in each cache profile group.,"1. enable
2. configure terminal
3. aaa new-model
4. aaa group server radius group-name or aaa group server tacacs+ group-name
5. cache authorization profile name
6. cache authentication profile name
7. cache expiry hours {enforce failover}
8. end"
Enable AAA access control model and configure RADIUS or TACACS+ server groups for authorization and authentication caching rules.,"aaa new-model, aaa group server radius, aaa group server tacacs+, cache authorization profile name, cache authentication profile name"
AAA authorization and method lists for access control,"aaa new-model, aaa authorization {network | exec | commands level | reverse-access| configuration} {default | list-name} [method1 [method2...]]"
"Set up authentication at login with a default or specific list of users, and enable caching for improved efficiency.",aaa authentication login {default | list-name} method1 [method2...]
Implement Authorization and Authentication Profile Caching as a Failover Mechanism for RADIUS or TACACS+ server unavailability.,"- Create a cache profile group admin_users containing all network administrators.
- Create a cache profile group abc_users containing all ABC company users on the network."
Define server groups that use the cache information in each cache profile group.,aaa group server tacacs+ admins@companyname.com; server 10.1.1.1; server 10.20.1.1; cache authentication profile admin_users; cache authorization profile admin_users
Configure AAA authorization to limit services available to a user based on their profile information.,Not specified in the given text.
Configuring the Cisco Network Access Server to communicate with TACACS+ security server,"Define rights associated with specific users using the username command for local authorization. Method lists for authorization enable you to designate one or more security protocols (such as RADIUS or TACACS+) for use in case of initial method failure, ensuring a backup system. Cisco IOS XE software uses the first method listed to authorize users for specific network services."
"AAA Authorization Methods, including TACACS+, If-Authenticated, None, Local, and RADIUS.","1. TACACS+ - Network access server exchanges authorization information with the TACACS+ security daemon. Specific rights for users are defined by associating attribute-value pairs in a database on the TACACS+ security server.
2. If-Authenticated - User is allowed to access the requested function if they have been authenticated successfully.
3. None - Network access server does not request authorization information; authorization is not performed over this line/interface.
4. Local - Router or access server consults its local database, as defined by the username command, for example, to authorize specific rights for users. Only a limited set of functions can be controlled via the local database.
5. RADIUS - Network access server requests authorization information from the RADIUS security server. Specific rights for users are defined in a database on the RADIUS security server."
"Authorization command with if-authenticated, none, or local method keyword.","The functions associated with local authorization are defined by using the username global configuration command. To have the network access server request authorization via a RADIUS security server, use the radius method keyword."
Configuring authorization using a RADIUS security server,"Use the ""aaa authorization command with the group radius method keyword"" on the network access server to request authorization via a RADIUS security server."
"Separate server groups for R1 and R2, and T1 and T2 to provide flexibility in assigning RADIUS and TACACS+ resources.","Unique identifier created by the combination of IP address and UDP port number for each host entry on a server. This enables RADIUS requests to be sent to different UDP ports on a server at the same IP address, with second host entry acting as fail-over backup if needed."
Implementing authorization list on interfaces or lines.,Router(config-line)# authorization {arap | commands level | exec | reverse-access} {default | list-name}.
Disable authorization for all global configuration commands,Device(config)# no aaa authorization
Disable AAA authorization on the console for user authentication.,Device(config)# no aaa authorization console
Controlling access to ports accessible through reverse Telnet and implementing reverse Telnet authorization for an additional security layer.,"Implementing the standard AAA login procedure for Telnet authentication, and using RADIUS or TACACS+ for reverse Telnet authorization when enabled."
Reverse Telnet access to specific asynchronous ports with user authentication through standard Telnet login procedure.,"Use the ""aaa authorization reverse-access"" command in global configuration mode to request authorization information from a TACACS+ or RADIUS server before allowing a user to establish a reverse Telnet session."
Configuring Authorization for Reverse Telnet,"Gibraltar 16.11.x, 133"
Network access server requesting reverse Telnet authorization information from the security server (RADIUS or TACACS+).,Configure specific reverse Telnet privileges for the user on the security server itself.
Configure address pools for TACACS daemon selection and implement RADIUS authorization on the router.,"- Set up address pools: ip local-pool att 172.16.0.1 172.16.0.255 and ip local-pool mci 172.17.0.1 172.17.0.255
- Configure TACACS daemon with sample configuration: user = mci_customer1 and user = att_customer1
- Enable RADIUS authorization on the router using aaa new-model, aaa authorization exec default group radius if-authenticated, aaa authorization network default group radius, radius-server host ip, and radius-server key commands."
Configure network access server to contact RADIUS server for user permission and use RADIUS information for autocommand or connection access list.,aaa authorization exec default group radius if-authenticated
Access server to request authorization information from a TACACS+ security server before allowing a user to establish a reverse Telnet session.,"- AAA is enabled using the command ""aaa new-model"".
- User authentication during login uses TACACS+ as the default method with the command ""aaa authentication login default group tacacs+"".
- User authorization when trying to establish a reverse Telnet session uses TACACS+ as the method with the command ""aaa authorization reverse-access default group tacacs+"".
- The TACACS+ server is identified using the ""tacacs-server host"" command.
- The interval of time that the network access server waits for the TACACS+ server to reply is set using the ""tacacs-server timeout"" command."
Enable AAA and configure RADIUS for user authentication during login and user authorization when trying to establish a reverse Telnet session.,"- aaa new-model
- aaa authentication login default group radius
- aaa authorization reverse-access default group radius
- radius-server host 172.31.255.0
- radius-server key go away
- auth-port 1645 acct-port 1646"
"The requirement is to configure the radius-server key command for encryption and grant a user named ""pat"" reverse Telnet access at port tty2 on the network access server named ""maple"".","Username = ""pat"", Password = ""goaway"", User-Service-Type = Shell-User, cisco-avpair = ""raccess:port#1=maple/tty2"""
"The requirement is to configure the AAA accounting feature for tracking services accessed by users and monitoring network resource consumption. This includes enabling the AAA accounting, reporting user activity to the TACACS+ or RADIUS security server in the form of accounting records, and using these records for network management, client billing, and auditing purposes.","The configuration involves setting up the AAA accounting feature on the network access server, enabling the reporting of user activity to the appropriate security server (TACACS+ or RADIUS), and ensuring that the accounting records contain the necessary accounting attribute-value (AV) pairs stored on the security server."
Communicate with the RADIUS security server,Configuring RADIUS
"Automatically apply default method list to all interfaces or lines unless a named method list is explicitly defined. A defined method list overrides the default method list. If no default method list is defined, no accounting takes place.","In Cisco IOS XE software, RADIUS and TACACS+ server configurations are global. Server groups can be used for a particular service, allowing separate server groups (e.g., SG1 and SG2) to be defined for R1 and R2 servers."
Accounting methods for TACACS+ and RADIUS security servers.,"Cisco IOS XE supports two methods for accounting - TACACS+ and RADIUS. Passwords and accounting logs are masked before being sent to the servers. Use the aaa accounting commands visible-keys command to send unmasked information to the TACACS+ or RADIUS security servers. For minimal accounting, use the stop-only keyword."
Create a method list named acct_tac1 that specifies RADIUS as the backup method for authentication in case of TACACS+ error.,"Enter the command ""aaa accounting network acct_tac1 stop-only group tacacs+ group radius"" to create the method list with the specified requirements."
"To specify RADIUS as the default method for user authentication during login, enter the following command: aaa accounting network default stop-only group radius.","• group tacacs -- To have the network access server send accounting information to a TACACS+ security server, use the group tacacs+ method keyword.
• group radius -- To have the network access server send accounting information to a RADIUS security server, use the group radius method keyword."
AAA group server configuration for RADIUS servers and enabling the group loginrad as the method of network accounting when no other method list is defined.,"1. Define members of group loginrad:
   aaa group server radius loginrad
   server 172.16.2.3
   server 172.16.2 17
   server 172.16.2.32
2. Enable the group loginrad as the method of network accounting when no other method list is defined:
   aaa accounting network default start-stop group loginrad"
Network Accounting,"- NAS-IP-Address: ""172.16.25.15""
- NAS-Port: 5
- User-Name: ""username1""
- Client-Port-DNIS: ""4327528""
- Caller-ID: ""562""
- Acct-Status-Type: Start (for the start event) and Stop (for the stop event)
- Acct-Authentic: RADIUS
- Service-Type: Framed
- Acct-Session-Id: ""0000000E""
- Framed-IP-Address: ""10.1.1.2""
- Framed-Protocol: PPP
- Acct-Delay-Time: 0 (if required)
- User-Id: ""username1""
- NAS-Identifier: ""172.16.25.15"""
Network accounting record for a PPP user who comes in through autoselect,"NAS-IP-Address: ""172.16.25.15""
NAS-Port: 3
User-Name: ""username1""
Client-Port-DNIS: ""4327528""
Caller-ID: ""562""
Acct-Status-Type: Start
Acct-Authentic: RADIUS
Service-Type: Framed
Acct-Session-Id: ""0000000B""
Framed-Protocol: PPP
Acct-Delay-Time: 0
User-Id: ""username1""
NAS-Identifier: ""172.16.25.15"""
User account information and network session details for a PPP user.,"User-Name = ""username1"", Client-Port-DNIS = ""4327528"", Caller-ID = ""562"", Acct-Status-Type = Stop, Acct-Authentic = RADIUS, Service-Type = Framed, Acct-Session-Id = ""0000000B"", Framed-Protocol = PPP, Framed-IP-Address = ""10.1.1.1"", NAS-Identifier = ""172.16.25.15""."
1. Acct-Session-Time = 62,N/A (The text provided does not contain specific configuration settings)
TACACS+ connection accounting for LAT connection,"Protocol=lat, addr=VAX, cmd=lat"
"AAA resource failure stop accounting for generating ""stop"" accounting records for calls that do not reach user authentication and managing/monitoring networks and wholesale customers.",Not provided in the text.
Modem Dial-In Call Setup Sequence with Call Disconnect Occurring Before User Authentication and Without Resource Failure,AAA resource accounting for start-stop records
"AAA broadcast accounting with support for multiple AAA servers, redundant billing information for voice applications, and failover configuration among server groups.","Broadcasting allowed among groups of RADIUS or TACACS+ servers, each server group can define its backup servers for failover independently of other groups."
AAA Session MIB feature for monitoring and terminating authenticated client connections using Simple Network Management Protocol (SNMP).,"SNMP user-end data objects, statistics for each AAA function, status of servers providing AAA functions, identities of external AAA servers, real-time information such as idle times."
Suppressing Generation of Accounting Records for Null Username Sessions,Router(config)# aaa accounting suppress null-username
AAA Accounting Update with periodic keyword and number argument,Router(config)# aaa accounting update periodic [number]
Enable privileged EXEC mode and configure accounting for network-related service requests.,"1. Enter your password if prompted.
```
Router> enable
```
2. Enter global configuration mode.
```
configure terminal
```
3. Configure the default accounting for all network-related service requests and enter accounting method list configuration mode.
```
Router(config)# aaa accounting network default
```"
Enable the generation of interim service accounting records at periodic intervals for subscribers.,"RADIUS Attribute 85 in the user service profile takes precedence over the configured interim-interval value, and RADIUS Attribute 85 must be in the user service profile."
"Generate ""stop"" records for users who fail to authenticate at login or during session negotiation using PPP.",aaa accounting send stop-record authentication failure
"Nesting network accounting records using the ""aaa accounting nested"" command","Purpose: Nests network accounting records
Command or Action: aaa accounting nested"
Enables sending accounting records to multiple AAA servers,aaa accounting command in global configuration mode with the broadcast keyword
Per-DNIS AAA Broadcast Accounting configuration.,aaa dnis map accounting network {start-stop | stop-only | none} [broadcast] method1.
Configure a Cisco AS5200 for AAA services with RADIUS and TACACS+ servers.,"- Enable AAA using `aaa new-model` command.
- Configure authentication login method using `aaa authentication login admins local`.
- Set up PPP authentication for dial-in users using `aaa authentication ppp dialins group radius local`.
- Authorize network access using `aaa authorization network network1 group radius local`.
- Use RADIUS server for accounting services using `aaa accounting network network2 start-stop group radius group tacacs+`.
- Set up username and password for root access.
- Configure TACACS+ and RADIUS servers with their respective host addresses and keys.
- Apply the configuration to the interface and line range using `group-range 1 16` and appropriate encapsulation, authentication, authorization, and accounting commands."
- PPP (Point-to-Point Protocol),"- AAA new-model command enabled
- AAA authentication login admins local method list
- AAA authentication ppp dialins group radius local method list
- AAA authorization network network1 group radius local method list
- AAA accounting network network2 start-stop group radius group tacacs+"
"Network configuration and authentication settings for a TACACS+ server, RADIUS server, asynchronous interface group, PPP encapsulation method, PPP authentication, and PPP authorization.","- tacacs-server key command: Defines the shared secret text string between the network access server and the TACACS+ server host.
- radius-server host command: Defines the name of the RADIUS server host.
- radius-server key command: Defines the shared secret text string between the network access server and the RADIUS server host.
- interface group-async command: Selects and defines an asynchronous interface group.
- group-range command: Defines the member asynchronous interfaces in the interface group.
- encapsulation ppp command: Sets PPP as the encapsulation method used on the specified interfaces.
- ppp authentication chap dialins command: Selects Challenge Handshake Authentication Protocol (CHAP) as the method of PPP authentication and applies the ""dialins"" method list to the specified interfaces.
- ppp authorization network1 command: Applies the blue1 network authorization method list to the specified interfaces.
- ppp accounting network2 command: Applies"
Enable per-DNIS broadcast accounting using the global aaa dnis map accounting network command.,"1. Configure the AAA group server radius for DNIS mapping with servers 10.0.0.1 and 10.0.0.2.
2. Configure the AAA group server tacacs+ for customer DNIS mapping with server 172.0.0.1.
3. Enable AAA dnis map for DNIS 7777 and specify start-stop broadcast accounting.
4. Define the broadcast keyword to send start and stop accounting records for DNIS number 7777 simultaneously to server 10.0.0.1 in group isp and to server 172.0.0.1 in group isp_customer."
Set up the AAA session MIB feature to disconnect authenticated client connections for PPP users.,"1. aaa new-model
2. aaa authentication ppp default group radius
3. aaa authorization network default group radius
4. aaa accounting network default start-stop group radius
5. aaa session-mib disconnect"
Connection Accounting,"AAA interim accounting, aaa accounting update, subscriber service accounting interim-interval"
"Support for adding, modifying, or deleting RADIUS servers in global configuration mode using CISCO SNMP set operation.",Not specified in the given text.
Enable privileged EXEC mode and display RADIUS servers configured in the global configuration mode.,"Enables privileged EXEC mode by entering 'enable', and displays all the RADIUS servers that are configured in the global configuration mode using the command 'show running-config | include radius-server host'."
RADIUS configuration and statistics monitoring,"- ID: 3
- Priority: 2
- Host: 172.19.192.238
- Auth-Port: 1645
- Acct-Port: 1646"
Change the key for server 1,"casAddress.2.1 = 172.19.192.238
casAuthenPort.2.1 = 2095
casAcctPort.2.1 = 2096
casKey.2.1 = king"
"Per VRF AAA feature for ISPs to partition authentication, authorization, and accounting (AAA) services based on Virtual Private Network (VPN) routing and forwarding (VRF) instances.","Customer template can be used in Cisco IOS XE Release 2.4 and later releases, stored either locally or remotely, and AAA services can be performed on the information that is stored in the customer template (Dynamic Per VRF AAA feature)."
Per VRF AAA configuration,"AAA must be enabled. This feature is supported only for RADIUS servers. Operational parameters should be defined once per VRF rather than set per server group, because all functionality must be consistent between the network access server (NAS) and the AAA servers. The ability to configure a customer template either locally or remotely is available only for Cisco IOS XE Release 2.4 and later releases."
- Configure locally defined customer templates for specific VPNs based on domain name or DNIS using VHG storage.,"- Locally defined customer templates: Per VPN with customer definitions stored locally on the VHG.
- Remotely defined customer templates: Per VPN with customer definitions stored on the service provider AAA server in a RADIUS profile."
"The VSA must be ""access-req."" and its functionality should be equal to the radius-server attribute 44 include-in-access-req command.","VSA = ""access-req."", Command = radius-server attribute 44 include-in-access-req"
This requirement is for specifying an IP address pool for allocating addresses to peers. The pool can be configured using the ip local pool command or automatically downloaded via RADIUS.,Type: peer-ip-pool
"The requirement is to define which authentication method list is to be used for PPP sessions and specify the order of the methods if more than one is specified. The user must specify at least one, but no more than four, authentication methods. If a server group is specified, the group name must be an integer, and the servers in the group should have already been identified in the access-accept via the VSA ""rad-serv.""","The configuration involves using the VSA syntax “ppp-authen-list=[groupX | local | local-case | none | if-needed]”, which is equal to the aaa authentication ppp mylist command functionality."
Authentication Authorization and Accounting Configuration,"Per VRF AAA, VRF Aware Framed-Routes"
Configure RADIUS-specific commands for Per VRF AAA.,"enable, configure terminal, ip radius source-interface subinterface-name [vrf vrf-name], radius-server attribute 44 include-in-access-req [vrf vrf-name]."
Configure Interface-Specific Commands for Per VRF AAA,"1. enable
2. configure terminal
3. interface type number [name-tag]
4. ip vrf forwarding vrf-name
5. ppp authentication {protocol1 [protocol2...]}"
Configure an interface type and enter interface configuration mode.,interface loopback11
Configure Authorization for Per VRF AAA with Local Customer Templates,"1. enable
2. configure terminal
3. aaa authorization template
4. aaa authorization network default local"
"Configure AAA authentication and authorization for serial interfaces running PPP, restrict user access to a network, and configure Per VRF AAA with remote customer profiles.","1. Router# configure terminal
2. aaa authentication ppp {default | list-name} method1 [method2...]
3. aaa authorization {network | exec | commands level | reverse-access | configuration} {default | list-name} [[method1 [method2...]]
4. Router(config)# aaa authorization network default group sp
5. Router(config)# aaa authorization exec default group sp
6. Router(config)# aaa authorization commands level default group sp
7. Router(config)# aaa authorization reverse-access default group sp
8. Router(config)# aaa authorization configuration default group sp
9. Router(config)# ppp authentication ppp default"
Enabling privileged EXEC mode and using local or remote templates.,"enable, configure terminal, aaa authorization template"
Display information on accountable events as they occur.,"Router# debug aaa accounting

Requirement: Displays information on AAA authentication.
Configuration: Router# debug aaa authentication

Requirement: Displays information on AAA authorization.
Configuration: Router# debug aaa authorization

Requirement: Displays information on traffic and exchanges in an internetwork implementing PPP.
Configuration: Router# debug ppp negotiation

Requirement: Displays information associated with RADIUS.
Configuration: Router# debug radius

Requirement: Displays Layer 2 Transport Protocol (L2TP) errors and events that are a part of normal tunnel establishment or shutdown for VPNs.
Configuration: Router# debug vpdn event

Requirement: Displays debug traces for VPN.
Configuration: Router# debug vpdn error

Requirement: Configure the Per VRF AAA feature using a AAA server group with associated private servers.
Configuration Example:
aaa new-model
aaa authentication ppp method_list_v1.55.com group v1.55.com
aaa authorization network method_list_v1.55.com group"
"Configure AAA for PPP, Network Access, and Accounting in different VRFs using RADIUS server.","1. Set authentication method for PPP:
   - aaa authentication ppp method_list v1.55.com group v1.55.com

2. Configure authorization for network access:
   - aaa authorization network method_list v1.55.com group v1.55.com
   - aaa authorization network default local

3. Set up AAA accounting for PPP and Network access:
   - aaa accounting network method_list v1.55.com start-stop group v1.55.com
   - aaa accounting system default vrf v1.55.com start-stop group v1.55.com

4. Configure RADIUS server and VRF:
   - aaa group server radius V1_55_com
   - ip vrf forwarding V1.55.com
   - template V1.55.com

5. Set up IP Pool and Peer Default for PPP:
   - peer default ip address pool V1_55_com_pool
   - ppp authentication chap callin V1_55_com
   - ppp authorization V1_55_com
   - ppp accounting V1_55_com

6. Configure AAA Accounting delay and failure actions:
   - aaa accounting delay-start
   - aaa accounting send stop-record authentication failure
   - radius-server attribute 44 include-in-access-req
   - ip vrf forwarding v1.55.com
   - ip radius source-interface Loopback55"
"Configure a RADIUS server with an AAA server group, and associate private servers.","1. Enable AAA with the ""aaa new-model"" command.
2. Set up authentication for PPP with the ""aaa authentication ppp default group radius"" command.
3. Create an authorization template with the ""aaa authorization template"" command.
4. Define a group server using ""aaa group server radius sp"" and add the private server IP address (10.3.3.3) with the ""server 10.3.3.3"" command.
5. Configure the RADIUS server settings:
   - Set the host, authentication port, and accounting port with ""radius-server host 10.3.3.3 auth-port 1645 acct-port 1646 key sp_key"" command.
6. Configure the RADIUS server profile on the SP RADIUS server:
   - Set cisco-avpair attributes and other configurations as shown in the given text."
- AAA Authentication for PPP using local group and RADIUS server,"- Server IP address: 10.10.100.7, auth-port: 1645, acct-port: 1646
- Private server IP address: 10.10.132.4, auth-port: 1645, acct-port: 1646
- VRF forwarding and VRF configurations for V1.55.com
- Route-target export and import for V1.55.com
- Template configuration for V1.55.com
- PPP authentication, authorization, and accounting using V1_55_com
- AAA accounting delay-start and send stop-record authentication failure
- Radius server attribute 44 include-in-access-req
- VPDN group configuration for V1.55
- Accept dial-in and protocol settings"
VPDN Group Configuration for vpdn-group V1.55,"- Accept Dialin
- Protocol: L2TP
- Virtual Template: 13
- Terminate from hostname: lac-lb-V1.55
- Source IP: 10.10.104.12
- LCP Renegotiation: Always
- L2TP Tunnel Password: 7 060506324F41
- Interface: Virtual-Template13 (No IP Address)
- PPP Authentication: CHAP Callin
- PPP Multilink
- IP Local Pool: V1.55-pool 10.1.55.10 - 10.1.55.19 Group: V1.55-group
- RADIUS Server Attribute List: min-author, usage-only

Please note that the text contains both requirement and configuration information mixed together. I have separated them into two categories based on my understanding of the text."
"Check Attr: tunnel-id, tunnel-type, gw-password, nas-password, ip-addresses, service-type, Framed-Protocol",Not provided in the text
PPoE component type for NAS IP: 10.0.0.0,"Best Local IP-Address 10.0.1.123 for Radius-Server 172.19.192.238

Please note that the text provided seems to be logs, and it is difficult to clearly identify a complete requirement description and its respective configuration from them. The above information is extracted based on context and available data points."
NAS-Port-Id,"[87]

Requirement: Service-Type
Configuration: [6]

Requirement: Framed
Configuration: [2]

Requirement: NAS-IP-Address
Configuration: 10.0.1.123

Requirement: Acct-Delay-Time
Configuration: [41], 0"
Delegated-IPv6-Prefix attribute for DHCP prefix delegation between RADIUS server and a delegating device.,ipv6:delegated-prefix=2001:DB8::/64 (use IETF attribute format)
The requirement is for a NAS (Network Access Server) to host a DHCPv6 server and provide router advertisement messages. It should also be able to announce multiple recursive DNS servers to hosts.,"The configuration involves using the DNS-Server-IPv6-Address attribute to define the IPv6 address of a DNS server, as shown in the example ""Cisco:Cisco-AVpair = 'ipv6:ipv6-dns-servers-addr=2001:DB8::'"". Additionally, the Framed-Interface-Id attribute is used to configure an IPv6 interface identifier for a user during IPv6CP negotiations of the Interface-Identifier option."
Framed-IPv6-Pool and Framed-IPv6-Prefix attributes should be used to assign IPv6 prefixes to users.,"The Framed-IPv6-Pool attribute should be either defined locally on a device or defined on a RADIUS server, from where pools can be downloaded. The Framed-IPv6-Prefix attribute indicates an IPv6 prefix and a corresponding route to be configured for a user."
"DHCPv6 prefix delegation, separate profile creation for a user on the RADIUS server with the suffix “-dhcpv6”. The Framed-IPv6-Prefix attribute is treated differently in the separate and regular profiles of a user.",Supported formats are RADIUS IETF attribute format and Cisco VSA format for the Framed-IPv6-Prefix attribute.
Framed-IPv6-Route attribute for routing information configuration on a NAS.,Use ipv6 route command to specify the value of the Framed-IPv6-Route attribute as a string.
Static route for a user using IPv6 Route attribute,"cisco-avpair = ""ipv6:route#1=2001:DB8:cc00:1::/48"", cisco-avpair = ""ipv6:route#2=2001:DB8:cc00:2::/48"""
Login-IPv6-Host attribute for IPv6 addresses of hosts to connect a user when the Login-Service attribute is included.,NAS uses the Login-IPv6-Host attribute in Access-Request packets to communicate with a RADIUS server and prefer certain hosts.
Configure DHCPv6 option of acquiring prefixes from the AAA server.,"Device> enable
Device# configure terminal
Device(config)# ipv6 dhcp pool pool1
Device(config-dhcpv6)# prefix-delegation aaa method-list list1"
Configure TACACS+ server and set the IPv6 address for the server.,tacacs server server1 address ipv6 ipv6-address
"Configuring the TACACS+ server for IPv6 address, encryption key, TCP port, NAT address handling, single-connection, and timeout settings.","1. Configure the IPv6 address: address ipv6 2001:DB8:3333:4::5
2. Set the encryption key: key [0 | 7] key-string
3. Specify the TCP port: port number (e.g., Device(config-server-tacacs)# port 12)
4. Configure sending NAT address: send-nat-address
5. Enable single-connection: single-connection
6. Set the timeout value: timeout seconds (e.g., Device(config-server-tacacs)# timeout 10)"
Enable privileged EXEC mode.,Not provided in the text.
Specify an IPv6 TACACS+ server for group1,aaa group server tacacs+ group1; server name server-name
Configure the IPv6 address of the private TACACS+ server for the group server.,server-private {ip-address | name | ipv6-address} [nat] [single-connection] [port port-number] [timeout seconds] [key [0 | 7] string]
"Subscribe to various services, such as the Product Alert Tool (accessed from Field Notices), the Cisco Technical Services Newsletter, and Really Simple Syndication (RSS) Feeds.",Access to most tools on the Cisco Support website requires a Cisco.com user ID and password.
Configure the criteria to mark a RADIUS server as dead using AAA Dead-Server Detection feature.,"The exact configuration details are not provided in the text, but they can be found on pages 220 and 222 for ""How to Configure AAA Dead-Server Detection"" and ""Configuration Examples for AAA Dead-Server Detection""."
"Configure the minimum amount of time (in seconds) that must elapse from the time that the router last received a valid packet from the RADIUS server to the time the server is marked as dead. Additionally, configure the number of consecutive timeouts that must occur on the router before the RADIUS server is marked as dead.",Timeout (in seconds) and Number of Consecutive Timeouts
Dead-Server Detection,"1. enable
2. configure terminal
3. aaa new-model
4. radius-server deadtime minutes"
AAA Dead-Server Detection configuration,radius-server deadtime minutes; radius-server dead-criteria time seconds number-of-tries
The Login Password Retry Lockout feature allows system administrators to lock out a local AAA user account after a configured number of unsuccessful attempts by the user to log in using the username that corresponds to the AAA user account. The system administrator cannot be locked out as they are a special user with maximum privilege level.,Not specified in the text
Configure Login Password Retry Lockout for a system administrator user with privilege level 15.,"enable, configure terminal, username name [privilege level], password encryption-type password"
Login Password Retry Lockout,Not provided in the text.
"Enable AAA access control model, set maximum number of unsuccessful attempts before lockout, and configure default AAA authentication method.","aaa new-model, aaa local authentication attempts max-fail (number-of-unsuccessful-attempts), aaa authentication login default method"
AAA authentication login default method configuration for local user database,Device(config)# aaa authentication login default local
Users must have root privilege (level 15) to perform the task.,"Privileged EXEC mode enabled, clear aaa local user lockout and clear aaa local user fail-attempts commands used."
Monitor and maintain the Login Password Retry Lockout status.,"1. Enable privileged EXEC mode: ""enable""
2. Display the list of locked-out users for the current login password retry lockout configuration: ""show aaa local user lockout"""
Implementing MSCHAP Version 2 for PPP connections between a computer using Microsoft Windows operating system and a network access server (NAS) in Cisco routers.,AAA Support for MSCHAPv2 Password Aging in Cisco IOS Release 12.4(6)T.
Configure an interface type and enter interface configuration mode using the interface command. Configure the interface for PPP encapsulation using the encapsulation command. Ensure that the client operating system supports all MSCHAP V2 capabilities. Configure the ppp max-bad-auth command and set the number of authentication retries at two or more. Configure the radius server vsa send authentication command allowing the RADIUS client to send a vendor-specific attribute to the RADIUS server.,Not specified in the text.
Patch from Microsoft to fix Change Password feature issue,RADIUS server configured for authentication
Configure MSCHAP V2 Authentication for NAS to accept MSCHAP V2 authentication for local or RADIUS authentication and allow proper interpretation of authentication failure attributes and vendor-specific RADIUS attributes for RADIUS authentication.,"1. enable
2. configure terminal
3. radius-server vsa send authentication
4. interface type number
5. ppp max-bad-auth number
6. ppp authentication ms-chap-v2"
Configure the NAS to recognize and use vendor-specific attributes.,radius-server vsa send authentication
"Configure a point-to-point interface to reset immediately after an authentication failure or within a specified number of authentication retries with the PPP max-bad-auth command, and enable MSCHAP V2 authentication on a NAS using the ppp authentication ms-chap-v2 command.",Device(config)# interface Gigabitethernet 1/0/1; Device(config-if)# ppp max-bad-auth number; (Example: Device(config-if)# ppp max-bad-auth 2); Device(config-if)# ppp authentication ms-chap-v2
Verifies the configuration of MSCHAP V2 as the authentication method for the specified interface.,"show running-config interface type number, debug ppp negotiation"
Enabling AAA globally and enabling password aging for crypto-based clients on a local authentication list.,"Device(config)# aaa new-model
Device(config)# aaa authentication login {default | list-name} passwd-expiry method1 [method2...]"
"PPP authentication using MS-CHAPv2, AAA with radius server, Password aging using AAA and crypto-based client.","ppp max-bad-auth 3
ppp authentication ms-chap-v2
exit
aaa authentication ppp default group radius
radius-server host 10.0.0.2 255.0.0.0
radius-server key secret
radius-server vsa send authentication
aaa authentication login userauthen passwd-expiry group radius
!
crypto isakmp policy 3
encr 3des
authentication pre-share
group 2
!
crypto isakmp client configuration group 3000client
key cisco123
dns 10.1.1.10
wins 10.1.1.20
domain cisco.com
pool ippool
acl 153
!
crypto ipsec transform-set myset esp-3des esp-sha-hmac
!
crypto dynamic-map dynmap 10
set transform-set myset
!
crypto map clientmap client authentication list userauthen
!
radius-server host 10.140.15.203 auth-port 1645 acct-port 1646
radius-server domain-stripping prefix-delimiter $
radius-server key cisco123
radius-server vsa send"
"Microsoft PPP CHAP Extensions, Version 2",MSCHAP Version 2
MSCHAP Version 2,Not specified in the provided text
The requirement is that accounting information can be sent simultaneously to a maximum of ten AAA servers using the AAA Broadcast Accounting-Mandatory Response Support feature. This allows for simultaneous broadcasting to one or more AAA servers and provides redundant billing information for voice applications.,"The configuration involves allowing up to 10 server groups (methods) in a method list, and supporting multiple authentication, authorization, and accounting (AAA) servers at the same time."
Failover configuration for RADIUS or TACACS+ in server groups with independent backup servers definition.,"Simultaneous Broadcast and Wait Accounting enabled, with wait accounting at the Access Point Name (APN) level and broadcast accounting at the AAA method level."
"Multiple AAA servers should be used for redundancy, a PDP context should be established only with a valid Accounting Start record from all essential servers to avoid information loss, and broadcast records can be sent to up to ten server groups.","Broadcast and wait accounting should be configured according to the method list configuration and the availability of mandatory keyword. If not required, broadcast accounting can be used without any mandatory groups defined. The behavior of wait accounting remains the same as in Cisco GGSN Release 7.0 and earlier releases if no mandatory server groups are specified. Wait accounting does not apply to PPP PDP contexts."
"Enables privileged EXEC mode, Enables new access control commands and functions (disables the old commands), Enables authentication, authorization, and accounting (AAA) accounting of requested services for billing or security purposes when you use RADIUS and enters accounting method list mode.","enable, configure terminal, aaa new-model, aaa accounting network {method-list-name | default}"
"Specify the server group using the ""group server-group [mandatory]"" command.",None provided in the text.
The requirement is to configure the GGSN (Gateway GPRS Support Node) to wait for an accounting response from the RADIUS server before sending a Create PDP Context response to the SGSN (Serving GPRS Support Node).,Configure gtp-response-message wait-accounting command on the router.
"AAA server group configuration, PPP authentication, authorization, accounting, GPRS access-point-list configuration.","aaa group server radius abc
server 10.2.3.4 auth-port 1645 acct-port 1646
server 10.6.7.8 auth-port 1645 acct-port 1646
aaa authentication ppp abc group abc
aaa authorization network abc group abc
aaa accounting network abc
action-type start-stop
broadcast
group SG1 mandatory
group SG2
group SG3 mandatory
gprs access-point-list gprs
access-point 1
access-mode non-transparent
access-point-name www.pdn1.com
aaa-group authentication abc
no gtp response-message wait-accounting
exit
access-point 2
access-mode non-transparent
access-point-name www.pdn2.com
aaa-group authentication abc
gprs gtp response-message wait-accounting"
"Password requirements - any combination of upper and lowercase characters, numbers, and special characters including ""!"", ""@"", ""#"", ""$"", ""%"", ""^"", ""&"", ""*"", ""("", and "")"". Recommended minimum password length is 8 characters.",Password length policy - configurable minimum and maximum length (1-64 characters).
Password Expiry Check and Prompt during Authentication Phase,"- Lifetime for user accounts configured by security administrator
- Password expiry checked only during authentication phase
- User prompted to change password during next authentication if password expires"
"The policy requires that users must be prompted to change their password when trying to authenticate with a profile that does not meet the password security restriction. Additionally, when the user changes the password, the lifetime parameters from the old profile should apply to the new password. Noninteractive clients like dot1x should receive error messages when the password expires and must contact the security administrator to renew the password.","For noninteractive clients, appropriate error messages will be sent when the password expires. These clients must contact the security administrator to renew their passwords."
"The requirement is to allow users to change their passwords only when logging on and after the expiry of the old password, while allowing a security administrator to change the user's password at any time. Additionally, the Password Strength and Management feature should be applicable for clients using the local database for authentication, but upon password expiry, clients won't be able to change the password.","The configuration steps provided are for configuring the Password Security Policy:
1. enable
2. configure terminal
3. aaa new-model
4. aaa common-criteria policy policy-name
5. char-changes number (char-changes specifies the minimum number of previous character changes allowed in passwords)
6. max-length number (max-length specifies the maximum length of a password)
7. min-length (min-length specifies the minimum length of a password)"
Enable privileged EXEC mode on the device.,enable password <your_password>
AAA security configuration with common criteria policy and password requirements,"aaa new-model, aaa common-criteria policy policy-name, char-changes number, max-length number, min-length number, numeric-count number"
Apply a specific policy and password to a user profile.,username common-criteria-policy policy-name; password password.
Display password security policy information for all configured policies.,"- Policy name: policy1
  - Minimum length: 1
  - Maximum length: 64
  - Upper Count: 20
  - Lower Count: 20
  - Numeric Count: 5
  - Special Count: 2
  - Number of character changes: 4
  - Valid forever. User tied to this policy will not expire.

- Policy name: policy2
  - Minimum length: 1
  - Maximum length: 34
  - Upper Count: 10
  - Lower Count: 5
  - Numeric Count: 4
  - Special Count: 2
  - Number of character changes: 2
  - Valid forever. User tied to this policy will not expire."
Implement a common criteria security policy with specific parameters on a user profile.,Device> enable; Device# configure terminal; Device(config)# aaa new-model; Device(config)# aaa common-criteria policy policy1; Device(config-cc-policy)# char-changes 4; Device(config-cc-policy)# max-length 20; Device(config-cc-policy)# min-length 6; Device(config-cc-policy)# numeric-count 2; Device(config-cc-policy)# special-case 2; Device(config-cc-policy)# exit; Device(config)# username user1 common-criteria-policy policy1 password password1; Device(config)# end
Secure Reversible Passwords for AAA using type 6 advanced encryption scheme (AES) passwords.,Not provided in the text.
Secure storage for the key in reversible encryption for authentication methods.,"Type 6 Advanced Encryption Scheme (AES) encrypted passwords stored in a private NVRAM and secured. AAA network configurations use LDAP, RADIUS, or TACACS+ server hosts."
"Configure TACACS+, RADIUS, or LDAP host servers with type 6 encryption for secure reversible passwords and AAA features.","Use commands like ""aaa configuration"", ""bind authenticate root-dn"", ""client ip-address server-key"", and ""key"" to configure TACACS+, RADIUS, or LDAP host servers with type 6 encryption for secure reversible passwords and AAA features."
Secure password with type 6 encryption,Use type 6 for increased security against malicious attacks.
Secure Reversible Passwords for AAA feature,"type 6 advanced encryption scheme (AES) passwords, commands: aaa configuration, bind authenticate root-dn (config-ldap-server), client (config-locsvr-da-radius), key (config-radius-server), key (config-server-tacacs), pac key (config-radius-server), password (config-filter), server-private (RADIUS), server-private (TACACS+), tacacs-server host, and tacacas-server key"
Optimization of datacenter operations and inter-datacenter communication using PfRv3 Inter-DC.,"Configure PfRv3-Inter-DC-Optimization, specify DCI interface on a Hub Site, configure Inter-DC on Hub Master Controller, configure Inter-DC on Transit Hub, specify IDC Local Policy, verify Inter-DC Configuration, verify Master Controller Configuration, and verify the Channel Status."
One active Border Router (BR) is required for the MC to display all possible NBAR application names based on the protocol pack installed in BR.,Not provided in the text.
• Smart probing for measuring jitter and packet loss using real-time transport protocol traffic.,"1. Enable Smart Probing on PfRv3 devices using the appropriate CLI command.
2. Configure VRF awareness by setting up separate policies for different VRFs in the network."
Enabling PfRv3 on the WAN interface of hub-border routers and configuring a domain on the central location (Hub) and branches.,Virtual Routing and Forwarding (VRF) and roles are defined on a domain. PfRv3 allows only one domain configuration. The master controller can be either co-located with a branch router or a separate router.
Device Setup and Role in PfRv3 Configuration,"Hub-master controller, Hub-border router"
"The requirement is to configure a branch-border router, enable PfRv3 border-master controller on the device, and define domain policies on the hub-master controller. Domain policies can be defined per application or per differentiated service code point (DSCP), and you can either select an existing template for a policy or customize your policies for a domain type.","The WAN interface is detected automatically on the branch-border router, enabling of PfRv3 border-master controller needs to be done on the device. Domain policies are defined only on the hub-master controller and then sent over peering infrastructure to all branch-master controllers. Threshold Definition for Pre-defined Template: Priority 1 one-way-delay threshold is set at 150."
Configure VRF settings on a Cisco device.,"1. enable
2. configure terminal
3. interface loopback interface-number
4. ip address ip-address-mask
5. exit
6. domain {domain-name | default}
7. vrf {vrf-name | default}
8. master {hub | branch | transit}"
Configure the loopback interface on a device,interface Loopback0
Configuring an IP address for an interface on the hub-master controller.,Device(config-if)# ip address 10.8.3.3 255.255.255.255
Configuring Hub Master Controller,"Device(config-domain-vrf-mc)# enterprise-prefix
prefix-list ENTERPRISE
site-prefixes prefix-list site -list"
Define static site-prefix for the local site and disable automatic site-prefix learning on the border router for hub and transit sites.,device(config-domain-vrf-mc)# prefix-list Data_Center_1; The site-prefix list is only required for hub and transit sites.
Display the status of a master controller using the show domain domain-name master status command.,(Optional) Use the show domain one master status command to display the status of a master controller.
"Configure PfRv3 on the hub-border router with the source interface, IP address of the hub-master controller, and the path name on external interfaces.","Requirement: Configure PfRv3 on the hub-border router with the source interface, IP address of the hub-master controller, and the path name on external interfaces.

Configuration:
1. Enable privileged EXEC mode (enable command).
2. Enter global configuration mode (configure terminal command).
3. Configure the source interface (source-interface loopback interface-number command).
4. Set up the master (master [ip-address | local] command).
5. Exit the current configuration mode (exit command).
6. Exit to privileged EXEC mode (exit command).
7. Exit to user EXEC mode (exit command).
8. Configure the tunnel interface (interface tunnel-name command).
9. Set the IP address for the tunnel interface (ip address ip-address mask command).
10. Configure VRF and border (vrf {vrf-name | default} and border commands).
11. Enter domain configuration mode (domain {domain-name | default} command).
12. Exit the domain configuration mode (exit command).
13. Exit to privileged EXEC mode (exit command).
14. Exit to user EXEC mode (exit command).
15. Configure path for the external interfaces (domain domain-name path path-name command).
16. End the configuration (end command).
17. (Optional) Show domain domain-name border status (show domain domain-name border status command)."
Configuring Hub Border Router,Performance Routing Version 3
Configure a device as hub-master controller at the hub site.,master [hub | branch | transit]
Configure load balancing for traffic in the default class.,Device(config-domain-vrf-mc)# load-balance
Configure the loopback used as a source for peering with other sites or master controller.,"Requirement: Configure the loopback used as a source for peering with other sites or master controller.

Configuration:
Device(config-domain-vrf)# master branch
source-interface loopback interface-number"
Configuring Branch Border Router and registering to the local master controller,"1. enable, 2. configure terminal, 3. domain (domain-name | default), 4. vrf (vrf-name | default), 5. border, 6. source-interface loopback interface-number, 7. master ip-address, 8. end"
Configure the loopback address used as a source for peering with other sites or the master controller in the device's configuration mode.,"Device(config-domain-vrf)# border
source-interface loopback interface-number"
Enables privileged EXEC mode.,"1. Enter your password if prompted.
2. Device> enable
3. Enters global configuration mode.
   - configure terminal
4. Enters interface configuration mode.
   - Device(config)# interface Loopback0
5. Configures an IP address for an interface on the branch master controller.
   - Device(config-if)# ip address 10.2.12.12 255.255.255.255
6. Exits interface configuration mode and returns to global configuration mode.
   - Device(config-if)# exit
7. Enters domain configuration mode.
   - Device(config)# domain default
8. Configures Virtual Routing and Forwarding (VRF) for the default domain.
   - Device(config-domain)# vrf default"
Configure the loopback used as a source for peering with other sites or master controller.,Set the source-interface loopback interface-number command in the device configuration.
DSCP or application-based Policy threshold per class,Class default is enabled
Load Balancing of default-class traffic among all external interfaces in the master controller.,Enabled load balancing for default-class traffic across all external interfaces in the hub master controller.
Check if EIGRP SAF is automatically configured and ensure EIGRP SAF peering status between hub and branch sites.,Hub-master controller must be configured to auto enable EIGRP SAF configuration and have the correct EIGRP SAF peering status between hub and branch sites.
Verify the status of hub border routers at the hub site.,"1. Use the ""show domain"" command to display the status of the border routers configured at the hub site and check for:
   a. Border status is UP
   b. External interfaces are listed with the right path names
   c. Minimum requirement is met
2. Use the ""show domain domain-name border peering"" command to verify the configuration of the domain, domain-name, and border peering."
The requirement is to display the border router peering status.,"Check the following fields in the output: Peering status, PMI status, Site-prefix status, and Globals service status."
"Verify the status of a hub-border router on Cisco ASR 1000 Series Aggregation Services Routers using the ""show platform software pfrv3 rp active smart-probe"" command.","Not applicable in this case, as it is a command for verifying the status and not setting up any specific configuration."
Display platform hardware information on a Cisco ASR 1000 Series Aggregation Services Router configured at the hub site.,"The command to display the platform hardware information is ""show platform hardware qfp active feature pfrv3 client global pfrv3-instance detail""."
Verify the status of the branch-master controller.,Use the 'show domain' command followed by 'domain-name master status'.
"Load Balancing and Displaying information of border routers connected to the branch-master controller, and external interfaces connected to path names.","Class VOICE sequence 10 (path-preference MPLS fallback INET), Class type: Dscp Based (match dscp ef policy custom), priority 2 packet-loss-rate threshold 5.0 percent, priority 1 one-way-delay threshold 150 msec, priority 2 byte-loss-rate threshold 5.0 percent, Number of Traffic classes using this policy: 1. Class VIDEO sequence 20 (path-preference INET fallback MPLS)."
Display status information of the branch-border routers,show domain domain-name border status
"The requirement is to display the IP address of the local-master controller and its connection status with the master controller. Additionally, it is necessary to show information about external WAN tunnel interfaces connected to the branch-master controller.","The configuration involves executing the command ""show eigrp service-family ipv4 neighbors detail"" to display the SAF peering information of the local master controller."
Egress policy Pfrv3-Policy-Egress-0-3 activation on Tunnel200 and Tunnel100.,"PMI[Egress-aggregate]-FLOW MONITOR[MON-Egress-aggregate-0-48-1] with Trigger Nbar:No, and PMI[Egress-prefix-learn]-FLOW MONITOR[MON-Egress-prefix-learn-0-48-2]."
Flow Monitor and Flow Record configurations for Egress and Ingress directions.,"Egress:
- Flow Exporter: CENT_FLOW_EXP-2
- Cache type: synchronized
- Entries: 4000
- Interval: 30 seconds
- History size: 0 intervals
- Timeout: 1 intervals
- Export spreading: TRUE
- Interface applied: 2

Flow Record: CENT-FLOWREC-Egress-prefix-learn-0-48-10
- Flow Exporter: CENT_FLOW_EXP-2
- Cache type: synchronized
- Entries: 700
- Interval: 30 seconds
- History size: 0 intervals
- Timeout: 1 intervals
- Export spreading: FALSE
- Interface applied: 2

Ingress:
- Flow Exporter: not configured
- Cache type: synchronized
- Entries: 2000
- Interval: 30 seconds
- History size: 0 intervals
- Timeout: 1 intervals
- Export spreading: FALSE
- Interface applied: 2"
Prefix status information of the hub master controller.,"Requirement: Prefix status information of the hub master controller.
Configuration: HubMC# show domain one master site-prefix"
"Display the site-prefix status information of the hub-border router using the ""show domain"" command with the domain-name and border site-prefix.",HubBR# show domain one border site-prefix
Monitoring and managing traffic classes for performance and non-performance traffic classes on WAN interfaces.,"The master-hub controller learns traffic classes by monitoring the traffic moving in egress direction on WAN interface. To display traffic class summary information, use ""show domain domain-name master traffic-classes summary"". To display detailed information for a specific policy, use ""show domain domain-name master traffic-classes policy policy-name""."
Display status information of the traffic class for the hub-master controller.,"""show domain <domain-name> master traffic-classes"""
MPLS Service Provider with a hold time of 59 seconds and a fallback provider evaluation in 00:02:30.,"BW (Bandwidth) Used: 309 Kbps, WAN interface: Tunnel100 in Border 10.8.2.2, Channel (primary): 76, Backup Channel: 73, Destination Site ID: 10.2.10.10, Class-Sequence in use: 20, Class Name: VIDEO using policy User-defined with priority 2 packet-loss-rate threshold 5.0 percent, priority 1 one-way-delay threshold 150 msec, priority 2 byte-loss-rate threshold 5.0 percent."
Show channel information for active and backup channels.,"HubMC# show domain one master channels dscp ef
Channel Id: 89
Dst Site-Id: 10.2.10.10 Link Name: MPLS DSCP: ef [46] TCs: 1
Channel Created: 00:01:15 ago
Provisional State: Initiated and open
Operational state: Available
Interface Id: 14
Estimated Channel Egress Bandwidth: 5380 Kbps"
Show domain one master channels link-name INET details.,"- Channel Id: 25
- Dst Site-Id: 10.2.10.10
- Link Name: INET
- DSCP: default [0]
- TCs: 0
- Channel Created: 13:39:27 ago
- Provisional State: Initiated and open
- Operational state: Available but unreachable
- Interface Id: 13
- Estimated Channel Egress Bandwidth: 0 Kbps"
"Display border site exporter statistics information using the ""show domain"" command.","Border: 10.2.10.10, Process ID: SEND=176, RECV=523, Interface: Tunnel200 (index=15, service provider=INET), Bandwidth: Ingress=23464 Kbit/sec, Capacity=50000 Kbit/sec, Egress =7609 Kbit/sec, Capacity=50000 Kbit/sec."
Configuring Performance Routing Version 3,Not provided in the text
"The requirement is to configure a PfRv3 topology with Hub Master Controller, Hub Border Routers, and Branch Routers.","1. Hub Master Controller - Cisco ASR 1002-X router:
   - Bandwidth: 5 Gbps (upgradable to 10 Gbps, 20 Gbps, or 36 Gbps)
   - Processor: Quad-core 2.13 GHz
   - Memory options: 4 GB, 8 GB, or 16 GB
2. Hub Border Routers - Cisco ASR 1002 Series Router with Embedded Services Processor 5 (ESP5)
3. Branch Routers - Cisco 4451X Integrated Services Router"
Configure IP prefix-lists for DATA_CENTER_1 and ENTERPRISE.,HubMC(config)# ip prefix-list DATA_CENTER_1 seq 5 permit 10.8.0.0/16 le 24 HubMC(config)# ip prefix-list ENTERPRISE seq 5 permit 10.0.0.0/8 le 24
Configure Performance Routing Version 3,Not provided in the text
Configure a tunnel interface and tunnel path on R10.,"- Interface: Tunnel100
- Bandwidth: 100,000
- IP Address: 10.0.100.10/24
- No IP Redirects
- IP MTU: 1400
- IP NHRP Authentication: cisco
- IP NHRP Map to Unicast Address: 10.0.100.84 (Next Hop: 172.16.84.4)
- IP NHRP Map to Multicast Address: 172.16.84.4
- IP NHRP Network ID: 1
- IP NHRP Holdtime: 600 seconds
- IP NHRP Next Hop Server: 10.0.100.84
- IP NHRP Registration Timeout: 60 seconds
- IP TCP Adjust MSS: 1360
- Load Interval: 30 minutes
- Delay (not configured in the provided text)"
Configure another tunnel path from R11 with specified parameters.,"- Interface: Tunnel200
- Bandwidth: 50,000
- IP Address: 10.0.200.11/24
- No IP Redirects
- MTU: 1400
- NHRP Authentication: cisco
- NHRP Map: 10.0.200.85 to 172.16.85.5
- NHRP Multicast: 172.16.85.5
- NHRP Network-ID: 2
- NHRP Holdtime: 600
- NHRP NHS: 10.0.200.85
- TCP Adjust MSS: 1360
- Load Interval: 30
- Delay: 1000
- Tunnel Source: GigabitEthernet3
- Tunnel Mode: gre multipoint
- Tunnel Key: 200
- Tunnel VRF: INET2
- Tunnel Protection: ipsec"
Configure the device as branch master controller (R12).,"- Enable R12
- Set domain name to ""one""
- Create a VRF named ""default"" under the domain ""one""
- Set the source interface for the VRF to Loopback0 and make R12 the master local
- Create another VRF named ""master branch"" under the domain ""one""
- Set the source interface for the VRF to Loopback0 and configure R12 as the master branch
- Configure tunnel interface Tunnel100 with a bandwidth of 100,000, an IP address of 10.0.100.13/24, no IP redirects, an MTU of 1400, NHRP authentication as cisco, and NHRP maps for 10.0.100.84 and multicast 172.16.84.4
- Set the NHRP network-id to 1
- Configure the NHRP holdtime"
1. IP Address Configuration: Assign an IP address and subnet mask to the interface.,"Assign an IP address and subnet mask to the interface.
2. Disable IP Redirects: Prevent the router from using ICMP redirect messages for routing decisions.
3. MTU Configuration: Set the Maximum Transmission Unit (MTU) size for the interface.
4. NHRP Authentication: Configure NBMA Next Hop Resolution Protocol (NHRP) authentication.
5. NHRP Map Entry: Create an entry in the NHRP map table.
6. NHRP Multicast Configuration: Enable multicast support for NHRP.
7. NHRP Network-ID: Set the NHRP network ID for the interface.
8. NHRP Holdtime: Configure the NHRP hold time value.
9. NHRP NHS Entry: Create an entry in the NHRP next-hop server table.
10. TCP MSS Adjustment: Adjust the Maximum Segment Size (MSS) for TCP connections.
11. Load Interval: Configure the load interval for interface metrics.
12. Delay: Set the delay value for interface metrics.
13. Tunnel Source: Specify the tunnel source interface.
14. Tunnel Mode: Configure the tunnel mode as GRE Multipoint.
15. Tunnel Key: Set the shared key for GRE multipoint tunnels.
16. Tunnel VRF: Assign a VRF (Virtual Routing and Forwarding) table to the tunnel.
17. Tunnel Protection IPsec Profile: Configure an IPsec profile for tunnel protection.

Configuration: 
1. ip address 10.0.200.13 255.255.255.0
2. no ip redirects
3. ip mtu 1400
4. ip nhrp authentication cisco
5. ip nhrp map 10.0.200.85 172.16.85.5
6. ip nhrp multicast 172.16.85.5
7. ip nhrp network-id 2
8. ip nhrp holdtime 600
9. ip nhrp nhs 10.0.200.85
10. ip tcp adjust-mss 1360
11. load-interval 30
12. delay 1000
13. tunnel source GigabitEthernet6
14. tunnel mode gre multipoint
15. tunnel key 200
16. tunnel vrf INET2
17. tunnel protection ipsec profile DMVPN-PROFILE2"
"The requirement is for a Hub instance with a loopback IP address of 10.8.3.3, and it should have performance routing enabled.","Instance Type: Hub, Instance id: 0, Loopback IP Address: 10.8.3.3, Performance Routing: Enabled"
Enable Performance Routing Version 3 with a minimum mask length of 28.,(not provided in the text)
Enable EIGRP for IPv4 with an autonomous system number of 59501 and configure hello-interval and hold-time. Include Loopback0 as the source for remote neighbor discovery and use unicast-listen.,"section eigrp
router eigrp #AUTOCFG# (API-generated auto-configuration, not user configurable)
service-family ipv4 autonomous-system 59501
sf-interface Loopback0
hello-interval 120
hold-time 600
exit-sf-interface
remote-neighbors source Loopback0 unicast-listen
exit-service-family"
"DSCP based traffic class policy for different types of classes, such as VIDEO, CRITICAL, and AFxx policies.","1. For VIDEO sequence 20:
   - path-preference: INET fallback MPLS
   - DSCP EF Policy with priority 2 packet-loss-rate threshold: 5.0 percent
   - One-way-delay threshold: 150 msec
   - Byte-loss-rate threshold: 5.0 percent

2. For CRITICAL sequence 30:
   - path-preference: MPLS fallback INET
   - DSCP AF31 Policy with priority 2 packet-loss-rate threshold: 10.0 percent
   - One-way-delay threshold: 600 msec
   - Byte-loss-rate threshold: Not specified"
Threshold of 10.0 percent for traffic classification,"Number of Traffic classes using this policy: 1, class default, match dscp all"
Configure FTP and TFTP settings on the system.,ip ftp source-interface GigabitEthernet1; ip ftp username mgcusr; ip ftp password mgcusr; ip tftp source-interface GigabitEthernet1
- The network should have interface Loopback0 with the IP address 10.8.3.3 and subnet mask 255.255.255.255.,"- Interface GigabitEthernet2 should not have an IP address and load interval set to 30, speed 1000, without negotiation auto.
- Interface GigabitEthernet2.100 to GigabitEthernet2.103 should have encapsulation dot1Q with respective VLAN IDs 100 to 103 and IP addresses 10.8.101.1, 10.8.102.1, 10.8.103.1, and 10.8.104.1 with subnet mask 255.255.255.0.
- Interface GigabitEthernet3 should have a description ""INTERNAL"" and IP address 10.8.24.2 with subnet mask 255.255.255.0, speed 1000 without negotiation auto.
- Interface GigabitEthernet4 should have a description ""INTERNAL"" and IP address 10.8.25.2 with subnet mask 255.255.255.0, speed 1000 without negotiation auto."
Control plane configuration and NTP settings,"```
control-plane
ntp logging
ntp source Loopback0
ntp master 3
line con 0
exec-timeout 0 0
stopbits 1
line vty 0 4
exec-timeout 0 0
privilege level 15
no login
line vty 5 15
exec-timeout 0 0
privilege level 15
no login
```"
"Subscriber Templating, Multilink Bundle-Name Authenticated, Domain One, VRF Default, Border, Source-Interface Loopback0, Master 10.8.3.3, Spanning-Tree Extend System-ID","License UDI PID CSR1000V SN 952V3LWQECD, License Boot Level AX, Redundancy Mode None, IP FTP Source Interface GigabitEthernet1, IP FTP Username Mgcusr, IP FTP Password Mgcusr, IP TFTP Source Interface GigabitEthernet1, Crypto Keyring DMVPN-KEYRING1, Pre-Shared Key Address 0.0.0.0 0.0.0.0 Key Cisco123, Crypto ISAKMP Policy 10, Encryption AES, Authentication Pre-Share, Crypto ISAKMP Performance, Crypto ISAKMP Profile ISAKMP-INET1, Match Identity Address 0.0.0.0, Crypto IPsec Security-Association Replay Disable, Crypto IPsec Security-Association Replay Window-Size 1024, Crypto IPsec Transform-Set AES256/SHA/TRANSPORT ESP-AES 256 ESP-SHA-HMAC Mode Transport, Crypto IPsec Profile DMVPN-PROFILE1, Set Transform-Set AES256/SHA/TRANSPORT, Set ISAKMP-Profile"
- Configuring a tunnel interface with specified parameters for DMVPN deployment.,"```
!
interface Tunnel100
bandwidth 100000
ip address 10.0.100.84 255.255.255.0
no ip redirects
ip mtu 1400
ip nhrp authentication cisco
ip nhrp map multicast dynamic
ip nhrp network-id 1
ip nhrp holdtime 600
ip nhrp redirect
ip tcp adjust-mss 1360
load-interval 30
tunnel source GigabitEthernet3
tunnel mode gre multipoint
tunnel key 100
tunnel protection ipsec profile DMVPN-PROFILE1
domain one path MPLS
!
```"
Configure the interface with a specific IP address and speed settings.,"Set the IP address to 255.255.255.0, the speed to 1000, and disable automatic negotiation for the GigabitEthernet6 interface."
"Router configuration for EIGRP, OSPF, and BGP protocols.","1. EIGRP (router eigrp 100):
   - Network statement: network 10.8.2.2 0.0.0.0, network 10.8.24.0 0.0.0.255
2. OSPF (router ospf 100):
   - Router-ID: 10.8.1.1
   - Network statement: network 172.16.84.4 0.0.0.0 area 0
3. BGP (router bgp 10):
   - Router-ID: 10.8.1.1
   - Redistribute statement with metric: redistribute bgp 10 metric 100000 1 255 255 1500
   - Distance statement for EIGRP and BGP: distance eigrp 90 210, distance bgp 20 109
   - Peer-group MPLS-SPOKES: neighbor MPLS-SPOKES peer-group, neighbor MPLS-SPOKES remote-as 10, neighbor MPLS-SPOKES timers 20 60
   - BGP address-family ipv4 configuration and redistribution of internal routes: address-family ipv4, bgp redistribute-internal
   - Network statements for BGP: network 10.8.1.1 mask 255.255.255.255, network 10.8.3.3 mask 255.255.255.255, network 10.8.101.0 mask 255.255.255.0, network 10.8.102.0 mask 255.255.255.0, network 10.8.103.0 mask 255.255.255.0, network 10.8.104.0 mask 255.255.255.0
   - Aggregate address and summary-only: aggregate-address 10.8.0.0 255.255.0.0 summary-only
   - Neighbor configuration for MPLS-SPOKES: neighbor MPLS-SPOKES activate, neighbor MPLS-SPOKES send-community, neighbor MPLS-SPOKES default-originate
   - Route maps for inbound and outbound routing updates: neighbor MPLS-SPOKES route-map MPLS-DC1-IN in, neighbor MPLS-SPOKES route-map MPLS-DC1-OUT out"
The requirement description is not provided in the given text.,"route-map MPLS-DC1-OUT permit 10
 match ip address prefix-list site_prefixes

route-map MPLS-DC1-OUT permit 20
 match community MPLS-DMVPN"
"Crypto IPSec configuration with replay disable, AES256/SHA transform-set, and DMVPN profile usage","- Security-association replay disable
- Security-association replay window-size 1024
- Transform-set AES256/SHA/TRANSPORT esp-aes 256 esp-sha-hmac mode transport
- IPSec profile DMVPN-PROFILE2 with transform-set AES256/SHA/TRANSPORT and ISAKMP-INET2 profile
- Interface Loopback0: IP address 10.8.2.2 255.255.255.255
- Interface Tunnel200: Bandwidth, IP address, No ip redirects, IP MTU, IP NHRP authentication, IP NHRP map multicast dynamic, IP NHRP network-id, IP NHRP holdtime, IP NHRP redirect, IP TCP adjust-mss, Load-interval, Delay, Tunnel source, Tunnel mode, Tunnel key, Tunnel vrf INET2, Tunnel protection ipsec profile DMVPN-PROFILE2
- Interface GigabitEthernet1: VRF forwarding Mgmt-intf, IP address, Negotiation auto
- Interface GigabitEthernet2: Description"
Configure IP addresses and speed settings on GigabitEthernet interfaces.,"- Set the IP address for GigabitEthernet3 to 101.1.4.2 with subnet mask 255.255.255.0 and speed 1000 with no negotiation auto.
- Set the IP address for GigabitEthernet4 to 172.16.85.5 with subnet mask 255.255.255.0, load interval of 30, and speed 1000 with no negotiation auto."
"Configure EIGRP, OSPF, and BGP routing protocols with specific network addresses and redistribution between the protocols.","1. Enable EIGRP for autonomous system 100:
```
router eigrp 100
network 10.8.1.1 0.0.0.0
network 10.8.25.0 0.0.0.255
redistribute bgp 10 metric 100000 1 255 255 1500
distance eigrp 90 210
```
2. Enable OSPF for autonomous system 100 in VRF INET2:
```
router ospf 100 vrf INET2
router-id 10.8.2.2
network 172.16.85.5 0.0.0.0 area 0
```
3. Enable BGP for autonomous system 10 with router ID and log changes:
```
router bgp 10
bgp router-id 10.8.2.2
bgp log-neighbor-changes
```
4. Configure BGP redistribution, peer groups, and address family for IPv4:
```
bgp redistribute-internal
network 10.8.2.2 mask 255.255.255.255
network 10.8.3.3 mask 255.255.255.255
network 10.8.101.0 mask 255.255.255.0
network 10.8.102.0 mask 255.255.255.0
network 10.8.103.0 mask 255.255.255.0
network 10.8.104.0 mask 255.255.255.0
aggregate-address 10.8.0.0 255.255.0.0 summary-only
neighbor INET-SPOKES activate
neighbor INET-SPOKES send-community
neighbor INET-SPOKES default-originate
neighbor INET-SPOKES route-map INET-DC1-IN in
neighbor INET-SPOKES route-map INET-DC1-OUT
```"
Secure FTP and TFTP server with DMVPN configuration,"1. FTP username and password: mgcusr
2. TFTP source interface: GigabitEthernet1
3. Crypto keyring for DMVPN-KEYRING1: cisco123
4. Pre-shared-key for DMVPN-KEYRING1: cisco123
5. Crypto keyring for DMVPN-KEYRING2: cisco123
6. Pre-shared-key for DMVPN-KEYRING2: cisco123 (in vrf INET2)
7. IKE policy 10: encr aes, authentication pre-share, invalid-spi-recovery, keepalive 40 5
8. ISAKMP profiles: ISAKMP-INET1 and ISAKMP-INET2 (with corresponding keyrings DMVPN-KEYRING1 and DMVPN-KEYRING2)
9. IPSec security-association idle-time: 60
10. IPSec security-association replay window-size: 512
11. IPSec transform-set AES256/SHA/TRANSPORT with transport mode
12. IPSec profile DMVPN-PROFILE1: transform-set AES256/SHA/TRANSPORT and ISAKMP-profile ISAKMP-INET1
13. IPSec profile DMVPN-PROFILE2: transform-set AES256/SHA/TRANSPORT and ISAKMP-profile (not specified)"
Adjust MSS value to 1360 for IP TCP.,ip tcp adjust-mss 1360
Network device configuration for Speed and IP addressing.,"- IP address: 172.16.102.10/24 (subnet mask 255.255.255.0)
- Load interval: 30 seconds
- Interface settings for GigabitEthernet4, GigabitEthernet5, and GigabitEthernet5.100 (Speed 1000 Mbps, no auto negotiation)
- Interface GigabitEthernet5.100: Encapsulation dot1Q 100, IP address 10.1.10.1/24"
"- OSPF configuration for network 172.16.102.10, 101.7.7.2, and 172.16.101.10 under area 0","- Router OSPF 100 with router-id 10.2.10.10
- Network statements for each OSPF network

Requirement:
- BGP configuration with AS number 10 and router-id 10.2.10.10

Configuration:
- Router BGP 10 with bgp log-neighbor-changes
- Neighbors MPLS-HUB and INET-HUB with respective peer-group, remote-as, and timers
- Address-family ipv4 configuration for IPv4 networks and route maps (MPLS-SPOKE-IN, MPLS-SPOKE-OUT, INET-SPOKE-IN, INET-SPOKE-OUT)
- Neighbors MPLS-HUB and INET-HUB activation and soft-reconfiguration settings"
None specified in the text.,"- Source Interface: Loopback0
- Hub: 10.8.3.3
- License: CSR1000V, sn 9YRYPG7XWOA, boot level ax
- Spanning Tree: Extend System ID
- Redundancy Mode: None
- FTP Source Interface: GigabitEthernet1
- Pre-Shared Key: cisco123 for both DMVPN-KEYRING1 and DMVPN-KEYRING2
- IPSec Security Association Idle Time: 60
- IPSec Replay Window Size: 512
- IPSec Transform Set: AES256/SHA/TRANSPORT (esp-aes 256 esp-sha-hmac)"
Configure a Cisco device with IPsec profiles for DMVPN using AES256/SHA/TRANSPORT and appropriate ISAKMP profiles.,"crypto ipsec profile DMVPN-PROFILE1
 set transform-set AES256/SHA/TRANSPORT
 set isakmp-profile ISAKMP-INET1
crypto ipsec profile DMVPN-PROFILE2
 set transform-set AES256/SHA/TRANSPORT
 set isakmp-profile ISAKMP-INET2"
Configuring and setting up a Cisco router with two tunnel interfaces (Tunnel100 and Tunnel200) for DMVPN and GRE Multipoint.,"1. Interface Loopback0:
   - IP address 10.2.11.11/32
2. Interface Tunnel100:
   - Bandwidth: 100,000 Kbps
   - IP address: 10.0.100.11/24
   - MTU: 1400 bytes
   - NHRP authentication: cisco
   - NHRP map: 10.0.100.84 (NHS) with next hop 172.16.84.4
   - NHRP map multicast: 172.16.84.4
   - NHRP network-id: 1
   - NHRP holdtime: 600 seconds
   - NHRP nhs: 10.0.100.84
   - NHRP registration timeout: 60 seconds
   - NHRP shortcut enabled
   - TCP MSS adjustment: 1360 bytes
   - Load-interval: 30 seconds
   - Delay: 1000 ms
   - Tunnel source: GigabitEthernet3
   - Tunnel mode: gre multipoint
   - Tunnel key: 100
   - IPSec profile: DMVPN-PROFILE1
3. Interface Tunnel200:
   - Bandwidth: 50,000 Kbps
   - IP address: 10.0.200.11/24
   - MTU: 1400 bytes
   - NHRP authentication: cisco
   - NHRP map: 10.0.200.85 (NHS) with next hop 172.16.85.5
   - NHRP map multicast: 172.16.85.5
   - NHRP network-id: 2
   - NHRP holdtime: 600 seconds
   - NHRP nhs: 10.0.200.85
   - NHRP registration timeout: 60 seconds
   - NHRP shortcut enabled
   - TCP MSS adjustment: 1360 bytes
   - Load-interval: 30 seconds
   - Delay: 1000 ms
   - Tunnel source: GigabitEthernet6"
- Interface configuration for GigabitEthernet interfaces and subinterfaces with VLAN encapsulation.,"- interface GigabitEthernet4: shutdown, negotiation auto
- interface GigabitEthernet5: negotiation auto
- interface GigabitEthernet5.200: encapsulation dot1Q 200, ip address 10.1.11.1 255.255.255.0
- interface GigabitEthernet6: description --INET--, vrf forwarding INET2, ip address 172.16.112.11 255.255.255.0, negotiation auto
- router ospf 200 vrf INET2: network 172.16.112.11 0.0.0.0 area 0
- router ospf 100: network 101.7.8.2 0.0.0.0 area 0, network 172.16.111.11 0.0.0.0 area 0
- router bgp 10: bgp router-id 10.2.11.11, bgp log-neighbor-changes, neighbor MPLS-HUB peer-group, neighbor MPLS-HUB remote-as 10, neighbor MPLS-HUB timers 20 60, neighbor INET-HUB peer-group, neighbor INET-HUB remote-as 10, neighbor INET-HUB timers 20 60, neighbor 10.0.100.84 peer-group MPLS-HUB, neighbor 10.0.200.85 peer-group INET-HUB
- address-family ipv4: network 10.1.11.0 mask 255.255.255.0, network 10.2.11.11 mask 255.255.255.255, neighbor MPLS-HUB send-community"
"Enable transit site support by upgrading all branch sites, hub, and transit sites with the latest Cisco IOS image.",Not specified in the given text.
"The requirement is to have an organization with two data centers and a single branch site, where the branch site can communicate with the master-hub controller through the two next-hops (hub-branch routers) located at the hub site. If one hub-border router is down, the branch site should still be able to communicate through the second hub-border router. A path-id should be configured on each interface of every channel to differentiate traffic from different hub-border routers.","1. Configure a master-hub controller for communication with the branch site.
2. Set up two next-hops (hub-branch routers) at the hub site.
3. Ensure that both hub-border routers are functional and capable of handling traffic between the branch site and the master-hub controller.
4. Configure a unique 32-bit path-id for each interface of every channel to differentiate traffic from different hub-border routers."
Configure default domain or define specific domain for the transit hub configuration.,Device(config)# domain default
"Configure static site prefix list for hub and transit sites using the ""site-prefixes"" command.","Use the ""source-interface Loopback0"" command to configure the source interface, then use the ""site-prefixes prefix-list site-list"" command to specify the prefix list containing the site prefixes."
Configure hub-border routers for transit site support in a Cisco network.,"1. Source interface of the border router
2. IP address of the hub-master controller
3. Domain path name on external interfaces
4. Domain path ID for each external interface"
Configure the loopback used as a source for peering with other sites or master controller.,source-interface loopback interface-number
Exit VRF configuration mode and enter global configuration mode.,Device(config-domain-vrf)# exit
Unique path-id for each path in a domain on DMVPN tunnel interfaces,Device(config-if)# domain default path MPLS path-id <1-62>
Displaying the status of a border router using the show command,Device(config-if)# end
"RX Reachability, TX Reachability, Channel remote end point, Channel to hub, Version, Supports Zero-SLA, Muted by Zero-SLA, Probe freq with traffic","Channel is sampling 0 flows, Prefix DB Origin"
Configure Data Center 1 (DC1) Devices as a hub-master controller with the interfaces on master hub controller (R82).,"1. Enable configuration mode on HubMC: `HubMC> enable`
2. Enter configuration mode: `HubMC# configure terminal`
3. Configure Loopback0 interface:
   - Set IP address and subnet mask: `HubMC(config)# interface Loopback0`
   - Exit configuration mode: `HubMC(config-if)# ip address 10.8.3.3 255.255.255.255`
   - Exit configuration mode: `HubMC(config-if)# exit`
4. Configure the device as a hub-master controller: `HubMC(config)# domain default`
5. Configure VRF settings for the master hub:
   - Set VRF name to 'default': `HubMC(config-domain)# vrf default`
6. Configure source interface and prefix lists for the master hub:
   - Set source interface to Loopback0: `HubMC(config-domain-vrf-mc)# source-interface Loopback0`
   - Apply enterprise and DC1 prefix lists: `HubMC(config-domain-vrf-mc)# enterprise-prefix prefix-list ENTERPRISE_PREFIX`
   - Apply site prefixes list for DC1: `HubMC(config-domain-vrf-mc)# site-prefixes prefix-list DC1_PREFIX`
7. Configure IP prefix lists for DC1 devices:
   - Create and apply the DC1_PREFIX prefix list with two permit entries:
     - Sequence 10, permit 10.8.0.0/16: `HubMC(config)# ip prefix-list DC1_PREFIX seq 10 permit 10.8.0.0/16`
     - Sequence 20, permit 10.9.0.0/16: `HubMC(config)# ip prefix-list DC1_PREFIX seq 20 permit 10.9.0.0/16`
   - Create and apply the ENTERPRISE_PREFIX prefix list with one permit entry:
     - Permit for a specific address (enter actual IP address): `HubMC(config)# ip prefix-list ENTERPRISE_PREFIX seq 10 permit`"
Configure domain policies on hub master controller for load balancing and classifying traffic based on DSCP values.,"1. Configure the domain default settings using the command `domain default`.
2. Configure the VRF (Virtual Routing and Forwarding) settings using the command `vrf default`.
3. Set the hub master controller as the master hub using the command `master hub`.
4. Specify the source interface for load balancing with the command `source-interface Loopback0`.
5. Add the site prefixes to be used with the command `site-prefixes prefix-list DC1_PREFIX`.
6. Enable load balancing using the command `load-balance`.
7. Configure the enterprise prefix list with the command `enterprise-prefix`.
8. Create a class for voice traffic with the command `class VOICE sequence 10` and set its properties using the following subcommands:
   - Match DSCP EF policy custom with the command `match dscp ef policy custom`.
   - Set priority to 2 and loss threshold to 5 using the commands `priority 2 loss threshold 5`.
9. Create a class for video traffic with the command `class VIDEO sequence 20` and set its properties using the following subcommands:
   - Match DSCP AF41 policy custom with the command `match dscp af41 policy custom`.
   - Set priority to 2 and loss with the commands `priority 2 loss`."
Configuring threshold values for different priorities and delays in a network device,"1. Set priority with one-way delay: `priority 1 one-way-delay`
2. Set threshold value: `threshold 5` or `threshold 150`
3. Exit the current configuration mode: `exit`
4. Match DSCP and policy custom: `match dscp cs4 policy custom`
5. Set priority with loss threshold and delay: `priority 2 loss threshold 5`
6. Set another priority with one-way delay: `priority 1 one-way-delay`
7. Set threshold value again: `threshold 150`
8. Exit the current configuration mode: `exit`
9. Configure path preference: `path-preference INET fallback MPLS`
10. Configure class and sequence: `class CRITICAL sequence 30`"
Configure hub border routers on DC1 (R84).,"- Enable BR84 by running `enable`.
- Enter the configuration mode with `configure terminal`.
- Create a loopback interface (Loopback0) and set its IP address to 10.8.4.4 with subnet mask 255.255.255.255 using `interface Loopback0` and `ip address 10.8.4.4 255.255.255.255`.
- Configure BR84 as a border router by running `domain default`."
Configure a DMVPN tunnel from BR84 to DMVPN1 (MPLS) using NHRP and multipoint GRE encapsulation.,"1. Configure VRF default.
2. Create a border for the VRF.
3. Set the source interface as Loopback0.
4. Set the master address as 10.8.3.3.
5. Exit from border configuration.
6. Configure tunnel interface Tunnel100 on BR84.
7. Set bandwidth to 100000.
8. Set IP address to 10.0.100.84 with subnet mask 255.255.255.0.
9. Disable IP redirects.
10. Set IP MTU to 1400.
11. Configure NHRP authentication as cisco.
12. Enable multicast dynamic NHRP map.
13. Set the NHRP network-id to 1.
14. Set the NHRP holdtime to 60.
15. Enable NHRP redirect.
16. Adjust MSS to 1360 for TCP.
17. Set load interval to 30.
18. Set delay to 1000.
19. Set tunnel source as Ethernet0/1.
20. Configure tunnel mode as GRE multipoint.
21. Set tunnel key to 100.
22. Configure tunnel VRF as IWAN-TRANSPORT-1.
23. Set domain path as MPLS path-id 10."
Configure the device as border router (BR85) with a Loopback0 interface and domain settings for Performance Routing Version 3.,"1. Enter configuration mode for BR85: `BR85(config)#`
2. Configure the interface Loopback0:
   - Enable the interface: `BR85(config-if)# no shutdown`
   - Set the IP address: `BR85(config-if)# ip address 10.8.5.5 255.255.255.255`
3. Exit the interface configuration mode: `BR85(config-if)# exit`
4. Enter domain configuration mode: `BR85(config)# domain default`
5. Configure VRF settings for the default domain:
   - Set the VRF name to ""border"": `BR85(config-domain-vrf)# border`
6. Set the source interface for the VRF to Loopback0: `BR85(config-domain-vrf-br)# source-interface Loopback0`
7. Save the configuration changes: `BR85(config)# write memory"
Configure a tunnel from BR84 to DMVPN2 (INET) using GRE multipoint mode and a key of 200.,"- master 10.8.3.3
- interface Tunnel200
  - bandwidth 5000
  - ip address 10.0.200.85 255.255.255.0
  - no ip redirects
  - ip mtu 1400
  - ip nhrp authentication cisco
  - ip nhrp map multicast dynamic
  - ip nhrp network-id 2
  - ip nhrp holdtime 60
  - ip nhrp redirect
  - ip tcp adjust-mss 1360
  - load-interval 30
  - delay 1000
  - tunnel source Ethernet0/1
  - tunnel mode gre multipoint
  - tunnel key 200
  - tunnel vrf IWAN-TRANSPORT-2
  - domain path INET path-id 20"
Configure the device as transit-hub master controller and border router (BR94).,"1. Set the IP address for Loopback0 interface:
   ```
   HubMC(config-if)# ip address 10.9.3.3 255.255.255.255
   BR94(config-if)# ip address 10.9.4.4 255.255.255.255
   ```

2. Set the device as transit-hub master controller:
   ```
   HubMC(config)# domain default
   HubMC(config-domain)# vrf default
   HubMC(config-domain-vrf)# master transit 2
   ```

3. Configure source interface for Loopback0 on the transit-hub master controller:
   ```
   HubMC(config-domain-vrf-mc)# source-interface Loopback0
   ```

4. Configure site-prefixes and hub address for the transit-hub master controller:
   ```
   HubMC(config-domain-vrf-mc)# site-prefixes prefix-list DC2_PREFIX
   HubMC(config-domain-vrf-mc)# hub 10.8.3.3
   ```

5. Configure IP prefix-lists for the transit-hub master controller:
   ```
   HubMC(config)# ip prefix-list DC2_PREFIX seq 10 permit 10.9.0.0/16
   HubMC(config)# ip prefix-list DC2_PREFIX seq 20 permit 10.8.0.0/16
   HubMC(config)# ip prefix-list ENTERPRISE_PREFIX seq 10 permit 10.0.0.0/8
   ```

6. Configure the device as border router (BR94):
   ```
   BR94> enable
   BR94# configure terminal
   BR94(config)# domain default
   BR94(config-domain)# vrf default
   ```"
Configure tunnel from BR94 to DMVPN1 (MPLS)Link with specific settings.,"- Interface Tunnel100
- Bandwidth 1000
- IP Address 10.0.100.94/24
- No IP Redirects
- IP MTU 1400
- IP NHRP Authentication cisco
- IP NHRP Map Multicast Dynamic
- IP NHRP Network-ID 1
- IP NHRP Holdtime 60
- IP NHRP Redirect
- IP TCP Adjust-MSS 1360
- Load-Interval 30
- Delay 1000
- Tunnel Source Ethernet0/1
- Tunnel Mode GRE Multipoint
- Tunnel Key 100
- Tunnel VRF IWAN-TRANSPORT-1
- Domain Path MPLS Path-ID 30

Interface Loopback0 with IP Address 10.9.5.5"
"Configure the device as a border router (BR95) with a specific VRF and source interface. Create a tunnel from BR95 to DMVPN2 (INET)Link, and enable certain features on the tunnel interface.","- Set up domain default for the VRF
- Configure the Border Router (BR95) with the VRF 'default'
- Source-interface: Loopback0
- Master: 10.9.3.3
- Interface Tunnel200 with bandwidth 1000, IP address 10.0.200.95/24, no IP redirects, and an MTU of 1400
- NHRP authentication: cisco
- Enable dynamic multicast mapping in NHRP
- Set the NHRP network ID to 2 and holdtime to 60 seconds
- Enable NHRP redirection
- Adjust MSS for TCP to 1360
- Load interval of 30 seconds
- Set delay to 1000 ms
- Tunnel source: Ethernet0/1
- Tunnel mode: GRE multipoint
- Tunnel key: 200"
PfRv3 Transit Site Support,domain path INET path-id 40
Configure the interfaces and device as branch-master controller for R10.,"1. Configure the Loopback0 interface with IP address 10.2.10.10/32.
   - R10(config)# interface Loopback0
   - R10(config-if)# ip address 10.2.10.10 255.255.255.255
2. Configure R10 as branch-master controller.
   - R10(config)# domain default
   - R10(config-domain)# vrf default
   - R10(config-domain-vrf)# border
   - R10(config-domain-vrf-br)# source-interface Loopback0
   - R10(config-domain-vrf-br)# master local
   - R10(config-domain-vrf-br)# exit
   - R10(config-domain-vrf)# master branch
   - R10(config-domain-vrf-mc)# source-interface Loopback0
   - R10(config-domain-vrf-mc)# hub 10.8.3.3"
Configure an interface for use in a GRE Multipoint Tunnel as part of an IWAN-TRANSPORT-2 VRF with a tunnel key of 200.,"R11(config)# interface Ethernet0/2
R11(config-if)# tunnel source Ethernet0/2
R11(config-if)# tunnel mode gre multipoint
R11(config-if)# tunnel key 200
R11(config-if)# tunnel vrf IWAN-TRANSPORT-2"
"Configure an interface and tunnel path on R11 with specific settings, including bandwidth, IP address, disabling IP redirects, configuring IP MTU, NHRP authentication, dynamic multicast mapping, network-ID, holdtime, NHS configuration, disabling unique registration, configuring registration timeout, enabling shortcut and redirection, adjusting TCP MSS, setting load interval, delay, disabling route watch, and defining interface state.","1. Interface: Tunnel100
2. Bandwidth: 2000
3. IP Address: 10.0.100.11 /24
4. No IP Redirects
5. IP MTU: 1400
6. NHRP Authentication: cisco
7. IP NHRP Map Multicast Dynamic
8. NHRP Network-ID: 1
9. NHRP Holdtime: 60 seconds
10. NHRP NHS: 10.0.100.84 (NBMA) with 172.16.84.4, 10.0.100.94 (NBMA) with 172.16.94.4
11. No NHRP Unique Registration
12. NHRP Registration Timeout: 60 seconds
13. NHRP Shortcut
14. NHRP Redirect
15. IP TCP Adjust-MSS: 1360
16. Load Interval: 30 seconds
17. Delay: 1000 ms
18. No NHRP Route Watch
19. IF-State NHRP
20. Tunnel Source: Ethernet0/1
21. Tunnel Mode: GRE Multipoint
22. Tunnel Key: 100
23. Tunnel VRF (if applicable)"
Configure the tunnel interface and tunnel path from R12.,"- Interface Tunnel100 with bandwidth 400.
- IP address 10.0.100.12/24 for the Tunnel100 interface.
- No IP redirects on the Tunnel100 interface.
- MTU size of 1400 for the Tunnel100 interface.
- NHRP authentication with cisco as the password.
- Multicast dynamic NHRP map.
- Network ID 1 for NHRP.
- Holdtime of 600 seconds for NHRP.
- NHS address 10.0.100.84 with NBMA address 172.16.84.4 and multicast for the Tunnel100 interface.
- NHS address 10.0.100.94 with NBMA address 172.16.94.4 and multicast for the Tunnel100 interface.
- No unique NHRP registrations."
Configure the device as a border router with R12 as the master controller (R13).,"1. Configure the tunnel interface and tunnel path from R13:
   - interface Tunnel200
   - bandwidth 400
   - ip address 10.0.200.13 255.255.255.0
   - no ip redirects
   - ip mtu 1400
   - ip nhrp authentication cisco
   - ip nhrp network-id 2
   - ip nhrp holdtime 600
   - ip nhrp nhs 10.0.200.85 nbma 172.16.85.5 multicast
   - ip nhrp nhs"
PfRv3 Transit Site Support,Example: Configuring Transit Site Support
Load balance with variance less than 20%.,"External links: 0 Kbps, Internet links: 0 Kbps, Route Control: Enabled, Mitigation mode Aggressive: Disabled, Policy threshold variance: 20, Minimum Mask Length: 28."
"The requirement is to configure and monitor a channel for MPLS communication with specific parameters such as Channel Id, Dst Site-Id, Link Name, DSCP, pfr-label, TCs, and other related attributes.","Channel Id: 8
Dst Site-Id: 10.2.11.11
Link Name: MPLS
DSCP: default [0] pfr-label: 0:0
TCs: 0
Channel Created: 03:19:14 ago
Provisional State: Initiated and open
Operational state: Available but unreachable
Channel to hub: FALSE
Interface Id: 11
Supports Zero-SLA: Yes
Muted by Zero-SLA: No
Estimated Channel Egress Bandwidth: 0 Kbps"
"Load for five secs, one minute, and five minutes percentage thresholds","Time source is NTP, class type Dscp Based, match dscp ef policy custom, priority 2 packet-loss-rate threshold 5.0 percent"
Site ID must be unique for each site.,"10.2.11.11 (Site ID: 10.2.11.11), 10.2.12.12 (Site ID: 10.2.12.12)

Requirement: Off-limits status must be either Enabled or Disabled.
Configuration: Disabled (Off-limits: Disabled)

Requirement: DSCP and Number of traffic classes must be defined for each site.
Configuration: DSCP :default[0]-Number of traffic classes[1][0], DSCP :af31[26]-Number of traffic classes[1][0], DSCP :default[0]-Number of traffic classes[0][0], DSCP :af31[26]-Number of traffic classes[0][0]"
Site capability configuration for path-id 10.9.3.3 and path-id 10.8.3.3,"- Path-id list: 0:20, 1:40
- Tunnel interface: Tunnel0
- Site id: 10.9.3.3 (path-id), 10.8.3.3 (path-id)
- Site pop id: 1 (path-id 10.9.3.3), 0 (path-id 10.8.3.3)
- Site mc type: Transit (path-id 10.9.3.3), Hub (path-id 10.8.3.3)
- Border Address: 10.9.4.4 (path-id 10.9.3.3), 10.9.5.5 (path-id 10.8.3.3)
- Service provider: MPLS path-id: 30 if_index: 11 (path-id 10.9.3.3), INET path-id: 20 if_index: 11 (path-id 10.8.3.3)
- Border Address: 10.9.4.4 (path-id 10.9.3.3), 10.8.5.5 (path-id 10.8.3.3)
- Service provider: INET path-id: 40 if_index: 11 (path-id 10.9.3.3), MPLS path-id: 10 if_index: (path-id 10.8.3.3)"
"Enable the Performance Routing v3 (PfRv3) Zero SLA Support feature to reduce probing frequency on various ISP links such as 3G, 4G, and LTE.","Configure the Zero SLA (0-SLA) feature on an ISP link so that only the channel with the DSCP value 0 is probed, and for all other DSCPs, channels are created only if there is traffic but no probing is performed."
SLA Support for Performance Routing v3 Zero,Upgrade hub-border routers with the latest Cisco IOS image to configure the Zero SLA feature.
Zero SLA Support,"Master Controller and Border Router have the same Cisco IOS release versions.

Requirement: Compatibility Between Release Versions
Configuration: Cisco IOS XE Release 3.14 or later, Cisco IOS Release 15.5(1)T or later.

Requirement: Zero SLA is not supported on Cisco IOS XE Release 3.13.
Configuration: Cisco IOS XE Release 3.13, Cisco IOS Release 15.4T"
"The hub master and the hub border routers in a site must be on the same version of the Cisco IOS XE software. Additionally, the branch master controller and the associated borders in the branch should have the same version of the Cisco IOS XE software.","Cisco IOS XE software version that matches for hub master, hub border router, branch master controller, and borders should be installed to support Zero SLA."
Configure an interface with specific attributes for Internet Service Providers (ISPs) using Cisco IOS XE.,"1. internet-bound: Configures an internet bound interface.
   Example: Device(config-if)# domain path ISP1 zero-sla
2. path-id: Configures service provider's path-id for the interface.
3. path-last-resort: Configures the interface to be a path of a last resort.
4. zero-sla: Configures Zero SLA for the interface."
External Tunnel Interface,Name: Tunnel10 | type: external | Service Provider: ISP1 | Status: UP | Zero-SLA: YES | Path of Last Resort: Standby
Reduce probing frequency on all channels using Zero-SLA.,"Hub Master Controller - Cisco ASR 1002-X router with an embedded services processor (ESP) default bandwidth of 5 Gbps, upgradable to 10 Gbps, 20 Gbps, and 36 Gbps."
"Configure the interfaces on hub master controller, configure the device as hub-master controller, and configure domain policies on hub master controller.","1. Enable HubMC mode: `HubMC> enable`
2. Enter configuration mode: `HubMC# configure terminal`
3. Configure Loopback0 interface:
   - Set IP address: `HubMC(config-if)# ip address 10.8.3.3 255.255.255.255`
4. Exit interface configuration mode: `HubMC(config-if)# exit`
5. Configure the device as hub-master controller:
   - Set domain name: `HubMC(config)# domain one`
6. Configure VRF and master hub settings for the domain:
   - Set master hub: `HubMC(config-domain-vrf)# master hub`
   - Set source interface: `HubMC(config-domain-vrf-mc)# source-interface Loopback0`
7. Configure IP prefix-lists:
   - Define DATA_CENTER_1 prefix-list: `HubMC(config)# ip prefix-list DATA_CENTER_1 seq 5 permit 10.8.0.0/16 le 24`
   - Define ENTERPRISE prefix-list: `HubMC(config)# ip prefix-list ENTERPRISE seq 5 permit 10.0.0.0/8 le 24`
8. Configure domain policies on hub master controller:
   - Set monitoring interval: `HubMC(config-domain-vrf-mc)# monitor-interval`"
"Load balancing and traffic classification based on DSCP values (e.g., EF, AF41, AF31).","1. Load balance configuration with path preference: MPLS fallback INET.
2. VOICE class with DSCP EF match policy: sequence 10.
3. VIDEO class with DSCP AF41 and CS4 match policies: sequence 20, path preference: INET fallback MPLS.
4. CRITICAL class with DSCP AF31 match policy and priority/loss threshold configurations: sequence 30, one-way-delay threshold, jitter threshold, loss threshold."
Configure tunnel from BR1 to DMVPN1 (MPLS)Link and set up Zero-SLA on BR1 to DMVPN1 (MPLS)Link.,"```
BR1(config)# interface Tunnel100
BR1(config-if)# bandwidth 100000
BR1(config-if)# ip address 10.0.100.84 255.255.255.0
BR1(config-if)# no ip redirects
BR1(config-if)# ip mtu 1400
BR1(config-if)# ip nhrp authentication cisco
BR1(config-if)# ip nhrp map multicast dynamic
BR1(config-if)# ip nhrp network-id 1
BR1(config-if)# ip nhrp holdtime 600
BR1(config-if)# ip tcp adjust-mss 1360
BR1(config-if)# load-interval 30
BR1(config-if)# tunnel source GigabitEthernet3
BR1(config-if)# tunnel mode gre multipoint
BR1(config-if)# tunnel key 100
BR1(config-if)# tunnel protection ipsec profile DMVPN-PROFILE1
BR1(config-if)# domain one path MPLS zero-sla
```"
Configure the tunnel interface and tunnel path from R10,"- Interface Tunnel100
  - Bandwidth 100,000
  - IP address 10.0.100.10/24
  - No IP redirects
  - IP MTU 1400
  - IP NHRP authentication cisco
  - IP NHRP map 10.0.100.84 to 172.16.84.4
  - IP NHRP map multicast 172.16.84.4
  - IP NHRP network-id 1
  - IP NHRP holdtime 600
  - IP NHRP NHS 10.0.100.84
  - IP NHRP registration timeout 60
  - IP TCP adjust-mss 1360
  - Load interval 30
  - Delay"
Configure another tunnel path from R10,"- Interface: Tunnel200
- Bandwidth: 50000
- IP Address: 10.0.200.10 /24
- No IP Redirects
- MTU: 1400
- NHRP Authentication: cisco
- NHRP Map: 10.0.200.85 to 172.16.85.5
- NHRP Multicast: 172.16.85.5
- Network ID: 2
- Holdtime: 600
- NHRP NHS: 10.0.200.85
- TCP Adjust-MSS: 1360
- Load Interval: 30
- Delay: 1000
- Tunnel Source: GigabitEthernet3
- Tunnel Mode: GRE Multipoint
- Tunnel Key: 200
- Tunnel Protection IPsec Profile: DMVPN-PROFILE2"
Configure the tunnel interface and tunnel path from R11.,"- Interface: Tunnel100
- Bandwidth: 100,000
- IP Address: 10.0.100.11/24
- No IP Redirects
- IP MTU: 1400
- IP NHRP Authentication: cisco
- IP NHRP Map: 10.0.100.84 (Next Hop) to 172.16.84.4 (NBMA Next Hop)
- IP NHRP Map Multicast: 172.16.84.4 (Multicast Address)
- IP NHRP Network ID: 1
- IP NHRP Holdtime: 600 seconds
- IP NHRP NHS: 10.0.100.84
- IP NHRP Registration Timeout: 60 seconds
- IP TCP Adjust MSS: 1360"
Configure another tunnel path from R11 for a multipoint GRE tunnel.,"- Bandwidth: 50000
- IP address: 10.0.200.11/24
- No IP redirects
- IP MTU: 1400
- IP NHRP authentication: cisco
- IP NHRP map: 10.0.200.85 -> 172.16.85.5
- IP NHRP multicast: 172.16.85.5
- IP NHRP network-id: 2
- IP NHRP holdtime: 600
- IP NHRP nhs: 10.0.200.85
- IP TCP adjust-mss: 1360
- Load interval: 30
- Delay: 1000
- Tunnel source: GigabitEthernet3
- Tunnel mode: gre multipoint
- Tunnel key: 200
- Tunnel vrf: INET2
- Tunnel protection ipsec profile: DMVPN-PROFILE2
- Domain one path: INET"
The requirement is to designate a service provider as a path of last resort for traffic routing when the primary and fallback service providers become unavailable due to unreadability or out-of-bandwidth situations. This feature is used for metered links where data is charged on a per-usage basis and is used when no other service providers are available.,"The supported modes include Standby mode (no traffic classes routed over the path of last resort), Active mode (traffic classes routed over the path of last resort), and Disabled mode (the path of last resort is not enabled)."
Conserve bandwidth and reduce smart probe frequency,1 packet every 10 seconds (from 20 packets per second) and unreachable detection extended to 60 seconds
Configure Path of Last Resort on a device,"1. enable
2. configure terminal
3. interface tunnel
   tunnel-number
4. domain path isp-name [internet-bound | path-id | path-last-resort | zero-sla]"
Display the master status of the hub border routers.,N/A (The text provided does not contain a specific configuration to be extracted.)
Border Status and Connection Status with Master,"Instance Status: UP, Present status last updated: 01:01:42 ago, Loopback: Configured Loopback1 UP (30.209.1.9), Master: 30.209.1.9, Connection Status with Master: UP"
Longer Timeout Interval to prevent excessive switching between primary and secondary paths in PfRv3.,"Use fallback-timer to set the time interval for the next re-evaluation of the primary path, with possible values ranging from 1 to 1440 minutes and a default value of 3 minutes. Enable automatic adjustment of the re-evaluation time interval using the fallback-timer to prevent excessive switching between paths. The default is enabled if the fallback-timer is used."
Configure PfRv3 Fallback Timer,"Use the command ""fallback-timer time-in-minutes [dampening {enable/disable}]"" to set the fallback timer."
"The requirement is to configure the device's policy settings for the 'green' VRF, including path preference, fallback timer, and traffic class handling.","- Policy list: Global-policy-list
- Class: SER_CS1 (sequence 10)
  - Path preference: ISP1 with fallback to ISP2
  - Fallback timer timeout: 5 minutes with dampening enabled
  - Traffic class type: Dscp Based
  - Match dscp: cs1 policy custom
  - Priority 1 packet-loss-rate threshold: 10.0 percent
  - Priority 1 byte-loss-rate threshold: 10.0 percent
- Class: SER_EF (sequence 20)
  - Path preference: ISP1 with fallback to ISP2
  - Fallback timer timeout: 6 minutes with dampening disabled"
Disable fallback timer globally,"Use fallback-timer off to disable re-evaluation of the primary path after a traffic class switches to a backup path. In this mode, traffic does not switch back to the primary path."
The requirement is to reduce traffic probe on channels that do not carry any traffic using the PfRv3 Probe Reduction feature.,"The configuration involves using the ""smart-probes burst"" command for PfRv3 Probe Reduction."
Configure the device as a master hub and enter master controller configuration mode.,Device(config-domain)# master hub
Verifying Smart-Probe configuration and PfRv3 Probe Reduction,"1. Use the command ""show domain {default | domain-name} [vrf vrf-name] {master | border} status"" to verify the configuration. Example: Router# show domain default vrf green master status
2. Smart Probe Profile settings:
   - General Monitor: Current Provision Level: Master Hub
   - Master Hub: Packets per burst: 10, Interval(secs): 20
3. Quick Monitor: Current Provision Level: Master Hub"
Smart Probe Burst settings in Master Hub,"Packets per burst: 10, Interval(secs): 20 seconds (for smart-probe burst), Packets per burst: 10, Interval(secs): 1 second (for smart-probe burst quick)"
Enter your password if prompted.,"Device> enable, configure terminal

Requirement: Configure the device as a master hub and enters master controller configuration mode.
Configuration: Device(config)# master hub

Requirement: Enable load balance.
Configuration: Device(config-domain)# load-balance

Requirement: Specify the path preference name and the fallback path(s) preference to use when the primary path(s) are out of policy.
Configuration: Device(config-domain-vrf-mc)# load balance advanced, path-preference INET1 fallback"
The requirement is to configure the remote BW percentage after configuring PfRv3 Intelligent Load Balance.,• Configure the remote-ingress-bandwidth-check max command under the advanced configuration of the load-balance section.
"The Path Preference Hierarchy feature allows you to configure three service providers per VRF for traffic classes (primary service provider, fallback service provider, and next-fallback service provider).",Not available in the given text.
"Configure Path Preference Hierarchy on a hub to ensure unique service providers for each service, specifying the order using the path-preference command.","domain default
vrf green
master hub
source-interface Loopback1
site-prefixes prefix-list HUBPFX
class HEIRARCHICAL sequence 100
match dscp ef policy custom
priority 1 loss threshold 10
path-preference ISP1 ISP2 fallback ISP3 next-fallback blackhole"
Fallback Service Provider Configuration,"Requirement: Fallback Service Provider Configuration
Configuration: When the fallback is unavailable, the next-fallback service provider should be used. Dst-Site-Prefix: 100.30.0.0/16, DSCP: ef [46], Traffic class id:2"
PfRv3 Remote Prefix Tracking feature for Performance Routing Version 3 (PfRv3) to learn the prefix of a remote device from the Routing Information Base (RIB) table.,"Cisco IOS release 3.16.6, 15.6M2, 15.5.3M6, 15.7M, 16.3.5, and Cisco IOS XE Everest 16.6.1."
Configure WAN interfaces on a border router in a branch using the domain-name dynamic-path command.,"Use the ""domain domain-name dynamic-path"" command to configure the WAN interfaces on a border router in a branch."
"View the prefix information learnt by a master controller using the ""show domain default vrf <vrf_name> master route-import"" command.","Not provided in the text, as it is a command to be executed on a device."
LAN and WAN connectivity with VPN tunnels,"Tunnel10 for both LAN (51.1.0.4/32) and WAN (51.1.0.0/16), remote connections to 100.20.1.1, subnet masks for Enterprise Prefix List: 100.20.0.0/16, 100.30.0.0/16, and 100.0.0.0/ (incomplete)"
PfRv3 Remote Prefix Tracking,Displaying Site Prefixes Learnt By a Master Controller
Site Prefix Splitting,"Ethernet0/0.10, 100.10.4.1/32"
PfRv3 Probe Reduction feature,"Configure probe packets and burst interval for PfR channel, use profile-id argument in smart-probes command for Per Interface Probe Tuning"
The requirement here is to configure the probing parameters for two types of interfaces - regular interface and LTE interface - for a hub branch router communicating with two branch routers.,"1. For the regular interface (Branch 1 Router):
   - Default monitor: One packet every one second.
   - Quick monitor: 20 packets every one second.
2. For the LTE interface (Branch 2 Router):
   - Default monitor: 100 packets every 1200 seconds.
   - Quick monitor: Default values for quick monitor (no specific value mentioned in the text)."
Unreachable interval,4 second
PfRv3 Inter-DC Optimization,"Requirement: PfRv3 Inter-DC Optimization
Configuration:
1. Hub sites must be upgraded for using the same version of IOS for the master and border devices.
2. Static NHRP mapping must be used between hub sites. (NHRP shortcuts are not allowed between hub sites)"
"The requirement is to ensure that local LAN prefixes on each hub site (all borders) have a specific route pointing to LAN interfaces and not to DCI or WAN interfaces. Additionally, it is recommended to use static configuration under the DCI tunnel interface to set up peer between DC sites, avoid using nhrp shortcut to prevent forwarding loops, and configure path-preference and interdc-path-preference under policy after enabling the IDC feature.","1. Configure local LAN prefixes on each hub site (all borders) with specific routes pointing to LAN interfaces instead of DCI or WAN interfaces.
2. Use static configuration under DCI tunnel interface for setting up peer between DC sites."
"The requirement is to enable the IDC feature on both peer masters and use the same overlay routing protocol for all WAN and DCI tunnels. Additionally, it is required to implement PfRv3 Inter-DC Optimization to route traffic between hub sites DC1, DC2, and DC3 through a specific hub, and configure path-preference policy for inter-DC optimization.","1. Enable the IDC feature on both peer masters.
2. Use the same overlay routing protocol for all WAN and DCI tunnels.
3. Implement PfRv3 Inter-DC Optimization, routing traffic between hub sites DC1, DC2, and DC3 through a specific hub.
4. Configure path-preference policy for inter-DC optimization."
Enable PfRv3 Inter-DC Optimization feature in domain master controller advanced mode for all hubs and transit hub masters.,"1. Configure WAN overlay by defining a WAN interface using the domain path command.
2. Configure DCI overlay by defining a DCI interface using the domain dci-path command.
3. Use the domain dci-path command to enable route control, which routes transit traffic on all DCI interfaces in ingress direction."
Configure Inter-DC on Transit Hub,"- advanced
- inter-dc
- class BUSINESS sequence 10
- match dscp ef policy custom
- priority 1 one-way-delay threshold 100
- interdc-path-preference DCI1 DCI2 fallback MPLS next-fallback INET

Requirement: Specify IDC Local Policy (Optional)
Configuration:
- enable
- configure terminal
- domain default
- vrf green
- master transit 2
- class BUSINESS sequence 10
- interdc-path-preference DCI1 fallback ISP1 next-fallback ISP2"
Configuring Inter-DC on Transit Hub,"PfRv3 Inter-DC Optimization, Packets per burst (General Monitor: 1, Quick Monitor: 20), Interval(secs) (General Monitor: 1, Quick Monitor: 1)"
Load Balancing Configuration,"Route Control: Enabled, Transit Site Affinity: Enabled, Load Sharing: Enabled, Path Pruning Depth: Disabled, Inter-DC Optimization: Enabled"
"Connecting multiple tunnels and configuring their properties such as type, service provider, status, zero-SLA, last resort path, number of default channels, and IP address.","Tunnel155 (Type: DCI, Service Provider: DCI1, Status: UP, Zero-SLA: NO, Path of Last Resort: Disabled, Number of default Channels: 0), Tunnel10 (Type: external, Service Provider: ISP1, Status: UP, Zero-SLA: NO, Path of Last Resort: Disabled, Number of default Channels: 0), Tunnel30 (Type: external, Service Provider: ISP3, Status: UP, Zero-SLA: NO, Path of Last Resort: Disabled, Number of default Channels: 0), and Tunnel155 (Type: DCI, Service Provider: DCI1, Status: UP, Zero-SLA: NO, Path of Last Resort: Disabled, Number of default Channels: 0) with IP address 100.10.1.1 and version 2."
Enable Direct Cloud Access IWAN 2.3 feature for best application experience to SaaS applications like Office 365 and Google services with reduced cost.,"Monitor network and application performance, select optimized paths (local break out from branch to Cloud SaaS applications instead of back-haul to data center), and back-haul non-SaaS traffic to the data center for further inspection."
"Enable NAT on the same router that has DCA enabled or other devices in the path, enable a firewall such as a zone-based firewall (ZBFW) in the path.","Use OpenDNS as the default DNS resolver for SaaS traffic, or choose to use Google DNS resolver 8.8.8.8."
Implement direct cloud access (DCA) on Cisco IWAN networks for trusted SaaS traffic and optimize path selection based on performance.,"Automatic configuration of Cisco Umbrella Connector, support for centralized or per-site customized local policy, and customized local policy overrides global policy."
"Achieve DCA functionality for Office365 through classifying cloud applications based on DNS, intercepting DNS traffic, making decisions, and routing data traffic accordingly.",Designate an Underlay Interface as Direct Access Interface
"To achieve location proximity for better application performance with a SaaS server, the DNS request must be changed from an enterprise DNS resolver to a public DNS resolver using Cisco Umbrella Connector.",Each direct access interface must be configured with OpenDNS.
Application Domain Mapping and Traffic Steering with Flow Stickiness,Configure Application to domain URL and Differentiated Services Code Point (DSCP) mapping on the master controller of each branch router for IPSLA to measure SaaS application using right domain and DSCP.
Assign an Ethernet interface as direct access interface for Direct Cloud Access in the SaaS-DCA environment.,Router(config)# interface Ethernet 0/1; Router(config-interface)# domain path ATT-DCA direct-cloud-access
Define PfR Policy for SaaS Application on Hub Master Controller,"Router(config)# domain iwan Router
Router(config-domain)# vrf green
Router(config-domain-vrf)# master hub
Router(config-domain-vrf-master)# class BUSINESS-CRITICAL sequence 10
Router(config-domain-vrf-master-class)# match app-group ms-cloud-group policy custom
Router(config-domain-vrf-master-class-match)# priority 1 delay 500 ms
Router(config-domain-vrf-master-class-match)# exit
Router(config-domain-vrf-master-class)# path-preference ATT-DCA fallback ATT next-fallback
INET"
Configure a DNS resolver for all DCA branches using the hub master controller.,"domain default, master hub, advanced, dns-redirect <dns-server-address>"
Configure the HTTP Ping Probe Interval,dca-probe-http-interval 20 (in seconds)
Verify and Monitor Direct Cloud Access Configuration.,"- show domain iwan master traffic-classes summary
- show domain iwan master traffic-classes detail
- show domain iwan master traffic-classes dca detail
- show domain iwan master traffic-classes dca application
- show domain domain-name border dca
- Device# show domain iwan border dca"
"Optionally, create a domain map for a specific SaaS not included by default.",application servicenow-group domain http://www.servicenow.com dscp af21
Assigning the DCA to a WAN interface,"interface GigabitEthernet2.30
encapsulation dot1Q 30
ip vrf forwarding fvrf
ip address 10.20.1.1 255.255.255.0
ip nat outside"
"Number of interfaces with ""umbrella out"" config","GigabitEthernet0/0/0, Mode: OUT, VRF: IWAN-TRANSPORT-2(Id: 3)
GigabitEthernet0/0/1, Mode: OUT, VRF: IWAN-TRANSPORT-1(Id: 2)

Requirement: Number of interfaces with ""umbrella in"" config
Configuration: GigabitEthernet3.64, Mode: IN, DCA: Enabled, Policy Name: umbrella-direct-access, Tag: lan064, Device-id: 010a3d458c172b8b, VRF: global(Id: 0)"
The requirement cannot be extracted from the given text.,Present WAN interface: GigabitEthernet0/0/3 in Border 10.255.241.31
"A branch site can serve as master controller instead of a hub site, and only one master controller can be configured at a hub site or a branch site.","LAN interface (GigabitEthernet3.30) with encapsulation dot1Q 30, ip address 10.20.0.1 255.255.255.0, and ip nat inside; WAN (DCA) interface (GigabitEthernet2.30) with encapsulation dot1Q 30, ip vrf forwarding fvrf, ip address 10.20.1.1 255.255.255.0, and ip nat outside."
Configure Cisco Umbrella Connector on the branch for OpenDNS validation,"Set the router's clock and time zone correctly, configure the DNS server, log into the OpenDNS portal to get an API token, and import the certificate with a PEM-formatted CA certificate."
Prevent DNS queries to local domain from being redirected to OpenDNS and use Cisco OpenDNS by default.,parameter-map type regex dns_bypass pattern www.cisco.com pattern .*eisg.cisco.* 5. Configure the token. parameter-map type umbrella global token 0F32C32FEC26991C2B562D3C7FF844E0001C70E7 local-domain dns_bypass resolver ipv4 DNS-server-IP
Channel-based Metrics Measurement,Configure the performance monitors used by PfRv3 to employ a data collection method that combines the use of metadata and traffic sampled at intervals to provide traffic metrics.
Channel-based Metrics Measurement configuration,"New command: channel-based-measurement, Cisco IOS XE Gibraltar 16.11.1 or later"
Channel-based Metrics Measurement for improved accuracy in performance monitoring and intelligent path selection using packet-based loss measurement.,Not provided in the text.
Implement channel-based measurement to reduce false TCA occurrences.,"Ensure at least 100 samples are used to calculate metrics, even if they must be taken from different intervals."
Configure channel-based metrics measurement on a Cisco IOS XE Gibraltar network device.,"Use the following commands in the terminal:
```
config terminal
domain iwan
master hub
advanced
channel-based-measurement
[sampling-rate sampling-rate] [quick sampling-rate-for-quick-monitoring]
```"
Enable channel-based measurement and configure a sampling packet size of 1300 and a sampling rate of 20 samples per second.,"Device#config terminal
Device(config)#domain iwan
Device(config-domain)#master hub
Device(config-domain-mc)#advanced
Device(config-domain-mc-advanced)#channel-based-measure
Device(config-domain-mc-advanced)#sample-packet-size 1300
Device(config-domain-mc-advanced)#sampling-rate 20"
"The requirement is to adjust the number of entries in PfRv3 event trace, which can range from 1 to 10,000,000 entries.","Each entry consumes 1024 bytes (104 bytes) of memory, and the total memory consumed by the PfRv3 event trace is approximately 416KB. The memory allocation will have a delay until the first entry is written."
Analyzing the cause of a device failure using Event Trace for PFRv3 feature.,"Using specific commands to view trace messages stored in the memory or save them to a file, such as ""show monitor event-trace pfrv3 sub-comp channel {all | back duration | clock duration | from-boot seconds | latest} [detail]"", ""show monitor event-trace pfrv3 sub-comp pdp {all | back duration | clock duration | from-boot seconds | latest} [detail]"", and ""show monitor event-trace pfrv3 sub-comp policy {all | back duration | clock duration | from-boot seconds | latest} [detail]""."
Create WAN interfaces for Tunnel1 and Tunnel3.,"Tunnel1:
- Name: Tunnel1
- SP Color: ISP1
- IP Address: 172.16.0.1
- Interface Index: 28
- SNMP Index: 23
- CMD Enabled: YES
- Interface Type: External
- SP Tag: 0x1
- Zero SLA: Disable
- PLR: Disabled

Tunnel3:
- Name: Tunnel30
- SP Color: ISP3
- IP Address: 192.168.0.1
- Interface Index: 30
- SNMP Index: 25
- CMD Enabled: YES
- Interface Type: External
- SP Tag: 0x7
- Zero SLA: Disable
- PLR: Disabled"
"Add external IDC channels with NO MHOP and To-HUB, default channel to branch reason, and initiated and open operation state.","site_id[10.20.1.1], dscp[0], intf_index[29, 31, 27, 27], label[0x3, 0x9, 0x2, 0x4]"
Display event trace for PfRv3 policy decision points (PDP),show monitor event-trace pfrv3 sub-comp policy {all | back duration | clock duration | from-boot seconds | latest}
"Create reactive policies for the classes CENT-Class-Ingress-DSCP-ef-2-2, CENT-Class-Ingress-DSCP-cs5-2-3, and CENT-Class-Ingress-DSCP-cs4-2-4.","1. POLICY: BR[2]: Provision react packet-loss-rate val=100 id=2
2. POLICY: BR[2]: Provision react one-way-delay val=20 id=3
3. POLICY: BR[2]: Provision react network-delay-avg val=40 id=4
4. POLICY: BR[2]: Provision react jitter val=5000 id=5
5. POLICY: BR[2]: Provision react byte-loss-rate val=100 id=6
6. POLICY: BR[2]: Provision react jitter val=5000 id=7
7. POLICY: BR[2]: Provision react one-way-delay val=20 id=8"
Delete react from class CENT-Class-Ingress-DSCP-cs4-2-4,BR[2]
SAF peering site prefix update for BR[3],"Prefixes 10.15.1.1/32, 10.10.0.0/16, 10.15.0.0/16, and 10.16.0.0/16 from 10.15.1.1"
SAF peering site prefix update,"Prefixes - 10.0.0.0/8, 10.15.1.1/32, 10.10.0.0/16, 10.15.0.0/16, 10.16.0.0/16, and 10.0.0.0/8 from 10.15.1.1"
"Prefix updates for 10.10.0.0/16, 10.15.0.0/16, and 10.16.0.0/16 from 10.10.1.1","Network prefixes with IP addresses (e.g., 10.10.0.0/16, 10.15.0.0/16, 10.16.0.0/16) and source address (10.10.1.1)."
SAF peering site prefix update and sub-service for Capability and site-prefix.,"Prefixes - 10.30.0.0/24, 10.30.2.1/32, 10.30.1.1/32, 10.30.0.0/16; Peering site - 10.30.1.1"
"Sub-service: Capability, origin: 10.10.1.1","from: 10.10.1.1, data size: 258, data seq: 9"
Event Trace for PFRv3 feature for troubleshooting Performance Routing Version 3 (PfRv3) events and channels.,"show monitor event-trace pfrv3 sub-comp channel, show monitor event-trace pfrv3 sub-comp pdp, show monitor event-trace pfrv3 sub-comp policy, show monitor event-trace pfrv3 sub-comp process."
Configure Zero SLA on tunnel interface for an ISP path and IP address for the hub.,domain path isp-name zero-sla; hub ip-address
Displays the status of the border routers configured at the hub site.,show domain domain-name border status
Configuring Cut-and-Paste Certificate Enrollment,88
PKI Credentials Expiry Alerts,Configuring and Managing a Certificate Server for PKI Deployment
An optional registration authority (RA) to offload the CA by processing enrollment requests and a distribution mechanism (such as Lightweight Directory Access Protocol [LDAP] or HTTP) for certificate revocation lists (CRLs).,"PKI provides a scalable, secure mechanism for distributing, managing, and revoking encryption and identity information in a secured data network. Entities enroll in the PKI by generating an RSA key pair and having their identity validated by a trusted entity (CA or trustpoint). Digital certificates are issued to peers by CAs, and they exchange digital certificates during secured communication sessions."
Validate the identity of another peer and establish an encrypted session with the public keys contained in the certificate.,"RSA Key Pair (Public Key and Private Key) included in the certificate enrollment request, and the public key is included in the certificate for peers to use it to encrypt data sent to the router."
Secure RSA key with appropriate modulus size for encryption and decryption operations,Modulus value that balances security and performance
PKI (Public Key Infrastructure) with support for multiple CAs and hierarchical structure,"Root CA with self-signed certificate, Cisco IOS Certificate Server as an option for internal CA"
Implementing policies per CA for certificate requests (automatic granting or manual granting),One CA can automatically grant certificate requests while another CA within the hierarchy requires each certificate request to be manually granted.
"Certificate Enrollment Via Secure Device Provisioning (SDP) for PKI deployment between two end devices, such as a Cisco IOS XE client and a Cisco IOS certificate server.",Not specified in the given text.
"Planning for a Public Key Infrastructure (PKI), evaluating requirements and expected use for each of the PKI components, verifying certificates, checking revocation status, locating and retrieving CRL through CDP.",Cisco IOS software
The requirement is to generate and manage certificates and keys within the Public Key Infrastructure (PKI).,"The configuration involves generating self-signed CA certificate, signing certificate requests, beginning peer enrollment for PKI, not manually generating an RSA keypair under trustpoint, and generating key pairs as usage-keys instead of general-purpose keys."
Do not configure keypair names or hostnames starting from zero when using certificate renewal with regenerate option.,"When configuring rsakeypair name under a trustpoint, do not use a name starting from zero. If the router hostname starts from zero, configure ""rsakeypair name explicitly under the trustpoint with a different name."
Multiple RSA key pairs for different identity certificates in Cisco IOS software,"Named key pairs (labeled as ""key-label"") for managing multiple RSA key pairs"
"Replace failed router without regenerating keys or reenrolling with CA, use single RSA key pair on multiple routers for management stations using SSH.","Exportable and importable RSA keys in PEM-formatted files, use existing RSA key pairs on Cisco IOS routers instead of generating new keys, passphrase protection while importing and exporting RSA keys with PKCS12."
"PKCS12 or PEM file protection with passphrase during export, deletion, and import","Passphrase length of at least eight characters, excluding the question mark (?) which has special meaning to the Cisco IOS parser. Convert an exportable RSA key pair into a nonexportable key pair by exporting and reimporting without specifying the ""exportable"" keyword."
Generate RSA key pair with modulus size of 2048 bits for certificate server using crypto key generate rsa usage-keys command.,"crypto key generate rsa usage-keys modulus 2048

Note that the given text does not provide enough information to extract a specific label or device configuration, so further clarification would be required."
Generate an RSA key pair for creating a trustpoint.,"1. Enable privileged EXEC mode with the command ""enable"".
2. Enter global configuration mode with the command ""configure terminal"".
3. Create a trustpoint and enter ca-trustpoint configuration mode with the command ""crypto pki trustpoint name"".
4. Generate an RSA key pair using the command ""rsakeypair key-label [key-size [encryption-key-size]]""."
Regenerate command to create or modify an RSA key pair with fancy-keys. The keypair name cannot start from zero (‘0’).,Router(ca-trustpoint)# rsakeypair fancy-keys [key-size]
"The encryption-key-size argument specifies the size of the second key, which is used to request separate encryption, signature keys, and certificates. Specifies self-signed enrollment for a trustpoint.",Subject Alternative Name (subjectAltName) field in the X.509 certificate.
Self-signed enrollment in the trustpoint policy,ca-trustpoint
"The requirement is to create and manage a self-signed certificate for the router. This includes setting up the public key infrastructure, generating an RSA key pair, and managing trustpoint certificates.","- Router Self Signed Certificate successfully created
- Status: Available
- Version: 3
- Certificate Serial Number (hex): 01
- Certificate Usage: General Purpose
- Issuer: Router.cisco.com
- Subject: Name: Router.cisco.com
- Validity Date: Start date: 11:41:50 EST Aug 13 2012, End date: 19:00:00 EST Dec 31 2019
- Public Key Algorithm: rsaEncryption
- RSA Public Key: (2048 bit)"
Signature Algorithm (SHA256 with RSA Encryption),"Fingerprint MD5 (CA92D937 593BF19A 5B7F8466 F554D631), Fingerprint SHA1 (57A9D411 2DDFAC81 68260F2F C6C8D7CF 4833F3E9), X509v3 Subject Key ID (44340F76 A6B8DC37 80724650 0672875F 741D518C), Basic Constraints (CA: TRUE), Authority Key ID (44340F76 A6B8DC37 80724650 0672875F 741D518C), Authority Info Access (Associated Trustpoints: TESTCA)"
"Exporting and importing RSA key pairs to transfer security credentials between devices, generate an RSA key pair and mark it ""exportable"" after upgrading Cisco IOS software.","PKCS12 file must include a CA certificate when importing from a third-party application, specify the exportable keyword when re-exporting an RSA key pair."
Exporting and Importing RSA Key Pairs in PEM-Formatted Files,"Generating an RSA Key Pair with the ""exportable"" flag."
Importing certificates and RSA key pair to a trustpoint from PEM-formatted files.,"Use the URL of the file system where the router should export the certificates and RSA key pair, and use the password-phrase argument for encrypted password phrase."
Protect the private RSA key from attackers by encrypting and locking it.,"Users can encrypt the private key stored in NVRAM via a passphrase, and they can also ""lock"" the private key to block new connection attempts from a running router and protect the key in the router if stolen by an attempted attacker. The RSA keys must be unlocked while enrolling the CA, but can be locked during authentication since the router's private key is not used during authentication."
Lock and unlock RSA encrypted private keys on a running router for enhanced security.,"The configuration will depend on the specific router model and command set, but it generally includes commands like `crypto key lock rsa`, `crypto key unlock rsa`, and related commands for managing IPSec tunnels and SSH access."
Enter global configuration mode and configure encryption key settings.,"1. Enter global configuration mode by typing ""configure terminal"".
2. Set up encryption key with the command ""crypto key decrypt write rsa name [namekey-name]"" followed by the passphrase."
Remove all RSA keys or the specified RSA key pair generated by your router.,"Enable privileged EXEC mode, configure terminal, zeroize RSA keys with the specified key-pair-label or index, exit, and show crypto key mypubkey rsa."
"Generate RSA key pair ""mynewkp"" on Router A, create a trustpoint name ""mynewtp"", export the trustpoint to a TFTP server, and import it on Router B.","- Crypto key generate rsa general label mykeys exportable (on Router A)
- Crypto pki trustpoint mynewtp rsakeypair mykeys (on Router A)
- Crypto pki export mytp pkcs12 flash:myexport password mypassword123 (on Router A)"
"Archive the key pair to a remote location, and use a good password.",crypto pki export mytp pem url nvram:mytp 3des password mypassword123
Include PEM boundaries before and after base64-encoded data for use in SSL and SSH applications.,"Crypto key generate rsa general-keys label aaa exportable. Key modulus size within the range of 360 to 2048, choosing greater than 512 may take minutes."
Secure communication and certificate management for a Router.,"Crypto PKI trustpoint named ""mycs"", CA enrollment URL ""http://mycs"", RSA key pair, certificate acceptance, and certificate enrollment with the fully-qualified domain name as ""Router"" and subject name as ""host.example.com""."
Import RSA key pairs and certificate from PEM files using TFTP.,"- Trustpoint name: ggg
- TFTP server IP address: 10.1.1.2
- Username: msca
- Password: password"
"Encrypt the RSA key ""pki-123.example.com"" on a router.",Router(config)# crypto key encrypt rsa name pki-123.example.com passphrase password
"Encryption Key for ""pki-123.example.com""","Key Data:
307C300D 06092A86 4886F70D 01010105 00036B00 30680261 00D3491E 2A21D383
854D7DA8 58AFBDAC 4E11A7DD E6C40AC6 66473A9F 0C845120 7C0C6EC8 1FFF5757
3A41CE04 FDCB40A4 B9C68B4F BC7D624B 470339A3 DE739D3E F7DDB549 91CD4DA4
DF190D26 7033958C 8A61787B D40D28B8 29BCD0ED 4E6275C0 6D020301 0001"
"The requirement is to allow transferring security credentials between devices by exporting and importing RSA keys, and to use PEM-formatted files for importing or exporting RSA key pairs.","The configuration includes commands like crypto ca export pkcs12, crypto ca import pkcs12, crypto key generate rsa (IKE), crypto ca export pem, crypto ca import pem, crypto key export pem, and crypto key import pem."
Encrypt and lock RSA private keys on Cisco IOS router to prevent unauthorized use.,"crypto key decrypt rsa, crypto key encrypt rsa, crypto key lock rsa, crypto key unlock rsa, show crypto key mypubkey rsa"
PKI Strategy planning and configuration of authorization and revocation strategy for peer devices.,"1. Configure the certificate authority (CA).
2. Enroll peer devices with the CA.
3. Identify and configure the protocol (such as IP Security [IPsec] or secure socket layer [SSL]) for peer-to-peer communication."
TACACS supports authorization without requiring authentication; PKI service must be added to the AAA server for integration with PKI.,"Custom attribute ""cert-application=all"" under PKI service for particular user or user group, matching AV pairs between client configuration and AAA server settings."
The name of the certificate will be used as the authorization username.,cisco-avpair=pki:cert-application=all
"Artificially extending a certificate lifetime using the cert-lifetime-end AV pair, along with specifying cert-trustpoint and cert-serial AV pairs. The value must match the form: hours:minutes month day, year, where only the first three characters of a month are used (e.g., Jan, Feb, Mar).","cisco-avpair=pki:cert-lifetime-end=1:00 jan 1, 2003"
Certificate Status Protocol (OCSP) and AAA integration support for certificate checking.,Duration for which CRLs are cached in router memory or disable CRL caching completely.
CRL management for trustpoints and certificate verification using CDPs.,"Cisco IOS client devices use CDPs to locate and load the correct CRL, supporting multiple CDPs but currently only one CDP is supported by Cisco IOS CA. Third-party vendor CAs may support multiple or different CDPs per certificate."
CRL lifetimes and the security association (SA) and Internet Key Exchange (IKE) lifetimes,"The default CRL lifetime value can be changed using the 'lifetime crl' command. The method of CDP determines how the CRL is retrieved, with possible choices including HTTP, Lightweight Directory Access Protocol (LDAP), Simple Certificate Enrollment Protocol (SCEP), or Trivial File Transfer Protocol (TFTP). HTTP, TFTP, and LDAP are the most commonly used methods. The location of the CDP determines from where the CRL is retrieved; for example, you can specify the server and file path from which to retrieve the CRL."
Unique identifier (nonce) for the OCSP request and response validation.,"CRL time limitations, OCSP server caching of CRL information, and OCSP server documentation."
"Real-time certificate revocation status, handling a large number of revoked certificates, CRL caching and expiration.","Cisco IOS Release 12.4(9)T or later, configuring CRL caching by disabling CRL caching completely or setting a maximum lifetime for a cached CRL per trustpoint."
Direct communication between spokes using match certificate command with skip revocation-check keyword for neighboring peer certificates instead of requiring a CRL on each spoke.,"Use the match certificate command with the allow expired-certificate keyword to configure the router to ignore expired certificates. This allows the certificate of a peer to be ""allowed"" until the peer can obtain a new certificate, and also allows the certificate of the peer even when the router clock has not been set to the correct time."
Implement authorization-check keyword after configuring Public Key Infrastructure (PKI) integration with an AAA server.,Configure PKI integration with an AAA server and then set up the authorization-check keyword using a Certificate-Based ACL for ignoring revocation checks.
The AAA server must be contacted after an IPSec connection is established and its certificate must be valid for communication.,"PKI Certificate Chain Validation must be configured to trust the root CA or subordinate CA certificates of the peers, allowing them to validate each other's certificates. The level of certificate chain processing can also be configured by an administrator in Cisco IOS Release 12.4(6)T and later releases."
"- Processing of certificate chain for reauthentication, extension, and completion of trusted certificate chains.","- Default behavior: router removes trusted certificates from the certificate chain sent by the peer before validation.
- Administrator can configure certificate chain path processing to not remove CA certificates before chain validation and re-authenticate all certificates in the chain for the current session.
- Default behavior: router uses its trusted certificates to extend the certificate chain if there are missing certificates in the chain sent by the peer, and validates only certificates in the chain sent by the peer."
Certificate Chain Processing for Peer's and Router's Trusted Certificates Validation,"Administrator can configure certificate chain processing so that if there is a gap in the configured Cisco IOS trustpoint hierarchy, certificates sent by the peer can be used to complete the set of certificates to be validated."
"The requirement is to configure a system or device to handle FQDN, serial number, and IP address in certificate requests and issued certificates, while having control over whether these components are included or not. Additionally, the requirement is to manage the order of relative distinguished names (RDNs) in the subject name when issuing a certificate.","The configuration should include settings for FQDN, serial-number, and ip-address commands with the none keyword to control the inclusion of these components in the certificate requests. The CA server setup should be configured to handle RDNs in the requested subject names, such as CN, OU, O, L, ST, and C. Additionally, tools used for displaying certificates should be chosen based on how they manage the order of RDNs in the subject name."
Configuring AAA server with full distinguished name (DN) as the corresponding username.,Cisco IOS software style (least significant RDN first).
"Enrollment URL, PEM file (if applicable)","Retry period (minutes), Retry count (number)"
Configure a Certificate Revocation List (CRL) as the certificate revocation mechanism for PKI certificate status checking.,"Set up the Cisco Router with the following commands:
1. Enter debug crypto pki transactions
2. Verify AAA authorization for certificate transactions
3. Define reply attributes: cert-application, cert-trustpoint, and cert-serial
4. Configure the certificate's lifetime end (e.g., 21:30:00)
5. Set timezone specific extended
6. Check if the certificate's lifetime end is expired"
"Revocation-check command to specify method (OCSP, CRL, or skip the revocation check) for ensuring peer certificates are not revoked.","OCSP, CRL, none keyword for configuring revocation check behavior. Nonces and peer communications with OCSP servers."
Configure an OCSP server to return the revocation status for a CA server.,"The OCSP server must be configured with an OCSP response signing certificate issued by the CA server, and the signing certificate should be in the correct format."
OCSP server should be accessible through HTTP and have a time delay due to normal CRL processing.,"1. Enable privileged EXEC mode.
2. Enter global configuration mode.
3. Declare the trustpoint with a given name and enter ca-trustpoint configuration mode.
4. Set the OCSP URL.
5. Configure the revocation-check method.
6. Enable or disable the nonce for OCSP."
"Check the certificate status using OCSP server URL (can be a hostname, IPv4 address, or an IPv6 address)",ocsp url [http://ocsp-server/ in the Authority Info Access (AIA) extension of the certificate or http://10.10.10.1:80]
Checking the revocation status of a certificate using OCSP or CRL methods and optionally disabling nonce.,"- Router(ca-trustpoint)# ocsp url <OCSP server URL>
- Router(ca-trustpoint)# revocation-check {crl | ocsp [none] [method2 method3]}
- (Optional) Router(ca-trustpoint)# ocsp disable-nonce"
Configure router to use certificate-based ACLs to ignore revocation checks and expired certificates.,"Identify/create a trustpoint, authenticate trustpoint if not already authenticated, do not set optional CRLs for the trustpoint, define a certificate map matching specific characteristics, add match certificate command and skip revocation-check keyword, add match certificate command and allow expired-certificate keyword to the created trustpoint."
Preventing reconnection with banned certificates,Checking certificate maps even if the peer's public key is cached
To ignore revocation checks,N/A (Not provided in the given text)
Trustpoint can have crl-cache none or crl-cache delete-after command configured to control how CRLs are cached.,"If configured with crl-cache none, no CRL will be cached. If configured with crl-cache delete-after, CRLs will be cached for a specified lifetime."
"Configure session control using either a certificate map with the serial-number field or an AAA attribute, with the cert-serial-not command.","1. Define and authenticate the trustpoint before attaching certificate maps to the trustpoint.
2. Configure the certificate map before enabling the CDP override feature or issuing the serial-number command.
3. Successfully complete PKI and AAA server integration for using AAA attributes as described in ""PKI and AAA Server Integration for Certificate Status."""
Configuring Authorization and Revocation of Certificates in a PKI,match certificate certificate-map-label [allow expired-certificate | skip revocation-check | skip authorization-check]
Associate the certificate-based ACL to a trustpoint.,match certificate certificate-map-label [allow expired-certificate | skip revocation-check | skip authorization-check]
Extended Key Usage (2.5.29.37) - OCSPSigning,"CRL Distribution Points (2.5.29.31) - ldap://CA-server/CN=CA server,OU=PKI,O=Cisco Systems; Signature Algorithm: SHAwithRSA (1.2.840.113549.1.1.4)"
The appropriate key pair must be associated with the certificate. A trustpoint associated with the root CA cannot be configured to be validated to the next level.,"Enable privileged EXEC mode, enter global configuration mode, declare the trustpoint and give it a name, enter ca-trustpoint configuration mode, configure chain-validation for the trustpoint associated with the root CA."
"Certificate chain validation for all certificates, including subordinate CA certificates.",chain-validation {stop | continue} [parent-trustpoint]
Configure PKI AAA authorization and revocation of certificates for VPN connections using the PKI Integration with AAA Server feature.,"- Set up the router to use AAA authentication and authorization with TACACS+ server.
- Enable AAA accounting for exec and network access."
Read entire 39-byte response for TPLUS(00000042)/0/READ.,N/A (no specific configuration provided)
The requirement is to ensure that the router is authorized to connect using VPN and check with a Cisco Secure ACS AAA server prior to establishing a VPN connection.,"Cisco Secure ACS group called VPN_Router_Disabled, router configured to check with a Cisco Secure ACS AAA server for VPN connections."
Sending AV service=pki,Server: 198.168.244.55
AAA authorization for list 'ACSLab' and user 'POD5.example.com'.,Router(config)# crypto pki trustpoint mytp; Router(ca-trustpoint)# revocation-check ocsp
Disabling Nonces in Communications with the OCSP Server,"1. Configure the trustpoint for the certificate authority (CA):
   - Router(config)# crypto pki trustpoint mytp
2. Set the OCSP URL and disable nonce for the CA trustpoint:
   - Router(ca-trustpoint)# ocsp url http://myocspserver:81
   - Router(ca-trustpoint)# revocation-check ocsp none
   - Router(ca-trustpoint)# ocsp disable-nonce"
"The requirement seems to be related to configuring a router for SSL VPN connections using Cisco's Secure Socket Tunneling Protocol (SSTP). The goal is to establish secure connections between the central site and branch office, with an emphasis on checking certificates and revocation checks.","1. Trustpoint configuration for central-site:
   - match certificate central-site skip revocation-check
2. Trustpoint configuration for home-office:
   - enrollment url http://ca.home-office.com:80/certsrv/mscep/mscep.dll
   - serial-number none
   - fqdn none
   - ip-address none
   - subject-name o=Home Office Inc,cn=Branch 1
   - revocation-check crl
3. Trustpoint configuration for home-office (AAA checking):
   - auth list"
Configuring a Hub Router at a Central Site for Certificate Revocation Checks,"crypto pki trustpoint VPN-GW, enrollment url http://ca.home-office.com:80/certsrv/mscep/mscep.dll, subject-name o=Home Office Inc,cn=Central VPN Gateway, revocation-check crl"
Trustpoint on the Branch 1 Site Router,Router# show crypto ca certificate
Configuring the certificate map and trustpoint for VPN-GW,"- Enter the command `crypto pki certificate map branch1 10` on the central site router.
- Set the issuer name to ""co cn=Central Certificate Authority, ou=Home Office"" with the command `issuer-name co cn=Central Certificate Authority, ou=Home Office`.
- Set the subject name to ""cn=Brahcn 1 Site,o=home office inc"" using the command `subject-name eq cn=Brahcn 1 Site,o=home office inc`."
"Configure a VPN gateway with subject name ""o=Home Office Inc,cn=Central VPN Gateway"" and use CRL for revocation check. The match certificate command should be removed once the branch router has a new certificate.","crypto pki trustpoint CA1
enrollment url http://CA1:80
ip-address FastEthernet0/0
crl"
Certificate serial number session control using a certificate map for the CA1 trustpoint.,"- crypto pki trustpoint CA1
- enrollment url http://CA1
- chain-validation stop
- crl query ldap://ldap_server
- revocation-check crl
- match certificate crl
- crypto pki certificate map crl 10
- serial-number co 279d"
"The system should verify and reject certificates with a specific serial number (e.g., ""4ACA"").","The system uses the attribute-type ""aaa-cert-serial-not"" with value ""4ACA"" for certificate rejection."
Configure Certificate Chain Validation from Peer to Subordinate CA,"1. RootCA:
   - Crypto PKI Trustpoint: RootCA
   - Enrollment Terminal
   - Chain Validation: Continue (RootCA)
   - Revocation Check: None
   - RSA Key Pair: RootCA
2. SubCA1:
   - Crypto PKI Trustpoint: SubCA1
   - Enrollment Terminal
   - Chain Validation: Continue (SubCA1)
   - Revocation Check: None
   - RSA Key Pair: SubCA1
3. SubCA11:
   - Crypto PKI Trustpoint: SubCA11
   - Enrollment Terminal
   - Chain Validation: Continue (SubCA1)
   - Revocation Check: None
   - RSA Key Pair: SubCA11"
"The ability to disable CRL caching or specify the maximum lifetime for which a CRL will be cached in router memory, and the ability to configure certificate serial number session control.","crl-cache delete-after, crl-cache none, crypto pki certificate map"
Capability for OCSP server validation based on external CA certificates or self-signed certificates.,"The introduction of the ""match certificate override ocsp"" command and the modification of the ""crypto pki certificate map, crypto pki trustpoint match certificate"" commands. Additionally, the ability to configure sending a nonce (unique identifier for an OCSP request) during OCSP communications is provided."
Enable OCSP (Online Certificate Status Protocol) instead of CRLs (Certificate Revocation Lists) for checking certificate status.,"- ocsp url command
- revocation-check command"
Additional scalability for authorization by generating a AAA username from the certificate presented by the peer and querying a AAA server to determine whether the certificate is authorized for use by the internal component. The authorization is indicated by a component-specified label that must be present in the AV pair for the user.,"This feature introduces the ability for Cisco IOS software to make multiple attempts to retrieve the CRL, allowing operations to continue when a particular server is not available. In addition, the ability to override the CDPs in a certificate with a manually configured CDP has been introduced."
Familiarity with the module “Cisco IOS PKI Overview: Understanding and Planning a PKI.” and Enable NTP on the device for correct functioning of PKI services.,"Cisco IOS Release 12.3(7)T commands that begin with ""crypto ca"" have been changed to begin with ""crypto pki""."
The device must authenticate the Certificate Authority (CA) before issuing its own certificate and allowing certificate enrollment. Authentication of the CA typically occurs when initially configuring PKI support at the router.,"Issue the ""crypto pki authenticate"" command to authenticate the CA by obtaining the self-signed certificate containing the public key of the CA."
Verify the fingerprint displayed during CA certificate authentication. The certificate will be rejected without a preentered fingerprint if the authentication request is noninteractive.,Certificate Enrollment Methods (SCEP) using HTTP for communication with the CA or RA.
Certificates in PKCS12 format import and IOS File System (IFS) usage for certificate requests and received certificates.,Cisco IOS Release 12.4(2)T or a later release for rollover support.
Support for TFTP file system within IFS before Cisco IOS Release 12.3(4)T,Not provided in the text
"Self-signed certificate usage for future SSL handshakes, autoenrollment and autoreenrollment",Not using TFTP or manual cut-and-paste enrollment methods
Certificate Enrollment for a Public Key Infrastructure (PKI),Cisco IOS Suite-B Support
Automatic Certificate Enrollment for CA client to request a certificate from the CA server without operator intervention.,"The automatic enrollment is performed on startup for any trustpoint CA that is configured and does not have a valid client certificate, with certificates being requested when they expire."
Automated Client Certificate and Key Rollover,CA clients must be automatically enrolled and the client's CAs must be automatically enrolled and have the auto-rollover command enabled.
Auto-enroll command with optional renewal percentage parameter for certificate rollover,"Renewal percentage must be less than 100 and not less than 10 percent of the configured validity period, with an absolute minimum of 3 minutes."
Automated Client Certificate and Key Rollover,"Network devices must support shadow PKI, clients must be running Cisco IOS Release 12.4(2)T or a later release, and the client's CS must support automatic rollover."
Certificate and Key Rollover with SCEP support.,Devices must use SCEP for certificate management to take advantage of rollover functionality. Prevent keypair names starting from zero ('0') and ensure router hostnames do not start from zero when using default keypairs.
Certificate Enrollment Configuration,"retry period minutes, retry count number, url, pem"
An enrollment method other than TFTP or manual cut-and-paste must be configured to support autoenrollment.,"Configures the trustpoint to use an Elliptic Curve (EC) key on which certificate requests are generated, eckeypair label."
Issue the none keyword to specify that a serial number will not be included in the certificate request.,serial-number
Enable autoenrollment for certificate rollover from the Certificate Authority (CA).,auto-enroll [percent] [regenerate]
"Request separate encryption, signature keys, and certificates with the same key size. Length of less than 2048 is not recommended. (Optional) Specify a fingerprint that can be matched against the fingerprint of a CA certificate during authentication.",(Not provided in the text)
"A USB token as a cryptographic device for RSA operations like key generation, signing, and authentication.","Exit ca-trustpoint configuration mode, exit global configuration mode, authenticate CA certificate using crypto pki authenticate command, copy running configuration to NVRAM startup configuration using copy system:running-config nvram:startup-config command."
Showing information about certificates and rollover certificates,show crypto pki certificates
"The router must be able to write a file to the TFTP server for the crypto pki enroll command, and some TFTP servers require that the file must exist on the server before it can be written.",The file containing the CA certificate either in binary format or base-64 encoded should be used with the enrollment command.
TFTP enrollment method with a specified URL.,"Enrollment URL as a TFTP URL (tftp://example_tftp_url), optional file specification, and an optional retry period and count."
Crypto PKI certificate import using TFTP with proper filename extension changes.,Router(config)# crypto pki import mytp certificate
Configuring Certificate Enrollment for a Public Key Infrastructure (PKI) and certifying a URL link for secure communication with a Trend Micro Server.,"Enable, set clock, configure terminal, set timezone, enable HTTP server, set hostname, set IP domain-name"
Self-signed certificate generation and verification for secure SSL connections between an HTTPS server and a client.,"Cisco IOS software generates a self-signed certificate when it doesn't have a verifiable certificate, which the HTTPS server can use. If the router is reloaded, the self-signed certificate is lost, and a new one must be created by the HTTPS server."
Persistent self-signed certificate for the router's startup configuration,"• One trustpoint for a persistent self-signed certificate
• Maximum lifetime of a self-signed certificate is 00:00:00 GMT Jan 1, 2030"
"Enabling privileged EXEC mode, configuring global configuration, declaring the CA, and specifying self-signed enrollment.","enable, configure terminal, crypto pki trustpoint name, enrollment selfsigned (optional) subject-name [x.500-name]."
The requirement is to configure certificate enrollment and specify self-signed certificate parameters.,"1. Use the FQDN as the default subject name if no value for the x-500-name argument is specified.
2. Specify a key pair for the certificate using the 'rsakeypair' command.
3. Provide a key-label, key-size (recommended 2048 or more), and encryption-key-size (same size as key-size) when generating the key and certificates."
Deleting all self-signed trustpoints and enabling the HTTPS server to generate a persistent self-signed certificate using default values.,"Enable privileged EXEC mode, configure terminal, use ip http secure-server command, end the configuration, and copy system:running-config to nvram: startup-config."
The requirement is to use the existing certificate of a third-party vendor CA to enroll with the Cisco IOS certificate server so that the enrollment request is automatically granted.,"To enable this functionality, you must issue the enrollment credential command. You cannot configure manual certificate enrollment."
Enable privileged EXEC mode and enter global configuration mode.,"Router> enable, Router# configure terminal"
Declare a trustpoint and enter ca-trustpoint configuration mode.,crypto pki trustpoint Entrust
HTTP or TFTP URL for CA authentication and enrollment,Router(ca-profile-enroll)# authentication url {http://CA_name | tftp://certserver/file_specification}
Enrollment URL,http://entrust:81/cda-cgi/clientcgi.exe
Configure Certificate Enrollment in a Two-Tier PKI Environment for sub-CAs to issue certificates when the root CA is offline. Enable revocation checking as per your environment.,"1. Import the root certificate through the CLI and use it to validate the issuing sub CA certificate under the trustpoint.
2. Configure the ROOT-CA by executing the following commands in the terminal:
   - enable
   - configure terminal
   - crypto pki trustpoint ROOT-CA
   - revocation-check none
   - enrollment terminal
   - crypto pki authenticate ROOT-CA
3. Configure the SUB-CA without specifying or accepting the fingerprint by executing the following commands:
   - enable
   - configure terminal
   - crypto pki trustpoint SUB-CA
   - revocation-check none
   - enrollment url url
   - chain-validation continue ROOT-CA
   - exit
   - crypto pki authenticate SUB-CA"
"Configure the certificate server ""mytp-A"" and its associated trustpoint to automatically grant certificate requests.","crypto pki server mytp-A
database level complete
issuer-name CN=company, L=city, C=country
grant auto"
Crypto PKI enrollment with local enrollment,"Requirement: Crypto PKI enrollment with local enrollment
- Include router serial number in subject name (yes/no): yes
- Include IP address in subject name (yes/no): yes
- Interface name or IP Address: ethernet 0
- Generate Self Signed Router Certificate (yes/no): yes

Configuration:
- Crypto PKI enroll local command"
Enable HTTPS server and generate a default trustpoint,"1. Configure terminal
2. Enter command 'ip http secure-server'
3. The router generates 1024 bit RSA keys (OK)
4. Issue ""write memory"" to save new certificate"
Crypto Key configuration,"RSA key pair with name TP-self-signed-3326000105 and TP-self-signed-3326000105.server, generated at 19:14:10 GMT Dec 21 2004 and 19:14:13 GMT Dec 21 2004 respectively. The keys are for general purpose and encryption usage, and are not exportable."
SSH key pair generation for the router when any key pair is created.,"The ""crypto pki trustpoint Entrust"" with enrollment profile E and crypto pki profile enrollment E are configured for direct HTTP enrollment with a CA server at http://entrust:81, using authentication command GET /certs/cacert.der and enrollment command POST reference_number=$P2&authcode=$P1&retrievedAs=rawDER&action=getServerCert&pkcs10Request=$REQ. The parameter 1 value is aaaa-bbbb-cccc, and parameter 2 value is not provided."
Crypto PKI trustpoint configuration for ROOT-CA,"revocation-check none, enrollment terminal, crypto pki authenticate ROOT-CA"
Certificate Autoenrollment,"auto-enroll, rsakeypair, show crypto ca timers, ip-address(ca-trustpoint), password(ca-trustpoint), serial-number, subject-name, usage"
Direct HTTP enrollment with CA servers.,"authentication command, authentication terminal, authentication url, crypto ca profile enrollment, enrollment command, enrollment profile, enrollment terminal, enrollment url, parameter."
"This feature allows customers to issue certificate requests and receive issued certificates in PEM-formatted files. The following commands were modified by this feature: enrollment, enrollment terminal.",Not provided in the text.
Save a self-signed certificate in the router's startup configuration to enable SSL handshakes between client and HTTPS server without user intervention.,"enrollment selfsigned, show crypto pki certificates, show crypto pki trustpoints."
"Add the status keyword to the show crypto pki trustpoints command, allowing users to display the current status of the trustpoint.","Introduced commands: enrollment credential, grant auto trustpoint."
"Support for certificate enrollment for a PKI using Elliptic Curve Digital Signature Algorithm (ECDSA) in X.509 certificates, PKI support for validation of X.509 certificates using ECDSA signatures, and PKI support for generating certificate requests using ECDSA signatures and importing the issued certificates into IOS.",Cisco IOS Suite-B support with crypto pki trustpoint command.
Setting Up Secure Device Provisioning (SDP) for Enrollment in a PKI,"Configuration Examples for Setting Up Secure Device Provisioning (SDP) for Enrollment in a PKI, on page 164"
"IP connectivity between petitioner device and server, web browser that supports JavaScript on introducer device, enable privileges on client device, access to a petitioner device, access to USB token and PIN.",Cisco IOS Release 12.3(8)T PKI-enabled image or a later image.
"Implement a Secure Device Provisioning (SDP) protocol for PKI enrollment that allows bidirectional introduction between two end entities, such as a new network device and a Virtual Private Network (VPN). The SDP should involve three entities: Introducer, Petitioner, and Registrar.","1. Introducer - A mutually trusted device that introduces the petitioner to the registrar. The introducer can be a device user, such as a system administrator.
2. Administrative introducer - Allows an administrator performing the introduction to supply the name for the device being introduced. The supplied device name is used as if it were the name of an introducer in the normal SDP mechanisms, preserving the existing functionality of the SDP configuration."
Introduce a new device to the secure network and authorize it using a Registrar server.,"Use of the prep-connect phase and connect phase for configuring a petitioner for Internet connectivity through a service provider; communication with an external AAA server for verifying credentials, enrollment, and configuration information retrieval."
Implementing Secure Device Provisioning (SDP) over a web browser with six possible phases.,Bootstrap configuration received from a remote management system through the introducer's web browser.
"SDP deployment of PKI between two devices in different phases (Prep-Connect, Connect, Start, Welcome, Introduction, Completion).",The administrator must configure the prep-connect template and send the prep-connect page to the introducer.
"Testing Internet connectivity and authenticating with the petitioner. The default URL for testing is www.cisco.com (198.133.219.25), which can be modified by the administrator using the default prep-connect template.",Default prep-connect template can be modified by the administrator to change the URL for connectivity tests.
"The requirement is to display the connect page if there is no IP connectivity at the completion of the prep-connect phase, allowing flexibility in IP address assignment methods (DHCP, PPPoE, or static IP). SDP functionality is not used for establishing Internet connectivity.","The configuration includes three IP address assignment methods - Dynamic Host Configuration Protocol (DHCP), Point to Point Protocol over Ethernet (PPPoE), or static IP address assignment."
"Log into the petitioner through the URL http://10.10.10.1/ezsdd/welcome, using factory default username and password (cisco).","The local login dialog box is displayed, and the user can log into the local device with the factory default username (cisco) and password (cisco)."
Transfer PKI credentials using SDP with a USB token for device provisioning.,"Devices include USB token and SDP entities (introducer, registrar, Petitioner A at local location, Petitioner B at remote location), optional management server, optional configuration of one device as both registrar and petitioner."
Initial SDP introduction using a USB token in a petitioner device.,"The USB token is inserted into the petitioner device (e.g., Petitioner A), and an initial template configuration with appropriate target information is placed onto each SDP device."
Transport the USB token to a remote location and use its configuration files to provision the local device.,"- USB token
- Petitioner B
- Crypto key move rsa command for moving files to a storage location on Petitioner B"
"Certificate issuance for multiple devices without restriction on the introducer, self-signed petitioner certificate for public key conveyance, and per-user based authorization.","AAA database configured to accept only one authentication and authorization request per user, PKI AAA integration to further restrict the use of certificates."
"The existence of a valid AAA username record is enough to pass the authentication check, and the ""cisco-avpair=tti"" information is necessary only for the authorization check.","If a subject name was received in the authorization response, the SDP registrar stores it in the enrollment database, and that “subjectname” overrides the subject name that is supplied in the subsequent certificate request (PKCS10) from the petitioner device. The numbered ""tti:iosconfig"" values are expanded into the SDP Cisco IOS snippet that is sent to the petitioner. To specify an external configuration, use the template config command."
Expand the template config command with the post keyword to send additional device information to the external management system through a CGI script using HTTP or HTTPS protocol.,The registrar passes the device information through AV pairs ($a) to the external management system.
The requirement is to send additional AV pairs with the expanded CGI support for identification of the customized bootstrap configuration file during HTTP Post to an external management system.,"1. AAA_AT_TTI_SUBJECTNAME (sent only if the realm authentication user is not the root user on the registrar)
2. TTIFixSubjectName
3. Output of show running-config brief (TTIIosRunningConfig)
4. Digest calculated over the device public key (TTIKeyHash)
5. AAA_AT_TTI_PRIVILEGE (sent if the user is an administrator, ""user"" is sent if the user is not an administrator; sent only if the realm authentication user is an administrator and the information is available from the AAA server) (TTIPrivilege)
6. Digest calculated over all AV pairs except UserDeviceName and TTISignCert (TTISignature)
7. Device current certificate (sent only if the device currently has a certificate) (TTISignCert)
8. AAA_AT_TTI_IOSCONFIG(1-9) (sent only if the"
The administrator may set the TTIAfterConnectURL field to either the welcome page URL or the start page URL. The welcome page URL is specified with the factory default petitioner IP address. The connect after URL may be any valid URL if SDP is not going to be used after establishing Internet connectivity.,TTIAfterConnectURL can be set to either a welcome page URL or a start page URL.
"The administrator may set the TTIInsideAddr field to the factory default IP address of the petitioner. For the Cisco 871 ISR, the IP address is 10.10.10.1. Also, the administrator may set the TTIlanportx field to the LAN interface name of the petitioner platform and the TTIwanport field to the WAN interface name of the petitioner.","For the Cisco 871 ISR, the IP address for TTIInsideAddr is 10.10.10.1, the field value for TTIlanportx is ""Vlan1"", and the field value for TTIwanport is ""FastEthernet4""."
"Device attribute information and challenge password must be included in an HTTPS post sent by the iPhone, which is directed to the specified URL. The device attributes obtained are used to determine if the device type is acceptable (e.g., 3GS iPhones).","The HTTPS URL must be the one specified in the configuration profile obtained during the Start SDP deployment phase, and the post data must be signed by the iPhone using an Apple-issued certificate (built-in identity)."
"The SDP registrar must build a configuration profile that includes the HTTP URL of the SCEP server, Subject Name (containing the UDID), key size, key type (RSA only), key usage, and challenge password.","HTTP URL of the SCEP server, Subject Name containing the UDID, key size, RSA key type, key usage, and challenge password."
Provides device encryption identity,"- URL: https://iphone.vpn.apple.com/pkifoobar.exe
- Name: instance_for_getcacert_call
- Subject: [O, Apple Inc.] and CN=Foo
- Challenge: CHALLENGE
- Keysize: 1024
- Key Type: RSA
- Key Usage: 5
- PayloadUUID: fd8a6b9e-0fed-406f-9571-8ec98722b713
- PayloadType: com.apple.security.scep
- PayloadDisplayName: Encryption Identity
- PayloadVersion: 1
- PayloadOrganization: Apple"
Install a configuration profile containing SCEP information during the Introduction SDP deployment phase.,The iPhone installs the configuration profile specification containing SCEP information obtained from the SDP registrar in the Introduction SDP deployment phase.
"iPhone repeats the Introduction SDP deployment phase with exceptions, including not using challenge password and signing post data with SCEP server certificate.","General enterprise settings (VPN, Wi-Fi, email), SCEP settings for a second certificate to be used for establishing a VPN."
"The requirement is to enable and configure the Cisco device's petitioner with a default enabled status, an existing certificate or choose a specific certificate if multiple certificates exist. It also requires the HTTP server to be enabled using the ip http server command.","Configure terminal, use the crypto provisioning petitioner command, enable the HTTP server with the ip http server command, and have an existing manufacturer's certificate or a third-party certificate if configuring the petitioner with a certificate and RSA keys."
Specify a trustpoint for SDP exchange between petitioner and registrar.,trustpoint <trustpoint-label>
"Enable HTTP or HTTPS server, disable standard HTTP server if configured, configure Cisco IOS certificate server, add user information to the AAA server database.","no ip http server command, ip http secure-server command, ip http secure-trustpoint command, crypto pki server command."
Enable privileged EXEC mode and configure a device to become a registrar for the SDP exchange.,"1. Enter your password if prompted.
   - Router> enable
2. Enter global configuration mode.
   - Router> configure terminal
3. Configure a device to become a registrar for the SDP exchange and enter tti-registrar configuration mode.
   - Router(config)# crypto provisioning registrar
4. Specify the certificate server that is to be associated with the SDP exchange between the petitioner and the registrar.
   - Router(config)# pki-server label
5. (Optional) Authenticate the introducer in an SDP exchange.
   - Router(tti-registrar)# authentication list list-name
6. (Optional) Receive the appropriate authorized fields for"
"Reference a CGI script through either HTTP or HTTPS and identify the bootstrap configuration by not only the device name, but also by the type, current Cisco IOS version, and current configuration.",The registrar must be running Cisco IOS Release 12.4(6)T or later to utilize expanded CGI support.
"CRYPTO_PROVISIONING: checking AAA authorization (ipsecca_script_aaalist, ttiuser) and building TTI av pairs from AAA attributes.","""subjectname"" = ""CN=user1, O=company, C=US"", ""$1"" = ""ntp server 10.3.0.1"", ""$2"" = ""hostname user1-vpn""."
Enabling the SDP Registrar for Certificate-Based Authorization and configuring the SDP petitioner to use a certificate and RSA keys associated with a specific trustpoint.,"Perform task to enable the SDP registrar, configure SDP petitioner to use a certificate and RSA keys associated with a specific trustpoint, use the trustpoint signing command as shown in the task ""Enabling the SDP Petitioner, on page 147"", and use the default password ""cisco"" for certificate authorization."
Configure a device to become an SDP registrar and enter tti-registrar configuration mode.,crypto provisioning registrar
Configure the SDP Registrar to run HTTPS for deploying Apple iPhones on a corporate network.,"enable, configure terminal, ip http secure-server, crypto provisioning registrar, url-profile start profile-name, url-profile intro profile-name, match url"
Configure a device to become a registrar for the SDP exchange and enter tti-registrar configuration mode.,crypto provisioning registrar
Set up Secure Device Provisioning for enrollment in a PKI.,Configure the SDP Registrar to deploy Apple iPhones.
Crypto provisioning registrar command in global configuration mode to specify the router as a registrar for the SDP exchange.,"Requirement: Crypto provisioning registrar command in global configuration mode to specify the router as a registrar for the SDP exchange.
Configuration: Enter tti-registrar configuration mode after entering the crypto provisioning registrar command."
Authenticate command to retrieve the CA certificate and authenticate it from the specified TFTP server.,Paste the base 64 encoded Apple CA trust certificate at the prompt.
1. Exit ca-trustpoint configuration mode and enter global configuration mode using the exit command.,"1. Router(ca-trustpoint)# exit
2. Router(config)# crypto provisioning registrar
3. Router(config)# crypto provisioning registrar
4. Router(tti-registrar)# url-profile intro INTRO
5. Router(tti-registrar)# match authentication trustpoint apple-tp"
Crypto provisioning registrar configuration,"crypto provisioning registrar, administrator authentication list list-name, administrator authorization list list-name"
Administrator authorization on Router(tti-registrar) and list of author-tac.,Router(tti-registrar)# administrator authorization [list_name]
Cisco device configuration and timezone settings.,"- Hostname: router
- Memory size for I/O memory: iomem 5
- Enable secret password: 5 $1$tpBS$PXnBDTIDXfX5pWa//1JX20
- Enable password: lab
- Clock timezone: GMT 0"
Direct the TTI registrar to use the custom start page template.,Router(tti-registrar)# template http start tftp://registrar.company.com/start.html (Optional) Uses a custom welcome template rather than the default template.
"Custom start, introduction, and completion templates for HTTP","template http start tftp://registrar.company.com/start.html, template http introduction tftp://registrar.company.com/intro.html, template http completion tftp://registrar.company.com/completion.html"
"Crypto PKI server configuration with issuer-name, hash algorithm, and Public Key Infrastructure Configuration Guide.","crypto pki server cs1, issuer-name CN=company,L=city,C=US, hash sha1"
Lifetime and Certificate Configuration,"- Trustpoint: pki-36a
  - Enrollment URL: http://pki-36a:80
  - IP-Address: FastEthernet0/0
  - Revocation Check: none
- Trustpoint: cs1
  - Revocation Check: crl
  - RSA Key Pair: cs1 2048

Certificate Chain for pki-36a:
- Certificate 03
  308201D0 30820139 A0030201 02020103 300D0609 2A864886 F70D0101 04050030
  34310B30 09060355 04061302 55533114 30120603 55040713 0B205361 6E746120
  4372757A 310F300D 06035504 03130620 696F7363 73301E17 0D303430 31333130
  39333334 345A170D 30363031 33303039 33333434 5A303A31 38301606 092A8648
  86F70D01 09081309 31302E32 332E322E 32301E06 092A8648 86F70D01 09021611
  706B692D 3336612E 63697363 6F2E636F 6D305C30 0D06092A 864886F7 0D010101
  0500034B 00304802 4100AFFA 8F429618 112FAB9D 01F3352E 59DD3D2D AE67E31D
  370AC4DA 619735DF 9CF4EA13 64E4B563 C239C5F0 1578B773 07BED641 A18CA629
  191884B5 61B66ECF 4D110203 010001A3 30302E30 0B060355 1D0F0404 030205A0
  301F0603 551D2304 18301680 141DA8B1 71652961 3F7D69F0 02903AC3"
Set up secure device provisioning (SDP) for enrollment in a Public Key Infrastructure (PKI).,"Configure crypto pki trustpoint tti with enrollment url, revocation-check crl, rsa keypair, auto-enroll, and certificate chain."
Interface Configuration (Ethernet and Serial interfaces),"Requirement: Interface Configuration (Ethernet and Serial interfaces)
Configuration:
shutdown
half-duplex
no ip address
serial restart-delay 0

Please note that the above information is extracted based on the provided text, and may not represent the complete or accurate configuration for a network device."
"TACACS+ AAA server database configuration for user ""user1"" with password ""cisco"" and two Cisco IOS configuration templates ""iosconfig1"" and ""iosconfig2"".","Username - ""user1"", Password - ""cisco"", IOS Configuration Template Variables - ""iosconfig1"" and ""iosconfig2"", Subject Name - ""CN=user1, O=company, C=US""."
"1. Cisco IOS configuration template variables ""iosconfig1"" and ""iosconfig2"" for user1.","1. Subject name field in the subsequent enrollment request (PKCS10): CN=user1, O=company, C=US
2. TACACS+ server host: 10.0.0.48 key"
Crypto provisioning registrar configuration and execution of a CGI script,"1. Router(config)# crypto provisioning registrar
2. Router (tti-registrar)# pki-server cs1
3. Router (tti-registrar)# template config tftp://server/config-$n.txt (for a default configuration file)
4. Router(config)# crypto provisioning registrar
5. Router (tti-registrar)# pki-server cs1
6. Router (tti-registrar)# template config tftp://server/cgi-bin/mysdpcgi post (for a CGI script example)"
Set up certificate-based authentication using a petitioner-signing certificate and perform authorization lookups.,"1. Configure the router terminal.
2. Enable crypto provisioning registrar on the router.
3. Create an authentication trustpoint called ""mytrust"".
4. Set up authorization login certificate.
5. Specify the authorization username and subjectname for all users.
6. End the configuration mode."
"Configure an administrative introducer with the authentication list ""authen-tac"" and the authorization list ""author-tac"".","1. Access the Router's configuration mode by typing `Router# configure terminal`.
2. Enter the commands for configuring the administrative introducer, one per line.
3. End the configuration with `Router(config)# crypto provisioning registrar`.
4. Create an administrator role and specify the authentication list `authen-tac` by typing `Router(tti-registrar)# administrator authentication list authen-tac`.
5. Specify the authorization list `author-tac` for the administrator role by typing `Router(tti-registrar)# administrator authorization list author-tac`.
6. Exit the configuration mode with `Router(tti-registrar)# end`."
Introduce support for SDP and integrate an external AAA database.,Not provided in the text.
PKI Credentials Expiry Alerts feature for CA client to send notifications to syslog server when certificates are on the verge of expiry.,"- First notification sent 60 days before the expiry of the certificate.
- Repeated notifications sent every week until a week before the expiry of the certificate.
- Notifications in the last week sent every day."
Certificate expiry date monitoring and notification system,"• Warning mode for certificates valid for more than a week
• Alert mode for certificates with less than a week of validity
• Notifications including information such as:
  - Truspoint the certificate is associated with
  - Certificate type
  - Serial number of the certificate
  - Certificate issuer name
  - Number of days remaining for the certificate to expire
  - Autoenrollment enabled status
  - Shadow certificate availability
• Alert notifications sent via syslog server or SNMP traps
• Notification stop conditions:
  - Trustpoint is configured with autoenrollment and shadow/rollover certificate is present
  - Shadow or rollover certificate's start time is either the same or earlier than the certificate's end time"
Display timer expiry information using the show crypto pki timers command.,"The device displays the timer when a certificate is about to expire, and sends a notification to the syslog server when the timer expires."
PKI Credentials Expiry Alerts,"No traps are sent if a shadow certificate is available for the same trustpoint, and the shadow certificate becomes active."
Setting up and managing a Cisco IOS certificate server for public key infrastructure (PKI) deployment.,"A certificate server with limited certification authority functionality embedded into the Cisco software, providing benefits such as easier PKI deployment by defining default behavior, simpler user interface, direct integration with Cisco software, and leveraging scaling advantages of PKI without all certificate extensions that a CA provides."
Certificate server configuration for enabling HTTP server support for SCEP,"Enable the HTTP server on the router using the ip http server command, and ensure that SCEP is used as the enrollment method for all types of certificate servers to take advantage of automatic CA certificate and key pair rollover functionality."
Ensuring proper certificate and TLS handshake without errors on the ISE.,"Certificate Server with 1024-bit or recommended 2048-bit RSA Key Pair, having the same name as the certificate server."
Generate an exportable CA key for backup purposes.,"Manually generate the key pair as exportable, see the section ""Generating a Certificate Server RSA Key Pair"" in the Public Key Infrastructure Configuration Guide."
Automatic archiving of CA certificate and CA key when the certificate server is turned on for the first time.,Archive can be in PKCS12 or privacy-enhanced mail (PEM) format. The CA key backup file should be moved to a secured place immediately.
"The requirement is to configure a command-line interface (CLI) for the ip http secure-trustpoint command to specify the CA trustpoint for obtaining certificates and authenticating the connecting client's certificate, which must point to an additional trustpoint configured on the certificate server device.","The configuration should include setting up the CLI for the ip http secure-trustpoint command, pointing it to an additional trustpoint configured on the certificate server device. The server can be a root certificate server using RSA key pairs and specific key usage extensions for the associated CA certificate (Digital Signature, Certificate Sign, and CRL Sign). Initial enrollment of the certificate server should be initiated manually and ongoing automatic rollover functionality may be configured with the auto-rollover command. The auto-enroll command should not be used for automatically enrolling the certificate server trustpoint."
Ensure that the CRL is available from the location specified through the cdp-url command.,"The CDP location may be changed after the certificate server is running through the cdp-url command. New certificates contain the updated CDP location, but existing certificates are not reissued with the newly specified CDP location."
Configuring and managing a certificate server for PKI deployment.,SCEP Enrollment
Configure a Certificate Server to run in RA-Mode for offloading authentication and authorization responsibilities from the CA.,"1. The RA server should be able to receive SCEP or manual enrollment requests.
2. The administrator can grant or reject requests based on local policy.
3. If a request is granted, it should forward the request to the issuing CA for certificate generation and return the certificate to the RA.
4. The client can retrieve the granted certificate from the RA.
5. The RA should be responsible for recording or verifying some of the data required for the CA to issue certificates."
"CA Server Compatibility, Automatic CA Certificate and Key Rollover","The IOS CA server in RA mode interoperates with more than one type of CA server. For root CAs, subordinate CAs, and RA-mode CAs, their certificates and key pairs have expiration dates that need to be reissued when the current certificate and key pair are about to expire. The CA must distribute the new CA rollover certificate and keys too all its peers."
Deviation from usual certificate lifetime and renewal time during rollover.,Certificate server algorithm introduces jitter for random time fluctuations to avoid hosts participating in PKI synchronizing their enrollment timer and causing congestion on the Certificate Server.
A cryptographic hash function for Cisco IOS XE certificate servers and clients.,"SHA-256 (recommended by Cisco). Other options include MD5, SHA-1, SHA-256, SHA-384, or SHA-512."
"Manually generate an RSA key pair for the certificate server with options to specify key type, exportability, storage location, and key generation location. Create an exportable key pair for backup or archive purposes.","USB token configured and available as a cryptographic device for RSA operations such as key generation, signing, and authentication of credentials. The private key never leaves the USB token."
Enables privileged EXEC mode.,Device> enable
Import RSA key pair,crypto key import rsa key-label pem [usage-keys | signature | encryption] {terminal | url url} [exportable] [on devicename:] passphrase
"Generate an RSA key pair with a modulus size of 2048 bits on a USB token, labeled as ""ms2"".",Key generate rsa on usbtoken0 label ms2 modulus 2048.
"Enabling and configuring a CA server with reliable time of day, key pair, self-signed valid CA certificate, CRL, accessible storage device, and active HTTP/SCEP server. Also ensuring CA clients have completed automatic enrollment and autoenrollment enabled with the same certificate server.","1. Enable and configure the CA server.
2. Ensure a reliable time of day is set for the server.
3. Set up a key pair for the server.
4. Generate and associate a self-signed valid CA certificate with the key pair.
5. Create and maintain a CRL for the server.
6. Connect an accessible storage device to the server.
7. Enable and configure an active HTTP/SCEP server on the network."
Configure a certificate server and enable automatic rollover for SCEP.,"1. enable
2. configure terminal
3. ip http server
4. crypto pki server cs-label
5. no shutdown
6. auto-rollover [time-period]"
Enable the HTTP server on the device and configure the certificate server.,"1. Device# configure terminal
2. ip http server
3. crypto pki server cs-label (where cs-label matches the name of the RSA key pair)
4. no shutdown (if not using preconfigured default functionality)"
Enable automated CA certificate rollover on the server ms2,auto-rollover 25
Configure a subordinate certificate server for granting all or certain SCEP or manual certificate requests and enabling automatic rollover.,"The root certificate server should be a Cisco IOS XE certificate server, enrollment to the root CA or upstream CA is possible only through SCEP, and manual enrollment of subordinate CA to the root CA or upstream CA is not possible."
The retry period keyword and minutes argument specifies the period in minutes in which the router waits before sending the CA another certificate request. Valid values are from 1 to 60. The default is 1.,Device(ca-trustpoint)# enrollment url http://[2001:DB8:1:1::1]:80
"The requirement is to configure the cryptographic hash function for self-signed certificates on a Cisco IOS XE client. The available options are md5, sha1, sha256, sha384, and sha512.","Example configuration:
Device(ca-trustpoint)# hash sha384
This command sets the default cryptographic hash function for self-signed certificates to sha384 on a Cisco IOS XE client."
"Elliptic Curve (EC) with 256 bit keys, hash algorithm selection for EC 384 and 512 bit keys.",sha384 or sha512 as the hash algorithm for EC 384 and 512 bit keys.
Enable and configure automated CA certificate rollover for Cisco IOS XE devices.,"auto-rollover [time-period]
Example: Device(cs-server)# auto-rollover 90"
"Enable and configure the hash function for a device, such as a certificate server.",Device(cs-server)# hash sha384
Unresolved IP Address 192.0.2.6,"HTTP connection opened

Please note that this is a simplified extraction based on the given text."
The PKCS #7 message has 1 verified signer.,signing cert: issuer=cn=root; start date: 21:08:03 GMT Jan 6 2005; end date: 21:08:03 GMT Jan 6 2006
The requirement is to configure the RA (Registration Authority) subject name for the issuing CA certificate server.,"The configuration involves setting the subject name to ""cn=ioscs RA"" or ""ou=ioscs RA"" on the device using the command ""subject-name cn=ioscs RA""."
Configuring the Root Certificate Server to Delegate Enrollment Tasks to the RA Mode Certificate Server,Device(cs-server)# no shutdown
Enables a certificate server and enters cs-server configuration mode.,Device(config)# crypto pki server cs-label
Configuring Certificate Server Functionality,Certificate Server Default Values and Recommended Values
Specify the primary location where database entries for the certificate server are written.,database url root-url
"If the primary location is not specified, all critical files are stored to NVRAM.",Device(cs-server)# database url ser nvram; Device(cs-server)# database level {minimal | names | complete}
- Setting an external TFTP server in which to store data through the database url command.,- database username [password [encr-type] password]
Define CDP location for certificates issued by the certificate server,cdp-url http://my-cdp.company.com (or alternative URL formats)
Configure a CDP location where the PKI clients do not support SCEP GetCRL requests.,"Device(config)# crypto pki server aaa
Device(cs-server)# database level minimum
Device(cs-server)# database url tftp://10.1.1.1/username1/
Device(cs-server)# issuer-name CN=aaa
Device(cs-server)# cdp-url http://server.company.com/certEnroll/aaa.crl"
Automatic CA Certificate Rollover,"1. enable
2. configure terminal
3. crypto pki server cs-label rollover [cancel]"
Managing the enrollment request database for SCEP by specifying enrollment processing parameters and controlling the run-time behavior of the certificate server.,"1. enable
2. crypto pki server cs-label
grant {all | req-id}
3. crypto pki server cs-label reject {all | req-id}
4. crypto pki server cs-label password generate"
Password generation for crypto pki server with a validity period.,Device# crypto pki server mycs password generate 75 (validity in minutes)
Display and manage information related to Crypto PKI server certificates and CRLs (Certificate Revocation Lists).,"Device# crypto pki server mycs request pkcs10 | terminal pem
• pem --Specifies the certificate that is returned with PEM headers automatically added to the certificate after it's granted, regardless of whether PEM headers were used in the request.
• base64 --Specifies the certificate that is returned without PEM headers, regardless of whether PEM headers were used in the request."
Remove requests from the database and allow the server to be returned to a clean slate with respect to the keys and transaction IDs. Help troubleshoot an SCEP client that may not be behaving properly.,enable; crypto pki server cs-label remove {all | req-id}; Device> enable
Delete a certificate server from your PKI configuration.,"Enable, Configure Terminal, No Crypto PKI Server, and CS-Label."
"Verify the certificate server autoarchived file if the database URL command was entered to point to a local file system. You should be able to at least see ""cs-label .ser"" and ""cs-label .crl"" files in the database.",The specific configuration details are not provided in the text.
Display all outstanding certificate enrollment requests.,Device# show crypto pki certificates
"CN=walnutcs, CA certificate expiration timer: 22:10:29 GMT Jan 29 2007, Rollover status: available for rollover, Rollover CA cert fingerprint: 6AAF5944 74227A5B 23DF3E52 9A7F1FEF, Rollover CA certificate expiration timer: 22:10:29 GMT Jan 29 2017","CN=walnutcs, CA cert fingerprint: 800F5944 74337E5B C2DF6C52 9A7B1BDB, Granting mode: auto, Last certificate issued serial number: 0x7"
Minimal local file system configuration for quick response to certificate requests and remote publication of .crt files.,crypto pki server myserver; database level minimum; database url crt publish http://url username user1 password secret; monitor free space on local file system.
A password-protected file publication location for the CRL file.,"Device(config)# crypto pki server mycs
Device(cs-server)# database url ftp://cs-db.company.com
Device(cs-server)# database url crl publish ftp://crl.company.com username myname password mypassword"
The requirement is to publish a CRL file and store other critical files in their respective locations.,"The configuration involves using FTP URLs for the CRL and critical files storage, with specific usernames and passwords. The Crypto PKI server is configured with mycs shutdown database url ftp://cs-db.company.com and CRL publish settings."
Autoarchiving the Certificate Server Root Keys,"Requirement: Autoarchiving the Certificate Server Root Keys
Configuration: Database archive command configured to set the CA certificate and CA key archive format as PEM, without a password."
The restoration of the PKCS12 archive and configuration of the database URL as NVRAM (default).,"Device# copy tftp://192.0.2.71/backup.ser nvram:mycs.ser, Device# copy tftp://192.0.2.71/backup.crl nvram:mycs.crl, Device# configure terminal, Device(config)# crypto pki import mycs pkcs12 tftp://192.0.2.71/backup.p12 cisco123, Device(config)# crypto pki server mycs, Device(cs-server)# no shutdown."
RSA key generation for a Cisco device's certificate authority (CA),"- Device(config)# crypto pki trustpoint sub
- Device(ca-trustpoint)# enrollment url http://192.0.2.6
- Device(ca-trustpoint)# rsa keypair ms2 2048
- Device(ca-trustpoint)# exit
- Device(config)# crypto pki server sub
- Device(cs-server)# mode sub-cs
- Device(ca-server)# no shutdown"
RA Mode Certificate Server configuration,"Device-ra(config)# crypto pki trustpoint myra; Device-ra(ca-trustpoint)# enrollment url http://192.0.2.17; Device-ra(ca-trustpoint)# subject-name cn=myra, ou=ioscs RA, o=company, c=us; Device-ra(config)# crypto pki server myra; Device-ra(cs-server)# mode ra; Device-ra(cs-server)# no shutdown"
Create a challenge password for certificate enrollment.,"The subject name in the certificate will include ""cn=myra, ou=ioscs RA, o=company, c=us"" and ""Router-ra.company.com"". The router serial number is not included in the subject name."
Request certificate from CA,"Requirement: Request certificate from CA
Configuration: yes"
Enrollment Request Database and RA certificate request recognition,"""ou=ioscs RA"" in the subject name"
Enabling CA Certificate Rollover on the server mycs,"auto-rollover, crypto pki server mycs, grant auto rollover ra-cert, auto-rollover 25"
Enable immediate CA certificate rollover,"Rollover status: available for rollover, Rollover certificate is available for rollover, Rollover CA certificate fingerprint: 9BD7A443 00A6DD74 E4D9ED5F B7931BE0"
CA certificate expiration time (Rollover) - 00:49:26 PDT Jun 20 2011,"Auto-Rollover configured, overlap period 25 days"
Configuring Authorization and Revocation of Certificates in a PKI,Chosing a certificate revocation mechanism
USB Token Storage for PKI Credentials,"1. Router: Cisco 871, Cisco 1800 series, Cisco 2800 series, Cisco 3800 series router or a Cisco 7200VXR NPE-G2 platform
2. Cisco IOS Release 12.3(14)T image running on any of the supported platforms
3. A Cisco supported USB token (Safenet/Aladdin eToken PRO 32 KB or 64 KB)
4. A k9 image"
USB token support for storing PKI data,3DES (k9) Cisco IOS software image
Specify active local storage device for storing certificates during run time.,USB Token
"Secure storage and transfer of digital certificates, preshared keys, and device configurations using USB token.",Crypto PKI Token default removal timeout command with a default value of 0 to automatically remove RSA keys after the eToken is removed from the device.
"USB token to store digital certificates, preshared keys, and device configurations for IPsec VPNs.",Storage Size - 32 KB or 64 KB; File Types - Encrypted with user PIN or nonsecure format; Security - Configurations can be used during boot time for primary and secondary configuration purposes.
"Removable Credentials for VPN, PIN Configuration for Secure File Deployment, Touchless or Low Touch Configuration.","Support for storing digital certificates and configurations for IPsec VPN on a USB token, user-configured PIN for enabling encryption, and remote software configuration and provisioning."
Automated bootstrap configuration for router using USB token,Router can use a bootstrap configuration stored in the USB token to automatically connect to a TFTP server containing the complete router configuration.
Configure PKI Storage for Certificates,"1. Enable privileged EXEC mode.
   Command: enable
2. Enter global configuration mode.
   Command: configure terminal
3. Specify the local storage location for certificates.
   Command: crypto pki certificate storage location-name
   Example: flash:/certs
4. Exit global configuration mode.
   Command: exit
5. (Optional) Save the running configuration to the startup configuration.
   Command: copy source-url destination-url"
Storing newly generated RSA keys in the same location where the original RSA key was generated.,None provided
Enable privileges and enable access to USB token for recovery scenarios.,"Device configuration may be lost, so the USB token can provide out-of-band services, including boot configuration, secondary configuration, or both, as well as RSA keys for authentication."
Privilege level of 1 to log in.,Unlocking the USB token allows it to be used with full user privileges (privilege level 15).
"Crypto PKI token named ""secondary""","Enables privileged EXEC mode, unlocks the token with a PIN, configures terminal, and encrypts the stored PIN in NVRAM."
Remove secondary configuration elements from the running configuration.,"Secondary configuration file for setting up a PKI trustpoint, unconfiguration file named mysecondaryunconfigfile.cfg containing the command line ""no crypto pki trustpoint token-tp"". If the token were removed and the following commands executed, the trustpoint and associated certificates would be removed from the device's running configuration."
Reset the login failure count to zero after changing the PIN using the crypto pki token max-retries command. The maximum number of allowable login failures is set (by default) to 15.,Set the maximum number of allowable login failures using the crypto pki token max-retries command.
Configuring a PKI token using USB token0 and setting maximum retries to 20.,crypto pki token usbtoken0; max-retries 20
Copies files from USB token to the device.,usbflash[0-9]:filename destination-url
Determine if a USB token is supported by Cisco.,"Use the 'show usb device' command to check if a USB token is supported by Cisco. The output from this command indicates whether or not the module is supported (bold in sample output). Check for ""Device Supported: YES"" in the output."
Configure the router to automatically log into the eToken and generate RSA keys and enroll certificates with the CA.,"crypto pki token default user-pin 0 1234567890
crypto pki trustpoint IOSCA
enrollment url http://10.23.2.2
exit
crypto ca authenticate IOSCA
crypto pki enroll
crypto pki enroll IOSCA"
Request certificate from CA,Certificate received from Certificate Authority
"Storing credentials on the USB token in a protected area, with files stored in /keystore directory.",The key files are hidden from the command-line interface (CLI).
Configuring Certificate Enrollment or Autoenrollment for Public Key Infrastructure (PKI),Using USB tokens for RSA operations upon initial autoenrollment and setting up Secure Device Provisioning (SDP) for enrollment in a PKI with SDP and USB tokens to deploy PKI credentials.
The ability to specify the storage location of local certificates for platforms that support storing certificates as separate files.,"Support for NVRAM (default location), flash local storage, and other supported local storage options depending on the platform."
"Specify a different interface with a valid IP address for outgoing TCP connections in some configurations, especially for cable modems.","Use the ""source interface"" command along with the ""crypto pki trustpoint"" command to specify the address of the interface that is to be used as the source address for all outgoing TCP connections associated with that trustpoint."
Configure Source Interface Selection for Outgoing Traffic with Certificate Authority for all outgoing TCP connections associated with a trustpoint.,"1. enable
2. configure terminal
3. crypto pki trustpoint name
4. enrollment url url
5. source interface interface-address
6. interface type slot / port
7. description string
8. ip address ip-address mask
9. interface type slot / port
10. description string
11. ip address ip-address mask
12. crypto map map-name"
Enrollment URL for the Router (ca-trustpoint),http://yourname:80/certsrv/mscep/mscep.dll
Set a primary or secondary IP address for an interface.,"ip address ip-address mask (e.g., Router (config-if)# ip address 10.2.2.205 255.255.255.0)"
The requirement is to configure the Source Interface Selection for Outgoing Traffic with Certificate Authority using FastEthernet 1 as the outside interface connected to the Internet Service Provider (ISP). The router must send IP datagrams out through this interface using the IPSec tunnel to access the CA server located in the main office.,"The configuration should involve setting up FastEthernet 1 as the ""outside"" interface, configuring IPSec for communication with the main office, and ensuring that the router sends IP datagrams out through this interface using the IPSec tunnel."
"Configure a router to use address 10.1.1.1 as the source address when sending IP datagrams to the CA, and allow the CA to respond to 10.1.1.1.","- Add the source interface command: `source interface fastethernet0`
- Set the interface addresses using the interface commands, for example:
```
interface fastethernet 0
description inside interface
ip address 10.1.1.1 255.255.255.0
!
interface fastethernet 1
description outside interface
ip address 10.2.2.205 255.255.255.0
```"
PKI Trustpool Management feature to authenticate sessions and manage certificates from known CAs.,"The IOS PKI has both built-in CAs and an option to download trustpool bundle. Trustpool certificates are used by applications such as SSLVPN, PnP, Smart License, MacSec, etc."
"Ability to update the PKI trustpool automatically or manually, and configure optional PKI trustpool policy parameters.","Automatic PKI trustpool updates use the configured URL. During auto-update, all existing downloaded trustpool certificates must be deleted. The PKI trustpool timer matches the CA certificate with the earliest expiration time."
PKI trustpool management and manual certificate update,"1. Enable privileged EXEC mode using the ""enable"" command.
2. Configure terminal by entering configuration mode.
3. Import clean certificates using the ""crypto pki trustpool import clean"" command with appropriate arguments (terminal, URL, or CA bundle).
4. Import certificates as needed using the ""crypto pki trustpool import"" command with specific parameters (terminal, URL, CA bundle, VRF, and source interface).
5. Exit configuration mode by entering the ""exit"" command.
6. Verify the PKI trustpool configuration using the ""show crypto pki trustpool"" command."
Enter global configuration mode and remove all downloaded PKI CA certificates.,Device# configure terminal; crypto pki trustpool import clean [terminal | url url]; Device(config)# crypto pki trustpool import clean [terminal | url url]
"Import a CA certificate bundle through a URL using the ""crypto pki trustpool import url"" command.",Device(config)# crypto pki trustpool import url http://www.cisco.com/security/pki/trs/ios.p7b
Configure the crypto pki trustpool policy and cabundle url on a Cisco device.,"Set the URL from which the PKI trustpool certificate authority CA certificate bundle is downloaded using the ""cabundle url"" command, or specify that autoupdates of the PKI trustpool CA are not permitted with the ""none"" keyword."
Enable the use of certificate maps for the PKI trustpool and configure the command-name argument.,default crl query http://www.cisco.com/security/pki/crl/crca2048.crl
Disable revocation checking when using PKI trustpool policy.,Device(ca-trustpool)# revocation-check none
Specify the file system location where PKI trustpool certificates are stored on the router.,"storage location (e.g., disk0, disk1, nvram, unix, or named file system)"
Configure PKI Trustpool Management to include specific certificates.,"1. Set the status of the CA Certificate to ""Available.""
2. Ensure the certificate version is set to 3.
3. Input the appropriate Certificate Serial Number (hex).
4. Define the certificate usage as Signature.
5. Specify the issuer details.
6. Enter the subject details.
7. Provide CRL Distribution Points.
8. Include the validity dates (start and end date)."
Configure PKI Split VRF in Trustpoint for certificate enrollment and revocation.,Not provided in the text. Please refer to pages 282-283 for Configuration Examples for PKI Split VRF in Trustpoint.
PKI Split VRF in Trustpoint for configuring VPN Routing and Forwarding (VRF) for certificate enrollment and CRL checking.,Enrollment URL command under the crypto pki profile enrollment command to attach the enrollment profile to a trustpoint. You can configure the same VRF for enrollment and CRL or configure different VRFs.
Configure PKI Split VRF in Trustpoint,"1. Enable privileged EXEC mode with the command 'enable'.
2. Enter global configuration mode with the command 'configure terminal'.
3. Define an enrollment profile with the command 'crypto pki profile enrollment label', where 'label' is the name for the enrollment profile.
4. Specify the URL and VRF name with the command 'enrollment url url [vrf vrf-name]'.
5. Exit configuration mode with the command 'exit'.
6. Verify the configured settings with the command 'show crypto pki profile'.
7. Show current PKI trustpoint configuration with the command 'show crypto pki trustpoint'."
Configure the CA server's VPN Routing and Forwarding (VRF) to send certificate enrollment requests via HTTP or TFTP.,"1. Enter the enrollment URL with the appropriate VRF name using the command ""enrollment url.""
Example: Device(ca-profile-enroll)# enrollment url http://entrust:81/cda-cgi/clientcgi.exe vrf vrf1"
Configuring the PKI Split VRF in Trustpoint,"crypto pki trustpoint trustpoint1
enrollment url http://10.10.10.10:80
vrf vrf1
revocation-check crl"
EST Client Support feature to enable Enrolment Over Secure Transport (EST) for all trustpoints while using SSL or TLS to secure transport.,The following command was introduced: method-est
Enable EST support and configure a trustpoint to use EST (Enrolment Over Secure Transport).,"1. enable
2. configure terminal
3. crypto pki profile enrollmentlabel
4. method-est
5. enrollment urlurl [vrf"
"Enrollment URL, Enrollment credential","http://www.example.com/BigCA/est/simpleenroll.dll, test_label"
Re-enrollment of the crypto pki certificate for the router.,"Certificate Serial Number (hex): 2603, Certificate Usage: Signature, Issuer: cn=estExampleCA, CRL Distribution Points: http://example.com/crl.pem, Validity Date: start date: 19:31:24 GMT Feb 8 2019, end date: 19:31:24 GMT Feb 8 2020, renew date: 19:35:50 GMT Feb 8 2019, Associated Trustpoints: estclient."
Include the specified Eku attribute in the certificate during enrollment.,ocsp url http://[2001DB8:1:1::2]:80
Check the revocation status of a certificate,revocation-check method1 [method2 [method3]]
Configure the device to include EKU attributes in the PKI server.,"Enable, configure terminal, ip http server, crypto pki server cs-label, eku request attribute, exit, show crypto pki counters."
Enable privileged EXEC mode,Device> enable
Online Certificate Status Protocol (OCSP) Extensions to IKEv2,RFC 4806
Configuring Route Processor Redundancy for PKI to reduce unplanned downtime and enable quicker switchover between active and standby RSPs in case of a fatal error.,"Available on Cisco ASR platforms with dual RP support such as ASR 1006, ASR 1009, and ASR 1013. Supports trustpool import."
Route Processor Redundancy feature configuration on platforms with dual RP support and routers that support dual RSPs.,"Configure SSO mode using the commands below:
configure terminal
redundancy
mode sso
main-cpu
standby console enable
exit"
Lifetime CA Certificate and CRL settings,"ca-certificate 00 00 25, crl 6"
Automatic archiving of rollover CA keys and certificates.,auto-rollover 00 00 24
Certificate to ISAKMP Profile Mapping,How to Configure Certificate to ISAKMP Profile Mapping
The initiating router must not have a certificate associated with the remote peer.,"1. The preshared key must be by a fully qualified domain name (FQDN) on both peers.
2. The communicating routers must have a FQDN host entry for each other in their configurations.
3. The communicating routers must be configured to authenticate by hostname, not by IP address; thus, use the crypto isakmp identity hostname command."
"Use AES, SHA-256 and DH Groups 14 or higher for secure communication.",N/A (not provided in the text)
"IKE implementation of DES and Triple DES encryption, with options for 192-bit or 256-bit keys, 56-bit DES-CBC with Explicit IV, and Triple DES (3DES) as a strong form of encryption.","Cisco IOS software supports DES-CBC with Explicit IV standard, and Triple DES (3DES) encryption depending on the software versions available for specific platforms."
"Cisco IOS images with strong encryption (including, but not limited to, 56-bit data encryption feature sets) subject to United States government export controls and limited distribution. Images installed outside the United States require an export license.","Software Encryption Algorithm (SEAL), which uses a 160-bit encryption key and has a lower impact on CPU when compared to other software-based algorithms like DES, 3DES, and AES. Additionally, Secure Hash Algorithm (SHA) 1 and 2 with HMAC variant for authenticating packet data and integrity verification mechanisms for the IKE protocol."
"Suite-B requirements for IKE and IPSec using SHA-256 bit hash algorithm, SHA-384 bit hash algorithm, encryption algorithm, digital signature algorithm, key agreement algorithm, and hash or message digest algorithm.",Cisco IOS Suite-B support for VPNs with IPsec.
"Allows dynamic authentication of peers, IKE Main Mode and Aggressive Mode, secure communication in phase 2.","Phase 1 negotiation (main mode or aggressive mode), key negotiation for security associations, protection of information during negotiation."
Creating an IKE policy at each peer participating in the IKE exchange.,Not specified in the text.
Use RSA encrypted nonces with public key exchange for secure communication.,CA support configured for RSA encryption and signatures.
Set the ISAKMP identity for each peer using preshared keys in an IKE policy.,"Configure the ISAKMP identity for each peer as either a hostname or IP address, and ensure consistency across all peers (either use IP addresses or hostnames for all peers)."
Mask Preshared Keys for remote users with the same level of authentication to share an IKE preshared key.,"Distributing the preshared key through a secure out-of-band channel, using a subnet address to allow more peers to share the same key (not recommended to use 0.0.0.0)."
Create IKE Policies and configure IPsec settings on a device that supports IPsec and long keys (the “k9” subsystem).,"- Enable
- Configure terminal
- Crypto ISAKMP policy priority
- Encryption {des | 3des | aes | aes 192 | aes 256}
- Hash {sha | sha256 | sha384 | md5}
- Authentication {rsa-sig | rsa-encr | pre-share}
- Group {1 | 2 | 5 | 14 | 15 | 16 | 19 | 20 | 24}
- Lifetime seconds
- Exit"
The requirement is to configure the authentication method and Diffie-Hellman (DH) group identifier for Internet Key Exchange (IKE) for IPsec VPNs.,"1. Authentication method: Choose between RSA signatures (rsa-sig), RSA encrypted nonces (rsa-encr), or Preshared keys (pre-share). Example: ""Router(config-isakmp)# authentication pre-share""
2. Diffie-Hellman (DH) group identifier: Choose between DH group 1, 2, 5, 14, 15, 16, 19, 20, or 24. Example: ""Router(config-isakmp)# group 14"""
Configuring Internet Key Exchange for IPsec VPNs and Creating IKE Policies,"Gibraltar 16.11.x, 12"
The group chosen must be strong enough (have enough bits) to protect the IPsec keys during negotiation and comply with the generally accepted guideline.,"Group 14 or higher, 2048-bit DH/DSA group, or Elliptic Curve Cryptography (Group 15 or 16)."
Encryption hardware support for configured encryption method in ISAKMP policy 1.,"Encryption method - Secure Hash Standard 2 (256-bit); Authentication method - Pre-Shared Key; Diffie-Hellman group - #14 (2048 bit); Lifetime - 3600 seconds, no volume limit"
Configuring Security for VPNs with IPsec,IKE Authentication (Authentication method in an IKE policy)
Configuring RSA Keys Manually for RSA Encrypted Nonces when a CA is not in use.,"1. enable
2. configure terminal
3. crypto key generate rsa{general-keys} | usage-keys} [label key-label] [exportable] [modulus modulus-size]
4. crypto key generate ec keysize [256 | 384] [label label-string]
5. exit
6. show crypto key mypubkey rsa
7. configure terminal
8. crypto key pubkey-chain rsa
9. Do one of the following:
   • named-key key-name [encryption | signature]
   • addressed-key key-address [encryption | signature]
10. address ip-address
11. key-string key-string
12. quit
13. Repeat these steps at each peer that uses RSA encrypted nonces in an IKE"
Generates RSA and EC keys with specific sizes and label options.,"- RSA key generation: `crypto key generate rsa {general-keys | usage-keys}`
- RSA key modulus size: `modulus modulus-size`
- EC key generation: `crypto key generate ec keysize [256 | 384] [label label-string]`"
Configure RSA public keys for devices in a public key chain.,crypto key pubkey-chain rsa
"Specify the IP address of the remote peer using the ""address"" command.","Use the ""ip-address"" command to specify the IP address of the peer."
Specify the RSA public key of the remote peer.,address 10.5.5.1
Configure preshared keys for each peer in an IKE policy.,"1. enable
2. configure terminal
3. crypto isakmp identity {address | dn | hostname}
4. ip host hostname address1 [address2...address8]
5. Do one of the following:
   • crypto isakmp key keystring address peer-address [mask] [no-xauth]
   • crypto isakmp key keystring hostname hostname [no-xauth]"
"Use the ""ip host"" command to define a hostname and associated IP addresses for IKE negotiations. Map the peer's hostname to its IP address(es) at all remote peers if the local peer's ISAKMP identity is specified using a hostname.","Configure the ""ip host"" command with the appropriate hostname and IP address(es) on the device for IKE negotiations."
Configuring IKE Mode Configuration,"1. Enable privileged EXEC mode with the command ""enable"".
2. Enter global configuration mode with the command ""configure terminal"".
3. Define an existing local address pool with the command ""ip local pool pool-name start-addr end-addr"". For example, ""Router(config)# ip local pool pool1 172.16.23.0 172.16.23.255"".
4. Reference the local address pool in the IKE configuration with the command ""crypto isakmp client configuration address-pool local pool-name"". For example, ""Router(config)# crypto isakmp client configuration address-pool local pool1""."
"Configure the crypto map with IPsec and IKEv1 (ISAKMP), specifying the DH group for IPSec SA negotiation.","- Set the DH group identifier for IPSec SA negotiation using the ""set pfs"" command."
The group chosen must be strong enough (have enough bits) to protect the IPsec keys during negotiation. A generally accepted guideline recommends the use of a 2048-bit group after 2013 (until 2030).,Group 14 (2048-bit DH group)
Create an IKE Policy using AES encryption and MD5 hash.,crypto isakmp policy <priority> encryption aes hash md5 authentication rsa-sig group 2 lifetime <seconds>
"Configure the encryption algorithm, hash algorithm, authentication method, Diffie-Hellman group, and lifetime for IKE policy.","Protection suite priority 15:
- Encryption algorithm: 3DES - Triple Data Encryption Standard (168 bit keys)
- Hash algorithm: Message Digest 5
- Authentication method: Rivest-Shamir-Adleman Signature
- Diffie-Hellman group: #2 (1024 bit)
- Lifetime: 5000 seconds, no volume limit

Protection suite priority 20:
- Encryption algorithm: DES - Data Encryption Standard (56 bit keys)
- Hash algorithm: Secure Hash Standard
- Authentication method: preshared Key
- Diffie-Hellman group: #1 (768 bit)
- Lifetime: 10000 seconds, no volume limit

Default protection suite:
- Encryption algorithm: DES - Data Encryption Standard (56 bit keys)
- Hash algorithm: Secure Hash Standard
- Authentication method: Rivest-Shamir-Adleman Signature
- Diffie-Hellman group: #1 (768 bit)
- Lifetime: 86400 seconds, no volume limit"
"The requirement in the text is for configuring an AES IKE Policy with a specific lifetime value (e.g., 86,400 seconds) and using an AES 256-bit key.","The example configuration provided includes an IKE policy with an encryption type of ""aes 256"" and a specified lifetime value (""lifetime 180"")."
"General-purpose keys and special-usage keys (crypto key pubkey-chain rsa, named-key otherpeer.example.com) for addressing peers with address 10.5.5.1. The key-string should be used for configuration.","Addressing the peer with IP address 10.1.1.2 and encryption method, using the specified key-string."
Configuring Internet Key Exchange for IPsec VPNs,"Deploying RSA Keys Within a PKI, Configuring RSA keys to obtain certificates from a CA"
"Access to the Cisco Support and Documentation website to download documentation, software, and tools for installing and configuring Cisco products and troubleshooting technical issues.",A Cisco.com user ID and password are required to access most tools on the Cisco Support and Documentation website.
Crypto ISAKMP,"12.2(4)T, Ability to Disable Extended Authentication for Static IPsec Peers, 12.2(8)T, Advanced Encryption Standard (AES), 12.3(7)T, SEAL Encryption Suite-B"
Configure the absolute IKE SA limit using the crypto call admission limit command and configure the system resource limit using the call admission limit command. CAC is applied to new SAs and preserves existing SAs.,Not applicable (as it varies based on specific device configuration)
Limiting the number of IKE and IPsec SAs on a device.,"Configure an IKE SA limit using the ""crypto call admission limit"" command, which sets the limit for the number of established IPsec SAs and IKE SAs."
Security Association Limit for the Call Admission Control in Internet Key Exchange (IKE) for IPsec VPNs.,"Resource limit set by the call admission control in the router, which represents the system resource usage level."
Configure the maximum number of IKE SAs or IPsec SAs that can be in negotiation before IKE starts rejecting new SA requests.,Router(config)# crypto call admission limit {all in-negotiation-sa number | ipsec sa number | ike {in-negotiation-sa number | sa number}}
Configure the absolute IKEv2 Security Association Limit on a router,"1. enable
2. configure terminal
3. crypto ikev2 limit {max-in-negotiation-sa limit number | max-sa limit number}"
Configure a maximum limit of 25 Security Associations (SAs) before IKE starts rejecting new SA requests.,Router(config)# crypto call admission limit ike sa 25
Assign a group name to a peer when the peer is mapped to an ISAKMP profile.,"1. enable
2. configure terminal
3. crypto isakmp profile profile-name
4. client configuration group group-name"
Enable privileged EXEC mode.,"Enter your password if prompted, and use the command ""enable""."
"Associate the group ""some_group"" with a peer having an assigned ISAKMP profile.",crypto isakmp profile id_profile ca trust-point 2315 match identity host domain cisco.com client configuration group some_group
Mapping a Certificate to an ISAKMP Profile Verification,"- Responder Configuration:
    - Crypto PKI certificate map cert_map 10
    - Subject name CO OU = green
    - Crypto ISAKMP profile certpro
    - CA trust-point 2315
    - CA trust-point LaBcA
    - Match certificate cert_map
    - Initiate mode aggressive
- Initiator Configuration:
    - Crypto CA trustpoint LaBcA
    - Enrollment"
"The requirement seems to be related to the configuration of a Cisco device for IPsec VPNs using SSL certificates and ensuring proper subject name ""ou=green"" is set.","1. URL: http://10.76.82.20:80/cgi-bin/openscep
2. Subject Name: ou=green,c=IN
3. Revocation Check: none
4. Certificate Serial Number: 21
5. Certificate Usage: General Purpose
6. Issuer: cn=blue-lab CA, o=CISCO, c=IN
7. Subject Name: Name: Router1.cisco.com, c=IN, ou=green
8. Validity Date: Start date: Mar 31 2004, End date: Apr 1 2009
9. Associated Trustpoints: LaBcA"
Implement Main Mode packet contents for ISAKMP exchange.,"- ID payload: FQDN <Router1.cisco.com>, port 500, protocol 17
- CERT payload: CT_X509_SIGNATURE cert from the peer
- KEEPALIVE payload
- NOTIFY payload"
Software image support for Cisco devices.,"The requirement applies to the use of IP plus images on certain Cisco devices, such as the Cisco 836 routers."
Encrypted Preshared Key Feature for securely storing passwords in type 6 format using a command-line interface (CLI),Use the key config-key command with the password encryption aes command to configure and enable the password (symmetric cipher AES is used to encrypt the keys).
Password encryption and management,key config-key for password encryption
Delete the master key using the no key in config-key password-encryptioncommand.,Deleting the master key using the no key config-key password-encryptioncommand.
Store a type 6 encryption key in private NVRAM using password-encryption aes.,"Configure terminal and use ""password-encryption aes"" command to enable encrypted preshared key."
Configuring password logging and encryption for type 6 password operations.,Router> enable; Router# password logging; Router (config)# key config-key password-encrypt; New key: [Enter new master key]; Confirm key: [Confirm the new master key].
Configure an encrypted preshared key for ISAKMP authentication between two peers,"1. Enter your password if prompted.
2. Enable privileged EXEC mode: Router# enable
3. Enter global configuration mode: Router# configure terminal
4. Configure a preshared authentication key:
   - Specify the IP address of the remote peer (peer-address): Router(config)# crypto isakmp key keystring address 10.2.3.4
   - Specify the fully qualified domain name (FQDN) of the peer (hostname): Router(config)# crypto isakmp key keystring hostname mydomain.com"
Configure an ISAKMP preshared key in ISAKMP keyrings for IPSec Virtual Route Forwarding (VRF) configurations.,"1. enable, 2. configure terminal, 3. crypto keyring keyring-name, 4. pre-shared-key address address key, 5. pre-shared-key hostname hostname key key"
Enable privileged EXEC mode and configure IKE authentication using a crypto keyring and preshared key.,"1. Enter your password if prompted.
   Router# enable
2. Enter global configuration mode.
   Router# configure terminal
3. Define a crypto keyring for use during Internet Key Exchange (IKE) authentication and enter keyring configuration mode.
   Router (config)# crypto keyring keyring-name
4. Define a preshared key to be used for IKE authentication.
   Router (config-keyring)# pre-shared-key address
5. Specify the IP address of the remote peer.
   Router (config-keyring)# pre-shared-key address 10.2.3.5 key cisco
6. Define a preshared key to be used for IKE authentication with hostname and FQDN specifications.
   Router (config-keyring)# pre-shared-key hostname mydomain.com key cisco"
Configure an encrypted preshared key in ISAKMP using the crypto keyring mykeyring.,"1. enable
2. configure terminal
3. crypto isakmp peer ip-address ip-address

Pre-shared-key address 10.2.3.5 key 6 `WHCJYR_Z]GRPF^RXTQfDcfZ]GPAAB
Pre-shared-key hostname mydomain.com key 6 aE_REHDcOfYCPF^RXTQfDJYVVNSAAB"
Enable privileged EXEC mode and configure IPSec peer for AAA using aggressive mode in ISAKMP peer configuration.,"1. enable
2. configure terminal
3. crypto isakmp peer ip-address ip-address
4. set aggressive-mode client-endpoint fqdn cisco.com
5. set aggressive-mode password"
ISAKMP client configuration for a specific group,"1. Enable privileged EXEC mode: enable
2. Enter global configuration mode: configure terminal
3. Specify the policy profile of the group and enter ISAKMP group configuration mode: crypto isakmp client configuration group mygroup
4. Define a local pool address: pool mypool
5. Specify the Domain Name Service (DNS) domain to which the group belongs: domain cisco.com
6. Specify the IKE preshared key for group policy attribute definition: key mykey"
"Crypto ISAKMP client configuration for a group named ""mygroup"" with a key of ""6cZZgDZPOE\dDPF^RXTQfDTIaLNeAAB"", domain ""cisco.com"", and pool ""mypool"".","Enabling privileged EXEC mode, entering global configuration mode, creating a Cisco Easy VPN remote configuration and entering Cisco Easy VPN remote configuration mode, setting the peer IP address for the VPN connection, and configuring an Easy VPN Client with manual connect."
Easy VPN Client configuration for Network Address Translation (NAT) or Peer Address Translation (PAT) using mode client.,Router (config-isakmp-ezpvy)# mode client; Encrypted Preshared Key
"The requirement is to specify the group name, key value, and set the connection mode as manual for the VPN connection.","group group-name
key group-key
connect manual"
- Crypto ISAKMP key configuration with address 10.0.0.2,"- ""crypto isakmp key cisco address 10.0.0.2"" command
- ""password encryption aes"" command
- ""key config-key password-encrypt"" command"
Distinguished Name Based Crypto Maps feature for restricting access to encrypted interfaces based on peer certificates and their Distinguished Names (DNs).,Configuring the router to allow or deny access to encrypted interfaces based on the DN of a peer's certificate.
Configure a DN-based Crypto Map that can be used only by peers authenticated by a DN.,"1. Router(config)# crypto identity name
2. Router(crypto-identity)# dn name=string [,name=string]"
Configure the identity of a router with the given list of DNs in the certificate of the router and enter crypto identity configuration mode.,Router(config)# crypto identity name
A configuration for setting up crypto maps for BigBiz and Little.com using IPsec-isakmp.,"1. crypto map map-to-bigbiz 10 ipsec-isakmp
   set peer 172.21.114.196
   set transform-set my-transformset
   match address 124
   identity to-bigbiz
!
crypto identity to-bigbiz
dn ou=BigBiz
!
!
! This crypto map can be used only by peers that have been authenticated by hostname
! and if the certificate belongs to little.com.
1. crypto map map-to-little-com 10 ipsec-isakmp
   set peer 172.21.115.119
   set transform-set my-transformset
   match address 125
   identity to-little-com
!
crypto identity to-little-com
fqdn little.com"
Application of QoS policies to IPsec-protected packets using ISAKMP profiles and QoS groups.,"Add a QoS group to ISAKMP profiles, and map the group value to the same QoS group as defined in QoS class maps."
IPsec QoS group applied by having the IPsec QoS group made available to the QoS mechanism.,Not specified in the text.
Apply QoS policies to an ISAKMP profile.,Allocate 30 percent of the bandwidth on an outbound WAN link to a specific group of remote VPN devices.
"Enable privileged EXEC mode, define an ISAKMP profile, and apply a QoS group value to an ISAKMP profile.","1. enable
2. crypto isakmp-profile profile-number
3. qos-group group-number"
"IKEv2 IPsec VPN with ESP-AES, ESP-SHA-HMAC, and LZS compression for both client and server.",Crypto IPSEC transform-set client esp-aes esp-sha-hmac comp-lzs; crypto dynamic-map mode 1 set security-association lifetime seconds 180 set transform-set client set isakmp-profile blue reverse-route; crypto dynamic-map mode 2 set transform-set combo set isakmp-profile yellow reverse-route.
The VRF-Aware IPsec feature does not allow IPsec tunnel mapping between VRFs.,"When VTIs or Dynamic VTIs (DVTIs) are used, the global VRF can be used as the IVRF together with a non-global VRF used as the FVRF."
Configure VRF-Aware IPsec with crypto keyrings for preshared and RSA public keys.,"1. enable
2. configure terminal
3. crypto keyring keyring-name [vrf fvrf-name]
4. description string
5. pre-shared-key {address address [mask] | hostname hostname} key key
6. rsa-pubkey {address address | name fqdn} [encryption | signature]
7. address ip-address
8. serial-number serial-number
9. key-string
10. text
11. quit
12. exit
13. exit"
The requirement is to configure VRF-Aware IPsec on a Cisco IOS XE device.,"crypto keyring VPN1
routing and forwarding vrf FVRF-name
crypto ipsec vpn1 transform-set name
crypto ipsec vpn1 match address name
crypto ipsec vpn1 interface name
crypto ipsec vpn1 exit"
"Define and configure preshared keys, RSA public keys, and their related settings for a keyring on a router.","- description string: The keys for VPN1
- pre-shared-key {address address [mask] | hostname hostname} key key
- rsa-pubkey {address address | name fqdn} [encryption | signature]
- encryption keyword (optional): Specifies that the key should be used for encryption.
- signature keyword (default) (optional): Specifies that the key should be used for signature.
- address ip-address (optional): Defines the RSA public key IP address."
Specifying the serial number of the public key,serial-number (0 through infinity)
"Specify a description for an ISAKMP profile using the ""description"" command.","Use the ""vrf"" command to map the IPsec tunnel to a VRF instance, and use the ""vrf"" command to specify the VRF for matching the Security Policy Database (SPD). If the VRF is not specified in the ISAKMP profile, the IVRF of the IPsec tunnel will be the same as its FVRF."
Dead Peer Detection (DPD) messages configuration,"keepalive seconds, retry retry-seconds"
Keyring and Trustpoint configuration for VPN authentication,keyring VPN1; ca trustpoint VPN1-trustpoint
Match the hostname with the ID and type ID_FQDN.,"host hostname --Matches the hostname with the ID type ID_FQDN.

Requirement: Match the domain-name to the ID type ID_FQDN whose domain name is the same as the domain-name. Use this command to match all the hosts in the domain.
Configuration: host domain domain-name --Matches the domain-name to the ID type ID_FQDN whose domain name is the same as the domain-name.

Requirement: Match the username with the ID type ID_USER_FQDN.
Configuration: user username --Matches the username with the ID type ID_USER_FQDN.

Requirement: Match the ID type ID_USER_FQDN whose domain name matches the domainname.
Configuration: user domain domainname --Matches the ID type ID_USER_FQDN whose domain name matches the domainname.

Requirement: (Optional) Specifies whether to initiate the mode configuration exchange or responds to mode configuration requests.
Configuration: client configuration address {initiate | respond}
Example: Router (conf-isa-prof)# client configuration address initiate

Requirement: AAA (authentication, authorization, and accounting) to use for authenticating the remote client during the extended authentication (XAUTH) exchange.
Configuration: client authentication list list-name
Example: Router (conf-isa-prof)# client authentication list xauthlist"
To ignore XAUTH during an IKE Phase 1 negotiation for Unity clients.,Use the no crypto xauth command on the desired interface.
Enable privileged EXEC mode on the device.,enable
Vendor ID processing and authentication method,"- Authentication method: xauth preshared
- Encryption: AES-CBC
- Hash: SHA
- Default group: 14
- Auth type: XAUTHInitPreShared
- Life type: in seconds
- Life duration (VPI): 0x0, 0x20, 0xC4, 0x9B"
"Checking IPSec proposal with transform ESP_AES, authenticator HMAC-SHA.","encaps is 1, SA life duration in seconds and kilobytes, protocol ESP, transform esp-aes esp-sha-hmac, lifedur= 0s and 0kb."
The requirement seems to be related to setting up an IPsec VPN with specific configurations and parameters.,"- Flags: 2
- Lifetime of 2147483 seconds
- Lifetime of 4608000 kilobytes
- Client flags: 0x0
- Outbound Security Associations (SA) from 172.18.1.1 to 10.1.1.1
- SPI: 1343294712, conn_id: 5128, flags: A
- Lifetime of 2147483 seconds
- Lifetime of 4608000 kilobytes
- Client flags: 0x0"
"IPsec VPN with two separate profiles, vpn1 and vpn2","Crypto ISAKMP profile vpn1 and vpn2, Crypto IPSec transform-set vpn1 and vpn2, Crypto Map crypmap 1 and 3 with corresponding peer addresses and isakmp-profile settings, IP route configuration for vrf vpn1 and vpn2"
Secure communication between devices using an IPSec VPN and ISAKMP.,"1. crypto isakmp policy 1
2. encr aes
3. authentication pre-share
4. group 14
5. crypto isakmp key vpn1 address 172.18.1.1
6. crypto ipsec transform-set vpn1 esp-aes esp-sha-hmac
7. crypto map vpn1 1 ipsec-isakmp set peer 172.18.1.1 set transform-set vpn1 match address 101
8. interface FastEthernet1/0 ip address 172.16.1.1 255.255.255.0 crypto map vpn1
9. interface FastEthernet1/1 ip address 10.2.1.1 255.255.0.0"
IPsec CPE Configuration for VPN2,"crypto isakmp policy 1, encr aes, authentication pre-share, group 14, crypto isakmp key vpn2 address 172.18.1.1, crypto ipsec transform-set vpn2 esp-aes esp-sha-hmac, crypto map vpn2 1 ipsec-isakmp set peer 172.18.1.1 set transform-set vpn2 match address 101, interface FastEthernet0 ip address 10.1.1.1 255.255.255.0 crypto map vpn2, interface FastEthernet1 ip address 10.2.1.1 255.255.0.0"
Implement a VPN using IPsec between two CPEs (Customer Premises Equipment). The VPN should use RSA-based authentication.,"Requirement: Implement a VPN using IPsec between two CPEs (Customer Premises Equipment). The VPN should use RSA-based authentication.

Configuration:
1. Configure the crypto isakmp policy with an ID of 10 and authentication method as rsa-encr on both devices.
2. Set up the public key chain for IPsec using the provided public key string."
"- Set up a certificate authority (CA) with the name ""bombo"" for cryptographic operations.","Requirement:
- Set up a certificate authority (CA) with the name ""bombo"" for cryptographic operations.
- Use the enrollment URL ""http://172.31.68.59:80"" for enrolling the CA.
- Configure the certificate chain for the CA with certificate number 03C0.
- Create an ISAKMP profile named ""vpn1"" and associate it with a VRF named ""vpn1"".

Configuration:
- IP address of the interface Ethernet1/1: 172.31.1.1/255.255.0.0
- IP address of the interface Ethernet1/2: 172.18.1.1/255.255.255.0
- Cryptographic map named ""crypmap"" configured on interface Ethernet1/2
- Access list number 101 permitting IP traffic between the address ranges 10.1.0.0 and 10.2.0.0"
"Configure the router with access control and VPN settings, including IPsec remote access-to-MPLS VPN configuration.","- Interface FastEthernet1/0: ip address 172.16.1.1 255.255.255.0, crypto map vpn1
- Interface FastEthernet1/1: ip address 10.2.1.1 255.255.0.0
- Access List: access-list 101 permit ip 10.2.0.0 0.0.255.255 10.1.0.0 0.0.255.255
- VPN Configurations: IPsec remote access-to-MPLS VPN (IPsec tunnels map to MPLS VPNs)
- Authentication, Authorization, and Accounting: aaa new-model, aaa group server radius vpn1/vpn2, aaa authorization network aaa-list group radius"
Implementing a site-to-site VPN using Cisco's Network-Based IPsec VPN Solution.,"1. Configure crypto dynamic-map and isakmp-profile for the VPN2.
2. Configure crypto maps ra 1 and ra 2 with ipsec-isakmp dynamic for vpn1 and vpn2, respectively.
3. Create an IP local pool named vpn1-ra and vpn2-ra with address range from 10.4.1.1 to 10.4.1.254, grouped under vpn1-ra.
4. Apply tag-switching on interface Ethernet1/1 using the command 'tag-switching ip'.
5. Upgrade existing configurations according to VRF-Aware IPsec feature in Cisco Network-Based IPsec VPN solution release 1.5."
Network-based IPsec VPN solution with two configurations (VPN1 and VPN2) for site-to-site connections.,"1. Crypto ISAKMP keys:
   - VPN1: Key VPN1, address 172.21.25.74
   - VPN2: Key VPN2, address 172.21.21.74

2. Crypto IPsec Transform-sets:
   - VPN1: ESP-AES and ESP-SHA-HMAC
   - VPN2: ESP-AES and ESP-SHA-HMAC

3. Crypto Maps:
   - VPN1: Map 10, peer address 172.21.25.74, transform-set VPN1, and access control with match address 101
   - VPN2: Map 10, peer address 172.21.21.74, transform-set VPN2, and access control with match address 102

4. Interface Configuration:
   - FastEthernet0/0.1: Encapsulation dot1Q 1 native, IP VRF forwarding VPN1, IP address 172.21.25.73/24"
Site-to-Site Configuration using Cisco network-based IPsec VPN solution release 1.5,"crypto keyring VPN1-KEYS vrf VPN1
pre-shared-key address 172.21.25.74 key VPN1
crypto keyring VPN2-KEYS vrf VPN2
pre-shared-key address 172.21.21.74 key VPN2
crypto ipsec transform-set VPN1 esp-aes esp-sha-hmac
crypto ipsec transform-set VPN2 esp-aes esp-sha-hmac
crypto map VPN1 10 ipsec-isakmp
 set peer 172.21.25.74
 set transform-set VPN1
 match address 101
 crypto map VPN2 10 ipsec-isakmp
 set peer 172.21.21.74
 set transform-set VPN2
 match address 102"
"VPN configuration with VRF forwarding for VPN1 and VPN2, encapsulation dot1Q 2 native on FastEthernet0/0.2 interface.","- ip vrf forwarding VPN1
- ip address 172.21.25.73 255.255.255.0
- crypto map VPN1
- interface FastEthernet0/0.2
  - encapsulation dot1Q 2 native
- ip vrf forwarding VPN2
- ip address 172.21.21.74 255.255.255.0
- crypto map VPN2"
- Implement a pool VPN1-RA and a pool VPN2-RA for IP address allocation.,"- Set up an interface FastEthernet0/0.1 with encapsulation dot1Q 1 native, IPVRF forwarding for VPN1, and the corresponding IP address (172.21.25.73)."
Upgrade the network-based IPsec VPN solution from a previous version to Cisco network-based IPsec VPN solution release 1.5.,"1. crypto isakmp key VPN1 address 172.21.25.74 no-xauth
2. crypto isakmp key VPN2 address 172.21.21.74 no-xauth
3. crypto isakmp client configuration group VPN1-RA-GROUP key VPN1-RA pool VPN1-RA
4. crypto isakmp client configuration group VPN2-RA-GROUP key VPN2-RA pool VPN2-RA
5. crypto ipsec transform-set VPN1 esp-aes esp-sha-hmac
6. crypto ipsec transform-set VPN2 esp-aes esp-sha-hmac
7. crypto ipsec transform-set VPN1-RA esp-aes esp-sha-hmac
8. crypto ipsec transform-set VPN2-RA esp-aes esp-sha-hmac
9. crypto dynamic-map VPN1-RA 1 set transform-set VPN1-RA reverse-route"
- Crypto dynamic-map for VPN2-RA (crypto dynamic-map VPN2-RA 1),"- Crypto dynamic-map VPN2-RA with transform-set VPN2-RA and reverse-route (crypto dynamic-map VPN2-RA 1 set transform-set VPN2-RA reverse-route)
- Crypto map VPN1 with client authentication list VPN1-RA-LIST, ISAKMP authorization list VPN1-RA-LIST, and configuration address initiate and respond (crypto map VPN1 client authentication list VPN1-RA-LIST crypto map VPN1 isakmp authorization list VPN1-RA-LIST crypto map VPN1 10 ipsec-isakmp set peer 172.21.25.74 set transform-set VPN1 match address 101)
- Crypto map VPN2 with client authentication list VPN2-RA-LIST, ISAKMP authorization list VPN2-RA-LIST, and configuration address initiate and respond (crypto map VPN2 client authentication list VPN2-RA-LIST crypto map VPN2 isakmp authorization list VPN2-RA-LIST crypto map VPN2 10 ipsec-isakmp set peer 172.21.21.74 set transform-set VPN2 match address 102)
- Interface FastEthernet0/0.1 with encapsulation dot1Q 1, native VRF forwarding VPN1, IP address 172.21.25.73, and crypto map VPN1 (interface FastEthernet0/0.1 encapsulation dot1Q 1 native ip vrf forwarding VPN1 ip address 172.21.25.73 255.255.255.0 crypto map VPN1)
- Interface FastEthernet0/0.2 with encapsulation dot1Q 2, native VRF, and IP address (interface FastEthernet0/0.2 encapsulation dot1Q 2 native ip vrf)"
"Configure an ISAKMP profile for site-to-site configurations that do not require XAUTH, and configure an ISAKMP profile with XAUTH for remote access configurations.","1. For site-to-site configurations without XAUTH:
   - crypto keyring VPN1-KEYS vrf VPN1
   - pre-shared-key address 172.21.25.74 key VPN1

2. For remote access configurations with XAUTH:
   - crypto keyring VPN2-KEYS vrf VPN2
   - pre-shared-key address 172.21.21.74 key VPN2"
Crypto ISAKMP profiles and IPsec transform sets for VPN1 and VPN2.,"VPN1:
- Crypto ISAKMP profile: VPN1
  - Keyring: VPN1-KEYS
  - Match identity address: 172.21.25.74

VPN2:
- Crypto ISAKMP profile: VPN2
  - Keyring: VPN2-KEYS
  - Match identity address: 172.21.21.74

VPN1-RA and VPN2-RA:
- IPsec transform-set: esp-aes esp-sha-hmac

VPN1-RA and VPN2-RA:
- Crypto dynamic-map: 1
  - Set transform-set: VPN1-RA
  - Set isakmp-profile: VPN1-RA
  - Reverse-route"
VPN configuration for site-to-site and remote access using IKE (Isakmp-profile) and IPsec.,"1. isakmp-profile VPN2-RA reverse-route
   - crypto map VPN1 10 ipsec-isakmp set peer 172.21.25.74 set transform-set VPN1 set isakmp-profile VPN1 match address 101 crypto map VPN1 20 ipsec-isakmp dynamic VPN1-RA
   - crypto map VPN2 10 ipsec-isakmp set peer 172.21.21.74 set transform-set VPN2 set isakmp-profile VPN2 match address 102 crypto map VPN2 20 ipsec-isakmp dynamic VPN2-RA
2. Interface FastEthernet0/0.1:
   - encapsulation dot1Q 1 native
   - ip vrf forwarding VPN1
   - ip address 172.21.25.73 255.255.255.0 crypto map VPN1
3. Interface FastEthernet0/0.2:
   - encapsulation dot1Q 2 native
   - ip vrf forwarding VPN2
   - ip address 172.21.21.74 255.255.255.0 crypto map VPN2"
VRF-Aware IPsec introduces IP Security (IPsec) tunnel mapping to Multiprotocol Label Switching (MPLS) Virtual Private Networks (VPNs).,Mapping of IPsec tunnels to Virtual Routing and Forwarding (VRF) instances using a single public-facing address.
"A VPN that uses tunneling to encrypt information at the IP level, and a VRF that consists of an IP routing table, a derived forwarding table, a set of interfaces using the forwarding table, and rules and routing protocols determining what goes into the forwarding table.","XAUTH (Extended authentication) is an optional exchange between IKE Phase 1 and IKE Phase 2, in which the router demands additional authentication information to authenticate the actual user."
The IKE: Initiate Aggressive Mode feature allows you to specify RADIUS tunnel attributes for an IP security (IPsec) peer and initiate an Internet Key Exchange (IKE) aggressive mode negotiation with the tunnel attributes. This is best implemented in a crypto hub-and-spoke scenario where the spokes initiate IKE aggressive mode negotiation with the hub by using preshared keys that are specified as tunnel attributes and stored on the AAA server.,Not provided
Configure AAA with Tunnel Endpoint Discovery (TED) Restrictions and use appropriate ID types for Tunnel-Client-Endpoint IDs.,Configure an IKE Initiate Aggressive Mode feature that allows you to configure IKE preshared keys as RADIUS tunnel attributes for IPsec peers while adhering to the restrictions and using appropriate ID types.
Configure IKE Initiate Aggressive Mode with Tunnel-Client-Endpoint and Tunnel-Password attributes within the ISAKMP peer configuration.,"1. enable
2. configure terminal
3. crypto map map-name isakmp authorization list list-name
4. crypto isakmp peer {ip-address ip-address | fqdn fqdn}
5. set aggressive-mode client-endpoint
6. set aggressive-mode password password"
Enable IPsec peer for IKE querying of AAA for tunnel attributes in aggressive mode and enter ISAKMP policy configuration mode.,Router (config)# crypto map testmap10 isakmp authorization list list ike
Configure aggressive-mode and set the Tunnel-Password attribute within an ISAKMP peer configuration.,Router (config-isakmp)# set aggressive-mode; client-endpoint user-fqdn user@cisco.com; set aggressive-mode password cisco123
Configure a spoke for a hub-and-spoke topology that supports aggressive mode using RADIUS tunnel attributes.,"crypto isakmp policy 1
authentication pre-share
!
! The IPsec configurations are as follows:
crypto ipsec transform-set trans1 esp-aes esp-sha-hmac
access-list 101 permit ip 10.3.3.0 0.0.0.255 10.2.2.0 0.0.0.255"
Crypto ISAKMP peer configuration with address 10.4.4.1 and aggressive-mode settings.,"```
crypto isakmp peer address 10.4.4.1
set aggressive-mode client-endpoint user-fqdn user@cisco.com
set aggressive-mode password cisco123
```"
Configuring Internet Key Exchange for IPsec VPNs and Next Generation Encryption,"Recommended cryptographic algorithms, Standards"
Configure a Class Map for a Layer 3 and Layer 4 Firewall Policy,Creating a Policy Map for a Layer 3 and Layer 4 Firewall Policy
Configuring Zones and Zone Pairs for Asymmetric Routing in an IPv6 Firewall.,Interchassis High Availability Support in IPv6 Zone-Based Firewalls.
Configurable Number of Simultaneous Packets per Flow,"Various methods, including class maps, policy maps, and zones."
Configurable Number of Simultaneous Packets per Flow,341
Configuring Interchassis High Availability for LISP Inner Packet Inspection,354
High Availability Support for Firewall and NAT in H.323 vTCP,Configure ALG—H.323 vTCP with High Availability Support for Firewalls and NAT
WCCP traffic redirection not working when zone-based policy firewall enabled with generic GRE on Cisco Aggregation Services Router.,"Remove the zone-based policy firewall configuration from interfaces. If using a WAE device, WCCP traffic redirection works correctly."
"Match the Internet Control Message Protocol (ICMP) on a Windows system using the traceroute command, and configure an out-to-in zone-based policy with the icmp time-exceeded and icmp host unreachable commands using the pass command.","The configuration for this requirement is specific to Cisco IOS XE Release 3.1S and previous releases. It involves setting up a zone-based firewall policy with ICMP settings, and not using the inspect command."
Zone-mismatch drop configuration in the class parameter map for Cisco IOS XE Release 3.15S and later releases.,"Zone-based firewall support with dynamic interfaces only in the default zone, where interfaces are created or deleted dynamically when traffic is tunneled into tunnels such as IPsec or VPN secure tunnels. Virtual templates are used to support certain types of dynamic interfaces."
Zone-based firewall for security features in the network.,Creating zones and configuring interfaces as members of a given zone to apply policies.
Traffic flow through zone pairs and policies,"Zones, Zone pairs, Policies for inspect or pass actions"
Traffic flow between specific interfaces (E0/E1 and E2) requires an explicit policy. Traffic between E3 and E0/E1/E2 cannot flow unless default zones are enabled.,Maximum of 4000 zones supported on Cisco ASR 1000 Series Aggregation Services Routers.
Define a unidirectional firewall policy between two security zones using the zone-pair security command.,"Use the zone-pair security command to specify the direction of traffic by source and destination zones, which must be security zones. You can select the default or self zone as either the source or the destination zone. To enable default zones, use the zone security default configuration command."
Layer 3 and Layer 4 Class Maps and Policy Maps for traffic stream identification and action performance.,"Configure class map c1 with match criteria of ACL 101 and HTTP protocol, and create an inspect policy map named p1 to specify that packets will be dropped on the traffic at c1."
The traffic must be classified using the order of specific to less specific match criteria in a class map.,class-map type inspect match-any my-test-cmap match protocol http match protocol tcp
Define a class-default in an inspect policy with only drop or pass action.,"In the given example, the configuration is as follows:
1. Create a class-map for HTTP traffic using `match protocol http`.
2. Create a policy-map of type inspect and name it p1.
3. Define a class type inspect c1 in the policy-map p1.
4. Set the action for class c1 to drop.
5. Configure the class-default with either drop or pass action."
Access Control Lists and Class Maps for classifying network traffic and defining permit or deny conditions in an ACL.,"Configure the range of variables in an ACL as match criteria for a class-map, supporting only source address, source port, destination address, destination port, and protocol match criteria."
"The requirement is to have an ACL that matches the HTTP protocol and performs inspection using ""pmap1.""",access-list 102 deny ip 10.2.3.4 0.0.0.0 any; access-list 102 permit any any; class-map type inspect match-all test1; match access-list 102; match protocol http;
Create hierarchical policy maps with child and parent policies for matching protocols and setting idle times.,"!
parameter-map type inspect pmap1
match protocol http
tcp idle-time 15
!
parameter-map type inspect pmap2
match protocol any
udp idle-time 3600
!
policy-map type inspect test
class type inspect test1
service-policy pmap1
!
class type inspect test2
service-policy pmap2
!
class type inspect class-default
drop log"
Network Address Translation (NAT) configuration for private IP internetworks to connect to the Internet and translate addresses between internal and external networks.,"A device configured with NAT should have at least one interface connected to the inside network and one to the outside network, translating private addresses into legal addresses before forwarding packets between networks. In a typical environment, NAT is configured at the exit device between a stub domain and the backbone."
NAT translation for both source and destination IP addresses in a scenario where devices have inside (local) and outside (global) address spaces.,"Inside network has addresses like 192.168.1.1, while the outside network has addresses like 209.165.200.225. NAT translates these addresses to send packets between the networks."
Change the TCP sequence number to allow endpoints to distinguish between optimized and nonoptimized traffic flows.,Enable the sequence number change in Cisco firewall for automatic discovery of optimized traffic without compromising stateful Layer 4 inspection of TCP traffic flows containing internal firewall TCP state variables. Adjust these variables for the presence of WAE devices.
"A requirement of the deployment is to have an edge WAAS device with the Cisco firewall at branch office sites that must inspect the traffic moving to and from a WAN connection. The requirement also includes using Web Cache Communication Protocol (WCCP) for redirecting traffic to an off-path, standalone WAE device for traffic interception.",The configuration for this option is the same as the WAAS branch deployment with an NME-WAE.
Out-of-Order Packet Processing Support in the Zone-Based Firewalls,"In Cisco IOS XE Release 3.5S, if a session does not require DPI, OoO packets are allowed to pass through the router and reach their destination. All Layer 4 traffic with OoO packets is allowed to pass through to their destination. However, if a session requires Layer 7 inspection, OoO packets are still dropped."
Zone-Based Policy Firewall features for Cisco ASR 1000 Series Aggregation Services Routers,Smart Licensing Support for Zone-Based Policy Firewall
Smart Licensing is ENABLED,"License Authorization - EVAL MODE, Evaluation Period Remaining - 65 days, 14 hours, 18 minutes, 58 seconds, License Usage - ASR_1000_AdvEnterprise, Description - Count: 1, Version: 1.0, Status: EVAL MODE"
Configuring a Class Map for a Layer 3 and Layer 4 Firewall Policy,"1. enable
2. configure terminal
3. class-map type inspect [match-any | match-all] class-map-name
4. match access-group {access-group | name access-group-name}
5. match protocol protocol-name [signature]
6. match class-map class-map-name"
Configure a class map for a Layer 3 or Layer 4 firewall policy.,"1. Enter privileged EXEC mode by typing ""enable"" on the device prompt.
2. Use the command ""configure terminal"" to enter global configuration mode.
3. Create a class map using the command ""class-map type inspect [match-any | match-all]"".
4. Define the class map name with the command ""class-map-name"".
5. Configure the match criterion for the class map based on access control list (ACL) using the command ""match access-group {access-group | name access-group-name}"".
6. To configure the match criterion based on a specified protocol, use the command ""match protocol protocol-name [signature]""."
"Cisco stateful packet inspection-supported protocols can be used as match criteria in inspect type class maps, specifying a previously defined class as the match criteria for a class map.",match protocol http; match class-map c1
- Attach a firewall policy map to a zone pair.,- Device(config-pmap-c)# service-policy type inspect policy-map-name
Configuring an Inspect Parameter Map,parameter-map type inspect {parameter-map-name | global | default}
Enable Cisco stateful packet inspection alert messages,"alert {on | off}
Example: Step 5, Device(config-profile)# alert on

Requirement: Enable audit trail messages
Configuration: audit-trail {on | off}
Example: Step 6, Device(config-profile)# audit-trail on

Requirement: Specify the DNS idle timeout (the length of time for which a DNS lookup session will be managed while there is no activity)
Configuration: dns-timeout seconds
Example: Device(config-profile)# dns-timeout 60

Requirement: Configure the timeout for ICMP sessions
Configuration: icmp idle-timeout seconds
Example: Step 8, Device(config-profile)# icmp idle-timeout 90

Requirement: Define the number of existing half-open sessions that will cause the Cisco firewall to start and stop deleting half-open sessions
Configuration: max-incomplete {low | high} number-of-connections
Example: Device(config-profile)# max-incomplete low 800"
"Limit the number of new unestablished sessions before starting to delete half-open sessions and stopping the deletion of half-open sessions. Also, configure the maximum number of allowed sessions on a zone pair.",one-minute low 300
Create at least one security zone and group interfaces that are similar when viewed from a security perspective.,"Use the ""zone security zone-name"" command to create a security zone, and use the ""configure terminal"" command to assign interfaces to the security zones."
Attaching a firewall policy map to the destination zone pair.,service-policy type inspect policy-map-name
Configure NetFlow event logging,"1. enable
2. configure terminal
3. parameter-map type inspect-global
4. log dropped-packets
5. log flow-export v9 udp destination ipv4-address port
6. log flow-export template timeout-rate seconds
7. end
8. show parameter-map type inspect-global"
Configure the firewall with WAAS for Wide Area Application Services (WAAS) traffic flow optimization in a Cisco IOS XE environment.,"1. enable
2. configure terminal
3. ip wccp service-id
4. ip wccp service-id
5. log dropped-packets"
Configure a class-map type inspect for most-traffic and create an inspect type policy-map with a specific protocol as match criteria.,"1. Device(config)# class-map type inspect most-traffic
2. Device(config-cmap)# match protocol http [signature] (if using Cisco stateful packet inspection-supported protocols, replace 'http' with the appropriate protocol name and signature)
3. Exit class-map configuration mode: Device(config-cmap)# exit
4. Create a policy-map type inspect with a specific policy-map-name: Device(config)# policy-map type inspect policy-map-name
5. Specify the matching of the system default class: Device(config-pmap)# class class-default
6. If the system default class is not specified, unclassified packets are matched."
"Create a security zone pair with description ""Internet""",zone-pair security zone-pair name [source source-zone-name | self] destination [self | destination-zone-name]
Configuring Layer 3 and Layer 4 Firewall Policies with access control list (ACL) 199 and deep-packet HTTP inspection enabled. Match access-group 101 for Layer 4 inspection.,"class-map type inspect match-all http-traffic
match protocol http
match access-group 101
!
policy-map type inspect mypolicy
class type inspect http-traffic
inspect
service-policy http http-policy"
Creating an Inspect Parameter Map with specific parameters and configurations.,parameter-map type inspect eng-network-profile alert on audit-trail on dns-timeout 60 icmp idle-timeout 90 max-incomplete low 800 one-minute low 300 sessions maximum 200 tcp finwait-time 5 tcp idle-time 90 tcp max-incomplete host 500 block-time 10 tcp synwait-time 3 udp idle-time 75
Check the TCAM memory used in a device.,"Use the ""show platform hardware qfp active classification feature-manager shm-stats-counter"" command on the device."
Configuring the Cisco Firewall with WAAS and optimizing traffic flow using WCCP for redirecting traffic to a Wide Area Application Engine (WAE) device.,"1. ip wccp 61
2. ip wccp 62
3. parameter-map type inspect global
4. log dropped-packets enable
5. max-incomplete low 18000
6. max-incomplete high 20000"
DHCP Client Request Router Configuration,"Requirement: DHCP Client Request Router Configuration
Configuration: No IP DHCP client request router

Requirement: Interface GigabitEthernet0/1 Configuration
Configuration: Description: Clients, IP Address: 172.25.50.1/24, IP PIM Sparse-Mode, IP NAT Inside, IP Virtual-Reassembly In, Zone Member Security In, Delay: 30, Duplex Auto, Speed Auto

Requirement: Interface Vlan1 Configuration
Configuration: Description: WAAS Interface, IP Address: 172.25.60.1/24, IP WCCP Redirect Exclude In, IP NAT Inside, IP Virtual-Reassembly In, Zone Member Security Waas, Load-Interval: 30

Please note that the text also mentions specific configurations for a WAE (Wide Area Application Engine) device which are not included in the extracted configurations."
"Cryptographic configuration for IKEv2 VPN using 3DES encryption, SHA-256 integrity, and group 5","Crypto IKEv2 proposal PROP, Encryption 3des, Integrity sha256, Group 5"
Configuring Firewall with FlexVPN and DVTI Under a Different Zone,"1. crypto ikev2 proposal PROP
   - encryption 3des
   - integrity sha256
   - group 5
2. crypto ikev2 policy POL
   - match fvrf any
   - proposal PROP
3. crypto ikev2 keyring keyring1
   - peer peer1
   - address 0.0.0.0 0.0.0.0
   - pre-shared-key cisco1
4. crypto ikev2 keyring keyring2
   - peer peer2
   - address 0.0.0.0 0.0.0.0
   - pre-shared-key cisco2
5. ..."
Configuring tunnels and security zones for different interfaces.,"1. Interface Gi0/0/0.5:
   - Encapsulation: dot1q 5
   - IP Address: 100.1.4.1 /24
   - Zone Member Security: in

2. Interface Gi0/0/0.6:
   - Encapsulation: dot1q 6
   - IP Address: 100.1.5.1 /24
   - Zone Member Security: in

3. Virtual-Template1:
   - Type: tunnel
   - Unnumbered: loopback1
   - Zone Member Security: zone1
   - Tunnel Source: loopback1
   - Tunnel Mode: ipsec ipv4
   - Tunnel Protection Profile: ipsec1

4. Virtual-Template2:
   - Type: tunnel
   - Unnumbered: loopback2
   - Zone Member Security: zone2
   - Tunnel Source: loopback2
   - Tunnel Mode: ipsec ipv4
   - Tunnel Protection Profile: ipsec2

5. Virtual-Template3:
   - Type: tunnel
   - Unnumbered: loopback3
   - Zone Member Security: zone3
   - Tunnel Source: loopback3
   - Tunnel Mode: ipsec ipv4
   - Tunnel Protection Profile: ipsec3

6. Virtual-Template4:
   - Type: tunnel
   - Unnumbered: loopback4
   - Zone Member Security: zone4
   - Tunnel Source: loopback4
   - Tunnel Mode: ipsec ipv4
   - Tunnel Protection Profile: ipsec4

7. Virtual-Template5:
   - Type: tunnel
   - Unnumbered: loopback5
   - Zone Member Security: (Not specified in the provided text)"
Zone-Based Policy Firewall features for Cisco ASR 1000 Series Aggregation Services Routers,"Separate license required to enable and disable features, Smart License support for Zone-Based Firewall on ASR1000 feature implemented with the Universal K9 software image"
IPv6 Zone-Based Firewall Support over VASI,"Requirement: IPv6 Zone-Based Firewall Support over VASI
Configuration: Zone-Based Policy Firewall module."
Dual-Stack Firewalls configuration with support for IPv4 and IPv6 traffic.,"Dual-Stack Firewalls can be configured in scenarios where one firewall zone runs IPv4 traffic and another runs IPv6 traffic, or when stateful Network Address Translation 64 (NAT64) is deployed with coexistence of IPv4 and IPv6 traffic. The same zone pair allows both IPv4 and IPv6 traffic."
The firewall must recognize the Payload Length and Next Header Length fields to create a session and calculate the length of some Layer 4 protocols such as ICMP and TCP.,Not inspected.
Decrement Hop Limit value by one.,None (the device can decrement the value without recalculating the checksum for IPv6 header).
Firewall support for inspection of fragmented IPv6 packets and creation of UDP sessions based on the configured policy.,"The firewall supports the inspection of fragmented IPv6 packets, and it creates UDP sessions when the first UDP packet that matches the configured policy arrives."
Firewall inspection of fragmented packets using Virtual Fragmentation Reassembly (VFR) for correct order and automatic configuration when enabling firewall on an interface.,"Enabling the firewall on an interface by adding it to a zone, with VFR configured automatically on the same interface. If explicitly disabled, the firewall only inspects the first fragments with Layer 4 headers and passes the rest without inspection."
"The firewall inspects ICMPv6 messages, supports Stateful NAT64, and uses an IPv6 ACL with embedded IPv4 addresses.","Firewall inspection for specific ICMPv6 messages (ECHO REQUEST, ECHO REPLY, DESTINATION UNREACHABLE, PACKET TOO BIG, PARAMETER PROBLEM, TIME EXCEEDED), and Zone-Based Policy Firewall support for Stateful NAT64."
VRF-aware Stateful NAT64 configuration is not supported with firewall.,ACL must use IPv6 addresses to filter Stateful NAT64 packets and support port-to-application mapping for customizing TCP or UDP port numbers.
Define a zone pair and a policy map with pass action for both outside-to-inside and inside-to-outside policies for IPv6 traffic.,"1. Configure the policy map type inspect outside-to-inside-policy with the ipv6-class class and pass action:
```
policy-map type inspect outside-to-inside-policy
class type inspect ipv6-class
pass
```
2. Configure the policy map type inspect inside-to-outside-policy with the v6_class class and pass action:
```
policy-map type inspect inside-to-outside-policy
class type inspect v6_class
pass
```"
Enable VRF configuration mode and configure sessions that carry standard IPv6 address prefixes.,vrf-definition VRF1; address-family ipv6; exit-address-family; exit
Configure the number of allowed sessions for a zone pair in the inspect action parameter map.,Device(config)# parameter-map type inspect ipv6-param-map sessions maximum sessions
Configuring Zones and Applying Zones to Interfaces,Device(config)# zone security z1
Configure IPv6 address and enable IPv6 processing on a subinterface.,"1. Enter subinterface configuration mode (e.g., Device(config-subif)#).
2. Set the IPv6 address and prefix length using the ""ipv6 address"" command (e.g., Device(config-subif)# ipv6 address 2001:DB8:2222:7272::72/64)."
Enabling NAT64 on an interface,Device(config-if)# nat64 enable
Set primary or secondary IP address for an interface.,ip address ip-address mask
Implementing IPv6 access control list (ACL) to permit traffic from specific source IPv6 address to a destination IPv6 address.,"Device(config-ipv6-acl)# permit ipv6 host 2001:DB8:1::2 host 209.165:201.25
Example:
Step 19"
Defining a Stateful NAT64 IPv4 address pool.,"Requirement: Defining a Stateful NAT64 IPv4 address pool.
Configuration: nat64 v4 pool pool-name start-ip-address end-ip-address"
Configuring an IPv6 Access List (ACL) and a policy map with a class map for inspecting IPv6 traffic using Zones in Cisco IOS.,"1. Create an IPv6 ACL:
   ```
   Device(config)# ipv6 access-list ipv6-acl
   Device(config-ipv6-acl)# permit ipv6 any any
   Device(config-ipv6-acl)# exit
   ```
2. Create a class map to match traffic based on the ACL:
   ```
   Device(config)# class-map type inspect match-all ipv6-class
   Device(config-cmap)# match access-group name ipv6-acl
   Device(config-cmap)# match protocol tcp
   Device(config-cmap)# exit
   ```
3. Create a policy map for the IPv6 class:
   ```
   Device(config)# policy-map type inspect ipv6-policy
   Device(config-pmap)# class type inspect ipv6-class
   Device(config-pmap-c)# inspect ipv6-param-map
   Device(config-pmap-c)# end
   ```"
Configure an IPv6 firewall and Stateful NAT64 Port Address Translation (PAT).,"- Enable IPv6 unicast routing.
- Create a zone member security for zones z1 and z2.
- Assign IPv6 address to the interfaces gigabitethernet 0/0/0 and 0/0/1, with respective addresses 2001:DB8:2222:7272::72/64 and 2001:DB8:1::2/96.
- Configure NAT64 enable for both interfaces.
- Create an IPv6 access list (ipv6-ipv4-pair) that permits traffic between the IPv6 host 2001:DB8:1::2 and the IPv4 address 209.165.201.25.
- Define a static IPv6 route for the network 2001:DB8:1::2/96."
The Zone-Based Policy firewall supports the inspection of IPv6 packets.,"Introduced or modified commands - ip port-map, show policy-map type inspect zone-pair; Cisco IOS XE Release 3.6S"
VRF (Virtual Routing and Forwarding) for isolating traffic from different customers within a single router and allowing multiple instances of routing tables to coexist.,"Cisco IOS XE VRF support, splitting the router into multiple routing domains with unique table IDs."
VRF-aware firewall that allows users to configure per-VRF firewall and supports overlapping IP address space.,"Supports VRF (not global) firewall command parameters and Denial-of-Service (DoS) parameters, allowing the VRF-aware firewall to run as multiple instances with VRF instances allocated to various VPN customers."
Successful deployment of a peer-to-peer (P2P) VPN implementation using Multiprotocol Label Switching (MPLS) VPN technology to overcome the overlapping addresses issue. Each VPN has its own routing and forwarding table in the device so that any customer or site that belongs to a VPN is provided access only to the set of routes contained within that table.,Not specified in the text
"Network Information Center (NIC)-registered IP addresses for sites that do not possess them, NAT system integration with Multiprotocol Label Switching (MPLS) VPNs.","Dynamic mapping of thousands of hidden internal addresses to a range of easy-to-get addresses, differentiation of MPLS VPNs from which it receives IP traffic for multiple MPLS VPN customers while ensuring complete separation between them."
Implementing NAT on customer edge (CE) or provider edge (PE) devices for MPLS VPN customers to use overlapped IP addresses in their network.,"NAT integration with MPLS VPNs feature enables the implementation of NAT on a PE device in an MPLS cloud, and VRF-Aware ALG is used for translating IP address information inside the payload of application packets."
"Information about source and destination IP address, and destination port. Source port information is not provided.",Not applicable for the given text. The text only provides information on the security configuration guide.
"Implementing VRF-Aware IPsec for mapping IPsec tunnels to MPLS VPNs, using a single public-facing IP address and associating each tunnel with two VRF domains (Front Door VRF and Inside VRF).","Associate the outer encapsulated packet of each IPsec tunnel with the Front Door VRF domain, and associate the inner protected IP packet with the Inside VRF domain. Configure a single interface to terminate one or more IPsec tunnels, ensuring that the FVRF of all these tunnels is set to the VRF configured on that interface. The IVRF of these tunnels can be different, depending on the VRF defined in the ISAKMP profile attached to the crypto."
"Configure either static routing or dynamic routing with BGP, EIGRP, or OSPF for VASI interfaces to ensure vasileft gets automatically paired with vasiright.",N/A (insufficient information provided)
All interfaces associated with a zone must be contained in the same VRF (Virtual Routing Forwarding).,The firewall supports a maximum of
"Distributed Network with VPN1 and VPN2, VLAN segment, and firewall rules for protection.","VPN1 and VPN2 connected to PE1, Site A, PE2, Site B, PE3, VLAN subinterface on PE3."
Configure VRF instance with route distinguisher and export/import route-target.,"Requirement:
Configure VRF instance with route distinguisher and export/import route-target.

Configuration:
1. Enable privileged EXEC mode: enable
2. Enter global configuration mode: configure terminal
3. Define a VRF instance and enter VRF configuration mode: ip vrf vrf-name
4. Specify a route distinguisher for the VRF instance: rd route-distinguisher
5. Create a route-target extended community and export/import routing information: route-target export route-target-ext-community / route-target import route-target-ext-community"
Enable stateful packet inspection on a device using Cisco IOS XE.,class type inspect class-map-name
Create and configure a zone-pair security policy to attach a Layer 7 policy map to a top-level policy map in a router.,"Router(config)# zone-pair security vpn1-global-zone-pair source vpn1-zone destination global-zone
Router(config)# service-policy type inspect policy-map-name global-vpn1-pmap
Router(config)# end"
Configure an interface and enter interface configuration mode.,interface type number
Exit the interface configuration mode and enter global configuration mode.,exit (to exit the interface configuration mode) and Router(config)# command for entering global configuration mode.
Apply Zones to Interfaces and Define Routes for VRF,"1. Configure interfaces with IP addresses and VRF forwarding:
   - gigabitethernet 0/0/0: ip vrf forwarding vrf1, ip address 10.1.1.1 255.255.255.0, zone-member security vpn1-zone, negotiation auto
   - gigabitethernet 1/1/1: ip vrf forwarding vrf1, ip address 10.111.111.111 255.255.255.0, zone-member security global-zone, negotiation auto

2. Define a route for VRF vpn1 using the global interface gigabitethernet 1/1/1:
   - ip route vrf vpn1 10.111.111.0 255.255.255.0 gigabitethernet 1/1/1 global"
VRF-Aware Cisco IOS XE Firewall feature,"Cisco IOS XE Release 2.5, Firewall--VRF-Aware ALG Support"
Layer 2 transparent firewall configuration on bridged packets,Layer 2 interfaces for the transparent firewall configuration
Support for sending TCP reset (RST) packets in Ethernet frames.,Not supported after intrabox high availability switchover and not supported for Virtual TCP (vTCP).
"The transparent firewall supports only Ethernet as a Layer 2 protocol, and supports both IPv4 and IPv6 addresses. It also supports zone-based or Layer 3 firewall configurations on Layer 2 interfaces, and can coexist with the Layer 2 transparent firewall on a device.","The transparent firewall supports IP inspection (ICMP, TCP, UDP) with the following topologies: between two GigabitEthernet interfaces, between a GigabitEthernet interface and a GigabitEthernet subinterface, and between two GigabitEthernet subinterfaces. It passes Address Resolution Protocol (ARP), Multicast packets (RIP, OSPF, OSPFv3, EIGRP IPv4 and IPv6, ISIS IPv4) without a policy attached."
Configure a Layer 2 transparent firewall using the same configuration as zone-based firewalls.,"1. Define class maps using ""class-map"" and ""match-any"".
2. Define policy maps using ""policy-map"" and ""class"".
3. Define zones and zone pairs using ""zone security"" commands.
4. Attach interfaces to firewall zones using ""security"" and ""interface"" commands.
5. Enable local switching by connecting interfaces with the ""switchport"" command."
Implementing a zone-based firewall with two zone pairs (lan2wan and wan2lan) for traffic filtering between LAN and WAN interfaces.,"1. Configure zone security for LAN and WAN.
   - Device(config)# zone security lan
   - Device(config)# zone security wan
2. Create zone-pair security for LAN to WAN and WAN to LAN traffic.
   - Device(config)# zone-pair security lan2wan source lan destination wan
   - Device(config)# service-policy type inspect policy-lan-wan
   - Device(config)# exit
   - Device(config)# zone-pair security wan2lan source wan destination lan
   - Device(config)# service-policy type inspect policy-wan-lan
   - Device(config)# exit
3. Configure interfaces with no IP address and assign them to respective zones.
   - Device(config)# interface gigabitethernet 0/0/0
     - Device(config-if)# no ip address
     - Device(config-if)# zone-member security lan
   - Device(config)# interface gigiabitethernet 0/0/1
     - Device(config-if)# no ip address
     - Device(config-if)# zone-member security wan
4. Configure local switching for L2FW with GigabitEthernet 0/0/0.
   - Device(config)# connect l2fw-conn gigabitethernet 0/0/0"
Create a class map with match-any criteria based on a specified protocol.,"Router(config)# class-map match-any class-map-name
Router(config-cmap)# match protocol protocol-name"
"The requirement is to provide the Cisco IOS XE firewall with the functionality to configure multiple traffic classes (also called nested class maps or hierarchical class maps) as a single traffic class. When packets meet more than one match criterion, you can configure multiple class maps that can be associated with a single traffic policy.",The specific configuration details are not provided in the given text.
Enabling Zone Mismatch Handling to drop packets that do not match the zone through which the session arrives or leaves.,"Device(config)# zone security private, Device(config-sec-zone)# exit, Device(config-profile)# zone-mismatch drop"
Secure the device interfaces with different security zones and IP addresses.,"1. Create a public security zone.
2. Create an internet security zone.
3. Attach the public security zone to interface GigabitEthernet 0/1/5 with IP address 172.16.1.1 and enable it.
4. Attach the public security zone to interface GigabitEthernet 0/1/6 with IP address 209.165.200.226 and enable it.
5. Attach the internet security zone to interface GigabitEthernet 0/1/1 with IP address 198.51.100.1 and enable it.
6. Configure the Zone Mismatch Handling feature with a parameter map called inspect pmap-fw, and set it to drop traffic when there is a zone mismatch."
Implement a policy-map to inspect and classify internet traffic and apply security policies based on the classification.,"1. Create a class-map named ""internet-traffic-class"" that matches any TCP, UDP, or ICMP protocol traffic.
2. Apply the class-map to a policy-map named ""private-internet-policy"".
3. Inspect and apply the security policy using the policy-map for the internet-traffic-class.
4. Create a class-default that drops all other unmatched traffic.
5. Create a zone-pair named ""security"" that includes source traffic from the private network and destination traffic to the internet.
6. Apply the policy-map ""private-internet-policy"" to the zone-pair ""security""."
Firewall Stateful Interchassis Redundancy,"1. The interfaces attached to the firewall must have the same redundant interface identifier (RII).
2. The active device and the standby device must have the same Cisco IOS XE Zone-Based Firewall configuration."
Embedded Service Processor (ESP) must match on both active and standby devices.,"Firewall Stateful Interchassis Redundancy is not supported in LAN and MESH scenarios, Cisco ASR 1006 and Cisco ASR 1013 platforms with dual Embedded Services Processors (ESPs) or dual Route Processors (RPs), and when the dual IOS daemon (IOSd) is configured."
Determine the status of redundancy group members through hello messages sent over the control link. Initiate a switchover if either router does not respond to a hello message within a configurable amount of time.,"1. Active timer
2. Standby timer
3. Hellotime - Interval at which hello messages are sent (defaults to 3 seconds)
4. Holdtime - Time before the active or standby router is declared down (defaults to 10 seconds)
5. Timers can be configured in milliseconds using the command ""timers hellotime msec"""
Configure a unique ID number (RII) for each pair of redundant interfaces.,N/A (not provided in text)
Virtual IP address for routing traffic during redundancy group failover.,"Traffic to the virtual IP address is automatically routed to the newly active redundancy group, and established TCP or UDP sessions are synchronized to the standby redundancy group."
"Enables privileged EXEC mode, enters global configuration mode, enters redundancy configuration mode, enters redundancy application configuration mode, enters redundancy application group configuration mode, and specifies an optional alias for the protocol instance.","1. enable
2. configure terminal
3. redundancy
4. application redundancy
5. group id
6. name group-name
7. shutdown (optional)"
Implement Redundancy Group Protocol for the device using the following steps:,"1. Purpose: Command or Action - Enables privileged EXEC mode.
   Command: enable
2. Step 1: Example - Device> enable
3. Purpose: Command or Action - Enters global configuration mode.
   Command: configure terminal
4. Step 2: Example - Device# configure terminal
5. Purpose: Command or Action - Enters redundancy configuration mode.
   Command: redundancy
6. Step 3: Example - Device(config)# redundancy
7. Purpose: Command or Action - Enters redundancy application configuration mode.
   Command: application
8. Step 4: Example - Device(config-red-app)# protocol id <protocol_id>
9. Step 5: Example - Device(config-red-app)# name group-name
10. Step 6: Example - Device(config-red-app-grp)# timers hellotime {seconds | msec milliseconds} holdtime {seconds | msec milliseconds}
11. Step 7: Example - Device(config-red-app-grp)# authentication {text string | md5 key-string [0 | 7] key-string timeout seconds | key-chain <key_chain_name>}
12. Step 8: Example - Device(config-red-app-grp)# end"
Redundancy Application Protocol Configuration,application redundancy
Configure the redundancy group (RG) with a name,device(config-red-app-prtcl)# name group-name
Enter redundancy application configuration mode and configure application redundancy settings for a redundancy group.,Device(config-red)# application redundancy
Managing and Monitoring Firewall Stateful Inter-Chassis Redundancy,"debug redundancy application group config {all | error | event | func}, debug redundancy application group faults {all | error | event | fault | func}, debug redundancy application group media {all | error | event | nbr | packet {rx | tx} | timer}, debug redundancy application group protocol {all | detail | error | event | media | peer}, debug redundancy application group rii {error | event}, debug redundancy application group transport {db | error | event | packet | timer | trace}, debug redundancy application group vp {error | event}, show redundancy application group [group-id | all], and show redundancy application transport {client | group"
"Configure a redundancy group named ""group1"" with priority, preempt attributes, and track.","1. Enter configuration mode: Device# configure terminal
2. Access redundancy configuration: Device(config)# redundancy
3. Access application redundancy configuration: Device(config-red)# application redundancy
4. Access specific group configuration: Device(config-red-app)# group 1
5. Name the group: Device(config-red-app-grp)# name group1
6. Set priority and failover threshold: Device(config-red-app-grp)# priority 100 failover-threshold 50
7. Enable preempt: Device(config-red-app-grp)# preempt
8. Configure tracking: Device(config-red-app-grp)# track 200 decrement 200
9. Exit the configuration mode: Device(config-red-app-grp)# end"
Configure redundancy group with timers for hello time and hold time messages.,"1. Device# configure terminal
2. Device(config)# redundancy
3. Device(config-red)# application redundancy
4. Device(config-red-app)# protocol 1
5. Device(config-red-app-prtcl)# timers hellotime 3 holdtime 9"
Configure a LAN-LAN topology with stateful redundancy.,"1. Device# configure terminal
2. Device(config)# interface GigabitEthernet 0/1/1 (for Router 1)
3. Device(config-if)# redundancy rii 600
4. Device(config-if)# redundancy group 2 ip 10.2.3.4 exclusive decrement 200
5. Device(config-if)# end
6. Device# configure terminal (for Router 2)
7. Device(config)# interface GigabitEthernet 0/1/1
8. Device(config-if)# redundancy rii 600
9. Device(config-if)# redundancy group 2 ip 10.2.3.4 exclusive decrement 200
10. Device(config-if)# end"
"The requirement is to configure a network with GigabitEthernet interfaces for ingress and egress traffic, and assign them to zones with a classmap. Interfaces should be configured for redundancy, and the ""inspect"" action should invoke the ALG to open a pinhole for controlled access.","1. Configure GigabitEthernet interfaces as ingress and egress interfaces
   - GigabitEthernet 0/1/1 is the ingress interface
   - GigabitEthernet 0/2/1 is the egress interface

2. Assign interfaces to zones and define classmap for traffic between zones

3. Configure interfaces for redundancy
   - redundancy mode none
   - application redundancy group 2
   - preempt
   - priority 200 failover threshold 100
   - control GigabitEthernet 0/0/4 protocol 2
   - data GigabitEthernet 0/0/3

4. Configure timers for Hello and Holdtime
   - timers hellotime ms 250 holdtime ms 750

5. Configure a VRF
   - ip vrf vrf1

6. Configure parameter maps to add parameters that control the behavior of actions and match criteria
   - parameter-map type inspect"
"Configure redundancy with RII on the device, including zone-based policy firewall.","```
redundancy rii 21
security z-int zone-member security
negotiation auto
redundancy group 2 ip 192.0.2.12 exclusive decrement 50
```"
Firewall Stateful Interchassis Redundancy feature for configuring pairs of devices as backups for each other.,"application redundancy, authentication, control, data, debug redundancy application group config, debug redundancy application group faults, debug redundancy application group media, debug redundancy application group protocol, debug redundancy application group group rii, debug redundancy application group transport, debug redundancy application group vp, group, name, preempt, priority, protocol, redundancy rii, redundancy group, track, timers delay, timers hellotime, show"
"Implement redundancy application in the transport, control-interface, and application group. Show redundancy application details.",Cisco IOS XE Release 3.1(S) (or 3.14S for VRF-aware interchassis redundancy).
Box-to-Box High Availability Support for IPv6 Zone-Based Firewalls,"Pairs of devices configured to act as backup for each other, based on redundancy groups (RGs) on IPv6 firewalls. Supports the FTP66 application-layer gateway (ALG) for IPv6 packet inspection."
Box-to-Box High Availability Support for IPv6 in Zone-Based Firewalls,"1. Interfaces attached to a firewall must have the same redundant interface identifier (RII).
2. Active and standby devices must have the same zone-based policy firewall configuration.
3. Active and standby devices must run on identical versions of Cisco software. The active and standby devices must be connected through a switch.
4. The box-to-box (B2B) configuration on both active and standby devices should be the same because there is no autosynchronization of the configuration between these devices.
5. For asymmetric routing traffic to pass, you must configure the pass action for the class-default class. The class-default class is a system-defined class map that represents all packets that do not match any of the user-defined classes in a policy.
6. If you configure a zone pair between two LAN interfaces, ensure that you configure the same redundancy group (RG) on both interfaces. The zone pair configuration"
Box-to-Box High Availability Support for IPv6 Zone-Based Firewalls,"Not applicable, as there is no specific configuration mentioned in the text."
"High availability support for IPv6, zone-based policy firewall with failover and asymmetric routing capabilities.","Active/active or active/standby high availability failover, standby redundancy group with periodic synchronization of session information from the active device."
"Redundancy Group Configuration for Two Outgoing Interfaces with configurable control link, data synchronization link, and interlink interface. Asymmetric routing support in a LAN-WAN scenario.","Unique ID number (Redundant Interface Identifier) for pairs of redundant interfaces, configuration of dedicated interface (interlink interface) for asymmetric traffic, and non-synchronization of the routing table from active to standby."
Configure a unique RII (Redundant Interface ID) for each pair of redundant interfaces.,"Priority setting and weight configuration for each device, along with preemption attribute and interface priority decrease when Layer 1 state goes down."
"Network activity test, ARP test, Broadcast ping test, Active/Active Failover","Active/Active failover, VMAC addresses for interfaces in each redundancy group (RG), primary/secondary designation determining running configuration and active state"
"Configure primary or secondary device preference, failover RGs active state on a single device, and standby state on the other device.",Box-to-Box High Availability Support for IPv6 Zone-Based Firewalls in Active/Active Failover mode.
Active/Standby Failover for failover pair of network devices,"- Standby device takes over functionality of failed device
- Failed active device changes to standby state
- Standby device changes to active state and takes over IP addresses and MAC addresses of failed device
- Device in active state processes traffic
- Device in standby state takes over standby IP addresses and MAC addresses"
Configuring an external device for failover on WAN links and setting up high availability virtual IP addresses on LAN-based interfaces.,"Use the redundancy group id ip virtual-ip decrement value command for WAN-based interfaces, and set up a high availability virtual IP address for LAN-based interfaces."
Redundancy Group (RG) management with VIP and VMAC ownership.,"Assigning IPv4 and IPv6 virtual IP (VIP) addresses under the same redundancy interface identifier (RII), with unique virtual MAC (VMAC) addresses per RII."
Enabling high availability support for IPv6 in a zone-based firewall by configuring the redundancy group protocol.,"1. enable
2. configure terminal
3. redundancy
4. application redundancy
5. protocol id (Select an appropriate protocol ID)
6. name group-name (Enter a unique name for the redundancy group)"
Configuring a Control Interface and a Data Interface,"1. enable
2. configure terminal
3. redundancy
4. application redundancy
5. group id
6. data interface-type interface-number
7. control interface-type interface-number protocol id
8. timers delay seconds [reload seconds]
9. end"
Specifying the control interface for the redundancy group,control gigabitethernet 0/0/2 protocol 1
Configure an interface and enter interface configuration mode. Add a description to an interface configuration. Set the encapsulation method used by the interface. Associate a VPN routing and forwarding (VRF) instance with an interface or subinterface. Configure an IPv6 address based on an IPv6 general prefix and enable IPv6 processing on an interface.,"1. Example: Step 3 - Command: Device(config)# interface gigabitethernet 2/0/2
2. Example: Step 4 - Optional: Add a description to an interface configuration - Command: Device(config-if)# description lan interface
3. Example: Step 5 - Command: Device(config-if)# encapsulation dot1q 18
4. Example: Step 6 - Command: Device(config-if)# ip vrf forwarding trust
5. Example: Step 7 - Command: Device(config-if)# ipv6 address 2001:0DB8:1:1:FFFF:FFFF:FFFF:FFFE/64"
Zone member security zone-name,Configure one of the zones using the zone security command while configuring a firewall. Example: Device(config-if)# zone member security z1
Configure an IPv6 address based on an IPv6 general prefix and enable IPv6 processing on an interface.,ipv6 address {ipv6-prefix/prefix-length | prefix-name sub-bits/prefix-length}
TCP SYN packet size adjustment on a router,ip tcp adjust-mss max-segment-size
VRF configuration and IPv6 address family configuration.,"vrf-definition VRF1, address-family ipv6."
- Class-map: ipv6-class (match-any),- Service-policy inspect : in-to-out
Configure a WAN traffic interface with redundancy groups for a WAN-LAN scenario.,"1. Configure the interface: `gigabitethernet 2/0/2`
2. Set description: `description lan interface`
3. Configure encapsulation: `encapsulation dot1q 18`
4. Configure VRF forwarding trust: `ip vrf forwarding trust`
5. Configure IPv6 address: `ipv6 address 2001:0DB8:1:1:FFFF:FFFF:FFFF:FFFE/64`
6. Configure zone member security: `zone member security z1`
7. Configure redundancy: `redundancy rii 100`
8. Configure redundancy group: `redundancy group 1 ipv6 2001:0DB8:1:1:FFFF:FFFF:FFFF:FFFE exclusive`
9. Decrement value: `decrement 50`
10. End the configuration: `end`"
Box-to-Box High Availability Support for IPv6 Zone-Based Firewalls,"Cisco IOS XE Release 3.8S, Cisco ISR 4400 Series Routers"
Interchassis Asymmetric Routing Support for Zone-Based Firewall and NAT,Not applicable
"Asymmetric routing to determine the Route Group (RG) for handling packets, with the ability to divert packets from standby RG to active RG using asymmetric-routing always-divert enable command.",The asymmetric-routing always-divert enable command is used to always divert packets received from the standby RG to the active RG. There is a separate asymmetric-routing interlink interface for diverting packets to the active RG.
Asymmetric routing support in Cisco IOS XE Release 3.16S,"NAT supports asymmetric routing with ALGs, Carrier Grade NAT (CGN), and virtual routing and forwarding (VRF) instances. No configuration changes are required to enable asymmetric routing with ALGs, CGN, or VRF."
Egress interface configuration for VRF-aware Asymmetric Routing in NAT,"In Cisco IOS XE Release 3.14S, Network Address Translation supports VRF-aware interchassis asymmetric routing with MD5 hash of the VPN routing and forwarding (VRF) name to identify the VRF and datapath in the active and standby devices."
Specifying an optional alias for the protocol instance.,name group-name
"Configure redundancy group elements, including control interface, data interface, and asymmetric routing (optional).","1. enable
2. configure terminal
3. redundancy
4. application redundancy
5. group id
6. data interface-type interface-number
7. control interface-type interface-number protocol id
8. timers delay seconds [reload seconds]
9. asymmetric-routing interface type number
10. asymmetric-routing always-divert"
Enable privileged EXEC mode.,Device> enable
Configuring a Redundant Interface Identifier and Asymmetric Routing on an Interface,"1. Enable privileged EXEC mode: enable
2. Enter global configuration mode: configure terminal
3. Select an interface to be associated with the redundancy group (RG) and enter interface configuration mode: interface type number
4. Configure the Redundant Interface Identifier (RII) on the interface: redundancy rii id
5. Configure the redundancy group ID (RGID) on both active and standby devices: redundancy group id [decrement number]
6. Enable Asymmetric Routing on the interface: redundancy asymmetric-routing enable"
"Configure redundancy, interface identifier (RII), and redundancy group with decrement number.",Device(config-if)# redundancy rii <RIID>; Device(config-if)# redundancy group <RGID> decrement <decrement_number>
Establish an asymmetric flow diversion tunnel for each RG and configure dynamic inside source translation with asymmetric routing.,"Step 6: Device(config-if)# redundancy asymmetric-routing enable
Example:
Step 7: Device(config-if)# end"
Configure dynamic inside source translation with asymmetric routing for IP NAT pool.,ip nat inside source list acl-number pool name redundancy redundancy-id mapping-id map-id
"Enter global configuration mode and configure interface gigabitethernet 0/1/3 with primary IP address 10.1.1.1 and mask 255.255.255.0, mark the interface as connected to the outside using ip nat outside, exit the interface configuration mode, and enter global configuration mode.","Step 2: Device# configure terminal
Step 3: Device(config)# interface gigabitethernet 0/1/3
Step 4: Device(config-if)# ip address 10.1.1.1 255.255.255.0
Step 5: Device(config-if)# ip nat outside
Step 6: Device(config-if)# exit"
Asymmetric Routing Configuration with Redundancy,"1. Enable asymmetric routing always-divert on the application redundancy group (asymmetric-routing always-divert enable)
2. Configure the IP NAT pool and prefix length (ip nat pool pool1 prefix-length 24)
3. Set up the IP NAT inside source list, redundancy, and mapping-id (ip nat inside source list pool pool1 redundancy 1 mapping-id 100)
4. Create an access list to permit the specific IP address range (access-list 10 permit 10.1.1.1 255.255.255.0)"
"VRF definition and configuration for Mgmt-intf and VRFA, IPv4 and IPv6 address families, logging console and AAA settings, multilink bundle-name authenticated, redundancy mode SSO, application redundancy group 1 with preempt, priority 120, control GigabitEthernet 0/0/1 protocol 1, data GigabitEthernet 0/0/2, IP TFTP source-interface GigabitEthernet0 and blocksize, tracking interface GigabitEthernet 0/0/4 line-protocol.","VRF forwarding for Mgmt-intf and VRFA, IP address for Loopback 0 (209.165.201.1), IP address for GigabitEthernet 0/0/0 (192.168.0.1), IP NAT inside for GigabitEthernet 0/0/0, BFD interval and multiplier for GigabitEthernet 0/0/0, redundancy RII for GigabitEthernet 0/0/0, IP address for Loopback 0 (209.165.201.1), IP address for GigabitEthernet 0/0/1 (209.165.202.129), and IP address for GigabitEthernet 0/0/2 (192.0.2.1)."
Interchassis Asymmetric Routing Support for Zone-Based Firewall and NAT,Not provided in the text
Network configuration and BGP settings for a router with multiple interfaces and VRFs.,"- IP address for interface GigabitEthernet 0: 203.0.113.1/29 (subnet mask 255.255.255.240)
- IP address for interface vasileft 1: 10.4.4.1/24 (subnet mask 255.255.255.0)
- IP address for interface vasiright 1: 10.4.4.2/24 (subnet mask 255.255.255.0)
- BGP router-id: 1.1.1.1
- BGP log-neighbor-changes enabled
- BGP neighbor settings for 203.0.113.1 (AS 223) and 10.4.4.1 (AS 577)
- Address-family settings for IPv4 in BGP with network configurations for different subnets"
"Redistribute static routes and configure BFD, peerings, and IP NAT.","redistribute static
neighbor 192.168.0.2 remote-as 65004
neighbor 192.168.0.2 fall-over bfd
neighbor 192.168.0.2 activate
neighbor 10.4.4.2 remote-as 577
neighbor 10.4.4.2 description PEERING to VASI Global intf
neighbor 10.4.4.2 activate
exit-address-family
!
ip nat switchover replication http
ip nat pool att_pool 209.165.200.225 209.165.200.225 prefix-length 16
ip nat inside source list 4 pool att_pool redundancy 1 mapping-id 100 vrf VRFA overload
ip forward-protocol nd
!
no ip http server
no ip http secure-server
ip route 203.0.113.1 255.255.255.224 10.4.4.1
ip route 192.168.0.0 255.255.0.0 10.4.4.1
ip route 209.165.200.224 255.255.255.224 10.4.4.1
ip route vrf Mgmt-intf 209.165.200.1 255.255.255.224 172.16.0.0
!
ip prefix-list VRF_Pool seq 5 permit 209.165.200.0/27
ip prefix-list p1-adv-1 seq 5 permit 209.165.200.0/27"
Configuring VRF-Aware NAT for WAN-WAN Topology with Symmetric Routing and Box-to-Box Redundancy,Not provided in the text
Interchassis Asymmetric Routing Support for Zone-Based Firewall and NAT,"asymmetric-routing, redundancy asymmetric-routing enable, zone-based firewalls, VRF-Aware Interchassis Asymmetric Routing feature (MPLS)"
"VRF-Aware Interchassis, Asymmetric Routing Support for Zone-Based Firewalls, MPLS support",No configuration changes for this feature. No commands were introduced or modified.
Asymmetric routing support in firewalls that run IPv4 and IPv6 traffic at the same time for Interchassis High Availability Support in IPv6 Zone-Based Firewalls.,"The exact configuration will depend on the specific firewall device and its settings, but the general idea is to enable asymmetric routing in the Interchassis High Availability Support in IPv6 Zone-Based Firewalls feature. This allows for the forwarding of packets from a standby redundancy group to the active redundancy group for packet handling, preventing dropped TCP packets when the device does not receive the initial synchronization (SYN) message."
Asymmetric routing in a network scenario,"Mapping between redundancy interface identifier (RII) and interfaces, mapping between interfaces and route groups (RGs), mapping between RGs and applications, mapping between RGs and traffic flow, and possible mappings between RGs and asymmetric-routing interlinks. The interlink must have sufficient bandwidth to support all the RG interlink traffic."
Dual-Stack Firewall configuration for handling IPv4 and IPv6 traffic simultaneously.,One firewall zone running IPv4 traffic and another running IPv6 traffic; IPv4 and IPv6 coexisting when deployed with stateful Network Address Translation 64 (NAT64); same zone pair allowing both IPv4 and IPv6 traffic.
Interchassis High Availability Support in IPv6 Zone-Based Firewalls,Not provided
Enter global configuration mode and configure redundancy and application redundancy for a redundancy group.,Device# configure terminal; Enters redundancy configuration mode (Device(config)# redundancy); Configures application redundancy and enters redundancy application configuration mode (Device(config-red)# application redundancy); Configures a redundancy group and enters redundancy application group configuration mode (Device(config-red-app)# group 1); Specifies an optional alias for the protocol instance (Step 6: Device(config-red-app-grp)# name group1); Specifies the initial priority and failover threshold for a redundancy group (Step 7: Device(config-red-app-grp)# priority 100 failover threshold 50); Enables preemption on the redundancy group and enables the standby device to preempt the active device (Step 8: • The standby).
Device preemption based on priority,Device(config-red-app-grp)# preempt
The requirement is to specify the interval between hello messages (hellotime) and the time period before which a device is declared to be down (holdtime).,timers hellotime {seconds | msec} holdtime {seconds | msec}.
"Configuring Data, Control, and Asymmetric Routing Interfaces for redundancy group elements","1. Enable the redundancy feature on the device.
2. Configure terminal access.
3. Enter the redundancy configuration mode.
4. Apply application redundancy to create a redundancy group (RG).
5. Set the data interface-type and interface-number for the RG.
6. Set the control interface-type and interface-number for the RG, with the protocol id specified.
7. Asymmetric routing, data, and control must be configured on separate interfaces (optional for NAT configuration)."
The requirement is to configure the control interface and its protocol for an RG.,Device(config-red-app-grp)# control GigabitEthernet 1/0/0 protocol 1
Asymmetric Routing with Redundant Interface Identifier,"1. Configure the RII and asymmetric routing on both active and standby devices.
2. Enable asymmetric routing using the ""asymmetric-routing always-divert enable"" command."
Configure redundancy interface identifier (RII) and redundancy group (RG).,Device(config-if)# redundancy rii [id]; Device(config-if)# redundancy group [id] decrement [number].
Specify the traffic class on which an action is to be performed and enter QoS policy-map class configuration mode.,class type inspect class-map-name
Creating a security zone and entering security zone configuration mode. Exiting the security zone configuration mode and entering global configuration mode.,"Device(config)#zone security zone-name
Device(config-sec-zone)#exit"
Configuring an interface as a zone member,zone-member security z1
Display both IPv4 and IPv6 firewall sessions.,Device# show policy-map type inspect zone-pair sessions
Configure redundancy and asymmetric routing on interfaces.,"1. Apply redundancy configuration to data, control, and asymmetric routing interfaces.
2. Define a redundancy group with specified delay timers and reload values.
3. Enable asymmetric routing on specific interfaces and always divert traffic if needed."
"Configure VRF, address-family, parameter-map, unicast-routing, ip port-map, access-list, class-map, and policy-map for IPv6.","1. Create a VRF (VRF1)
2. Set address family to IPv6 in the VRF
3. Remove IPv6 configuration from the VRF
4. Exit VRF configuration
5. Create parameter map type ""inspect ipv6""
6. Configure sessions maximum to 10,000 in the profile
7. Enable IPv6 unicast routing
8. Set up port-map for FTP and specify IPv6 access control list (ACL)
9. Create IPv6 ACL and permit any IPv6 traffic
10. Define class-map type ""inspect match-all"" and match access group name ""ipv6-acl""
11. Specify match protocol as TCP in the class-map
12. Create policy-map type ""inspect"" for IPv6 class"
Configure a zone-pair with a specific service policy for IPv6 traffic and apply it to an interface.,"1. Create a security zone:
```
Device(config)# zone security z1
Device(config-security-zone)# exit
```
2. Create another security zone:
```
Device(config)# zone security z2
Device(config-security-zone)# exit
```
3. Create a zone-pair with source and destination zones, and apply a service policy for IPv6 traffic:
```
Device(config)# zone-pair security in-to-out source z1 destination z2
Device(config-sec-zone-pair)# service-policy type inspect ipv6-policy
Device(config-sec-zone-pair)# exit
```
4. Configure an interface with an IPv6 address and apply the zone member security to the interface:
```
Device(config)# interface gigabitethernet 0/0/0.1
Device(config-if)# ipv6 address 2001:DB8:2222:7272::72/64
Device(config-if)# encapsulation dot1q 2
Device(config-if)# zone member security z1
Device(config-if)# end
```"
Interchassis High Availability Support in IPv6 Zone-Based Firewalls,Asymmetric routing support for firewalls running IPv4 and IPv6 traffic at the same time.
Interchassis High Availability Support in IPv6 Zone-Based Firewalls,Not provided in the text.
Active device and standby device must have the same Cisco IOS XE Zone-Based Firewall configuration.,The active device and the standby device must run on an identical version of the Cisco IOS XE software. They must be connected through a switch.
"Configuration of two redundancy groups in a pair of routers with two outgoing interfaces, using configurable control link and data synchronization link.",Redundant routers are joined by a configurable control link and a data synchronization link. The pairs of redundant interfaces are configured with the same unique ID number known as the RII (Redundant Interface Identifier).
"Box-to-Box High Availability for Cisco CSR 1000v routers in two independent UCS servers, with possible deployment across different data centers or regions.","Configure two individual physical connections for box-to-box high availability data and control links. If not available, data and control traffic can go through different LAN extension connections. Adjust box-to-box high availability parameters, such as heart beat period, to take into account the extended delay."
Gratuitous Address Resolution Protocols (ARP) to reach physical switch and its Built-in Address (BIA),"CSR LAN interfaces, UCS cluster setup, Switches (For example, ESXi L2 SW), Cisco CSR 1000v Security Configuration Guide"
"Configure a high availability pair of routers, with LAN interfaces connected directly to SW switches, and physical NICs of the cluster UCS connected with the SW switches for communication outside the network.","1. Configure redundancy application group on Cisco CSR 1000v Routers
   - Device# configure terminal
   - Device(config)# redundancy
   - Device(config-red)# application redundancy
   - Device(config-red-app)# group 1
   - Device(config-red-app-grp)# name group1"
Firewall Stateful Inspection of ICMP,1. Configure the Cisco firewall before configuring the Firewall Stateful Inspection of ICMP feature. 2. Allow all ICMP traffic to pass through security appliance interfaces. 3. Configure access rules for ICMP traffic that terminates at a security appliance interface.
Firewall with session lookup key creation for successful packet inspection.,"Firewall session lookup using source and destination addresses, destination port as ICMPv4 message request type, payload packet from ICMP error packet for session key creation."
Configure a class map for inspecting ICMP protocol traffic,Device(config)# class-map type inspect c1 Device(config-cmap)# match protocol icmp
Create a protocol-specific inspect type policy map and enter QoS policy-map configuration mode.,"1. Define the class on which an action is to be performed and enter QoS policy-map class configuration mode: ""class class-map-name"" (Example: Step 7, Step 8)
2. Enable stateful packet inspection: ""inspect"" (Example: Step 9)
3. Exit QoS policy-map class configuration mode and enter QoS policy-map configuration mode: ""exit"" (Example: Step 10, Step 11)"
Exit security zone-pair configuration mode and enter privileged EXEC mode.,Command or Action
Application Aware Firewall configuration based on NBAR detection for Zone Based FireWall.,Configuration of NBAR for detecting applications and defining Zone Based FireWall application awareness.
"Application Aware Zone-based FireWall configuration for detecting and blocking traffic based on applications, category, application-family or application-group.",show policy-map type inspect zone-pair; show platform hardware qfpactive feature firewall; drop; Cisco IOS XE Fuji 16.9.1
Zone-based Firewall using policies based on network layers L3/L4 and application visibility.,"1. Define class maps based on ACL for L3/L4 policies.
2. Utilize L7 protocols such as FTP and SIP for policy classification.
3. Configure Layer 4 Zone-Based Firewall with the following command:
   Device(config-profile)#class-map type inspect match-any cm1
   Device(config-cmap)#match protocol http
   Device(config-cmap)#match protocol https
   Device(config-cmap)#match protocol dns
   Device(config-cmap)#match protocol tcp
   Device(config-cmap)#match protocol udp"
"Define a class-map to match specific protocols and categories using the ""match"" command.","class-map type inspect match-any nbar-class1
match protocol yahoo-mail
match protocol amazon
match protocol attribute category consumer-internet"
Firewall Support of Skinny Client Control Protocol,"Cisco IOS XE firewall needs to be able to detect SCCP and understand the information passed within the messages, configure the router to enable Skinny data channels to traverse through the router, and extend the support of SCCP to accommodate video channels."
Firewall Support for Skinny Client Control Protocol,"System must be running Cisco IOS XE Release 2.1 or a later release, enable the firewall for SCCP ALG, and enable the TFTP ALG for SCCP to work with IP phones that use Skinny."
Allow client applications to use dynamic TCP or UDP ports to communicate with the server application.,Configure firewall settings to allow dynamic TCP and UDP ports for communication between client applications and server application.
Pinholes for media channels in firewall,SCCP inspection to examine data sessions for opening and closing access list pinholes
SCCP ALG supports the inspection and translation of IPv4 address information in SCCP messages. The IP address format changed in Version 17 for certain messages.,"SCCP ALG-handled messages, Version 17 format"
Security Zone Configuration,zone-pair security zone-pair-name [source {source-zone-name | self | default} destination [destination-zone-name | self | default]]
Configure a security zone and create a zone pair for applying policies.,"1. Enter the security zone configuration mode using `Router(config)# zone security {zone-name | default}`.
2. Exit security zone configuration mode by typing `exit` or `Router(config-sec-zone)# exit`.
3. Create a zone pair and enter security zone pair configuration mode with `Router(config)# zone-pair security zone-pair-name [source {source-zone-name | self | default} destination [destination-zone-name | self | default]]`."
Attach a firewall policy map to the destination zone pair.,service-policy type inspect policy-map-name
Support feature enables the SCCP ALG to parse SCCP version 17 packets.,"Cisco IOS XE Release 3.5S, ALG—SCCP V17 Support"
Enable voice communication between two Skinny clients using SCCP with Cisco Unified Communications Manager.,"Use Cisco IOS XE Release 2.4 with Firewall Support of Skinny Client Control Protocol to inspect Skinny control packets and support VoIP and SCCP for scalable environment configuration between IP phones, Cisco IOS XE firewall, and Cisco Unified Communications Manager."
Inter-VRF VASI configuration on the same device.,"1. Configure physical interfaces for VRF 1 and VRF 2, e.g., Gigabit Ethernet 0/2/0.3 for VRF 1 and Gigabit Ethernet 0/3/0.5 for VRF 2.
2. Configure the VRF routing tables with appropriate routes, including default routes, static routes, or learned routes.
3. Configure egress paths for vasileft1 and ingress paths for vasiright1 in the respective VRFs."
VASI with an MPLS VPN Configuration,"1. MPLS is enabled on the Gigabit Ethernet interface.
2. VPN label is stripped from the packet, a forwarding lookup is done within VRF 2, and the packet is forwarded to vasiright1. The TTL value is decremented from the packet.
3. The packet enters vasileft1 on the ingress path, and another forwarding lookup is done in VRF 1. The packet is sent to the egress physical interface in VRF1 (Gigabit Ethernet 0/2/0.3). The TTL is again decremented from the packet."
Support for IPv4 and IPv6 multicast and Multicast VPN (MVPN) on VASI interfaces with independence from customer-configured multicast modes and MVPN mode.,Not specified in the text
Configure a VRF-Aware Software Infrastructure (VASI) interface pair,"Configure the vasileft and vasiright commands on one interface each, with identical interface numbers. Configure a virtual routing and forwarding (VRF) instance on any VASI interface."
Establish a static route for a VRF instance and a VASI interface.,"Device(config)# interface vasileft 100
Device(config-if)# vrf forwarding VRFLEFT
Device(config-if)# ip address 192.168.0.1 255.255.255.0
Device(config-if)# exit
Device(config)# ip route vrf VRFLEFT 172.16.0.0"
Configure a device with VRF forwarding and IP address settings on an interface.,"- Set VRF forwarding on the interface: `Device(config)# interface vasiright 100`
- Configure the IP address and subnet mask for the interface: `Device(config-if)# ip address 192.168.1.1 255.255.255.0`"
Configuring Multicast and MVPN on VASI,GRE-Based MVPN and GETVPN Configuration
- Transit rate limit of 160mb,"- Police action with conform-action transmit, exceed-action drop
- 160000000bps maximum rate, 30000000bps burst size, 60000000bps burst limit"
Crypto Map Configuration with IPv6 secure WAN group.,set group ipv6-secure-wan
Interface GigabitEthernet 0/2/3 configuration for VRF vrf-cust1 and multicast routing.,"Device(config)# interface GigabitEthernet 0/2/3
Device(config-if)# vrf forwarding vrf-cust1
Device(config-if)# ip address 192.0.2.34 255.255.255.240
Device(config-if)# ip pim sparse-mode
Device(config-if)# ip igmp version 3
Device(config-if)# negotiation auto
Device(config-if)# ipv6 address 2001:DB8:0000:0000:0000:0000:0000:0001/48
Device(config-if)# ospfv3 100 ipv6 area 0"
"Configure IPv6 unicast routing for VRFs vrf-cust1 and vrf-core1, use BGP routing protocol for vrf-cust1, log neighbor changes, and configure IPv4 AF with the specified settings.","```
Device(config)# router ospf 1
Device(config-router)# network 1.1.1.1 0.0.0.0 area 0
Device(config-router)# network 192.0.2.0 0.0.0.255 area 0
Device(config-router)# exit
!
Device(config)# router bgp 1
Device(config-router)# bgp log-neighbor-changes
Device(config-router)# neighbor 172.16.0.1 remote-as 1
Device(config-router)# neighbor 172.16.0.1 update-source Loopback0
!
Device(config-router)# address-family ipv4 unicast
Device(config-router-af)# neighbor 172.16.0.1 activate
Device(config-router-af)# neighbor 172.16.0.1 send-community both
```"
Configure BGP settings for an IPv4 and IPv6 routing on a device within a VRF context.,"1. Configure the router ID for both IPv4 and IPv6 BGP instances:
```
Device(config-router)# bgp router-id 209.165.202.130
Device(config-router)# address-family ipv6 vrf vrf-core1
Device(config-router-af)# bgp router-id 209.165.202.130
```

2. Redistribute connected routes into both IPv4 and IPv6 BGP instances:
```
Device(config-router-af)# redistribute connected
Device(config-router-af)# redistribute ospf 100 include-connected
```

3. Configure neighbor settings for both IPv4 and IPv6 routing:
For IPv4:
```
Device(config-router-af)# neighbor 192.168.0.1 send-community both
Device(config-router-af)# neighbor 209.165.202.129 remote-as 65002
Device(config-router-af)# neighbor 209.165.202.129 local-as 65001 no-prepend replace-as
Device(config-router-af)# neighbor 209.165.202.129 activate
```
For IPv6:
```
Device(config-router-af)# neighbor 2001:B000::2 remote-as 10000
Device(config-router-af)# neighbor 2001:B000::2 local-as 65000 no-prepend replace-as
Device(config-router-af)# neighbor 2001:B000::2 activate
```"
- Configure BGP for IPv4 and IPv6 under VRF vrf-cust1,"IPv4:
- address-family ipv4 vrf vrf-cust1
  - bgp router-id 209.165.202.129
  - redistribute connected
  - neighbor 209.165.202.130 remote-as 65001
  - neighbor 209.165.202.130 local-as 65002 no-prepend replace-as
  - neighbor 209.165.202.130 activate
  - exit-address-family
IPv6:
- address-family ipv6 vrf vrf-cust1
  - redistribute connected
  - redistribute ospf 100 include-connected
  - bgp router-id 209.165.202.129
  - neighbor 2001:B000::1 remote-as 65000
  - neighbor 2001:B000::1 local-as 10000 no-prepend replace-as
  - neighbor 2001:B000::1 activate
  - exit-address-family"
Configure line and VTY configurations with specific settings.,"Requirement: Configure line and VTY configurations with specific settings.
Configuration:
Device(config)# line con 0
Device(config-line)# exec-timeout 0 0
Device(config-line)# privilege level 15
Device(config-line)# logging synchronous
Device(config-line)# stopbits 1
Device(config-line)# exit
Device(config)# line vty 0 4
Device(config-line)# exec-timeout 0 0
Device(config-line)# privilege level 15
Device(config-line)# logging synchronous
Device(config-line)# no login

Please note that the provided text does not contain any information about verifying the multicast VRF-Aware Software Infrastructure (VASI) configuration, so I am unable to extract any related requirements or configurations from it."
Multicast VPN (MVPN) routing and forwarding instance configuration for a specific VRF,"- Incoming interface: Null, RPF nbr 0.0.0.0
- Outgoing interfaces:
  - GigabitEthernet0/0/2, Forward/Sparse-Dense, 04:33:39/stopped
  - GigabitEthernet0/0/0, Forward/Sparse-Dense, 04:33:39/stopped"
IPv6 Zone-Based Firewall Support over VASI (VRF-Aware Service Infrastructure) interfaces.,"This feature allows you to apply services such as access control lists (ACLs), Network Address Translation (NAT), policing, and zone-based firewalls to traffic that flows across two different virtual routing and forwarding (VRF) instances. VASI interfaces support the redundancy of Route Processors (RPs) and Forwarding Processors (FPs). VASI interfaces support IPv4 and IPv6 unicast traffic."
The requirement is that VASI interfaces do not support the attachment of queue-based features and certain MQC policy commands are not supported on VASI interfaces.,"The configuration refers to the implementation of VRF-Aware Software Infrastructure (VASI) using virtual interface pairs, where each pair is associated with a different VRF instance. VASI interfaces provide the framework for configuring firewall or NAT between VRF instances."
Configure inter-VRF VASI with two different VRF instances and automatically pair vasileft and vasiright interfaces.,N/A (The text does not provide a specific configuration example)
"The requirement description involves handling packets within a network, specifically in VRF and VASI configurations, and understanding how MPLS works in a VPN environment.","The configuration pertains to a specific setup where the packet is sent to the egress path of vasileft1, then automatically sent to the vasiright1 ingress path. Afterwards, the packet enters vasiright1, and a forwarding lookup is done in the VRF 2 routing table before being forwarded to the physical interface Gigabit Ethernet 0/3/0.5."
Configuring a virtual routing and forwarding (VRF) routing table instance,vrf definition vrf-name
IPv6 Unicast Routing Configuration,"class-map type inspect match-any class-map-name, match protocol name, policy-map type inspect policy-map-name, class type inspect class-map-name"
Configure a protocol-specific inspect type policy map and enter QoS policy-map configuration mode.,"Step 7: Device(config-cmap)# exit
Step 8: Device(config)# policy-map type inspect p-map
Step 9: Device(config-pmap)# class type inspect c-map"
Enables stateful packet inspection,inspect
Enabling privileged EXEC mode and creating a security zone with two security zones to create a zone pair for applying a policy.,"1. Enter your password if prompted.
2. Enable privileged EXEC mode: `Device> enable`
3. Enter global configuration mode: `configure terminal`
4. Create a security zone and enter security zone configuration mode: `zone security zone-name`
5. Exit security zone configuration mode and enter global configuration mode: `exit`
6. Create a zone pair and enter security zone-pair configuration mode: `zone-pair security zone-pair-name source source-zone destination destination-zone`
7. Apply a policy to the zone pair: `Device(config)# zone-pair security in-out source in destination`"
Removes an IP address or disables IP processing.,"no ip address

Requirement: Attaches an interface to a security zone.
Configuration: zone member security zone-name

Requirement: Configures an IPv6 address based on an IPv6 general prefix and enables IPv6 processing on an interface.
Configuration: ipv6 address ipv6-address/prefix-length

Requirement: Enables IPv6 processing on an interface that has not been configured with an explicit IPv6 address.
Configuration: ipv6 enable

Requirement: Enables advertisement of speed, duplex mode, and flow control on a Gigabit Ethernet interface.
Configuration: negotiation auto

Requirement: Exits interface configuration mode and enters global configuration mode.
Configuration: exit"
Associate a virtual routing and forwarding (VRF) instance or a virtual network with an interface or subinterface.,vrf forwarding vrf-name
IPv6 Zone-Based Firewall Support over VASI Interfaces,Configuring VASI Interfaces
Disable keepalive packets.,Device(config-if)# no keepalive
Configure IPv6 addressing and enable IPv6 on the device interfaces.,"1. Set the IPv6 address for the interface using the command ""ipv6 address 2001:DB8:3:1234/64"".
2. Enable IPv6 on the interface using the command ""ipv6 enable"".
3. Configure negotiation to be automatic with the command ""negotiation auto""."
IPv6 Zone-Based Firewall Support over VASI Interfaces,"XE Gibraltar 16.11.x, 258"
"Support for VASI interfaces over IPv6 firewalls to apply services such as access control lists (ACLs), Network Address Translation (NAT), policing, and zone-based firewalls to traffic that flows across two different virtual routing and forwarding (VRF) instances.",Not applicable
Configure the Aggressive Aging feature to remove idle sessions and manage resource usage during attacks.,"Set high and low watermarks, aging-out time, and enable the Aggressive Aging feature to aggressively age out sessions."
Event Rate Monitoring feature to monitor average rate and detect possible threats based on average threshold.,"Time period divided into time slots (1/30th of the total time period), each rate object holds 30 completed sampling values plus one value for current ongoing sampling period."
Enable basic threat detection and configure the threat detection rate.,"1. Use the command ""threat-detection basic-threat"" to enable basic threat detection.
2. Use the command ""threat-detection rate <average-rate> pps <burst-rate> pps <rate-interval> seconds"" to configure the threat detection rate, where <average-rate> is the average packet drop rate, <burst-rate> is the burst packet drop rate, and <rate-interval> is the interval between rate calculations."
Limiting the number of half-opened sessions in the firewall session table to prevent attacks that fill the table.,"The half-opened connection limit can be configured for Layer 4 protocols, Internet Control Message Protocol (ICMP), TCP, and UDP."
Configuring global and VRF-level TCP SYN-flood limit to protect against TCP SYN flooding attacks and limit their impact on resources.,"Set a global TCP SYN-flood limit, and configure TCP SYN-flood protection at the VRF level to verify source of sessions before creating more sessions and verify the source of TCP SYN packets to prevent spoofing attacks."
Configure a firewall to protect against SYN flood attacks and distributed denial of service (DDoS) attacks.,"1. Enable security features on the firewall.
2. Create a security source zone and a security destination zone.
3. Create a security zone pair using the configured source and destination zones.
4. Configure an interface as a zone member.
5. Apply appropriate rules and policies to prevent SYN flood attacks and DDoS attacks."
Configure class-map type inspect match-any for DDoS protection using the Zone-Based Policy Firewall.,Device(config)# class-map type inspect match-any ddos-class Device(config)# match protocol tcp
Enables stateful packet inspection and configures the default class on which an action is to be performed.,"1. Enable stateful packet inspection: `Step 10` and `Device(config-pmap-c)# inspect`
2. Exit QoS policy-map class configuration mode and enter QoS policy-map configuration mode: `Step 11`, `Device(config-pmap-c)# inspect`, `exit`, and `Step 12`
3. Configure the default class on which an action is to be performed: `class class-default` and `Device(config-pmap)# class class-default`"
Exit QoS policy-map configuration mode and enter global configuration mode.,exit
Configure the encapsulation method for an interface using dot1q and specify the VLAN ID.,encapsulation dot1q vlan-id
Configuring the Aggressive Aging of Firewall Sessions,1. enable; 2. configure terminal; 3. Enter one of the following commands: • parameter-map type inspect-global; • parameter-map type inspect global; 4. per-box max-incomplete number aggressive-aging high {value low value | percent percent low percent percent}
Protection Against Distributed Denial of Service Attacks,Configuring the Aggressive Aging of Firewall Sessions
"Configure an inspect-type parameter map for connecting thresholds, timeouts, and other parameters pertaining to parameter-map type inspect parameter-map-name.",Device(config)# parameter-map type inspect [parameter-map-name]
Protection Against Distributed Denial of Service Attacks,Configuring Aggressive Aging for a Default VRF
Configure the maximum limit and aggressive aging limit of half-opened firewall sessions.,max-incomplete number aggressive-aging high {value low value | percent low percent percent}
"Configure an inspect-type parameter map for connecting thresholds, timeouts, and other parameters pertaining to parameter-map type inspect.",parameter-map type inspect pmap1; tcp synwait-time seconds [ageout-time seconds]
Enable privileged EXEC mode on the device.,Device> enable
"Configure an inspect-type parameter map for setting thresholds, timeouts, and other parameters pertaining to parameter-map type inspect.","Device(config)# parameter-map type inspect pmap1
Device(config)# tcp idle-time 3000 ageout-time 100"
"The requirement is to configure the TCP session settings for a device to reach the established state before dropping the session, specifying how long the software will wait for a TCP session to reach the established state.",The configuration should set the tcp synwait-time and ageout-time values to control the waiting time for a TCP session to reach the established state before dropping the session.
Protection Against Distributed Denial of Service Attacks,Configuring the Aging Out of Firewall Sessions
"- Total Session Count (estab + half-open): 270, Exceed: 0",- Configuring per-VRF Aggressive Aging
Enables the console display of stateful packet inspection alert messages.,Step 11 - Device(config-profile)# alert on
Configure Firewall Event Rate Monitoring for Syn Flood Half Open and Half Open Aggressive Aging,"1. Enable privileged EXEC mode.
2. Configure terminal.
3. Define parameter-map type inspect-zone zone-pmap-name.
4. Turn on alerts.
5. Set threat detection to basic-threat.
6. Configure threat detection rate for fw-drop with average-time-frame, average-threshold (packets-per-second), and burst-threshold (packets-per-second).
7. Configure threat detection rate for inspect-drop with average-time-frame, average-threshold (packets-per-second), and burst-threshold (packets-per-second).
8. Configure threat detection rate for syn-attack with average-time-frame, average-threshold (packets-per-second), and burst-threshold (packets-per-second)."
Enables the console display of stateful packet inspection alert messages for a zone.,Device(config-profile)# alert on
"Configure threat detection for TCP SYN attack with average time frame, average threshold, and burst threshold values.","Requirement: Configure threat detection for TCP SYN attack with average time frame, average threshold, and burst threshold values.

Configuration:
Device(config-profile)# threat-detection rate syn-attack
average-time-frame 600
average-threshold 100
burst-threshold 100"
Enter global configuration mode and configure parameter-map type for stateful packet inspection.,"1. Enter global configuration mode: `configure terminal`
2. Configure a global parameter map for connecting thresholds and timeouts, and enter parameter-map type inspect configuration mode: `Device# configure terminal`
3. Choose one of the following commands based on your release:
   • Step 3a: Enter `parameter-map type inspect-global`
   • Step 3b: Enter `parameter-map type inspect global`
4. (Skip to Steps 5 and 6 if you configure the parameter-map type inspect-global command)

Note: Enables the console display of stateful packet inspection alert."
Configuring the Half-Opened Session Limit for an Inspect-VRF Parameter Map,"1. enable
2. configure terminal
3. parameter-map type inspect-vrf vrf-name
4. alert on
5. max-incomplete number (set the maximum limit of half-opened sessions)
6. session total number (set the total allowed number of sessions)"
Configure the maximum number of half-opened connections per VRF.,Device(config-profile)# alert on max-incomplete number
Enable and configure a global parameter map for packet inspection.,• parameter-map type inspect-global (if using a newer release) or • parameter-map type inspect global (if using an older release).
Display the status of the global VRF firewall.,show policy-firewall stats vrf global
Configure DDoS protection using Zone-Based Policy Firewall on a Cisco router.,"1. Create a PMAP class and inspect traffic to classify it:
```
Router(config)# class chain ddos-class
Router(config-pmap-c)# match ip dscp af21
Router(config-pmap-c)# set protocol icmp any
Router(config-pmap-c)# exit
Router(config)# pmap chain ddos-class
```
2. Configure the class for DDoS traffic to be dropped:
```
Router(config)# class class-default
Router(config-pmap-c)# drop
Router(config-pmap-c)# exit
```
3. Create a security zone named ""private"" and configure it:
```
Router(config)# zone security private
Router(config-sec-zone)# exit
```
4. Configure the public security zone:
```
Router(config)# zone security public
Router(config-sec-zone)# exit
```
5. Create a zone-pair called ""private2public"" with private as source and public as destination:
```
Router(config)# zone-pair security private2public source private destination public
Router(config-sec-pair)# exit
```
6. Apply the service policy type inspect ddos-fw to the zone-pair:
```
Router((config-sec-zone-pair)# service-policy type inspect ddos-fw
Router((config-sec-zone-pair)# exit
```
7. Configure the GigabitEthernet interface and apply the security policy to it:
```
Router(config)# interface gigabitethernet 0/1/0.1
Router(config-subif)# ip address 10.1.1.1 255.255.255.0
Router(config-subif)# encapsulation dot1q 2
Router(config-subif)# zone-member security private
```"
Configuring a sub-interface on a router with an IP address and encapsulation type.,"interface gigabitethernet 1/1/0.1, ip address 10.2.2.2 255.255.255.0, encapsulation dot1q 2"
Aggressive aging with high percentage of 80 and low percentage of 60 for a total of 1000.,"tcp synwait-time 30, ageout-time 10"
Protection Against Distributed Denial of Service Attacks,Configuring the Aggressive Aging of Firewall Sessions
Configuring the per-Box Half-Opened Session Limit,"Device(config)# parameter-map type inspect global
                     Device(config-profile)# alert on
                     Device(config-profile)# per-box max-incomplete"
Limit the number of VRF firewall sessions using the Firewall Resource Management feature.,Not provided in the text.
Session limit configuration rules and session rate limits.,"The class-level session limit can exceed the global limit and its associated VRF session maximum; the sum of the VRF limit including the global context can be greater than the hardcoded session limit. Session rate is defined with maximum and minimum limits, where the firewall starts rejecting new session setup requests when the rate exceeds the maximum specified rate."
Configure Firewall Resource Management,"1. Enable
2. Configure Terminal
3. Parameter-map Type Inspect-VRF Vrf-Pmap-Name
4. Session Total Number
5. Tcp Syn-Flood Limit Number"
Limit the number of TCP half-opened sessions that trigger synchronization (SYN) cookie processing for new SYN packets.,tcp syn-flood limit 2000
Configure the session total command for an inspect VRF-type parameter map and for a global parameter-map.,Device(config-profile)# session total number
IPv6 Firewall Support for Prevention of Distributed Denial of Service Attacks and Resource Management,"The Protection Against Distributed Denial of Service Attacks feature allows configuration of aggressive aging of firewall sessions, event rate monitoring of firewall sessions, half-opened connections limit, and global TCP synchronization (SYN) cookie protection. The Firewall Resource Management feature limits the number of VPN Routing and Forwarding (VRF) and global firewall sessions that are configured on a device."
Aggressive Aging of Firewall Sessions to protect the firewall session database from filling and remove idle sessions.,"Aging-out time, high watermark, low watermark"
"The requirement here is to monitor events in the network, particularly firewall drops due to basic firewall checks failure, firewall drops due to Layer 4 inspection failure, and TCP SYN cookie attacks. The goal is to inform the network administrator about potential threats via alerts and enable them to take actions such as detecting attack vectors, determining the origin of the attack, or configuring devices in the network to block certain behaviors or traffic.","Since the text does not provide specific configuration details for the Event Rate Monitoring feature, it is not possible to extract a configuration from the given information."
"The system should monitor the average rate and the burst rate of different events. It should have a configurable parameter set for each event type including the average threshold, the burst threshold, and a time period.","Each event type has an associated rate object that controls the configurable parameters. The time period is divided into 30 time slots, with each slot being 1/30th of the total time period. The system holds 30 completed sampling values plus one for the ongoing sampling period in each rate object. The average rate is calculated during every time period, and if it exceeds the average threshold, the system will consider it as a possible threat, update statistics, and inform the network administrator."
Half-Opened Connections Limit configuration for the firewall session table,"Can be configured for Layer 4 protocols, Internet Control Message Protocol (ICMP), TCP, and UDP. The limit set to the number of UDP half-opened sessions will not affect the TCP or"
Configure half-opened session limit and handle TCP SYN-flood attacks,"• Set the half-opened session limit
• Configure the global TCP SYN-flood limit"
TCP SYN-flood protection configuration,VRF level and zone level
Firewall Resource Management to prevent SYN flood attacks and protect firewall resources.,"Limit bandwidth, connection states, memory usage per table, number of sessions or calls, packets per second, and TCAM entries at the VRF and global levels. Set maximum session limit, session rate limit, and incomplete session limit for resource protection."
Limit the number of VRF firewall sessions using Firewall Resource Management feature.,"At the global level, enable Firewall Resource Management to limit usage of resources at the global routing domain by firewall sessions."
"The class-level session limit can exceed the global limit, the VRF limit including the global context can be greater than the hardcoded session limit, and setting the maximum and minimum session rate limits helps protect Cisco Packet Processor from being overwhelmed.",Session Rate
"Firewall resource management session rules for opened and half-opened sessions, limiting number and rate of opened sessions, limiting number of half-opened sessions.","Session limit for opened and half-opened sessions is unlimited by default. Opened or half-opened sessions are limited by parameters and counted separately. Includes ICMP, TCP, or UDP sessions. Can limit the number and rate of opened sessions. Can only limit the number of half-opened sessions."
IPv6 Firewall Support for Prevention of Distributed Denial of Service Attacks and Resource Management,Session Rate
Configure VRF address family and IPv6 address prefixes.,Device(config)# vrf-definition VRF1; address-family ipv6; exit-address-family.
Exit VRF configuration mode and enter global configuration mode.,Device(config-vrf)# exit
IPv6 Firewall Support for Prevention of Distributed Denial of Service Attacks and Resource Management,Configuring an IPv6 Firewall
Configuring a match criterion for a class map based on the specified protocol.,Device(config-cmap)# match access-group name ipv6-acl match protocol protocol-name tcp
Configure the parameter-map type inspect-global on a device.,Device(config)# parameter-map type inspect global
IPv6 Firewall Support for Prevention of Distributed Denial of Service Attacks and Resource Management,Configuring per-Box Aggressive Aging
IPv6 Firewall Support for Prevention of Distributed Denial of Service Attacks and Resource Management,Configuring Aggressive Aging for a Default VRF
Configure the inspection-type parameter map and set TCP SYN wait timer and ageout time for connections.,Device(config)# parameter-map type inspect pmap1; Device(config-profile)# tcp synwait-time 30 ageout-time 10
Enabling and configuring per-VRF Aggressive Aging,"1. enable
2. configure terminal
3. ip vrf vrf-name
4. rd route-distinguisher
5. route-target export route-target-ext-community
6. route-target import route-target-ext-community
7 exit
8. parameter-map type inspect-vrf vrf-pmap-name
9. max-incomplete number aggressive-aging high {value low value | percent percent low percent percent}
10. session total number [aggressive-aging {high value low value | percent percent low percent percent}]
11. alert on
12. exit"
Prevention of Distributed Denial of Service Attacks and Resource Management,Configuring per-VRF Aggressive Aging
None,None
"Configure inspect VRF-type parameter map and enter parameter-map type inspect configuration mode for a specific VRF name (e.g., vrf1-pmap). Set the maximum limit and aggressive aging limit for half-opened sessions using max-incomplete and aggressive-aging commands. Configure the total session limit and aggressive aging limit for the total sessions using the session total command, with optional high and low values or percentages. Enable console display of stateful packet inspection alert messages with the alert command.","Example:
Device(config)# parameter-map type inspect-vrf vrf1-pmap
Device(config-profile)# max-incomplete 2000 aggressive-aging high 1500 low 1200
Device(config-profile)# session total 1000 aggressive-aging high percent 80 low percent 60
Device(config)# alert"
Configuring per-VRF Aggressive Aging,vrf <vrf_name> inspect <vrf-pmap-name>
Set TCP connection timeout and aging parameters.,tcp synwait-time 30 ageout-time 10
Display VRF-level policy firewall statistics,show policy-firewall stats vrf [vrf-pmap-name]
Enable privileged EXEC mode and configure a global parameter map with the parameter-map type inspect configuration.,Device> enable; configure terminal
"The requirement is to configure synwait-time, which specifies how long the software will wait.",Not provided in the text.
The requirement is to set the TCP SYN wait timer and ageout time for a device to establish a TCP session before dropping it.,"The configuration involves setting the tcp synwait-time and ageout-time in seconds using the command ""Device(config-profile)# tcp synwait-time 30 ageout-time 10""."
IPv6 Firewall Support for Prevention of Distributed Denial of Service Attacks and Resource Management,Configuring the Aging Out of Firewall Sessions
Configure an inspect-zone parameter map and enter parameter-map type inspect configuration mode.,"1. Device(config)# parameter-map type inspect-zone zone-pmap-name
2. Enables the console display of stateful packet inspection alert messages for a zone.
3. alert on"
"Configure the threat detection rate for firewall inspection-based drop events, TCP SYN attack, and syn-attack.","1. Device(config-profile)# threat-detection rate inspect-drop average-time-frame 600 average-threshold packets-per-second burst-threshold packets-per-second
2. Device(config-profile)# threat-detection rate syn-attack average-time-frame 600 average-threshold packets-per-second burst-threshold packets-per-second"
Configuring Zone Security,Device(config)# zone security public
Enables the console display of stateful packet inspection alert messages.,"1. Step 4: Device(config-profile)# alert on
2. Step 5: Device(config-profile)# per-box max-incomplete (value, e.g., 12345)"
Configuring the Half-Opened Session Limit for an Inspect-VRF Parameter Map,"1. enable
2. configure terminal
3. parameter-map type inspect-vrf vrf-name
4. alert on
5. max-incomplete number
6. session total number"
Configure the maximum number of half-opened connections per VRF.,Device(config-profile)# alert on max-incomplete number
"Display the status of the global VRF firewall policy using the command ""show policy-firewall stats vrf global"".","The configuration steps provided in the text are for setting up Firewall Resource Management, not specifically for displaying the status of the global VRF firewall. However, to view the statistics, use the command ""show policy-firewall stats vrf global"" on the device."
Enables privileged EXEC mode.,Enter your password if prompted.
Configure a VRF for an inspect global parameter map and a default inspect VRF-type parameter map.,"1. Enter the parameter-map type inspect configuration mode: `parameter-map type inspect-global`
2. Bind a VRF to the parameter map: `vrf vrf-name inspect parameter-map-name`
3. Exit the parameter-map type inspect configuration mode and enter global configuration mode: `exit`
4. Configure a default inspect VRF-type parameter map: `parameter-map type inspect-vrf vrf-default`"
Limit the number of TCP half-opened sessions that trigger SYN cookie processing for new SYN packets.,tcp syn-flood limit 7000
Unicast routing for IPv6 traffic.,"Device(config)# ip port-map ftp port 8090 list ipv6-acl, Device(config)# ipv6 access-list ipv6-acl permit ipv6 any any, Device(config)# class-map type inspect match-all ipv6-class match access-group name ipv6-acl, Device(config)# class-map type inspect match-all ipv6-class match protocol tcp."
Aggressive Aging configuration for DDoS protection.,"1. Configure VRF (Virtual Routing and Forwarding) for DDoS detection:
   - `Device# configure terminal`
   - `Device(config)# ip vrf ddos-vrf1`
   - `Device(config-vrf)# rd 100:2`
   - `Device(config-vrf)# route-target export 100:2`
   - `Device(config-vrf)# route-target import 100:2`
2. Configure the parameter map for aggressive aging in the VRF:
   - `Device(config)# parameter-map type inspect-vrf vrf1-pmap`
   - `Device(config-profile)# max-incomplete 3455 aggressive-aging high 2345 low 2255`
   - `Device(config-profile)# session total 1000 aggressive-aging high percent 80 low percent 60`
   - `Device(config-profile)# alert on`
   - `Device(config-profile)# exit`
3. Configure the global parameter map for the VRF:
   - `Device(config)# parameter-map type inspect global`
   - `Device(config-profile)# vrf vrf1 inspect vrf1-pmap`
4. Configure the parameter map for TCP idle-time and ageout-time:
   - `Device(config)# parameter-map type inspect pmap1`
   - `Device(config-profile)# tcp idle-time 3000 ageout-time 100`
   - `Device(config-profile)# tcp synwait-time 30 ageout-time 10`
5. Configure the policy map for DDoS protection:
   - `Device(config)# policy-map type inspect ddos-fw`
   - `Device(config-pmap)# class type inspect match-any ddos-class`
   - `Device(config-pmap-c)# inspect`"
Configuring the Aging Out of Firewall Sessions,"Device# configure terminal, Device(config-profile)# exit, Device(config)# parameter-map type inspect global, Device(config-profile)# vrf vrf1 inspect vrf1-pmap"
Configure a device to monitor firewall events and detect potential threats using parameter maps and policy maps.,"1. Create a parameter map type ""inspect"" named ""pmap1"".
   - Set the TCP idle-time to 3000 seconds and ageout-time to 100 seconds.
   - Set the TCP SYN wait-time to 30 seconds and ageout-time to 100 seconds.
2. Create a policy map type ""inspect"" named ""ddos-fw"".
   - Define a class type ""inspect match-any"" called ""ddos-class"".
   - Apply the parameter map ""pmap1"" to the class ""ddos-class"".
   - Set alert on and enable threat detection for basic threats.
   - Configure rate detection for firewall drops with an average time frame of 600 seconds and average threshold of 100.
   - Set burst threshold to 100.
   - Configure rate detection for SYN attacks with an average time frame of 600 seconds and average threshold of 100."
Configuring the per-Box Half-Opened Session Limit,"Device# configure terminal
Device(config)# parameter-map type inspect global
Device(config-profile)# alert on
Device(config-profile)# per-box max-incomplete 12345
Device(config-profile)# session total 34500
Device(config-profile)# end"
IPv6 Firewall Support for Prevention of Distributed Denial of Service Attacks and Resource Management,Firewall Event Rate Monitoring
Configuring Firewall Resource Management,"Parameter-map type inspect-vrf vrf1-pmap, session total 1000, tcp syn-flood limit 2000; parameter-map type inspect-global, vrf vrf1 inspect pmap1, session total 6000, tcp syn-flood limit 7000"
Configurable Number of Simultaneous Packets per Flow,The number of simultaneous packets per flow can be configured from 25 to 100.
Increase the TCP payload size or reduce the TCP window size to avoid packet drops and configure the number of simultaneous packets per flow in the network from 25 to 100.,"Increase the TCP payload size or reduce the TCP window size, and increase the Configurable Number of Simultaneous Packets per Flow from 25 to 100."
Configurable Number of Simultaneous Packets per Flow feature,"The number of simultaneous packets per flow can be configured from 25 to 100. To change this, configure either the parameter-map type inspect parameter-map-name command or the parameter-map type inspect global command, followed by the session packet command. The limit under the parameter-map type inspect parameter-map-name command takes precedence over the limit under the parameter-map type inspect global command."
Configure the number of simultaneous packets per flow using class maps and policy maps,"1. enable
2. configure terminal
3. class-map type inspect {match-any | match-all} class-map-name
4. match protocol protocol-name
5. exit
6. policy-map type inspect policy-map-name
7. class type inspect class-map-name
8. set simultaneous-packets number
9. exit
10. class class-default
11. end"
Configuring the number of simultaneous packets per flow in a parameter-map type inspect command.,"Enable, Configure Terminal, Parameter-Map Type Inspect Parameter-Map-Name, Session Packet Number-of-Simultaneous-Packets, Exit."
Enable privileged EXEC mode and configure an inspect type parameter map with number of simultaneous packets per session.,"1. Enter privileged EXEC mode using the ""enable"" command.
2. Enter global configuration mode using the ""configure terminal"" command.
3. Define an inspect type parameter map using the ""parameter-map type inspect param1"" command.
4. Configure the number of simultaneous packets per session using the ""session packet number-of-simultaneous-packets"" command (with a valid value between 25 to 55)."
Create a zone pair and enter security zone pair configuration mode.,zone-pair security zone-pair-name source source-zone destination destination-zone
Configure the number of simultaneous packets per flow using either the parameter-map type inspect command or the parameter-map type inspect global command.,"(This configuration example is already provided in the text)
Device# configure terminal
Device(config)# class-map type inspect match-any cmap-protocols
Device(config-cmap)# match protocol tcp
Device(config-cmap)# exit
Device(config)# policy-map type inspect policy1
Device(config-pmap)# class type inspect cmap-protocols
Device(config-pmap-c)# inspect
Device(config-pmap-c)# exit
Device(config-pmap)# class class-default
Device(config-pmap)# end"
Configuring Zones for Simultaneous Packets per Flow,"Device# configure terminal
Device(config)# zone security z1
Device(config-sec-zone)# exit
Device(config)# zone security z2
Device(config-sec-zone)# exit
Device(config)# zone-pair security zp-security source z1 destination z2
Device(config-sec-zone-pair)# service-policy type inspect policy1
Device(config-sec-zone-pair)# exit
Device(config)# interface gigabitethernet 0/0/0
Device(config-if)# zone-member security z1
Device(config-if)# exit
Device(config)# interface gigabitethernet 0/0/3
Device(config-if)# zone-member security z2
Device(config-if)# end"
Configurable Number of Simultaneous Packets per Flow,From 25 to 100
Interchassis high availability configuration on active device and standby devices must be identical.,Not specified in the given text.
Enable LISP inner packet inspection for enhanced security.,"Use the ""lisp inner-packet-inspection"" command to enable LISP inner packet inspection."
Intrachassis and Interchassis High Availability for Zone-Based Firewall and LISP Integration,LISP instance ID is used as the virtual routing and forwarding (VRF) instance when LISP inner packet inspection is enabled at the northbound device.
Enabling LISP inner packet inspection on the device.,"LISP inner-packet inspection is enabled, with aggressive aging disabled, syn_flood_limit unlimited, tcp window scaling enforcement loose off, max incomplete unlimited for all protocols, and application-inspect all enabled."
Configuring Interchassis High Availability for LISP Inner Packet Inspection and Configuring the xTR Southbound Interface for Interchassis High Availability,"1. Zones and zone-pairs must be configured.
2. Redundancy and redundancy groups must be configured."
Configuring an interface and entering interface configuration mode.,"device# configure terminal, interface type number"
Configure LISP virtual interface with description.,"Requirement: Configure LISP virtual interface with description.
Configuration: Device(config)# interface LISP 0; Device(config-if)# description LISP virtual"
Adding a description to an interface configuration.,Device(config-if)# description facing internal
"Redundancy Group ID, IP Virtual-IP, Exclusive Decrement Value",None provided in the text.
Enable virtual fragment reassembly (VFR) on an interface.,ip virtual-reassembly
Configuring Interchassis High Availability for LISP Inner Packet Inspection,"- Configure LISP inner packet inspection (lisp inner-packet-inspection)
- Enable global parameter map type inspect (parameter-map type inspect global)
- Set drop packet logging off (log dropped-packet off)
- Enable alert on dropped packets (alert on)"
"Redundancy configuration for Device 1 with redundancy group named RG1, priority 205 and failover threshold 200.","Device(config)# redundancy
Device(config-red)# application
Device(config-red-app)# group 1
Device(config-red-app-grp)# name RG1
Device(config-red-app-grp)# priority 205 failover-threshold 200
Device(config-red-app-grp)# control gigabitethernet 0/0/1 protocol 1
Device(config-red-app-grp)# data gigabitethernet 0/0/2"
"Inspect and drop traffic for specific classes, apply security policies to zone-pairs, and implement LISP routing","1. Define a policy map (ha-class) with class-default and drop settings
2. Define a second policy map (type inspect pmap-ha) with a type inspect cmap-any class
3. Apply the first policy map to the device using the command ""service-policy type inspect ha-policy""
4. Create a zone security for ge0-0-3a and ge0-0-0a interfaces
5. Define a zone-pair security (ha-in-out) with source ge0-0-3a and destination ge0-0-0a, applying the first policy map
6. Define a second zone-pair security (ha-out-in) with source ge0-0-0a and destination ge0-0-3a, applying the second policy map
7. Implement IP VRF lower for traffic routing
8. Configure interfaces (TenGigabitEthernet 1/3/0 and LISP 0) with respective IP addresses and settings"
"VRF forwarding, description of EID_space/south LAN, interface with native packet, LISP header removal by virtual interface.","vrf forwarding lower, description ""EID_space/south LAN ! This interface only sees native packet."", zone-member security ge0_0_0a, ip address 192.0.2.1 255.255.255.0, redundancy rii 10, redundancy group 2 ip 192.0.2.3 exclusive decrement 50."
Network Security Configuration for High Availability (HA),"1. Configure alert on Device(config-profile).
2. Create a class-map type inspect match-all ha-class and match protocol TCP.
3. Create a class-map type inspect match-any cmap-any, match protocol TCP, match protocol FTP, and match protocol ICMP.
4. Configure the policy-map type inspect ha-policy with a class type inspect ha-class and an inspect command.
5. Create a class-default class in the policy-map type inspect ha-policy, dropping traffic by default.
6. Configure the policy-map type inspect pmap-ha with a class type inspect cmap-any and an inspect command.
7. Create a class-default class in the policy-map type inspect pmap-ha, dropping traffic by default.
8. Configure zone security for ge0-0-3a and ge0-0-0a interfaces.
9. Create a zone-pair security ha-in-out with source ge0-0-3a destination ge0-0-0a and apply service-policy type inspect ha-policy.
10. Configure zone-pair security for high availability."
"LISP and Zone-Based Firewalls Integration and Interoperability feature enables inner-packet inspection of all Locator ID Separation Protocol (LISP) data packets that pass through a device. Without LISP inner inspection, endpoint identifier (EID) devices in a LISP network will not have any firewall protection.",lisp inner-packet-inspection
ICMP Version 6 (ICMPv6) type value configuration,"FW_ICMP_CODE, FW_ICMP_IPV6_TYPE, FW_ICMP_IPV6_CODE

Requirement: TCP sequence number and acknowledgment number configuration
Configuration: FW_TCP_SEQ, FW_TCP_ACK

Requirement: Layer 7 protocol ID and name configuration
Configuration: FW_L7_PROTOCOL_ID, FW_L7_PROTOCOL_NAME, FLOW_FIELD_L7_PROTOCOL_NAME

Requirement: Flow ID Fields (Interface) configuration
Configuration: FW_SRC_INTF_ID, FW_DST_INTF_ID

Requirement: Ingress and Egress VRF ID configuration
Configuration: FW_SRC_VRF_ID, FW_DST_VRF_ID

Requirement: Mapped Flow ID Fields (Network Address Translation) configuration
Configuration: FW_XLATE_SRC_ADDR_IPV4"
Extract if it is possible a requirement description and its respective configuration from the following text.,"Length, Type, Field ID, High level event codes, Extended event code, Time (in milliseconds or UTC), Total number of Layer 4 payload bytes, Template, Maximum size for AAA user name, Half-open session entry count, Time (in seconds)."
The field ID must be 0 if FW_EVENT_LEVEL is not present.,"Not applicable, as the text does not provide a specific configuration for this requirement."
Obtain a mapping between event value and event ID for firewall extended events.,N/A (not provided in the text)
Block subsequent new connections when maximum incomplete high threshold of half-open connections is exceeded or the new connection initiation rate is exceeded.,"FW_EXT_ALERT_BLOCK_HOST, 3, FW_EXT_SESS_RATE_ALERT_ON, 4"
Error handling for invalid sequence numbers in TCP packets,"Monitor and drop packets with incorrect sequence numbers, retransmission issues, unexpected segment arrivals, exceeded session limits, and inspectable packet limits.

Event IDs:
13 - FW_EXT_FW_DROP_L4_TYPE_INVALID_SEQ
14 - FW_EXT_FW_DROP_L4_TYPE_RETRANS_INVALID_FLAGS
15 - FW_EXT_FW_DROP_L4_TYPE_SYN_FLOOD_DROP
16 - FW_EXT_FW_DROP_L4_TYPE_MAX_HALFSESSION
17 - FW_EXT_FW_DROP_L4_TYPE_MAX_INSPECTABLE_PACKETS"
Enable and configure high-speed logging for Global Parameter Maps on a firewall.,"1. enable
2. configure terminal
3. (Additional configuration steps specific to the device and its requirements would be needed)"
Enabling privileged EXEC mode.,Device> enable
"System should start deleting half-open sessions when the number of connections is low, and stop deleting them when the number of connections is high.",one-minute {low number-of-connections | high number-of-connections}
Enable stateful packet inspection and high-speed logging for global parameter maps on a device.,"1. Enter configuration mode for policy-map class (class-map-tcp): Device(config)# class type inspect
2. Enable stateful packet inspection (Optional): Device(config-pmap-c)# inspect parameter-map-name
3. Configure high-speed logging for global parameter maps: 
   a. Enable logging of dropped packets: Device(config-profile)# log dropped-packets
   b. Log error messages in NetFlow Version 9 format to an external IP address: Device(config-profile)# log flow-export v9 udp destination 10.0.2.0 5000
   c. Set the log flow-export template timeout rate: Device(config-profile)# log flow-export template timeout-rate 5000"
Configure high-speed logging (HSL) for inspect-type using the parameter-map parameter-map-hsl.,"Device# configure terminal
Device(config)# parameter-map type inspect parameter-map-hsl
Device(config-profile)# audit trail on
Device(config-profile)# alert on
Device(config-profile)# one-minute high 10000
Device(config-profile)# tcp max-incomplete host 100
Device(config-profile)# exit
Device(config)# policy-map type inspect policy-map-hsl
Device(config-pmap)# class type inspect class-map-tcp
Device(config-pmap-c)# inspect parameter-map-hsl
Device(config-pmap-c)# end"
Set the timeout value for an idle session using the tcp idle-time command.,Default timeout value for idle sessions is 3600 seconds.
Configuring the TCP Reset Segment Control on sessions,"1. enable
2. configure terminal
3. parameter-map type inspect
4. parameter-map-name
5. tcp synwait-time
6. tcp half-open reset {off | on}
7. end"
Configuring TCP Reset for Half-Close Sessions,tcp finwait-time command
"Configure an inspect parameter map for connecting thresholds, timeouts, and other parameters pertaining to the parameter-map type inspect.",Device(config)# parameter-map type inspect pmap-name; Device(config-profile)# tcp finwait-time seconds; (Optional) Specifies whether the TCP RST segment should be sent when session deletion occurs on a half-open session. Device(config)# tcp half-close {off | on};
Configure TCP Reset for Idle Sessions,Device(config-profile)# tcp idle-reset {on | off}
Configuring TCP Reset for Half-Close Sessions,tcp half-open reset on
Improve TCP performance in network paths with large bandwidth-delay product characteristics (Long Fat Networks) by using a larger window size and TCP window scaling.,"Use a scale factor of 3 for typical applications when deployed in Long Fat Networks, enforce strict checking of the TCP window-scaling option in firewalls, and disable strict checking with the tcp window-scale-enforcement loose command if needed."
"Enter global configuration mode, configure terminal, and create an inspect parameter map.","1. Enter global configuration mode: `configure terminal`
2. Create an inspect parameter map with a name or use the default setting: `parameter-map type inspect {parameter-map-name | global | default}`"
Interface Configuration Mode,interface GigabitEthernet 0/1/5
Assign an IP address to an interface,"ip address ip-address subnet-mask (e.g., Device(config-if)# ip address 209.165.200.225 255.255.255.0)

Requirement: Configure an interface as a zone member
Configuration: zone-member security security-zone-name (e.g., Device(config-if)# zone-member security private)"
Configuring the TCP Window-Scaling Option for a Firewall,Device(config-profile)# tcp window-scale-enforcement loose
Application-Level Gateway (ALG) configuration for Firewalls and Network Address Translation (NAT),"1. Allow client applications to use dynamic TCP or UDP ports to communicate with the server application.
2. Recognize application-specific commands and offer granular security control over them.
3. Synchronize multiple streams or sessions of data between two hosts that are exchanging data.
4. Translate the network-layer address information that is available in the application payload."
"Layer 7 Application Protocol Inspection support for Zone-based policy firewalls, including automatic enabling when ALG/AIC configuration is enabled.",Enabling Layer 7 protocol inspection along with the application-level gateways (ALG) and application inspection and control (AIC).
Enabling Layer 7 Application Protocol Inspection on Firewalls,Configure either the parameter-map type inspect command or the parameter-map type inspect-global command before configuring the application-inspect command.
"Enabling inspect-type parameter map for the firewall to connect thresholds, timeouts, and other parameters that pertain to the inspect action, and enabling a global parameter map.","1. Device(config)# parameter-map type inspect pmap-fw
2. Device(config)# parameter-map type inspect-global"
Configure a class map for internet traffic and a policy map for private internet policy with stateful packet inspection.,"1. Device(config)# class-map type inspect match-any internet-traffic-class
2. Device(config)# policy-map type inspect private-internet-policy
3. Device(config)# class type inspect internet-traffic-class
4. Device(config-pmap-c)# inspect pmap-fw"
Enabling ALGs and AICs in Zone-Based Policy Firewalls,Enabling Layer 7 Application Protocol Inspection on Firewalls
Creating a security zone and entering the security zone configuration mode.,zone security {default | security-zone}
Attach a firewall policy map to the destination zone pair and configure an interface as a member of a security zone.,service-policy type inspect policy-map-name; service-policy type inspect private-internet-policy; exit; interface gigabitethernet 0/0/0; zone-member security private
Enabling ALGs and AICs in Zone-Based Policy Firewalls,Configuring Zones for Enabling Layer 7 Application Protocol Inspection
Configure a limit for the number of TCP half-opened sessions on both global and VRF levels.,"In a Cisco firewall, you can configure a limit to the number of TCP half-opened sessions by using the ""max-incomplete"" command. For global level, use the command ""max-incomplete <number>,"" and for each VRF level, use the command ""vrf <vrf-name> max-incomplete <number>."" When the configured limit is reached, the TCP SYN cookie verifies the source of the half-opened sessions before creating more sessions."
Configure the maximum number of destinations that the firewall can track for a zone.,"max-destination limit (e.g., Router(config-profile)# max-destination 10000)"
Exit profile configuration mode and enter global configuration mode.,"exit

Requirement: Configure a security zone and enter security zone configuration mode.
Configuration: zone security zone-name

Requirement: Configure protection for the specified zone using the parameter map.
Configuration: protection parameter-map-name

Requirement: Exit security zone configuration and enter privileged EXEC mode.
Configuration: exit

Optional Requirement (Step 10): Display details about the inspect zone type parameter map.
Configuration: show parameter-map type inspect-zone zone-pmap-name

Optional Requirement (Step 11): Display zone security information.
Configuration: show zone security"
Global parameter map for global routing domain,"parameter-map type inspect global, tcp syn-flood limit number (e.g., 500)"
Checking the status of the global VRF firewall policy and displaying statistics.,"The command used is ""show policy-firewall stats vrf global""."
Configuring Firewall Session Table Protection for VRF Domain,Configure the firewall session table protection for VRF domains by following the SUMMARY and DETAILED STEPS provided in the text.
Configuring Firewall TCP SYN Cookie and Session Table Protection for VRF Domain,Step 4 - Router(config-profile)# tcp syn-flood limit 200; Exits profile configuration mode and enters global configuration mode.
Configure firewall host protection against TCP SYN flood attacks.,Router(config)# parameter-map type inspect-zone zone-pmap Router(config-profile)# tcp syn-flood rate per-destination 400 Router(config-profile)# max-destination 10000 Router(config-profile)# exit Router(config)# zone security secure-zone
Service NAT that supports non-standard FTP port numbers configured by the ip nat service command,Not provided in the text.
"Dynamically managing object group membership list, adding, deleting, or changing objects in an object group without redefining the ACL access control entry (ACE) that uses the object group.","Object-group-based ACL can be configured multiple times with a source group only, a destination group only, or both source and destination groups."
Object groups for ACLs,Creating and configuring object groups for Access Control Lists (ACLs).
Enter global configuration mode and define an object group name and network.,"1. Enter global configuration mode with ""configure terminal"" command.
2. Define the object group name using ""object-group network object-group-name"" command.
3. Optionally, specify a description for the object group using ""description description-text"" command.
4. Specify the IP address or name of a host using ""host {host-address | host-name}"" command (Optional).
5. If specifying a host address, use an IPv4 address and network mask with ""network-address {/nn | network-mask}"" command (Optional).
6. Specify the IPv4 address for the network address using ""209.165.200.225 255.255.255.224"" command (Optional)."
Create a Network Object Group for implementing Access Control Lists (ACLs) in a network.,"The specific parameters and settings required to create the group will depend on the network device and ACL implementation being used, and should be determined by a networking expert or consultant."
Create a Service Object Group for controlling access to TCP and/or UDP ports using Access Control List (ACL).,"1. enable
2. configure terminal
3. object-group service object-group-name
4. description description-text
5. protocol {tcp | udp | tcp-udp} [source {{[eq] | lt | gt} port1 | range port1 port2}] [{[eq] | lt | gt} port1 | range port1 port2]
6. . (dot to repeat steps for additional port definitions)
7. icmp icmp-type
8. group-object nested-object-group-name
9. end"
Creating an Object-Group-Based ACL,"1. enable
2. configure terminal
3. ip access-list extended access-list-name
4. remark remark
5. deny protocol source [source-wildcard] destination [destination-wildcard] [option option-name] [precedence precedence] [tos tos] [established] [log | log-input] [time-range time-range-name] [fragments]
6. remark remark
7. permit protocol source [source-wildcard] destination [destination-wildcard] [option option-name] [precedence"
Create an object-group with specific network objects and use it in access lists to match or deny traffic.,"Configure object-groups using ""object-group network"" command, specify source and destination network objects, and apply the object-group in access lists with ""deny ip object-group"" or ""permit ip object-group"" commands."
"Adding a comment to a configured access list entry using the ""remark"" command.",Device(config-ext-nacl)# remark [comment]
Configure Class Maps and Policy Maps for Object Groups,"1. Enable
2. Configure terminal
3. class-map type inspect match-all class-map-name (e.g., ogacl-cmap)
4. match access-group name access-list-name (e.g., access-list-name)
5. Exit
6. policy-map type inspect policy-map-name (e.g., policy-map-name)
7. class type inspect class-map-name (e.g., class-map-name)
8. pass
9. Exit
10. class class-default"
"Attach an interface to a security zone using the command ""zone-member security zone-name"".",interface gigabitethernet 0/1/1
Enable privileged EXEC mode.,Example: Device> enable (Enter your password if prompted).
Display the contents of the named or numbered access list or object group-based ACL (or for all access lists and object group-based ACLs if no name is entered).,Device# show object-group my-object-group
"Create a network object group named ""my-company-network"" with hosts host1 and IP address 209.165.200.242, subnet 209.165.200.225 255.255.255.224, and object group ""my-nested-object-group"".","```
Device> enable
Device# configure terminal
Device(config)# object-group network my-company-network
Device(config-network-group)# host host1
Device(config-network-group)# ip-address 209.165.200.242
Device(config-network-group)# subnet 209.165.200.225 255.255.255.224
Device(config-network-group)# group-object my-nested-object-group
Device(config-network-group)# end
```"
Configure service groups with specific protocols and port ranges.,"1. Enable TCP Telnet on all interfaces in the service group.
   - `tcp telnet`
2. Enable TCP Telnet for source ports ranging from 1 to 65535.
   - `tcp source range 1 65535 telnet`
3. Enable UDP for domain name system (DNS) traffic.
   - `udp domain`
4. Allow TCP and UDP traffic on ports ranging from 2000 to 2005.
   - `tcp-udp range 2000 2005`
5. Create a group object with a specific name (e.g., my-nested-object-group).
   - `group-object my-nested-object-group`
6. End the configuration mode.
   - `end`"
Configure a device with Object Group Access Control List (OG ACL) using OGACL Policies and Policy Maps.,"1. Configure an OGACL CMAP.
2. Apply the match access-group command to apply the OG ACL policy.
3. Create a policy map type inspect for the OGACL PMAP.
4. Define a class type inspect for the OGACL CMAP in the policy map.
5. Configure the class to pass traffic.
6. Exit from the class and configure a class-default, dropping all other traffic."
Display information about specific object-group-based ACLs on a device.,"Use the command ""show ip access-list my-ogacl-policy"" to display extended IP access list details for my-ogacl-policy, which includes ""10 permit object-group eng_service any any""."
Support for SIP methods with Domain Name System (DNS) names instead of raw IP addresses,"The Cisco IOS XE Release 2.4 supports the following commands only: class-map type inspect, class type inspect, match protocol, and policy-map type inspect."
SIP UDP and TCP Support,Cisco IOS XE Firewall between SIP Phones and Cisco Call Manager or Cisco Call Manager Express
"Configure a gateway on the same device as the firewall, allowing all calls between SIP gateways to be terminated in the IP-IP gateway. This setup should include local inspection of SIP phones by the firewall and inspection of SIP sessions between two gateways during SIP calls.",Cisco IOS XE Firewall with Local Cisco Call Manager Express and Remote Cisco Call Manager Express/Cisco Call Manager
Attach a firewall policy map to the destination zone pair in a security zone-pair configuration.,Device(config)# zone-pair security in-out source zone1 destination zone2 service-policy type inspect policy-map-name
Enable SIP Inspection,class-map type inspect match-any sip-class1 match protocol sip policy-map type inspect sip-policy class type inspect sip-class1 inspect class class-default
The ALG-SIP over TCP Enhancement feature lets the SIP ALG to handle multiple SIP messages in one TCP segment.,Cisco IOS XE Release 3.5S
Enhance the Firewall feature set in Cisco IOS XE software on the Cisco ASR 1000 series routers.,"Enable SIP ALG to support T.38 Fax Relay over IP, passing through the firewall on the Cisco ASR 1000 series routers."
MSRPC ALG Support for Firewall and NAT provides support for the Microsoft (MS) Remote Procedure Call (RPC) application-level gateway (ALG) on the firewall and Network Address Translation (NAT). The feature allows the network administrator to configure match filters to define match criteria that can be searched in an MSRPC packet.,"The MSRPC ALG provides deep packet inspection (DPI) of the MSRPC protocol, works in conjunction with a provisioning system for configuring match filters, and supports Virtual Transport Control Protocol (vTCP) functionality which provides a framework for various ALG protocols to handle TCP segmentation and parse segments in Cisco IOS zone-based firewall, NAT, and other applications."
"Application-Level Gateway (ALG) support for firewall and NAT to interpret application-layer protocol and perform actions such as allowing dynamic TCP or UDP ports, recognizing application-specific commands, synchronizing multiple streams of data, and translating network-layer address information.",This setting can be changed by configuration. Only traffic that reaches destination port 135 is supported.
"MSRPC protocol inspection, MSRPC ALG for handling MSRPC specific issues like establishing dynamic firewall sessions and fixing packet content after the NAT.","Firewall configured to inspect the MSRPC protocol, enabling MSRPC ALG on the firewall."
The text provides descriptions and numbers for supported PDU Types and their associated actions.,"Not applicable, as the given text does not provide specific device configurations."
"The requirement is to implement an MSRPC ALG (Algorithm) on NAT (Network Address Translation) to parse the packet payload, translate embedded IP addresses, and maintain stateful information within the firewall or NAT.","The configuration will involve setting up the NAT with the MSRPC ALG for parsing the packets, translating IP addresses or ports as per the NAT configuration, and using the firewall and NAT together with the MSRPC stateful parser for DPI (Deep Packet Inspection) of MSRPC protocol packets."
Configure MSRPC ALG Support for Firewall and NAT,"1. Enable MSRPC ALG by default when NAT is enabled. There is no need to explicitly enable MSRPC ALG in the NAT-only configuration.
2. To disable MSRPC ALG on NAT, use the ""no ip nat service msrpc"" command."
Configure match criteria for a class map based on a specified protocol.,Router(config-cmap)# match protocol msrpc
Configure a zone pair and attach a firewall policy map to the destination zone pair.,Router(config)# zone-pair security in-out source in-zone destination out-zone Attaches a firewall policy map to the destination zone pair. service-policy type inspect policy-map-name
Disabling vTCP Support for MSRPC ALG,no alg vtcp service msrpc
MSRPC ALG Support for Firewall and NAT,Disabling vTCP Support for MSRPC ALG
MSRPC ALG Inspection,alg vtcp service msrpc
Configure the match program-number command for Sun RPC program numbers to allow traffic flow.,Only Port Mapper Protocol Version 2 and RPC Version 2 are supported.
Application-Level Gateway (ALG) for interpreting application-layer protocols and performing firewall and Network Address Translation (NAT) actions.,"1. Allow client applications to use dynamic TCP or UDP ports to communicate with the server application.
2. Recognize application-specific commands and offer granular security control over them.
3. Synchronize multiple streams or sessions of data between two hosts that are exchanging data.
4. Translate the network-layer address information that is available in the application payload."
The requirement is for an application-level gateway (ALG) that performs deep packet inspection of the Sun RPC protocol. It must support network administrators in configuring match filters to permit only packets that meet the specified criteria.,"The configuration involves a provisioning system that allows network administrators to configure and define match filters for Sun RPC packets. These filters search for specific match criteria within the packets, permitting only those that match the criterion."
"Enable or disable Sun RPC ALG support for NAT, and configure Sun RPC ALG for Firewalls and NAT.","Use the ""no ip nat service alg"" command to disable Sun RPC ALG on NAT, and configure a Layer 7 Sun remote-procedure call (RPC) policy map if you have specified the match protocol sunrpc command in a Layer 4 class map."
Configure a Layer 4 class map for classifying network traffic using the match-all or match-any keyword with the class-map type inspect command.,Use the class-map type inspect {match-any | match-all} classm-map-name command to create and configure a Layer 4 class map.
Configure a Layer 7 Class Map for classifying network traffic and enabling specific Sun RPC programs.,"1. Enter global configuration mode: `configure terminal`
2. Create a Layer 4 inspect type class map and enter QoS class-map configuration mode: `class-map type inspect match-any`
3. Define the class map name (e.g., ""sunrpc-l4-cmap""): `class-map-name sunrpc-l4-cmap`
4. Configure a match criterion for the class map based on the specified protocol: `match protocol sunrpc`
5. Exit QoS class-map configuration mode and enter privileged EXEC mode: `end`"
Configure Sun RPC ALG Support for Firewalls and NAT,"Enable privileged EXEC mode, enter global configuration mode, create a class-map type inspect protocol-name with match-any or match-all class-map-name, match program-number program-number, end the command."
Configure a Sun RPC Firewall Policy Map,Device# configure terminal; policy-map type inspect sunrpc; match-any sunrpc-l7-cmap; Device(config)# class-map type inspect sunrpc match-any sunrpc-l7-cmap; Device(config-cmap)# match program-number 100005
Attaching a Layer 7 Policy Map to a Layer 4 Policy Map,"1. enable
2. configure terminal
3. policy-map type inspect policy-map-name
4. class {class-map-name | class-default}
5. inspect [parameter-map-name]
6. service-policy protocol-name policy-map-name
7. exit
8. class class-default
9. drop
10. end"
Configure a QoS policy map with stateful packet inspection for sunrpc Layer 4 and Layer 7 traffic.,"Device(config)# policy-map type inspect sunrpc-l4-pmap
Device(config-pmap)# class sunrpc-l4-cmap
Device(config-pmap-c)# inspect
Device(config-pmap-c)# service-policy sunrpc"
"Assign interfaces to security zones, Attach a policy map to a zone pair.","1. Enable privileged EXEC mode with ""enable"".
2. Enter global configuration mode with ""configure terminal"".
3. Create a security zone and enter security zone configuration mode with ""zone security {zone-name | default}"".
4. Exit security zone configuration mode with ""exit"".
5. Create another security zone or reenter the security zone configuration mode with ""zone security {zone-name | default}"".
6. Exit security zone configuration mode with ""exit"".
7. Define a zone-pair with ""zone-pair security zone-pair-name source source-zone-name destination destination-zone-name"".
8. Apply a service policy to the zone-pair with ""service-policy type inspect policy-map-name"".
9. Exit the current configuration mode with ""exit"".
10. Enter interface configuration mode with ""interface type number"".
11. Configure an IP address and mask for the interface with ""ip address ip-address mask [secondary [vrf vrf-name]]"".
12. Assign the interface to a security zone with ""zone-member security zone-name"".
13. Exit the current configuration mode with ""exit"".
14. Enter another interface configuration mode or reenter the previous one with ""interface type number"".
15. Configure an IP address and mask for the interface with ""ip address ip-address mask [secondary [vrf vrf-name]]"".
16. Assign the interface to a security zone with ""zone-member security zone-name"".
17. Exit all configuration modes with ""end""."
"The requirement is to create a configuration with two security zones, a source zone and a destination zone, in order to create a zone pair.",Device(config)# zone security z-client
Configure security zone-pair in the device.,"1. Enter global configuration mode (Device# configure terminal)
2. Enter security zone-pair configuration mode (Device# configure terminal sec-zone-pair)
3. Exit security zone-pair configuration mode (Device(config-sec-zone-pair)# exit)"
Configure an interface type and enter the interface configuration mode.,interface gigabitethernet 2/1/1
Attaching a Layer 7 Policy Map to a Layer 4 Policy Map,"1. Device# configure terminal
2. Device(config)# policy-map type inspect sunrpcl4-pmap
3. Device(config-pmap)# class sunrpcl4-cmap
4. Device(config-pmap-c)# inspect
5. Device(config-pmap-c)# service-policy sunrpc sunrpc-l7-pmap
6. Device(config-pmap-c)# exit
7. Device(config-pmap)# class class-default
8. Device(config-pmap-c)# drop"
Implement a zone-based policy firewall using the z-client and z-server security zones.,"1. Create the zone-security z-client with the interface GigabitEthernet 2/0/0, having an IP address of 192.168.10.1 /24.
2. Create the zone-security z-server with the interface GigabitEthernet 2/1/1, having an IP address of 192.168.23.1 /24.
3. Create a zone-pair security clt2srv source z-client destination z-server.
4. Apply a service-policy type inspect sunrpc-l4-pmap to the zone-pair."
Sun RPC ALG Support for Firewalls and NAT,Not mentioned in the provided text.
vTCP for ALG Support on Cisco IOS XE Release 3.1 or later,System must be running Cisco IOS XE Release 3.1 or a later Cisco IOS XE software release; latest version of NAT or firewall ALG should be configured; vTCP does not support data channel traffic and does not support reassembled messages larger than 8K.
"High availability functionality, asymmetric routing, Layer 7 protocol, TCP payload segmentation support","Firewall or Network Address Translation (NAT) for high availability, vTCP framework for ALGs to understand TCP segments and handle packet inspection"
"Parse the TCP payload, vTCP helps applications like NAT and Session Initiation Protocol (SIP) that require the entire TCP payload to rewrite the embedded data. The firewall uses vTCP to help ALGs support data splitting between packets. When you configure firewall and NAT ALGs, the vTCP functionality is activated.","vTCP supports Real Time Streaming Protocol (RTSP) and DNS ALGs. A buffer space is required for storing TCP segments temporarily before they are sent to other hosts. vTCP ensures proper data transmission between hosts. vTCP sends a TCP acknowledgment (ACK) to the sending host if more data is needed for data transmission. vTCP keeps track of the ACKs sent by the receiving host from the beginning of the TCP flow to closely monitor the acknowledged data. vTCP reassembles TCP segments, considering the IP header and TCP header information of incoming segments."
Configure vTCP for ALG Support on Cisco ASR 1000 Series Routers,"1. Perform RTSP packet inspection by enabling and configuring the necessary firewall, NAT, DNS, and RTSP settings.
2. Enable RTSP on Cisco ASR 1000 Series Routers using the following commands:
   - enable
   - configure terminal
   - class-map type inspect match-any class-map-name
   - match protocol protocol-name
   - exit
   - policy-map type inspect policy-map-name
   - class type inspect class-map-name
   - inspect
   - class class-default
   - exit
   - exit
   - zone security zone-name1
   - exit
   - zone security zone-name2
   - exit
   - zone-pair security zone-pair-name source source-zone-name destination destination-zone-name
   - service-policy type inspect policy-map-name exit
   - interface type number
   - zone-member security zone-name1
   - exit
   - interface type number
   - zone-member security zone-name"
Enabling privileged EXEC mode,Router> enable
Enter global configuration mode and create an inspect type class map with match-any criteria. Configure the match criteria for a class map on the basis of the named protocol.,"configure terminal, class-map type inspect match-any, class-map-name"
Creating and managing security zones for interfaces in a router configuration.,"1. Enter global configuration mode by using the command ""exit"".
2. Create a security zone using the command ""zone security zone-name"" (Step 11, Step 13, and Step 14).
3. Assign interfaces to the created security zones as needed."
Assigning an interface to a specified security zone,Router(config-if)# zone-member security zone-name
Enable RTSP inspection on Cisco ASR 1000 Series Routers,"class-map type inspect match-any rtsp_class1
match protocol rtsp
policy-map type inspect rtsp_policy
class type inspect rtsp_class1
inspect
class class-default
zone security private
zone security public
zone-pair security pair-two source private destination public
service-policy type inspect rtsp_policy
interface GigabitEthernet0/1/0
ip address 10.0.0.1 255.0.0.0
zone-member security private
interface GigabitEthernet0/1/1
ip address 10.0.1.1 255.0.0.0
zone-member security public"
ALG-H.323 vTCP with High Availability Support for Firewall and NAT,"Not specified in the given text. The text only describes how to configure the feature and its behavior, but does not provide specific configuration settings or values."
"Communicate with the server application, recognize application-specific commands, offer granular security control over them, synchronize multiple streams or sessions of data between two hosts exchanging data, and translate network-layer address information in the application payload.","Firewall opening a pinhole, NAT performing translation service on any TCP or UDP traffic not carrying source and destination IP addresses in the application-layer data stream, and Basic H.323 ALG Support (H.323 is a recommendation published by ITU-T defining network elements and protocols for multimedia transmission through packet-based networks)."
"Store TCP segments temporarily before sending to other hosts, ensure proper data transmission between hosts, track ACKs, reassemble TCP segments, and handle NAT-enabled applications.","vTCP buffer for saving IP and TCP header information of incoming segments, ability to adjust the length of outgoing segments for NAT-enabled applications."
Enables privileged EXEC mode,enable
Configure a zone pair and apply a policy to it for traffic flow.,"interface, class-map type inspect h.323-class, match protocol h323, match protocol h323ras, policy-map type inspect h323-policy, class type inspect h323, inspect, zone security inside, zone security"
Zone-based policy firewall configuration for inside-outside security zone pair with H.323 vTCP ALG support.,"1. Configure the security zone pair:
```
Device(config)# zone-pair security inside-outside source inside destination outside
Device(config-sec-zone-pair)# service-policy type inspect h.323-policy
Device(config-sec-zone-pair)# exit
```
2. Configure the interfaces and assign them to the respective zones:
```
Device(config)# interface gigabitethernet 0/0/1
Device(config-if)# zone-member security inside
Device(config-if)# exit
Device(config)# interface gigabitethernet 0/1/1
Device(config-if)# zone-member security outside
Device(config-if)# end
```"
Support for Firewall and NAT in the H.323 vTCP with High Availability,Cisco IOS XE Release 3.7S
Application-Level Gateway (ALG) support for IPv6 Firewalls,"The ALG configuration should include options to allow client applications to use dynamic TCP or UDP ports, recognize application-specific commands, synchronize multiple streams or sessions of data between hosts, and translate network-layer address information in the application payload."
FTP66 ALG Support for FTP to work over IPv6 packet inspection in Firewalls.,"1. Firewall IPv4 packet inspection
2. Firewall IPv6 packet inspection
3. NAT configuration
4. NAT64 configuration (along with FTP64 support)
5. NAT and firewall configuration
6. NAT64 and firewall configuration"
FTP ALG should not create doors (for NAT) or pinholes (for firewalls) with a data port number less than 1024. The prevention of bounce attack should be activated only when the firewall is enabled.,FTP66 ALG Support for IPv6 Firewalls
FTP Commands Supported by FTP66 ALG (PORT and PASV),"- PORT Command: Specifies the address and port number for a server to connect. Concatenation of a 32-bit Internet host address and a 16-bit TCP port address, separated by commas. Each field is transmitted as a decimal number in character string representation.
- PASV Command: Requests a server to listen on a non-default data port and wait for a connection instead of initiating another connection."
Protocol-specific string representation of the network address for address family numbers 1 and 2 in a specific format (as mentioned in the table).,Not provided. The text does not specify any particular configuration.
The <tcp-port> argument must be a string representation of the number of the TCP port on which the host is listening for data connection.,"EPRT |1|10.235.1.2|6275| (for IPv4 address)
EPRT |2|2001:DB8:2::2:417A|5282| (for IPv6 network protocol and a network address)"
Configuring FTP66 ALG Support for IPv6 Firewalls,"1. Enable
2. Configure terminal
3. Class-map type inspect match-any class-map-name
4. Match protocol protocol-name
5. Exit
6. Policy-map type inspect policy-map-name
7. .
8. Class type inspect class-map-name
9. Inspect
10. Exit
11. Class class-default
12. Exit
13. Exit
14. Zone security zone-name
15. Exit
16. Zone-pair security zone-pair source source-zone destination destination-zone
17. Service-policy type inspect policy-map-name
18. .
19. Interface type number
20. No ip address
21. IP virtual-reassembly
22. Zone-member security zone-name
23. Negotiation auto
24. Ipv6 address ipv6-address/prefix-length
25. Cdp enable
26. Exit
27. .
Ipv6 neighbor ipv6-address interface-type interface-number"
Enter global configuration mode and create an inspect type class map for QoS class-map configuration.,Device# configure terminal; class-map type inspect match-any class-map-name; Example: Step 2; Device(config)# class-map type inspect match-any in2out-class; Example: Step 3
Enabling stateful packet inspection on the device,"In2out-class
Example: Device(config-pmap-c)# inspect"
Create two security zones and apply them as a zone pair (source and destination zones).,"1. Enter the global configuration mode by exiting the QoS policy-map configuration mode: Device(config-pmap)# exit
2. Create a source security zone: Device(config)# zone security source-zone
3. Create a destination security zone: Device(config)# zone security destination-zone
4. Exit the security zone configuration mode and enter the global configuration mode: Device(config-sec-zone)# exit"
Configuring NAT for FTP66 ALG Support,"1. Enable NAT by using the ""ip nat inside"" command on the inside interface(s).
2. Configure the outside interface with the ""ip nat outside"" command.
3. Define a static translation mapping using the ""ip nat inside source static local-ip global-ip"" command."
Assigning an interface to a specified security zone and enabling NAT translation.,"1. Configure the interface as an inside interface for NAT translation using `ip nat inside`.
2. Assign the interface to a specified security zone using `zone-member security zone-name`."
Configuring NAT64 for FTP66 ALG Support,"1. Enable IPv6 unicast-routing on the router.
2. Configure the interface to use IPv6 virtual-reassembly.
3. Enable zone-member security with a specific security zone name.
4. Set negotiation to auto for the security zone.
5. Assign an IPv6 address to the interface.
6. Enable NAT64 on the router."
Configuring NAT64 for FTP66 ALG Support,Device(config)# ipv6 unicast-routing
Configuring an interface and entering interface configuration mode,Device(config)# interface gigabitethernet 0/0/0
"Configure the speed, duplex, and automatic flow control of the Gigabit Ethernet interface.",negotiation auto
Configures an interface and enters interface configuration mode.,"device# configure terminal
Enter configuration mode: Device(config)# interface gigabitethernet 0/1/1"
Configuring NAT64 for FTP66 ALG Support,Firewalls
Translate an IPv6 source address to an IPv4 source address and an IPv4 destination address to an IPv6 destination address for NAT64.,nat64 v6v4 static <ipv6-address> <ipv4-address>
"Secure the device by configuring zone-based security, creating a zone-pair for inbound and outbound traffic, applying service policy for inspection, setting interface configurations for gigabitethernet 0/0/1 and gigabitethernet 0/1/1 with appropriate IPv4 and IPv6 addresses, enabling CDP, and configuring IPv6 routing.","Device(config)# zone security outside
Device(config-sec-zone)# exit
Device(config)# zone-pair security in2out source inside destination outside
Device(config-sec-zone-pair)# service-policy type inspect in-to-out
Device(config-sec-zone-pair)# exit
Device(config)# interface gigabitethernet 0/0/1
Device(config-if)# no ip address
Device(config-if)# ip virtual-reassembly
Device(config-if)# zone-member security inside
Device(config-if)# negotiation auto
Device(config-if)# ipv6 address 2001:DB8:1::1/96
Device(config-if)# cdp enable
Device(config-if)# exit
Device(config)# interface gigabitethernet 0/1/1
Device(config-if)# no ip address
Device(config-if)# ip virtual-reassembly
Device(config-if)# zone-member security outside
Device(config-if)# negotiation auto
Device(config-if)# ipv6 address 2001:DB8:2::2/96
Device(config-if)# exit
Device(config)# ipv6 route 2001::/96 gigabitethernet 0/0/1
Device(config)# ipv6 route 2001::/96 gigabitethernet 0/1/1
Device(config)# ipv6 neighbor"
Configure IPv6 neighbors and Zone-Based Policy Firewall on Cisco IOS XE Gibraltar devices.,"1. Set the IPv6 address for GigabitEthernet0/0/1 interface with MAC address 0000.29f1.4841:
   Device(config)# interface gigabitethernet 0/0/1
   Device(config-if)# ipv6 address 2001:DB8:1::1/64

2. Configure the IPv6 neighbor for GigabitEthernet0/0/1 with IPv6 address 2001:DB8:1::1:
   Device(config)# ipv6 neighbor 2001:DB8:1::1 gigabitethernet 0/0/1 0000.29f1.4841

3. Configure the Zone-Based Policy Firewall with appropriate security rules and zones. Refer to the Security Configuration Guide for detailed instructions."
Configuring NAT64 for FTP66 ALG Support,"1. Enable IPv6 unicast routing
   Device(config)# ipv6 unicast-routing
2. Configure interface gigabitethernet 0/0/0 with no IP address and enable IPv6 virtual reassembly
   Device(config-if)# no ip address
   Device(config-if)# ipv6 virtual-reassembly
3. Add the interface to the inside zone member security
   Device(config-if)# zone-member security inside
4. Enable negotiation auto
   Device(config-if)# negotiation auto
5. Configure IPv6 address on the interface
   Device(config-if)# ipv6 address 2001:DB8:1::2/96
6. Enable IPv6 on the interface
   Device(config-if)# ipv6 enable
7. Configure NAT64 support"
The FTP66 ALG Support for IPv6 Firewalls feature allows FTP to work with IPv6 firewalls.,"Configure a firewall, Network Address Translation (NAT), and NAT64 to work with the FTP66 application-level gateway (ALG)."
"SIP ALG Hardening for NAT and Firewall feature providing better memory management, RFC compliance, management of the local database for all SIP Layer 7 data, processing of the Via header, support for logging additional SIP methods, support for Provisional Response Acknowledgment (PRACK) call flow, and support for the Record-Route header.",The above enhancements are available by default; no additional configuration is required on NAT or firewall.
Recognize application-specific commands and offer granular security control over them.,"Synchronize multiple streams or sessions of data between two hosts that are exchanging data. Translate the network-layer address information that is available in the application payload. The firewall opens a pinhole, and NAT performs translation service on any TCP or UDP traffic that does not carry the source and destination IP addresses in the application-layer data stream. Specific protocols or applications that embed IP address information require the support of an ALG."
"SIP ALG uses Call-ID header field in a SIP message for call matching and managing calls. It also manages memory resources and frees up Layer 7 data records from the local database. In certain scenarios, a session timer is used to manage and free resources.",SIP ALG uses a local database to store media-related information in normal SIP calls and SIP trunks.
SIP ALG PRACK Call-Flow Support for reliable exchanges of provisional responses between SIP endpoints.,SIP application-level gateway (ALG) supports SDP information within a PRACK message and retrieves and processes media information if it exists in the PRACK message.
"SIP ALG support with scenarios involving deployment of Cisco ASR 1000 Aggregation Services Router between proxies, User Agent Client (UAC), and User Agent Server (UAS). No proxy exists between the client and server in one scenario.",Not provided in the text.
Enable SIP Inspection on the device,"Device(config-pmap)# inspect
Exits policy-map configuration mode and returns to privileged EXEC mode."
Configure a Zone Pair and attach a SIP Policy Map to it.,"- Enable privileged EXEC mode (enable).
- Enter global configuration mode (configure terminal).
- Create a security zone and enter security zone configuration mode (zone security {zone-name | default}).
- Exit the security zone configuration mode (exit).
- Return to global configuration mode (configure terminal).
- Create a Zone Pair and specify source and destination zones (zone-pair security zone-pair-name [source {source-zone-name | self | default} destination [destination-zone-name | self | default]]).
- Attach a SIP Policy Map to the Zone Pair (service-policy type inspect policy-map-name).
- Configure interfaces as Zone Members in the Zone Pair (interface type number, zone-member security zone-name, exit, interface type number, zone-member security zone-name)."
Assigning an interface to a specified security zone and configuring traffic policies for the interface.,"1. Enter interface configuration mode: `Device(config)# interface gigabitethernet 0/0/0`
2. Assign the interface to a security zone: `Device(config-if)# zone-member security zone-name`"
SIP ALG Hardening for NAT and Firewall,Cisco IOS Security Command Reference (A to Z)
"Protection against Session Initiation Protocol (SIP) application layer gateway (ALG) denial of service (DoS) attacks. Support for a configurable lock limit, a dynamic blacklist, and configurable timers to prevent DoS attacks.",Network Address Translation and zone-based policy firewalls support this feature.
"Protection against SIP DoS attacks, including register flooding, INVITE flooding, and broken authentication and session attacks.","Implement network monitoring, rate-limiting, and security measures to prevent congestion and protect against SIP DoS attacks."
Implement a limit on the number of threads waiting for a lock to prevent system instability during DoS and distributed DoS attacks.,Limit the number of threads that can wait for a lock to restrict CPU usage and maintain system stability.
Set the maximum number of backlog messages waiting for shared resources for all SIP sessions.,alg sip processor global max-backlog
Set the maximum call duration for a successful SIP call.,Device(config)# alg sip timer call-proceeding-timeout 35
Verifying SIP ALG Resilience to DoS Attacks,N/A (as no specific configuration is provided in the text)
SIP ALG configuration and statistics display.,"Enabling the debug alg command with either all, info, trace, or warn options; running the show alg sip command to display SIP ALG information; enabling the show platform hardware qfp active feature alg statistics sip command to display SIP ALG-specific statistics in Cisco Quantum Flow Processor (QFP)."
Configuring SIP ALG Resilience to DoS Attacks on a device,"- Set the maximum backlog for SIP ALG processor session to 5:
  Device(config)# alg sip processor session max-backlog 5
- Set the global maximum backlog for SIP ALG processor to 5:
  Device(config)# alg sip processor global max-backlog 5
- Configure SIP blacklist trigger-period, trigger-size, and destination (e.g., 10.1.1.1):
  Device(config)# alg sip blacklist trigger-period 90 trigger-size 30 destination 10.1.1.1
- Configure SIP blacklist trigger-period, trigger-size, and block-time (e.g., 30 seconds):
  Device(config)# alg sip blacklist trigger-period 90 trigger-size 30 block-time 30
- Set the call proceeding timeout for SIP ALG timer to 35:
  Device(config)# alg sip timer call-proceeding-timeout 35
- Set the maximum call duration for SIP ALG timer to 90:
  Device(config)# alg sip timer max-call-duration 90"
Zone-Based Firewall ALG and AIC Conditional Debugging and Packet Tracing Support feature,"- Packet tracing
- Conditional debugging
- Debug logs"
"Network Troubleshooting using Cisco Mediatrace for IP Flow Path Discovery, Monitoring Capabilities Enabled on Nodes, and Collection of Hop-by-Hop Information such as Flow Statistics, Utilization Information for Interfaces, CPUs, Memory, and Changes to Routes or Monitoring State.",1) On-demand collection of statistics using an exec command on the hops along a media flow. 2) Recurring monitoring sessions at specific times and days with customizable metrics and collection intervals.
"Collect and analyze data from Cisco Mediatrace for various metrics, such as app-health metrics, requests received, time last request received, initiator of last request, max concurrent sessions supported, sessions currently active, etc.","Enable Mediatrace on each network node to collect data either through a pre-scheduled, recurring monitoring session or an one-shot, on-demand collection of statistics known as a Mediatrace poll."
Collect flow information from the network nodes and enable Mediatrace Initiator on the configuring node. Enable Mediatrace Responder on each node that collects information.,Set session parameters using video-monitoring profiles for Cisco Mediatrace sessions.
System-data profiles configuration,Setup a system-data profile
"Enabling Cisco Mediatrace for each node that needs to be monitored, including enabling the Cisco Mediatrace Responder and Initiator.","1. Enable privileged EXEC mode by using the ""enable"" command.
2. Enter global configuration mode by using the ""configure terminal"" command.
3. Use the ""mediatrace initiator {source-ip ip-address | source-interface interface-name} [force] [max-sessions number ]"" command to enable the Cisco Mediatrace Initiator for all nodes that need to initiate Mediatrace sessions or polls.
4. Use the ""mediatrace responder [max-sessions number ]"" command to enable the Cisco Mediatrace Responder for each node you want to monitor using Cisco Mediatrace."
Enter global configuration mode and configure parameters for a Cisco Mediatrace pre-packaged video-monitoring profile.,"configure terminal, mediatrace profile perf-monitor vprofile-2"
Specify the clock rate used for sampling RTP video-monitoring metrics.,clock-rate {type-number | type-name} rate
Specify the minimum number of packets in a sequence used to classify a RTP flow.,max-reorder 4
New system-data monitoring session and association with a Cisco Mediatrace session.,"Enables privileged EXEC mode, enters global configuration mode, configures the mediatrace profile for system, sets metric list (interface | cpu | memory), and ends the configuration."
Configure parameters for a Cisco Mediatrace system profile.,"Entering the system profile configuration mode, specifying metric-list (interfaces, CPU, or memory), and exiting the current configuration mode."
"Discover network hops for troubleshooting using RSVP transport protocol with optional disc-proto keyword, and matching flow-specifier values to media flow.",1. Enable privileged EXEC mode. 2. Configure terminal. 3. Mediatrace path-specifier name [disc-proto rsvp] {gsid gsid | destination ip ip-address port nnnn} 4. Source ip ip-address port nnnn 5. L2-params gateway ip-address vlan vlan-id 6. Gsid gsid 7. End
Enter your password if prompted.,Router> enable; configure terminal
Media monitoring configuration for Cisco IOS XE Gibraltar,gsid [global session ID]
"Configure a Cisco Mediatrace session by defining a flow-specifier profile with source IP address, destination IP address, source port, destination port, and protocol to identify the flow.","1. enable
2. configure terminal
3. mediatrace flow-specifier name
4. source-ip ip-address [source-port port]
5. dest-ip ip-address [dest-port port]
6. gsid gsid
7. ip-protocol {tcp | udp} (for RTP media flows, select UDP)
8. end"
"Configure the media trace flow-specifier profile for monitoring metrics with source and destination IP addresses, source and destination ports, and apply it to the router.","1. Set the flow-specifier name using the ""mediatrace flow-specifier"" command.
2. Specify the source IP address using the ""source-ip"" command and the desired IP address.
3. Optionally, specify the source port number using the ""[source-port port ]"" command and the desired port number.
4. Specify the destination IP address using the ""dest-ip"" command and the desired IP address.
5. Optionally, specify the destination port number using the ""[dest-port port ]"" command and the desired port number."
Specify the metadata global session ID of the flow being monitored using the gsid command.,"Use the gsid command followed by the desired global session ID, e.g., Router(config-mt-flowspec)# gsid 60606060."
Configure Cisco Mediatrace settings,"- Name of the session (name)
- Response timeout (response-timeout seconds)
- Frequency and inactivity timeout (frequency {frequency | on-demand} inactivity-timeout seconds)
- History buckets
- Route change reaction time (route-change reaction-time seconds)"
Configure Cisco Mediatrace session-params profile for Router,mediatrace session-params name Example:Router(config-mt-sesparam)# mediatrace session-params qos-2 response-timeout seconds Example:Router(config-mt-sesparam)# response-timeout 8 frequency {frequency | on-demand} inactivity-timeout seconds Example:Router(config-mt-sesparam)# frequency 4 inactivity-timeout 2 history buckets Example:Router(config-mt-sesparam)# history buckets
Configuring a Cisco Mediatrace session and linking various profiles to it.,"1. enable
2. configure terminal
3. mediatrace session-number
4. trace-route
5. path-specifier {[ forward ] path-name | reverse path-name }
6. session-params name
7. profile system name
8. profile perf-monitor name flow-specifier flow-specifier-name
9. profile snmp name
10. profile custom name
11. last-node { auto | address address }"
Configuring Cisco Mediatrace,Router(config-mt-session)# path-specifier path-4
Fetching default set of RTP/TCP metrics using Cisco Mediatrace,"- For RTP metrics: ip-protocol udp, source port (nnnn), dest-ip ip-address, dest port (nnnn)
- For TCP metrics: ip-protocol tcp, source port (nnnn), dest-ip ip-address, dest port (nnnn)"
Monitor data and fetch metrics using Cisco Mediatrace.,"- mediatrace poll path dest ip-address perf-monitor source-ip ip-address (UDP protocol)
- Source - port nnnn
- Dest-ip ip-address
- Dest - port nnnn
- mediatrace poll path dest ip-address perf-monitor flow-specifier source ip-address (TCP protocol)"
Display the parameters configured for all pre-packaged system-data monitoring profiles or the specified profile.,show mediatrace profile system [name]
Display the current status of the responder.,show mediatrace responder app-health
Perf-monitor Profile Configuration,"Requirement: Perf-monitor Profile Configuration
Configuration: Max Dropout: 5, Max Reorder: 5, Min Sequential: 5, Sampling Interval (sec): 30"
Inactivity timeout of 300 seconds,Reaction time of 5 seconds
Mediatrace session data collection for the path with 3 hops.,"- Mediatrace Hop Number: 1 (host=responder1, ttl=254) - Ingress Interface: Gi0/1, Egress Interface: Gi1/0
- Mediatrace Hop Number: 2 (host=responder2, ttl=253) - Ingress Interface: Gi0/1, Egress Interface: Gi1/0
- Mediatrace Hop Number: 3 (host=responder3, ttl=252) - Ingress Interface: Gi0/1, Egress Interface: Gi0/2"
Egress Interface Configuration,Gi1/0
"The requirement is to analyze and display the Mediatrace app-health stats for a responder. This includes information such as the number of all requests received, time of the last request received, initiator ID of the last request received, requests dropped due to queue full, responder current max sessions, and other relevant statistics.","The configuration pertains to the Router's show mediatrace responder app-health command, which displays information related to the Mediatrace app-health stats for a given responder."
• Mediatrace configuration with one initiator and two responders,"• Mediatrace initiator: 10.10.12.2, profile system intf1, profile perf-monitor rtp1, path1 (destination ip 10.10.132.2, port 2000, source ip 10.10.130.2, port 1000), flow1 (source-ip 10.10.130.2, source-port 1000, dest-ip 10.10.132.2, dest-port 2000)
• Mediatrace responder 1: snmp-server community public RO
• Mediatrace responder 2 (associated with path1): None provided in the text"
Max Active Session Count,"Requirement: Max Active Session Count
Configuration: The maximum number of active sessions is not specified in the text. It only mentions that the current number of active sessions may be higher than the max active session count because the max active session count was changed recently."
"Cisco Mediatrace and other Cisco Medianet products, including a Quick Start Guide and Deployment Guide.",Not provided in the text.
Isolate and troubleshoot network degradation problems for data streams using the Cisco Mediatrace feature.,"- admin-params
- clear mediatrace
- incomplete-sessions
- clock-rate (RTP parameters)
- dest-ip (flow)
- frequency (session parameters)
- history (session parameters)
- ip-protocol (flow)
- max-dropout
- max-reorder
- mediatrace
- mediatrace initiator
- mediatrace responder
- mediatrace path-specifier
- mediatrace poll
- mediatrace profile perf-monitor
- mediatrace profile system
- mediatrace schedule
- mediatrace session-params
- metric-list (monitoring profile)
- metric-list (system profile)
- min-sequential
- path-specifier
- profile perf-monitor
- profile system"
"Acquiring IP operational data from IP networks for network and security monitoring, network planning, traffic analysis, and IP accounting.",The networking device must be configured for IPv4 routing. One of the following must be enabled on your router and on any interfaces on which you want to enable Cisco Performance Monitor: Cisco Express Forwarding
Enable Cisco Express Forwarding on router and interfaces where Cisco Performance Monitor is desired.,Use the ipv6 cef command to enable Cisco Express Forwarding.
"Configure a performance-monitor type flow record, flow monitor, and class for Cisco Performance Monitor.","Use match and collect commands to configure a flow record specifying key and non-key fields, optionally configure a flow exporter with the export destination, use the class-map command to configure a class with filtering criteria, and use the policy-map to include one or more classes and performance-monitor type flow monitors."
Configure performance-monitor type policies for Cisco Performance Monitor.,"Associate a performance-monitor type policy to the appropriate interface using the service-policy type performance-monitor command, and add up to three different input and three different output policies on the same interface from release 15.5(2)T."
SNMP MIB Support for Cisco Performance Monitor,"1. CISCO-FLOW-MONITOR-TC-MIB - Defines the textual conventions common to the following MIB modules.
2. CISCO-FLOW-MONITOR-MIB - Defines the framework that describes the flow monitors supported by a system, the flows that it has learned, and the flow metrics collected for those flows.
3. CISCO-RTP-METRICS-MIB - Defines objects that describe the quality metrics collected for RTP streams, similar to those described by an RTCP Receiver Report packet (RFC 3550).
4. CISCO-IP-CBR-METRICS-MIB - Defines objects that describe the quality metrics collected for IP streams that have a Constant Bit Rate (CBR)."
Support for Layer 3 SVI (b),N/A (No specific configuration mentioned in the text)
Egress performance monitoring with recirculation mechanism on the Catalyst 6500 platform.,"Software rate-limited cloned packets from Egress policies, no hardware-based protection for high interrupt CPU usage during scenarios when many flows are being monitored. Performance monitoring not supported for packets switched using the Fast (CEF) Path."
"Enabled features take precedence, blocking other configurations and creating syslog messages.",Unstable traffic logs syslog messages into the buffer and does not print on console screen. Restrictions for Performance Monitor: 30 fields in a flow record on Cisco ASR 1000 Series Aggregation Services Routers.
Ability to export data to multiple destinations using multiple flow exporters,"1. Configure terminal
2. flow exporter exporter-name
3. destination {ip-address | hostname} [vrf vrf-name]
4. export-protocol netflow-v9
5. description description
6. dscp dscp
7. source interface-type interface-number
8. option {exporter-stats | interface-table | sampler-table} [timeout seconds]
9. output-features
10. template data timeout seconds
11. transport udp udp-port
12. ttl seconds
13. end"
Specify the IP address or hostname of the system to which the exporter sends data.,destination {ip-address | hostname} [vrf vrf-name]
"Export statistics, Interface table, Sampler table configuration","exporter-stats timeout 120

Requirement: Resending of templates based on a timeout
Configuration: template data timeout seconds (Example: Step 11)

Requirement: Configure UDP as the transport protocol and specify the UDP port
Configuration: transport udp udp-port (Example: Step 12)"
Enabling privileged EXEC mode and creating a flow record for performance monitoring,"enable, configure terminal, flow record type performance-monitor record-name, Router(config)# flow record type performance-monitor record-8, match ipv4 {destination{address | prefix[minimum-mask mask]}| protocol| source{address | prefix[minimum-mask mask]}}, Router(config-flow-record)# match ipv4 destination address, match transport {destination-port| rtp [ssrc]| source-port}"
Configure a Flow Monitor for Cisco Performance Monitor,"Use an existing flow record or one of the following default predefined records (default-rtp, default-tcp, or ""NetFlow IPv4 original input"") and define the contents and layout of its cache entries."
Create a flow monitor and enter flow monitor configuration mode.,flow monitor type performance-monitor; monitor-name; (Optional) Creates a description for the flow monitor: description description; (Optional) Creates a cache for the flow monitor: cache {entries| timeout| type}; (Optional) Specifies whether statistics are collected for the flow monitor: statistics {packet}; (Optional) Specifies the flow exporter for the flow monitor: exporter exporter-name; (Optional) Specifies the flow record for the flow monitor: record {record-name| default-rtp}.
Configuring a Flow Class for Cisco Performance Monitor,"1. enable
2. configure terminal
3. class-map class-name
4. description description
5. match {access-group {access-group | name access-group-name} | any | class-map class-map-name
| cos cos-value | destination-address mac address | discard-class class-number | dscp dscp-value | flow {direction | sampler} | fr-de | fr-dlci dlci-number | input-interface interface-name |"
Specifies the classification criteria.,match {access-group {access-group | name access-group-name} | any | class-map class-map-name |}
Creating a policy and entering policy configuration mode for Performance Monitor.,"1. Device# configure terminal
2. policy-map type performance-monitor policy-name
3. Device(config)# policy-map type performance-monitor FLOW-MONITOR-4
4. class {class-name | class-default} (e.g., Device(config-pmap)# class class-4)
5. Enter flow monitor configuration mode (optional, if not using existing flow monitor): 
   - Device(config-pmap-c)# flow
6. option to configure a new flow monitor, as described in the text."
Configure a Flow Policy for Cisco Performance Monitor using an existing Flow Monitor,"1. Enter the monitor metric ip-cbr configuration mode: `Device(config-pmap-c)# monitor metric ip-cbr`
2. Specify the rate for monitoring metrics: `rate layer3 {byte-rate | packet}`
3. Set the data rate in Bps, kBps, mBps, or gBps using byte-rate: `Device(config-pmap-c-mipcbr)# rate layer3 248 mbps`
4. Set the packet rate in packets per second using packet: `rate layer3 packet`
5. Return to policy class configuration mode: `Device(config-pmap-c-mipcbr)# exit`"
Clock rate for RTP video-monitoring metrics,"clock-rate {type-number | type-name | default} rate
Example: Device(config-pmap-c-mrtp)# clock-rate 8 9600

Requirement: Maximum number of dropouts allowed for RTP video-monitoring metrics
Configuration: max-dropout number
Example: Step 12, Device(config-pmap-c-mrtp)# max-dropout 2

Requirement: Maximum number of reorders allowed for RTP video-monitoring metrics
Configuration: max-reorder number
Example: Step 13, Device(config-pmap-c-mrtp)# max-reorder 4

Requirement: Minimum number of sequential packets to identify an RTP flow
Configuration: min-sequential number
Example: Step 14, Device(config-pmap-c-mrtp)# min-sequential 2"
Specifying the number of historical buckets for video-monitoring metrics.,history number
Specify types of threshold values for alarms that require reporting.,threshold value {ge number | gt number | le number | lt number | range rng-start rng-end}
- Configure a performance monitoring policy for the device,"- Policy-map type: performance-monitor
- Policy-name: (needs more context)
- Class: (class-name or class-default)
- Flow monitor: inline
- Record: (record-name, default-rtp, or default-tcp)
- Exporter: exporter-name
- Monitor metric: ip-cbr
- Rate layer3: (byte-rate with unit bps, kbps, mbps, or gbps, or packet)
- Clock-rate: (type-number or type-name) rate
- Max-dropout: number
- Max-reorder: number
- Min-sequential: number
- Ssrc maximum: number
- Monitor parameters: (flows number, interval duration number, history number, timeout number)
- React ID: (media-stop, mrv, rtp-jitter-average, or transport-packets-lost-rate)
- Action: (snmp or syslog)
- Alarm severity: {alert, critical, emergency, error, info}
- Alarm type: {discrete, grouped {count number | percent number}}
- Threshold value: (ge number, gt number, le number, lt number, range rng-start rng-end)
- Description: description"
Monitor metric for RTP video-monitoring,Clock rate (type-number or type-name) and range for rate is 1 kHz to 192 kHz
Specify the number of historical intervals of collected monitoring metrics to display.,"interval duration (e.g., Router(config-pmap-c-mparam)# history 4)"
"Enter global configuration mode and specify an interface and enter interface configuration mode. Attach a policy map to an input or output interface or virtual circuit (VC), to be used as the service policy for that interface or VC.","1. Enter global configuration mode: configure terminal
2. Specify an interface and enter interface configuration mode: interface type number
3. Attach a policy map to an input interface or virtual circuit (VC) or output interface or VC: service-policy type performance-monitor {input | output} policy-name"
Configuring Cisco Performance Monitor policy on an interface without using an existing Flow Policy,"Apply the Cisco Performance Monitor policy to at least one interface, and activate it by performing the required task."
Configure a flow record or exporter for inline flow monitoring in a router's policy.,"- To configure a flow record: `record {record-name| default-rtp| default-tcp}`
  Example: `Router(config-spolicy-inline-flowmon)# record default-tcp`
- To configure a flow exporter: `exporter exporter-name`
  Example: `Router(config-spolicy-inline-flowmon)# exporter exporter-4`"
Maximum number of dropouts allowed when sampling RTP video-monitoring metrics.,"max-dropout number (Example: Step 15, Router(config-spolicy-inline-mrtp)# max-dropout 2)

Requirement: Maximum number of reorders allowed when sampling RTP video-monitoring metrics.
Configuration: max-reorder number (Example: Step 16, Router(config-spolicy-inline-mrtp)# max-reorder 4)

Requirement: Minimum number of sequential packets required to identify a stream as being an RTP flow.
Configuration: min-sequential number (Example: Step 17, Router(config-spolicy-inline-mrtp)# min-sequential 2)

Requirement: Maximum number of SSRCs that can be monitored within the same flow.
Configuration: ssrc maximum number (Example: Step 18, Router(config-spolicy-inline-mrtp)# ssrc maximum 20)"
Specify the number of intervals before a stopped flow is removed from the database.,Router(config-spolicy-inline-mparam)# history 4
"Configure the action for reporting violations of thresholds, specify the level of alarm for reporting, and define the types of levels considered alarms that require reporting.","action {snmp | syslog}
alarm severity {alert| critical| emergency| error | info}
alarm type {discrete| grouped{count number | percent number}}"
Specifying threshold values for alarms that require reporting in the Cisco Performance Monitor,threshold {ge number | gt number | le number | lt number | range rng-start rng-end}
The requirement is to configure a performance monitoring policy for a specific interface on a device using the show policy-map type performance-monitor command.,"The configuration would involve specifying the policy map name, class name, direction (input or output), and various parameters such as interval duration, timeout, history, flows, monitor metric, min-sequential, max-dropout, max-reorder, clock-rate default, and ssrc maximum."
"The requirement is to configure the number of flows to collect for the policy, RTP metrics for the flow policy, minimum number of packets in a sequence used to classify an RTP flow, maximum number of packets to ignore ahead and behind the current packet in terms of sequence number, configured clock rate for the RTP packet timestamp clock, and the configured maximum number of SSRCs that can be monitored within the same flow.","The configurations include setting the number of flows to collect (flows), enabling RTP metrics for the flow policy (monitor metric rtp), configuring the minimum number of packets in a sequence (min-sequential), configuring the maximum number of packets to ignore ahead and behind the current packet (max-dropout, max-reorder), setting the clock rate for the RTP packet timestamp clock (clock-rate default), and specifying the maximum number of SSRCs that can be monitored within the same flow (ssrc maximum)."
"Number of packets expected, Number of packets lost, Number of milliseconds required to complete a round trip, Total number of milliseconds required to complete a round trip for all samples, Total number of samples used to calculate a round trip times, Number of loss events (number of contiguous sets of lost packets), Incoming interface index, Outgoing interface index, Total number of bytes collected for all flows, Total number of IP packets sent for all flows, Average number of packets or bits processed by the monitoring system per second during the monitoring interval for all flows, Number of bytes sent by the client","transport packets expected counter, transport packets lost counter, transport round-trip-time (msec), transport round-trip-time sum (msec), transport round-trip-time samples, transport event packet-loss counter, interface input, interface output, counter bytes, counter packets, counter bytes rate, counter client bytes"
Number of packets sent by the client.,counter client packets
Monitoring flow thresholds and loss-of-confidence in measurement.,"1. Enable privileged EXEC mode (if prompted, enter the password).
2. Display the cache and clients for Cisco Performance Monitor using the command ""show performance monitor cache [policy policy-map-name class class-map-name][interface interface name]"".
3. Show detailed information about the clients using the command ""show performance monitor clients detail all""."
Performance Monitoring of Clients' Details,"- Client Name: Mediatrace-131419052
- Type: Mediatrace
- Age: 443 seconds
- Monitor Object: _MMON_DYN_-class-map-69
- Flow Spec: (dvmc-acl#47) 10.10.130.2 1000 10.10.132.2 2000 17
- Monitor Parameters:
  - Interval Duration: 60 seconds
  - Timeout: 2
  - History: 1
  - Flows: 100
  - Monitor Metric: RTP
- Min-Sequential: 10
- Max-Dropout: 5
- Max-Reorder: 5
- Clock Rate: 1129000 (112.9 Mbps) with a default of 90000 (90 Mbps)
- SSRC Maximum: 20
- Monitor Metric IP-CBR
  - Rate Layer3 Packet: 20
- Flow Record: dvmc_fnf_fdef_47
- Key Fields:
  - IPv4 Source Address
  - IPv4 Destination Address
  - Transport Source-Port
  - Transport Destination-Port
  - IP Protocol"
Display the current status of a flow monitor,"enable, show flow monitor type performance-monitor"
Show running-config flow monitor,"flow monitor FLOW-MONITOR-1
description Used for basic IPv4 traffic analysis
record netflow ipv4 original-input

flow monitor FLOW-MONITOR-2
description Used for basic IPv6 traffic analysis
record netflow ipv6 original-input"
Verify that Flexible NetFlow and Cisco Performance Monitor are enabled on an interface using the show flow interface command.,"Enable privileged EXEC mode, then use the show flow interface type number command to check if Flexible NetFlow and Cisco Performance Monitor are enabled on a specific interface."
"Display the status, statistics, and flow data in the cache for a flow monitor.",Cache type - Normal
Flow Monitor configuration,"Cache type: Normal, Cache size: 4096, Current entries: 6, High Watermark: 8, Flows added: 1048, Flows aged: 1042, Active timeout (1800 secs), Inactive timeout (15 secs): 1031, IPV6 FLOW LABEL: 0"
Configuring Cisco Performance Monitor,Verifying the Flow Exporter Configuration
Display the configuration commands of the flow exporter specified by EXPORTER-1.,"```
!
flow exporter EXPORTER-1
description Exports to datacenter
destination 172.16.10.2
transport udp 65
!
```"
Collect performance metrics for video monitoring.,"- Set the exporting server to video-nms-server.
- Use netflow-v9 export protocol.
- Configure the destination as cisco-video-management and use UDP port 32001.
- Create a class-map match-all video-class and access-group IPV4 101.
- Set up a policy-map type performance-monitor called video-monitor.
- Add the video-class to the policy-map.
- Export flow data to video-nms-server and monitor inline.
- Record video-monitor metrics in video-monitor-record.
- Configure monitoring modeling parameters with an interval duration of 10 seconds."
"Set the timeout to 10 minutes, specify that 30 flow intervals can be kept in performance database, configure a RTP flow criteria: at least 10 packets in sequence, ignore packets that are more than 5 packet ahead or behind in terms of seq number, set the clock rate frequency for rtp packet timestamp clock, set the maximum number of ssrc allowed within this class, set TCA for alarm, set the threshold to greater than 10%, set the threshold to the average number based on the last five intervals.","timeout 10, history 30, priority 7, monitor metric rtp, min-sequential 10, max-dropout 5, max-reorder 5, clock-rate 89000, ssrc maximum 100, react 100 transport-packets-lost-rate (description critical), threshold gt 10, threshold type average 5, action syslog, alarm severity critical, react 110 transport-packets-lost-rate (description medium)."
Configuring flow sampling to reduce the overhead of monitoring traffic with Flexible NetFlow.,Using Cisco IOS Flexible NetFlow Flow Sampling.
Monitoring the flow of packets in a network to identify issues before they significantly impact applications' performance.,"Support for this feature was added for Cisco ASR 1000 Series Aggregation Services routers in Cisco IOS XE Release 3.5S. There are some limitations to the monitoring of ingress or egress data on certain types of interfaces for the Cisco IOS XE Release 3.3 SG and Cisco IOS release 15.1(1)SG. For all other releases, the following commands were introduced or modified: action(policy react and policy inline react), alarm severity (policy react and policy inline react), alarm type(policy react and policy inline react), class-map, clock-rate(policy RTP), collect application media, clear fm performance-monitor counters, collect."
Enabling monitoring of IPv6 fields and using all other Flexible Netflow commands not supported in the previous release.,Cisco IOS XE Release 3.5S for Cisco ASR 1000 Series Aggregation Services routers
"Collect transport ICMP IPv4, Collect transport TCP, Collect transport UDP, Match application name, Match connection transaction-id, Match datalink dot1q VLAN, Match datalink MAC, Match datalink VLAN, Match interface, Match IPv4 fragmentation, Match IPv4 section, Match IPv4 total-length, Match IPv4 ttl, Match IPv6, Match IPv6 destination, Match IPv6 extension map, Match IPv6 fragmentation, Match IPv6 hop-limit, Match IPv6 length, Match IPv6 section, Match IPv6 source, Match routing, Match routing is-multicast, Match routing multicast replication-factor, Match transport, Match transport ICMP IPv4, Match transport ICMP IPv6, Match transport TCP, Match transport UDP",Cisco IOS XE Release 3.5S
Enable monitoring of total number of out-of-order TCP packets on Cisco ASR 1000 Series Aggregation Services routers in Cisco IOS XE Release 3.6S.,The following commands were introduced or modified by this feature: collect transport tcp bytes out-of-order and collect transport packets out-of-order.
Collect and analyze network data for better and more consistent network performance using Flexible NetFlow (FNF) in Cisco DNA Center Assurance.,"Use FNF records designed for Assurance-related metrics, optimized for improved performance with a pair of record types for IPv4 and IPv6."
- Collect connection initiator direction (ingress/egress) of the flow observed at the observation point.,"Requirement:
- Collect connection initiator direction (ingress/egress) of the flow observed at the observation point.

Configuration:
- Field name: ingressVRFID"
"Collect packet statistics from server and client in a flow, including number of packets, overall packet bytes, and network delay (round-trip time) between the client and server.","1. Field name: serverPackets - Number of layer 4 packets in a flow from the server.
   Device configuration: collect connection server counter, packets long
2. Field name: serverOctets - Overall IP packet bytes in a flow from the server.
   Device configuration: collect connection server counter, bytes network long
3. Field name: clientPackets - Number of layer 4 packets in a flow from the client.
   Device configuration: collect connection client counter, packets long
4. Field name: sumNwkTime - Network delay is the round-trip time between the client and the server, as measured by the observation point, calculated once per session."
Sum of all network delays observed for the sessions of this flow.,Field name: sumServerNwkTime
Extracting metrics information and configuring them for Assurance Monitoring in DNA Center.,"Collect connection delay application, sum; Field name: numRespsCountDelta, Total number of responses sent by the server."
Attach the context to an interface and configure monitors to collect Assurance-related metrics.,"performance monitor context context-name, performance monitor context apm profile application-assurance, traffic-monitor assurance-monitor ipv4, traffic-monitor assurance-monitor ipv6"
"Define two flow monitors for assurance-related metrics, one for IPv4 and one for IPv6.","1. Define flow monitor `monitor-name-for-ipv4` with cache entries 100000 (Optional. Recommended value depends on platform.) and record netflow ipv4 assurance.
2. Define flow monitor `monitor-name-for-ipv6` with cache entries 100000 (Optional. Recommended value depends on platform.) and record netflow ipv6 assurance."
Assurance monitors for IPv4 and IPv6 traffic,Monitor-name-for-wireless-ipv4 (input and output) and monitor-name-for-wireless-ipv6 (input and output)
Monitor the flow on only one interface.,Do not attach monitors for Assurance-related metrics to two separate interfaces that handle both directions of the same flow.
Performance Monitor Context ApmContext configuration,"Exporters - flow exporter ApmContext-1, Access Lists, Class-maps, Samplers, Records and Monitors (flow record ApmContext-app_assurance_ipv4)"
"Collect connection server IPv4 address, match connection server transport port, match flow observation point, collect routing VRF input, collect flow direction, collect timestamp absolute first, collect timestamp absolute last, collect connection initiator, collect connection new-connections, collect connection server counter responses, collect connection delay network to-server sum, collect connection client counter packets retransmitted, collect connection delay network client-to-server sum, collect connection delay application sum, collect connection server counter packets long, collect connection client counter packets long, collect connection server counter packets retransmitted, collect connection server counter bytes network long, collect connection client counter bytes network long.","- Flow Monitor: ApmContext-app_assurance_ipv4
- Description: ezPM monitor
- Exporter: ApmContext-1
- Cache Timeout Active: 60
- Cache Entries: 100,000"
Flow record for application assurance with IPv6 support and various match criteria.,"ApmContext-app_assurance_ipv6, ezPM record, match ipv6 version, match ipv6 protocol, match application name, match connection client ipv6 address, match connection server transport port, match connection server ipv6 address, match flow observation point, collect routing vrf input, collect flow direction, collect timestamp absolute first, collect timestamp absolute last, collect connection initiator, collect connection new-connections, collect connection server counter responses, collect connection delay network to-server sum, collect connection client counter packets retransmitted, collect connection delay network client-to-server sum, collect connection delay application sum, collect connection server counter packets long, collect connection client counter packets long, collect connection server counter packets retransmitted, collect connection server counter bytes network long, collect connection client counter bytes network long."
EZPM monitor for Assurance metrics and Elephant Flows monitoring,"- Exporter: ApmContext-1
- Cache timeout active: 60 seconds
- Cache entries: 100,000 entries
- IP Flow Monitor: ApmContext-app_assurance_ipv4 for input and output on interface TenGigabitEthernet2/0/0
- IPv6 Flow Monitor: ApmContext-app_assurance_ipv6 for input and output on interface TenGigabitEthernet2/0/0"
Hide addresses while attempting to establish a Telnet session.,service exec-wait command in global configuration mode (EXEC Startup Delay).
Improve efficiency and reduce congestion in TCP-based networks by using John Nagle's algorithm.,"Nagle algorithm enabled, with default settings for packet accumulation and transmission pacing."
The requirement is to allow the switching operations to use as much of the central processor as required and adjust the initial buffer pool settings and limits at which temporary buffers are created and destroyed.,"The configuration should include giving priority to the system process scheduler when the network is running unusually heavy loads, and having two sets of buffer pools - public and interface."
Create a command alias using the 'alias' command.,"Router(config)# alias exec save config copy running-config startup-config

Requirement: Enable minor TCP services such as chargen, daytime, discard, and echo.
Configuration: Router(config)# service tcp-small-servers

Requirement: Enable minor UDP services such as chargen, daytime, discard, and echo.
Configuration: Router(config)# service udp-small-servers

Requirement: Disable the BootP server feature.
Configuration: Router(config)# no ip bootp server"
Display a message during Telnet connection attempts if the connection fails.,"Requirement: Display a message during Telnet connection attempts if the connection fails.
Configuration: busy-message command with a specified address and message (e.g., Router(config)# busy-message host1 message1)."
Configure Cisco IOS software to set the TCP window to zero (0) when a Telnet connection is idle.,service telnet-zero-idle
Buffer configuration adjustment,Router(config)# buffers small permanent 10
Memory Reservation for critical operations.,"Setting a Low Free Memory Threshold using the command ""memory free low-watermark [processor threshold]""."
Memory reservation for critical notifications when the router is overloaded by processes.,(Not provided in the text)
Reserve critical kilobytes for memory.,memory reserve critical <value in kilobytes>
"Notification message should be sent when free memory drops below 20,000k and rises to above 5 percent of the threshold.","freemem_lwm set to 20,480,000 (for Pool: Processor)"
Reserve memory for critical notifications.,1000 KB of memory reserved for critical notifications (Router# memory reserved critical 1000). The amount of memory reserved cannot exceed 25 percent of total available memory.
The requirement is to introduce the Network Time Protocol Version 4 (NTPv4) MIB in Cisco software and define data objects that represent the current status of NTP entities. This will be accessed using the Simple Network Management Protocol (SNMP) for monitoring and managing local NTP entities.,Not provided in the text
Simple Network Time Protocol (SNTP) configuration for time synchronization and security,"SNTP can be configured to receive time from NTP servers, accept packets from specific servers or NTP broadcast packets, and select the server with the best stratum. Extended access lists can be configured to provide some protection, but SNTP does not authenticate traffic or provide complex filtering mechanisms like NTP."
Simple Network Time Protocol (SNTP) configuration on Cisco devices for authentication and server selection.,"1. Enable privileged EXEC mode using ""enable"".
2. Enter the global configuration mode with ""configure terminal"".
3. Configure SNTP authentication using ""sntp authenticate"".
4. Set the authentication key type and MD5 hash algorithm with ""sntp authentication-key number md5 key"".
5. Specify trusted keys using ""sntp trusted-key key-number [- end-key]"".
6. Configure SNTP server with IP address, key, and key ID using ""sntp server ip-address key key-id""."
Entering the global configuration mode and enabling SNTP Authentication feature.,"Device# configure terminal, sntp authenticate"
Enabling privileged EXEC mode,Device> enable
Configure Simple Network Time Protocol (SNTP) on Cisco devices.,"sntp server, sntp authenticate, sntp authentication-key, sntp multicast, sntp trusted-key."
IPSec session handling during switchover,Explicitly terminate all existing IPSec sessions or tunnels prior to the operation and reestablish them post ISSU. Ensure that there are no half-open or half-established IPSec tunnels present before performing ISSU.
Dynamic Multipoint VPN architecture that allows a single mGRE tunnel interface and a single IPsec profile on the hub router to handle multiple spoke routers.,"Single mGRE tunnel interface, single IPsec profile, no crypto access lists on the hub router."
Dynamic Creation for Spoke-to-Spoke Tunnels,Eliminating the need for spoke-to-spoke configuration for direct tunnels by using NHRP to dynamically determine the required destination address of the target spoke.
"Implement a Dynamic Multipoint VPN feature using GRE tunnels, IPsec encryption, and NHRP routing.",Use Cisco enhanced standard technologies such as NHRP (a client-server protocol where the hub is the server and spokes are clients) to create an IPsec tunnel between spokes for direct data transfer and utilize crypto profiles for ease of configuration and dynamic discovery of tunnel endpoints.
"The system should support VPNv4 advertising and routing between spokes and hub, while maintaining NAT transparency.",Spokes advertise their routes and VPN-IPv4 (VPNv4) prefixes to the hub. The hub sets its own IP address as the next-hop route for all VPNv4 addresses it learns from the spokes and assigns a local MPLS label for each VPN when advertising routes back to the spokes. Spokes apply the label provided by the hub when sending traffic destined for other spokes through the hub.
NAT-Transparency Aware DMVPN enhancement for better network functionality,"Upgrade all DMVPN routers to the new code, use IPsec transport mode, and ensure proper NAT handling."
DMVPN spokes must have a unique IP address after they have been NAT translated. They can have the same IP address before they are NAT translated. The NAT box must translate the spoke to the same outside NAT IP address for the spoke-to-spoke connections as the NAT box does for the spoke-to-hub connection.,"DMVPN spokes behind NAT boxes that are performing NAT, not PAT."
Call Admission Control with DMVPN to limit the number of tunnels and protect router memory and CPU resources,IKE SA limit under Call Admission Control to drop new ISAKMP session requests if the current number of ISAKMP SAs exceeds the limit
Call Admission Control with DMVPN to drop new ISAKMP session requests when system utilization is above a specified percentage.,"No special configuration is required for using Call Admission Control with DMVPN. The default values for NHRP rate-limiting are 10,000 packets every 10 seconds per interface, set using the ip nhrp max-send command."
Configuring an IPsec Profile for Dynamic Multipoint VPN,Define a transform before configuring an IPsec profile.
"Define IPsec parameters for encryption between ""spoke and hub"" and ""spoke and spoke"" routers.","crypto ipsec profile name vpnprof
crypto map configuration mode
set transform-set transform-set-name (Optional) identity restrictions using the set identity command
(Optional) Override global lifetime value for the IPsec profile using the set security association lifetime command"
Configure Router's security associations and PFS for IPsec.,"1. Set security association lifetime to 1800 seconds using ""set security association lifetime seconds 1800"".
2. Specify the volume of traffic that can pass between IPsec peers using the ""kilobytes kilobytesoption"" option.
3. (Optional) Enable perfect forward secrecy (PFS) for new security associations with ""set pfs [group1 | group2]""."
Unique network ID numbers for NHRP across all routers in a DMVPN network,ip nhrp network-id number
Configure a tunnel interface on a router for Dynamic Multipoint VPN.,Router(config)# interface tunnel [number]
Set primary or secondary IP address for the tunnel interface.,ip address ip-address mask secondary
Enabling NHRP on an interface and configuring a tunnel source for a multicast dynamic network.,"- Enable NHRP: Router(config-if)# ip nhrp network-id [number] (Example: Router(config-if)# ip nhrp network-id 99)
- Configure tunnel source: Router(config-if)# tunnel source {ip-address | type number} (Example: Router(config-if)# tunnel source Gigabitethernet 0/0/0)"
Set the encapsulation mode to mGRE for the tunnel interface,tunnel mode gre multipoint
Setting the bandwidth value to at least 1000 is critical if EIGRP is used over the tunnel interface. Higher bandwidth values may be necessary depending on the number of spokes supported by a hub.,bandwidth value set to at least 1000
The purpose is to configure the delay time for EIGRP routing metric over the tunnel interface and set unique NHRP network IDs across all routers in a DMVPN network.,"delay number (e.g., Router(config-if)# delay 1000); ip nhrp network-id command"
Dynamic Multipoint VPN Configuration,"Tunnel mode GRE multipoint or tunnel destination hub-physical-ip-address, tunnel key key-number, tunnel protection IPsec profile name or tunnel protection psk key."
Enabling privileged EXEC mode and configuring tunnel interfaces.,"- Enable privileged EXEC mode: Router> enable
- Enter global configuration mode: Router> configure terminal
- Configure a tunnel interface and enter interface configuration mode: Router(config)# interface tunnel <number>
- Set primary or secondary IP address for the tunnel interface: Router(config-if)# ip address <ip-address> <mask> [secondary]
- Set MTU size, in bytes, of IP packets sent on an interface: Router(config-if)# ip mtu <bytes>"
The NHRP authentication string must be set to the same value on all hubs and spokes that are in the same DMVPN network.,"ip nhrp authentication string
Router(config-if)# ip nhrp authentication donttell"
The key number must be set to the same value on all hubs and spokes that are in the same DMVPN network.,Router(config-if)# tunnel key 100000
Tunnel protection with IPsec profile and PSK key,Router(config-if)# tunnel protection ipsec profile vpnprof or Router(config-if)# tunnel protection psk test1; Router(config-if)# bandwidth 1000
Adjust maximum segment size (max-segment-size) for efficient TCP sessions in a tunnel environment.,"ip tcp adjust-mss 1360, where the recommended number value is 1360 when the number of IP MTU bytes is set to 1400."
Configuring the Forwarding of Clear-Text Data IP Packets into a VRF,"1. Enable privileged EXEC mode with ""enable"".
2. Enter global configuration mode with ""configure terminal"".
3. Configure an interface type and enter interface configuration mode with ""interface type number"".
4. Allow the forwarding of clear-text data IP packets into a VRF with ""ip vrf forwarding vrf-name""."
Enable privileged EXEC mode and configure an interface type with tunnel VRF.,"enable, configure terminal, interface type number, tunnel vrf vrf-name."
Enabling MPLS on the VPN Tunnel,"Configure MPLS for each VRF instance in which traffic will be segmented, use distributed switching commands (ip multicast-routing [vrf vrf-name] [distributed], debug ip bgp vpnv4 unicast, and ip cef distributed) on Cisco ASR 1000 Series Aggregation Services Routers."
"Configuring Multiprotocol BGP (MP-iBGP) for advertising VPNv4 prefixes and labels, and using BGP to configure the hub as a Route Reflector.",Configure MPLS on the VPN tunnel and use Dynamic Multipoint VPN.
Enable conditional debugging for a specific tunnel interface and NHRP condition.,"1. Router# debug dmvpn condition interface tunnel 5
2. Router# debug nhrp condition
3. Router# debug nhrp error"
Display information about NHRP error activity,debug nhrp error
- Configure a Crypto Map with specific settings,"Requirement:
- Configure a Crypto Map with specific settings

Configuration:
- Interface: gigabitethernet0/0/0
- Crypto map tag: to-peer-outside, local addr 209.165.201.3
- Protected VRF: none
- Local ident: (192.168.0.1/255.255.255.255/0/0)
- Remote ident: (172.16.0.1/255.255.255.255/0/0)
- Peer IP: 209.165.200.225, port: 500
- Encryption type: PERMIT, flags={origin_is_acl,}
- Path MTU: 1500, Media MTU: 1500"
Replay detection support,Y (Yes)
- Security association lifetime: 4608000 kilobytes/3600 seconds,"- IP address: 172.16.175.75 and 172.16.175.76
- Peer: 172.17.63.20 and 172.17.63.19
- Extended IP access list
- Crypto Map ""Tunnel5-head-0"" (30 and 40 ipsec-isakmp)
- Interfaces using crypto map Tunnel5-head-0: Tunnel5"
Display NHRP statistics for a specific tunnel.,show ip nhrp traffic interface <tunnel_number>
Dynamic Multipoint VPN,isakmp key cisco47 address 0.0.0.0
Crypto IPsec with ESP-DES and ESP-MD5-HMAC as transform set for transport mode.,"Crypto IPsec profile ""vpnprof"" with transform-set ""trans2"". Interface Tunnel0 with bandwidth 1000, IP address 10.0.0.1/24, MTU size of 1400, and EIGRP settings (no split horizon, no next-hop self)."
esp-md5-hmac,crypto ipsec profile vpnprof set transform-set trans2
Configuration for an mGRE tunnel on a router.,"1. bandwidth 1000 - Sets the bandwidth of the interface.
2. ip address 10.0.0.2 255.255.255.0 - Assigns the IP address and subnet mask to the interface.
3. ip mtu 1400 - Sets the maximum transmission unit for the interface.
4. ip nhrp authentication donttell - Specifies NHRP authentication.
5. ip nhrp map 10.0.0.1 172.17.0.1 - Maps the NHRP server at the hub (10.0.0.1) to its static public address (172.17.0.1).
6. ip nhrp map multicast 172.17.0.1 - Sends multicast packets to the hub router and enables dynamic routing protocol between spoke and hub.
7. ip nhrp network-id 99 - Sets the NHRP network ID.
8. ip nhrp holdtime 300 - Sets the NHRP holdtime.
9. ip nhrp nhs 10.0.0.1 - Configures the hub router as the NHRP next-hop server.
10. ip tcp adjust-mss 1360 - Adjusts the maximum segment size for TCP.
11. delay 1000 - Sets the delay value.
12. tunnel source Gigabitethernet 0/0/0 - Specifies the source interface for the tunnel.
13. tunnel mode gre multipoint - Configures the tunnel mode as GRE and Multipoint.
14. tunnel key 100000 - Sets the tunnel key.
15. tunnel protection ipsec profile vpnprof - Enables IPsec protection with the specified profile."
Dynamically assign IP address via DHCP,interface FastEthernet0/0/0 ip address dhcp hostname Spoke1
MPLS and DMVPN configuration for a network with IPsec protection and BGP route reflector functionality.,"- Route Target: export 1:1, import 1:1
- MPLS label protocol LDP
- Crypto ISAKMP policy 1
- Authentication pre-share
- Crypto ISAKMP key cisco address 0.0.0.0 0.0.0.0
- Crypto IPsec transform-set t1 esp-des
- Mode transport
- Crypto IPsec profile prof
- Set transform-set t1
- Interface Tunnel1: ip address 10.9.9.1 255.255.255.0, no ip redirects
- NHRP Authentication: cisco
- NHRP Map Multicast Dynamic
- NHRP Network-ID: 1
- MPLS IP
- Tunnel Source: GigabitEthernet 0/0/0
- Tunnel Mode: gre multipoint
- Tunnel Protection: ipsec profile prof
- Interface Loopback0: ip address 10.0.0.1 255.255.255.255
- Interface Ethernet0/0/0: ip address 172.0.0.1 255.255.255.0"
- BGP Peering with neighbors 10.0.0.11 and 10.0.0.12,"- remote-as 1
- neighbor 10.0.0.11 update-source Tunnel1
- neighbor 10.0.0.12 remote-as 1
- neighbor 10.0.0.12 update-source Tunnel1
- no auto-summary
- address-family vpnv4
- neighbor 10.0.0.11 activate
- neighbor 10.0.0.11 send-community extended
- neighbor 10.0.0.11 route-reflector-client
- neighbor 10.0.0.11 route-map nexthop out
- neighbor 10.0.0.12 activate
- neighbor 10.0.0.12 send-community extended
- neighbor 10.0.0.12 route-reflector-client
- neighbor 10.0.0.12 route-map nexthop out
- exit
- address-family ipv4 vrf red
- redistribute connected
- no synchronization
- exit
- address-family ipv4 vrf blue
- redistribute connected
- no synchronization
- exit
- route-map cisco permit 10
- set ip next-hop 10.0.0.1
- control-plane
- line con 0
- logging synchronous
- line aux 0"
"Configure a Spoke device with VRF, IP routing, MPLS, and IPSec.","- Enable line VTY 0 to 4
- Disable login on the lines
- Set hostname 'spoke-pe2'
- Use boot-start and boot-end markers for booting
- Configure no AAA new-model and resource policy
- Set timezone EST 0 using clock timezone command
- Enable IP CEF
- Disable IP domain lookup
- Configure VRF Blue:
  - Create VRF blue with rd 2:2
  - Configure route-target export and import for VRF blue as 2:2
- Configure VRF Red:
  - Create VRF red with rd 1:1
  - Configure route-target export and import for VRF red as 1:1
- Enable MPLS using LDP protocol
- Set Crypto ISAKMP policy to 1, authentication to pre-share, and key to cisco
- Define a transform set (t1) for IPSec using ESP-DES
- Set mode for IPSec profile as transport
- Configure interface Tunnel1:
  - Set IP address 10.0.0.11/24
  - Disable IP redirects
  - Enable NHRP authentication, dynamic mapping, and set specific NHRP maps and network ID
- Enable MPLS on the DMVPN network using 'mpls ip' command"
Configure a BGP speaker with VPNv4 and IPv4 VRFs for Spoke 3.,"```
router bgp 1
no synchronization
bgp log-neighbor-changes
neighbor 10.0.0.1 remote-as 1
neighbor 10.0.0.1 update-source Tunnel1
no auto-summary
address-family vpnv4
  neighbor 10.0.0.1 activate
  neighbor 10.0.0.1 send-community extended
exit
!
address-family ipv4 vrf red
  redistribute connected
  no synchronization
exit
!
address-family ipv4 vrf blue
  redistribute connected
  no synchronization
exit
no ip http server
no ip http secure-server
control-plane
line con 0
logging synchronous
line aux 0
line vty 0 4
no login
end
```"
NHRP (Next Hop Resolution Protocol) configuration for multicast mapping and MPLS on the DMVPN network.,"1. ip nhrp map multicast dynamic
2. ip nhrp map 10.0.0.1 172.0.0.1
3. ip nhrp map multicast 172.0.0.1
4. ip nhrp network-id 1
5. ip nhrp nhs 10.0.0.1
6. mpls ip
7. tunnel source Gigabitethernet 0/0/0
8. tunnel mode gre multipoint
9. tunnel protection ipsec profile prof"
VRF configuration for blue and red forwarding tables,ip vrf blue rd 2:2 route-target export 2:2 route-target import 2:2; ip vrf red rd 1:1 route-target export 1:1 route-target import 1:1
"The requirement is to configure EIGRP and BGP for advertisement, routing, and multiprotocol route reflector in a network.","1. Configure the interface Loopback0 with IP address 10.9.9.1/32:
```
interface Loopback0
ip address 10.9.9.1 255.255.255.255
```
2. Configure the interface FastEthernet0/0/0 with IP address 172.0.0.1/30:
```
interface FastEthernet0/0/0
ip address 172.0.0.1 255.255.255.252
```
3. Configure EIGRP with network 10.9.9.0 and 10.0.0.0:
```
router eigrp 1
network 10.9.9.0 0.0.0.255
network 10.0.0.0 0.0.0.255
no auto-summary
```
4. Configure BGP with network 10.9.9.0 and no synchronization:
```
router bgp 1
no synchronization
bgp router-id 10.9.9.1
bgp log-neighbor-changes
```
5. Configure BGP neighbors (10.9.9.11 and 10.9.9.12) with remote AS, update source, and route reflector client:
```
neighbor 10.9.9.11 remote-as 1
neighbor 10.9.9.11 update-source Loopback0
neighbor 10.9.9.12 remote-as 1
neighbor 10.9.9.12 update-source Loopback0
no auto-summary
address-family vpnv4
neighbor 10.9.9.11 activate
neighbor 10.9.9.11 send-community extended
neighbor 10.9.9.11 route-reflector-client
```"
"Enable and configure BGP settings with a neighbor, route reflector client, and extended community sending for VRF red and blue.","```
neighbor 10.9.9.12 activate
neighbor 10.9.9.12 send-community extended
neighbor 10.9.9.12 route-reflector-client
```"
- MPLS IP configuration with a tunnel source of GigabitEthernet 0/0/0 and tunnel mode as GRE Multipoint,"1. Interface Loopback0 with ip address 10.9.9.11 255.255.255.255
2. Interface FastEthernet0/0/0 with ip address 172.0.0.11 255.255.255.0
3. Interface FastEthernet1/0/0 with VRF forwarding red and ip address 192.168.11.2 255.255.255.0
4. Interface FastEthernet2/0/0 with VRF forwarding blue and ip address 192.168.11.2 255.255.255.0
5. EIGRP enabled on the DMVPN network for learning IGP prefixes
6. BGP configuration with router-id 10.9.9.11, no synchronization, and BGP log-neighbor-changes"
"Configuring VRFs, MPLS, and IPsec for a multi-protocol label switching (MPLS) enabled DMVPN network.","1. Configure VRF blue with route-target export and import set to 2:2.
   ```
   ip vrf blue
   rd 2:2
   route-target export 2:2
   route-target import 2:2
   ```
   
2. Configure VRF red with route-target export and import set to 1:1.
   ```
   ip vrf red
   rd 1:1
   route-target export 1:1
   route-target import 1:1
   ```

3. Enable MPLS using Label Distribution Protocol (LDP).
   ```
   mpls label protocol ldp
   ```

4. Configure Crypto ISAKMP policy and authentication for IPsec.
   ```
   crypto isakmp policy 1
   authentication pre-share
   crypto isakmp key cisco address 0.0.0.0 0.0.0.0
   ```
   
5. Configure IPsec transform set and profile.
   ```
   crypto ipsec transform-set t1 esp-des
   mode transport
   crypto ipsec profile prof
   set transform-set t1
   ```

6. Configure Tunnel interface, address, and IPSec protection.
   ```
   interface Tunnel1
   ip address 10.0.0.12 255.255.255.0
   no ip redirects
   crypto ipsec profile prof
   tunnel source Gigabitethernet 0/0/0
   tunnel mode gre multipoint
   tunnel protection ipsec profile prof
   ```

7. Configure Loopback and FastEthernet interfaces for EIGRP and BGP advertising.
   ```
   interface Loopback0
   ip address 10.9.9.12 255.255.255.255
   interface FastEthernet0/0/0
   ip address 172.0.0.12
   ```"
"Configure the router with multiple interfaces and VRFs, and enable EIGRP for DMVPN network.","- Set the subnet mask to 255.255.255.0 on FastEthernet1/0/0 and FastEthernet2/0/0 interfaces.
- Create VRFs red and blue with the command ip vrf forwarding red and ip vrf forwarding blue.
- Assign IP addresses 192.168.12.2 for both interfaces in the respective VRFs (red and blue).
- Enable EIGRP with router eigrp 1, configure network statements, and disable auto-summary.
- Configure multiprotocol BGP route reflector with router bgp 1, disable synchronization, set router-id, enable log-neighbor-changes, specify remote-as for neighbor, update-source Loopback0, and activate neighbor with address-family vpnv4.
- Advertise VPN prefixes using send-community extended."
BGP neighbor configuration with tag rewrite and valid adjacency.,"{
BGP version: 4,
Remote Router ID: 10.9.9.1,
BGP state: Established,
Neighbor capabilities: Route refresh (advertised and received), Address family IPv4 Unicast (advertised and received), Address family VPNv4 Unicast (advertised and received),
Address Family IPv6 Unicast: advertised and received,
Message statistics: InQ depth is 0, OutQ depth is 0,
Sent: Rcvd: Opens: Notifications: Updates: Keepalives: Route Refresh: Total:
Neighbor AS: 1,
Last read and write times, Hold time, Keepalive interval: 00:00:08, 00:00:08, 180, 60 seconds respectively,
Default minimum time between advertisement runs for IPv4 Unicast: 0 seconds
}"
"Configuring Internet Key Exchange for IPSec VPNs, Configuring Security for VPNs with IPsec, Configuring VRF-aware IPsec","Defining an IKE policy, Configuring MPLS, Configuring BGP, Configuring VRF-aware IPsec"
Enhancements for DMVPN and enabling traffic segmentation within DMVPN by applying MPLS labels to VRF instances.,"Cisco IOS XE Release 2.5, use the 2547oDMVPN feature"
IPsec implementation with IKE providing authentication and key negotiation for secure transmission of sensitive information over unprotected networks.,Not provided in the text.
"Implementation of NHRP (Next Hop Resolution Protocol) in routers, access servers, and hosts for discovery of addresses in an NBMA network. Support for IP Version 4, Internet Packet Exchange (IPX) network layers, ATM, FastEthernet, SMDS, and multipoint tunnel networks.","Cisco implementation of NHRP supports IETF draft version 11 of NBMA Next Hop Resolution Protocol (NHRP), IP Version 4, IPX network layers, and at the link layer, ATM, FastEthernet, SMDS, and multipoint tunnel networks."
One of the following protocols must be enabled for DMVPN for IPv6 to work.,"Border Gateway Protocol (BGP), Enhanced Interior Gateway Routing Protocol (EIGRP), On-Demand Routing (ODR), Open Shortest Path First (OSPF), and Routing Information Protocol (RIP).

Requirement: Every IPv6 NHRP interface is configured with one IPv6 unicast address.
Configuration: This address can be a globally reachable or unique local address.

Requirement: Every IPv6 NHRP interface is configured with one IPv6 link-local address that is unique across all DMVPN hosts in the DMVPN cloud (that is, the hubs and spokes)."
Enabling IPv6 NHRP Redirect and Shortcut Features on a dual-stack device to optimize routing and trigger NHRP when necessary.,"Dual-stack device with IPv6 enabled, NHRP network ID configured for identifying logical networks, VPN address mapped to an NBMA address, and IPv6 NHRP Redirect and Shortcut features enabled."
NHRP cache entry for destination of data packet and automatic invocation of NHRP for mGRE tunnels carrying IPv6 protocol.,NHRP resolution query and population of tunnel endpoint database and Cisco Express Forwarding adjacency table.
IPv6 Addressing and Restrictions for DMVPN,"1. Every IPv6 NHRP interface is configured with one IPv6 unicast address (globally reachable or unique local).
2. Every IPv6 NHRP interface is configured with one IPv6 link-local address that is unique across all DMVPN hosts in the DMVPN cloud (hubs and spokes).
3. If no other tunnels on the device are using the same tunnel source, then the tunnel source address can be embedded into an IPv6 address.
4. If the device has only one DMVPN IPv6 tunnel, then manual configuration of the IPv6 link-local address is not required; use the ipv6 enable command to autogenerate a link-local address.
5. If the device has more than one DMVPN IPv6 tunnel, then the link-local address must be configured manually."
Configuring an IPsec Profile in DMVPN for IPv6,"Define a transform set by using the crypto ipsec transform-set command, and make sure that the Internet Security Association Key Management Protocol (ISAKMP) profile is available."
Crypto IPsec Profile Configuration,"Requirement: Crypto IPsec Profile Configuration
Configuration: crypto ipsec profile name"
Configuring an IPsec Profile in DMVPN for IPv6,"- Set transform-set name (e.g., example-set)
- Set identity (e.g., router1)"
Configuring a unique IPv6 link-local address across all DMVPN nodes in a DMVPN network.,Device(config-if)# ipv6 address fe80::2001 link-local
Set the maximum transmission unit (MTU) size of IPv6 packets on an interface.,ipv6 mtu bytes
"Tunnel source configuration with an interface and either an IP address or IPv6 address, and the tunnel mode.",interface <interface-number> tunnel source <ethernet | ip-address | ipv6-address | interface-type> tunnel mode {aurp | cayman | dvmrp | eon | gre[multipoint[ipv6] | gre ipv6 | ipip decapsulate-any] | ipsec [ipv4 | iptalk | ipv6| ipsec ipv6 | mpls | nos | rbscp]}
Set the current bandwidth value for an interface to higher-level protocols.,bandwidth {kbps | inherit [kbps] | receive [kbps]}
Enables privileged EXEC mode and configures IPv6 address based on an IPv6 general prefix on tunnel interface.,"1. Enter your password if prompted.
   - Device> enable
2. Configure a tunnel interface and enter interface configuration mode.
   - Device# configure terminal
3. Create or configure the number of tunnel interfaces.
   - Device(config)# interface tunnel 5
4. Configure an IPv6 address based on an IPv6 general prefix and enable IPv6 processing on an interface.
   - Device(config-if)# ipv6 address 2001:DB8:1:1::72/64"
Configure the ipv6 nhrp redirect command on a hub.,Device(config-if)# ipv6 nhrp redirect
"Configure IPv6 address, link-local address, and MTU size on a tunnel interface.","Device(config)# interface tunnel 5
Device(config-if) ipv6 address 2001:DB8:1:1::72/64
Device(config-if) ipv6 address fe80::2001 link-local
Device(config-if) # ipv6 mtu 1400"
The NHRP authentication string must be set to the same value on all hubs and spokes that are in the same DMVPN network.,Example: Device(config-if)# ipv6 nhrp authentication examplexx
Set the source address for a tunnel interface.,tunnel source {ip-address | ipv6-address | interface-type} interface-number
Associate a tunnel interface with an IPsec profile.,tunnel protection ipsec profile [shared]
Display NHRP mapping information,show ipv6 nhrp [dynamic [ipv6-address] | incomplete | static] [address | interface ] [brief | detail] [purge]
View the contents of the IPv6 routing table on a device.,"Use the command ""show ipv6 route"" to display the IPv6 routing table."
Enabling NHRP conditional debugging for IPv6 addresses in a Dynamic Multipoint VPN (DMVPN) configuration.,Device# debug nhrp condition [interface tunnel number | peer {nbma {ipv4-address | fqdn-string | ipv6-address} | tunnel {ip-address | ipv6-address}} | vrf vrf-name]
Configure NHRP debugging for IPv6 traffic.,"Device# debug nhrp ipv6

The requirement is to configure NHRP debugging for IPv6 traffic, and the configuration example provided is to use the ""debug nhrp ipv6"" command on a device to display NHRP error-level debugging information related to IPv6 traffic."
"Configure an interface with IPv6 address and settings for DMVPN, NHRP, and tunnel parameters.","- ipv6 address 2001:DB8:1:1::72/64 (Global unicast address)
- ipv6 address fe80::2001 link-local (Link-local address)
- ipv6 mtu 1400 (Maximum Transmission Unit)
- ipv6 nhrp authentication examplexx (NHRP authentication)
- ipv6 nhrp map multicast dynamic (Multicast NHRP map)
- ipv6 nhrp network-id 99 (NHRP network identifier)
- tunnel source ethernet 0 (Tunnel source interface)
- tunnel mode gre multipoint (GRE tunnel mode with multiple points)
- tunnel protection ipsec profile example_profile (IPSec protection profile)
- bandwidth 1200 (Interface bandwidth)
- ipv6 nhrp holdtime 3600 (NHRP holdtime)"
Configure a DMVPN using IKEv2 for secure communication over IPsec.,"Requirement: Configure a DMVPN using IKEv2 for secure communication over IPsec.

Configuration:
1. Create an IKEv2 keyring named DMVPN
```
Device# configure terminal
Device(config)# crypto ikev2 keyring DMVPN
```
2. Configure IKEv2 peer settings
```
Device(config)# peer DMVPN
Device(config)# address 0.0.0.0 0.0.0.0
Device(config)# pre-shared-key cisco123
Device(config)# peer DMVPNv6
Device(config)# address ::/0
Device(config)# pre-shared-key cisco123v6
```
3. Create an IKEv2 profile named DMVPN and match remote identity addresses
```
Device(config)# crypto ikev2 profile DMVPN
Device(config)# match identity remote address 0.0.0.0
Device(config)# match identity remote address ::/0
```
4. Configure authentication settings for IKEv2
```
Device(config)# authentication local pre-share
Device(config)# authentication remote pre-share
```
5. Configure the IPsec transform set and mode
```
Device(config)# crypto ipsec transform-set DMVPN esp-aes esp-sha-hmac
Device(config)# mode transport
```"
Configure NHRP Redirect and Shortcut features on the Hub.,"1. Access interface configuration mode for Tunnel 5: Device(config)# interface tunnel 5
2. Set IPv6 address for Tunnel 5: Device(config-if)# ipv6 address 2001:DB8:1:1::72/64
3. Enable NHRP Redirect on Tunnel 5: Device(config-if)# ipv6 nhrp redirect
4. Enable NHRP Shortcut on Tunnel 5: Device(config-if)# ipv6 nhrp shortcut"
"DMVPN feature allows users to better scale large and small IPsec Virtual Private Networks (VPNs) by combining generic routing encapsulation (GRE) tunnels, IP security (IPsec) encryption, and the Next Hop Resolution Protocol (NHRP). In Dynamic Multipoint Virtual Private Network (DMVPN) for IPv6, the public network is a pure IPv4 network, and the private network is IPv6 capable.","- clear dmvpn session
- clear ipv6 nhrp
- crypto ipsec profile
- debug dmvpn
- debug dmvpn condition
- debug nhrp condition
- debug nhrp error
- ipv6 nhrp authentication
- ipv6 nhrp holdtime
- ipv6 nhrp interest
- ipv6 nhrp map
- ipv6 nhrp map multicast
- ipv6 nhrp map multicast dynamic
- ipv6 nhrp max-send
- ipv6 nhrp network-id
- ipv6 nhrp nhs
- ipv6 nhrp record
- ipv6 nhrp redirect
- ipv6 nhrp registration
- ipv6 nhrp responder
- ipv6 nhrp server-only"
DMVPN Configuration Using FQDN feature for enabling next hop clients (NHCs) to register with the next hop server (NHS).,Configure a fully qualified domain name (FQDN) for the nonbroadcast multiple access network (NBMA) address of the hub (NHS) on the spokes (NHCs).
DMVPN Configuration Using FQDN feature to allow NHCs to use an FQDN instead of an IP address for configuring NBMA and registering with the NHS dynamically.,N/A (specific configuration details are not provided in the text)
DMVPN Configuration Using FQDN,Cisco IOS Domain Name System (DNS) client available on the spoke
Configure a DNS server on a spoke using FQDN and an external DNS server.,"1. enable
2. configure terminal
3. ip name-server <ip-address>
4. exit"
Registering a spoke to a hub using Nonbroadcast Multi-Access (NBMA) or First-Hop routing (FHRP),ip nhrp nhs nhs-address [nbma {nbma-address | FQDN-string}] [multicast] [priority value] [cluster number]
Enables privileged EXEC mode and configures the NHRP NHS dynamic address on an interface tunnel.,"1. Enable privileged EXEC mode using ""enable"" command.
2. Enter global configuration mode using ""configure terminal"" command.
3. Enter interface configuration mode using ""interface tunnel number"" command, replacing ""number"" with the specific tunnel number.
4. Configure NHRP NHS dynamic address on the interface tunnel using ""ip nhrp nhs dynamic"" command, followed by either ""nbma {nbma-address | FQDN-string}"" for a specific address or ""nbma"" for default configuration."
Register a spoke to a hub using the NHS NBMA IP address.,Use the ipv6 nhrp nhs dynamic nbma {nbma-address | FQDN-string} [multicast] [priority value] [cluster value] command for registering IPv6 address.
Display the status of the NHS (Next-Hop Server) in the IP Next Hop Resolution Protocol (NHRP).,"The configuration is related to the Dynamic Multipoint VPN (DMVPN) and using Fully Qualified Domain Name (FQDN) for Next-Hop server. The show command used is ""show ip nhrp nhs"", which displays the status of the NHS, including IPv4 Registration Timer, Legend, and tunnel information."
Displaying the contents of the current running configuration file or the tunnel interface configuration.,Router# show running-config interface tunnel 1
Enable NHS with a protocol address and an NBMA address.,"enable, configure terminal, interface tunnel 1, ip nhrp nhs 192.0.2.1 nbma 209.165.200.225"
Configure NHS without a protocol address and with an FQDN (Fully Qualified Domain Name).,interface tunnel 1 ip nhrp nhs dynamic nbma examplehub.example1.com
DMVPN Configuration Using FQDN feature enables the NHC to register with the NHS without using the protocol address of the NHS.,"The following commands were introduced or modified: clear dmvpn session, debug nhrp condition, ip nhrp nhs, and ipv6 nhrp nhs."
"A scenario with three data centers A, B, and C. Each data center has two NHSs (NHSs A1 and A2 for data center A, B1 and B2 for data center B, C1 and C3 for data center C). The maximum connection value is set to 3, with only one NHS of each data center connected at a time.",Not applicable
Addressing the problem by placing NHSs into different groups with a group-specific maximum connection value.,"The default group for NHSs that are not assigned to any groups. The table presents an example of cluster functionality, where NHSs corresponding to different data centers are grouped to form clusters, and the maximum cluster value is set to 1 for each cluster so that at least one spoke-to-hub tunnel is continuously established with all the four clusters."
"Recovery Backup NHS (Notice that ""NHS"" is repeated twice)",NHS Fallback Time
Avoid excessive flapping by configuring the fallback time.,Fallback time period of 30 seconds configured on the spoke.
"In this scenario, at least one NHS from each cluster must be connected to the spoke to form a tunnel. The maximum number of connections is set to 1 for all three clusters.",Cluster 1 - NHS A1; Cluster 3 - NHS B1; Default Cluster - NHS 9
Configuring the Maximum Number of Connections for an NHS Cluster,"Perform this task by enabling, configuring terminal, specifying interface tunnel number, and setting the ip nhrp nhs cluster cluster-number max-connections value."
Configure NHS priority and group values for a tunnel interface on a router.,"1. Enable privileged EXEC mode.
2. Enter global configuration mode.
3. Enter interface configuration mode for the tunnel interface.
4. Use the ""ip nhrp nhs nhs-address priority nhs-priority cluster cluster-number"" command to configure NHS priority and group values."
DMVPN-Tunnel Health Monitoring and Recovery Backup NHS,"NHS, Priority, Cur-State, Cur-Queue, Prev-State, Prev-Queue, Tunnel0, 10.0.0.253, 10.0.0.252, 10.0.0.251"
Displaying IPv6 NHRP NHS information and configuring maximum connections for an NHS cluster.,"1. Enable the show ipv6 nhrp nhs command to display IPv6, specific NHRP NHS information. Example: Router# show ipv6 nhrp nhs
2. Set the ""max-connections"" value for an NHS cluster using the configuration command. Example: 

```
ip nhrp nhs max-con <number_of_NHSs> <cluster_id>
```"
"NHS Fallback Time, NHS Priority and Group Values","delay 100, tunnel source Ethernet0/0, tunnel mode gre multipoint, tunnel key 100000, tunnel protection ipsec profile vpnprof, interface tunnel 1 (ip nhrp nhs fallback 25), interface tunnel 0 (ip nhrp nhs 10.0.0.251 priority 1 cluster 1, ip nhrp map 10.0.0.251 192.0.2.4, ip nhrp map multicast 192.0.2.4), interface tunnel 0 (ip nhrp nhs 10.0.0.252 priority 2 cluster 2, ip nhrp map 10.0.0.252 192.0.2.5, ip nhrp map multicast 192.0.2.5), interface tunnel 0 (ip nhrp nhs 10.0.0.253 priority 3 cluster 3, ip nhrp map 10.0.0.253 192.0.2.6, ip nhrp map multicast 192.0.2.6), interface tunnel"
NHRP NHS Cluster Configuration,ip nhrp nhs cluster <cluster_number> max 1
DMVPN syslog feature to provide syslog messages for various events in the system,"- Severity level for all next-hop state change events: critical
- Severity level for NHRP resolution events: informational
- Severity level for DMVPN cryptography events: notification
- Severity level for NHRP error notifications: errors"
"NHRP should control the state of the interface based on whether the tunnels on the interface are live or not. It should change the interface state to down if all NHSs configured on the interface are in the down state, and change the state to up if any one of the NHSs is up.","The system uses generic routing and encapsulation (GRE) interface to generate IF-MIB notifications for LinkUp or LinkDown messages when the interface state changes. Additionally, the Cisco IOS backup interface feature can be initiated if the interface state changes to down, allowing the system to use another interface as an alternative path to the failed primary path."
"The requirement is to implement the Interface State Control feature that provides a failover mechanism for routing when the mGRE interface is down, working on both point-to-point and mGRE interfaces.",1. Enable the Interface State Control feature on the GRE interface with NHRP configured. 2. Reevaluate the protocol state and change the state to line up and protocol down if none of the configured NHSs is responding. 3. The line up state change initiates the NHRP registration process. 4. The NHRP registration process initiates the IPsec tunnel.
"DMVPN Tunnel Health Monitoring and Recovery feature, SNMP NHRP notifications, Interface states","1. Enable privileged EXEC mode using the ""enable"" command.
2. Enter global configuration mode using the ""configure terminal"" command.
3. Set the SNMP community string to read-write (rw) with the ""snmp-server community string rw"" command.
4. Enable SNMP NHRP traps for NHS, NHC, and NHP events with the ""snmp-server enable traps nhrp nhs"", ""snmp-server enable traps nhrp nhc"", and ""snmp-server enable traps nhrp nhp"" commands.
5. Enable SNMP NHRP trap for quota-exceeded event with the ""snmp-server enable traps nhrp quota-exceeded"" command.
6. Configure SNMP host, IP address, version, and community string using the ""snmp-server host ip-address version snmpversion community-string"" command.
7. Exit configuration mode using the ""end"" command."
Enable SNMP notifications for NHRP and NHC,Device(config)# snmp-server enable traps nhrp nhc
Enable privileged EXEC mode and configure NHRP on a tunnel interface for DMVPN Tunnel Health Monitoring and Recovery.,"1. Enter your password if prompted.
2. Device> enable
3. Enters global configuration mode.
   configure terminal
4. Configures an interface type and enters interface configuration mode.
   Device(config)# interface tunnel 1
5. Enables NHRP to control the state of the tunnel interface.
   Device(config-if)# if-state nhrp
6. Exits the current configuration mode and returns to privileged EXEC mode.
   Device(config-if)# end
7. Configuring SNMP NHRP Notifications
   a. Device(config)# snmp-server community public rw
   b. Device(config)# snmp-server enable traps nhrp nhs
   c. Device(config)# snmp-server enable traps nhrp nhc"
Enabling SNMP traps for NHRP and Quota-exceeded events,"snmp-server enable traps nhrp nhp
Device(config)# snmp-server host 209.165.200.226 version 2c public"
Dynamic Multipoint VPN (DMVPN) tunnel configuration.,"Interface Tunnel 1, IP address 209.165.200.228/24, no ip redirects, ip nhrp authentication cisco, ip nhrp map 209.165.201.2-3 and multicast addresses, ip nhrp network-id 1, ip nhrp holdtime 90, ip nhrp nhs for 209.165.201.2-3, tunnel source Ethernet0/0, and tunnel mode gre multipoint."
"DMVPN Event Tracing feature to monitor DMVPN events, errors, and exceptions.",The DMVPN Event Tracing feature can be configured by logging messages from specific DMVPN subsystem components into the device memory. These messages can then be viewed in the memory or saved to a file.
DMVPN Event Tracing,"Requirement: DMVPN Event Tracing
Description: The DMVPN Event Tracing feature allows capturing event data, printing events, and accessing/modifying logs. It supports monitoring various types of events, including General Next Hop Resolution Protocol (NHRP) events, NHRP error events, NHRP exception events, and tunnel events.

Configuration: 
1. Configure DMVPN Event Tracing in privileged EXEC mode or global configuration mode based on desired parameters. Refer to the Cisco IOS Security Command Reference for more information on available parameters."
Configure DMVPN Event Tracing in Privileged EXEC Mode,"Perform the task to configure DMVPN event tracing in privileged EXEC mode using the following steps:
1. Enable privileged EXEC mode by typing ""enable"" and entering your password if prompted.
2. Monitor and control DMVPN traces by using the command ""monitor event-trace dmvpn {nhrp {error | event | exception} | tunnel} {clear | continuous [cancel] | disable | enable | one-shot} | tunnel}""."
Configure DMVPN Event Tracing to monitor NHRP error traces in privileged EXEC mode and Global Configuration Mode.,"1. In Privileged EXEC Mode:
   - Router> enable
   - Router# monitor event-trace dmvpn nhrp error enable
2. In Global Configuration Mode:
   - Router> enable
   - Router# configure terminal
   - Router(config)# monitor event-trace dmvpn nhrp error enable"
Support for the Next Hop Resolution Protocol (NHRP) via Simple Network Management Protocol (SNMP). The NHRP MIB is VPN Routing and Forwarding (VRF) aware and supports VRF-aware queries.,Not provided in the given text
Cisco does not support all MIB variables defined in RFC 2677 for NHRP. The Cisco implementation supports all tables except the NHRP Purge Request Table.,"CISCO-NHRP-MIB provides NHRP MIB information on managed objects relating to clients only, servers only, and clients and servers."
Monitoring VRF-Aware NHRP using SNMP,"Configure a VRF table with the name Vrf1, set RD value to 198102, and use Dynamic Multipoint VPN."
"SNMP VPN context with the name ""Vrf1-context"" and DMVPN tunnel for Vrf1 VPN","- Crypto ISAKMP policy 1 with pre-share authentication and key cisco47 for address 0.0.0.0
- Crypto IPsec transform-set named trans2 using ESP-DES and ESP-MD5-HMAC
- Crypto IPsec profile named vpnprof, which sets the transform-set to trans2
- Tunnel interface with bandwidth 1000, set as DMVPN tunnel for Vrf1 VPN
- Interface Tunnel0 with IPv4 address 10.0.0.1/24, MTU of 1400, NHRP authentication sample, dynamic multicast mapping, network-id 99, holdtime 300, no split-horizon for EIGRP 1, MSS adjustment to 1360, and delay of 1000
- Tunnel source set to Ethernet0 and tunnel mode configured as GRE multipoint
- Tunnel key set to 100000
- Tunnel protection enabled with IPsec profile vpnprof
- Interface Ethernet0 with IPv4 address 172.17.0.1/24
- Interface Ethernet1 with IPv4 address 192.168.0.1/24
- Router EIGRP 1 configured for vrf Vrf1, with network statements for 10.0.0.0 and 192.168.0.0, no auto-summary, and autonomous system number 1"
Bandwidth of 1000,ip mtu 1400
Cisco software image support and access to Cisco Feature Navigator,"To access Cisco Feature Navigator, go to www.cisco.com/go/cfn. An account on Cisco.com is not required. The following commands were introduced or modified: debug snmp mib nhrp, show snmp mib nhrp status."
DMVPN Dynamic Tunnels Between Spokes Behind a NAT Device,ip nat inside source list nat_acl interface FastEthernet0/1 overload
Implementation of DMVPN Spoke-to-Spoke Tunneling Limited to Spokes Not Behind a NAT Device,"NHRP Registration, GRE/IP header source IP address checking, preserving pre- and post-NAT addresses for registered spokes, IPsec transport mode for encryption"
"NHRP Resolution process between Spoke A and Spoke B, where Spoke B is behind a NAT device with pre-NAT address of 172.16.2.1 and a post-NAT address of 172.18.2.1",The NHRP table entry for Spoke B on the hub contains both the post-NAT and pre-NAT addresses
NHRP Spoke-to-Spoke Tunnel with a NAT Device,NHRP NAT extension enabled (Client Information Entry)
"The NHRP registration process for Spoke-to-Spoke tunnels should allow spokes to register with the hub using NAT NHRP extension, and the hub should be able to detect if a spoke is behind a NAT device.","Requirement: The NHRP registration process for Spoke-to-Spoke tunnels should allow spokes to register with the hub using NAT NHRP extension, and the hub should be able to detect if a spoke is behind a NAT device.

Configuration: A spoke sends a registration request with the NAT-Capability=1 parameter and a NAT NHRP extension of the NBMA address of the hub as configured on the spoke."
"When a spoke is behind a NAT device, it includes a NAT NHRP extension when sending NHRP resolution requests. The hub receives the resolution request and adds a NAT extension before forwarding to the next node if there is no NAT extension.",Not provided in the text
Define an Internet Key Exchange (IKE) policy for a multipoint GRE and IPsec tunnel using the crypto isakmp policy command.,"- Configure the tunnel source on all the tunnel interfaces that use the same tunnel source using interface type and number, not the tunnel's IP address.
- Ensure all tunnels with the same tunnel source use the same IPsec profile and have the tunnel protection shared command configured.
- Use different IPsec profile names for shared and unshared tunnels."
Use a different IPsec profile for each set of shared tunnels.,"- For tunnels 1 through 5, use loopback0 as the tunnel source and define ipsec-profile-1.
- For tunnels 6 through 10, use loopback1 as the tunnel source and define ipsec-profile-2."
The text describes a requirement to limit connections in an ISAKMP profile to those that match the corresponding ISAKMP profile and not share IPsec between different tunnel interfaces.,"The configuration should ensure that separate IPsec profiles are used for each DMVPN cloud (tunnel interface) without sharing the same IPsec SADB. Sharing IPsec is not desired or supported for virtual tunnel interfaces, including Virtual-Template type tunnel interfaces and specific configurations like gre ip mode with IPsec protection and tunnel mode ipsec ipv4."
"Create a single IPsec SADB for all tunnel interfaces that use the same profile and tunnel source interface, allowing a single IPsec SA to be used for all GRE tunnels between two endpoints of the same type.","Use the ""tunnel protection ipsec profile shared"" command."
Unambiguous processing of incoming IPsec QM request for shared tunnel interfaces using a single SADB instead of multiple SADBs per tunnel interface.,"Shared SADB and cryptographic map parameters for processing SA of a QM proposal to a tunnel interface, consistent IPsec MTU in Quantum Flow Processor (QFP) and hardware cryptographic engine.

Tunnel source, tunnel destination, and tunnel key must be unique for all tunnel interfaces on a router."
The requirement is to configure a Cisco IOS router to share an IPsec SADB between multiple tunnel interfaces in a DMVPN.,"1. Enable
2. Configure Terminal"
Enable and configure a tunnel interface with a source IP address or interface type number.,`interface tunnel <number>; tunnel source {ip-address | interface-type interface-number};`
The requirement is to configure a tunnel interface with an IPsec profile and share IPsec sessions between multiple tunnel interfaces.,tunnel source GigabitEthernet; tunnel protection ipsec profile name [shared]; exit.
Configure a dynamic multipoint VPN using IPSec with transport mode and ESP-DES encryption and MD5 HMAC authentication.,"Crypto IPsec profile ""vpnprof"" is set to use transform-set ""trans2"", which includes ESP-DES and ESP-MD5-HMAC. The interface Tunnel 5 has an IP address of 10.0.1.1/24, and bandwidth is set to 1000."
- DMVPN configuration for SPOKE 1,"- Hostname: Spoke1
- Crypto ISAKMP Policy 1 with authentication pre-share and crypto ISAKMP key cisco47
- Crypto IPsec Transform Set: trans2 (ESP-DES, ESP-MD5-HMAC) in transport mode
- Crypto IPsec Profile: vpnprof with transform set trans2
- Interface Tunnel 5 with bandwidth 1000"
NHRP configuration for DMVPN,"- ip nhrp authentication test
- ip nhrp map 10.0.0.1 172.17.0.1
- ip nhrp map multicast 172.17.0.1
- ip nhrp network-id 100000"
DMVPN configuration for a spoke device,"- Tunnel interface with bandwidth 1000
- IP NHRP authentication test
- IP NHRP map 10.0.1.1 172.17.0.5
- IP NHRP map multicast 172.17.0.5
- IP NHRP network-id 100001
- IP NHRP holdtime 300
- IP NHRP nhs 10.0.1.1
- IP TCP adjust-mss 1360
- Delay 1000
- Tunnel protection IPsec profile vpnprof shared
- GigabitEthernet 0/0/0 with DHCP hostname Spoke2
- GigabitEthernet 0/0/1 with IP address 192.168.2.1 255.255.255.0
- Router EIGRP 1 with networks 10.0.0.0, 10.0.1.0, and 192.168.2.0"
"- Crypto Map: ""vpnprof-head-1"" with local address 172.17.0.11 and peer addresses 172.17.0.5, 172.17.0.1, and 172.17.0.12","- FastEthernet0/0/0 interface
- Extended IP access list with permit gre host 172.17.0.11 host 172.17.0.5 for peer 172.17.0.5
- Extended IP access list with permit gre host 172.17.0.11 host 172.17.0.1 for peer 172.17.0.1
- Extended IP access list with permit gre host for Peer 172.17.0.12"
Security association lifetime of 4608000 kilobytes/3600 seconds and PFS set to N (not used).,"Transform sets={trans2}, Crypto map tag: vpnprof-head-1, local address: 172.17.0.11, remote address: 172.17.0.1, current_peer: 172.17.0.1 port 500, PERMIT, flags={origin_is_acl}."
Outbound PCP SAS configuration for a VPN connection using Crypto Map tag vpnprof-head-1.,"- Interface: Tunnel 1
- Local address: 172.17.0.11
- Remote address: 172.17.0.1
- Current peer: 172.17.0.1, port 500
- Encapsulation protocol: ESP (Encapsulating Security Payload) with DES and MD5 HMAC transform
- Path MTU: 1500 bytes"
Outbound ESP and AH SAS configuration for a VPN connection.,"SPI: 0x3C50B3AB(1011921835), Transform: esp-des esp-md5-hmac, Conn ID: 2, Flow ID: SW:2, Crypto Map: vpnprof-head-1, IV Size: 8 bytes, Replay Detection Support: Y, Status: ACTIVE."
"Protocol that routers, access servers, and hosts can use to discover addresses of other routers and hosts connected to an NBMA network.","Cisco implementation of NHRP supports IETF draft version 11 of NBMA NHRP, IP Version 4, IPX network layers, ATM, Ethernet, SMDS, and multipoint tunnel networks at the link layer."
Configure an NHRP group on a spoke and map it to a QoS policy on a hub without per-tunnel QoS for DMVPN.,The spokes and the hub must already be configured for DMVPN without per-tunnel QoS.
"Implementing a QoS policy attached to the DMVPN hub with automatic criteria setup, regulating traffic from hub to spokes on a per-spoke basis, preventing excessive traffic to small spokes, and limiting outbound bandwidth consumed by greedy spokes.",Not explicitly provided in the given text.
NHRP QoS Provisioning for DMVPN,NHRP group-to-QoS policy mappings on the hub DMVPN GRE tunnel interface.
Implement Per-Tunnel QoS and NHRP QoS Provisioning for DMVPN.,"Vendor Private Extension (VPE) is used to carry group identity information in resolution requests between Spoke A and Spoke B. On receiving the request, Spoke B extracts the VPE header, checks the extension types, and if a matching map is present, QoS applies the policy on the target interface."
Configure Per-Tunnel QoS for DMVPN,Next Hop Resolution Protocol (NHRP) group on spokes and NHRP group mapped to a quality of service (QoS) policy on the hub.
Configure tunnel interfaces with NHRP attributes and QoS policies.,"1. Interface tunnel number (e.g., `interface tunnel 1`)
2. NHRP attribute group (e.g., `nhrp attribute group group-name`)
3. NHRP map group with service-policy output (e.g., `nhrp map group group-name service-policy output qos-policy-map-name`)"
Mapping an NHRP Group to a QoS Policy on the Hub,"1. enable
2. configure terminal
3. interface tunnel number
4. nhrp map group group-name service-policy output qos-policy-map-name
5. end"
"Enable privileged EXEC mode and configure a tunnel interface, NHRP group, and DMVPN Per-tunnel QoS on the device.","1. Enter your password if prompted.
2. Device> enable
3. Device# configure terminal
4. Device(config)# interface tunnel number
5. Device(config-if)# nhrp map group group-name service-policy output qos-policy-map-name
6. Device(config-if)# end
7. To enable the feature, you must configure the command platform qos port-channel-aggregate <port-channel number> before configuring port channel."
Enable the command platform qos port-channel-aggregate <port-channel number> before configuring port channel.,"Configure the platform qos port-channel-aggregate <port-channel number>, create a port-channel interface, apply channel-group x to member ports, and remove 'port channel interface' and ‘channel-group’ configuration from physical interfaces."
Configure per-tunnel QoS.,1. enable; 2. show dmvpn detail; 3. show nhrp; 4. show nhrp group [group-name]; 5. show nhrp group-map [group-name]; 6. show policy-map multipoint [tunnel tunnel-interface-number]
Display QoS policy details applied to multipoint tunnels.,show policy-map multipoint [tunnel tunnel-interface-number]
Configuring Per-tunnel QoS for Dynamic Multipoint VPN (DMVPN) and mapping NHRP groups to respective QoS policies.,"1. Define class maps for routing, voice, and QoS policies.
2. Create policy maps for the QoS policy and apply them to the hub.
3. Map NHRP groups spoke_group1 and spoke_group2 to their respective QoS policies group1_parent and group2_parent."
"Outbound SPI, Transform, Socket State, Interface, Session, IKE SA, Crypto Session Status, fvrf, Phase1_id, IPSEC FLOW, Active SAs, origin","tunnel1, local IP address and remote IP address for IKE SA"
"Establish a direct crypto tunnel with another DMVPN client, leveraging the per-tunnel QoS policy.","Use Next Hop Resolution Protocol (NHRP) to build spoke-to-spoke connections, and configure the QoS: Spoke to Spoke for DMVPN Per-tunnel QoS over Aggregate GEC."
TrustSec DMVPN Inline Tagging Support,"Dynamic Virtual Tunnel Interface (dVTI), GRE with Tunnel Protection, Site-to-site VPNs, Static crypto maps, and Static Virtual Tunnel Interface (sVTI)."
Cisco TrustSec and configuring TrustSec DMVPN Inline Tagging support.,N/A (not provided in the text)
Classify packets on ingress to the CTS network and enforce access control policy based on Security Group Tag (SGT).,"Use IPsec Inline Tagging for TrustSec feature or SGT Exchange Protocol over TCP (SXP) if not supported, IKEv2 for negotiating and informing IPsec about SGT capability."
"Check if a tag is available, then inspect the packet for SGT capability and process accordingly based on inline tagging negotiation.",N/A (not provided in the text)
Enable SGT on an IKEv2 session by sending SGT capability support to peers using the crypto ikev2 cts command.,Send SGT capability as a Vendor ID (VID) payload in the SA_INIT exchange.
"The requirement is that IPsec should not be enabled with the SGT inline tagging capability. Additionally, both the initiator and responder do not propose or send the VID payload.",Fragmentation should be handled before IPsec (by tagging each fragment) or after IPsec (by tagging the first fragment).
Configure TrustSec DMVPN Inline Tagging Support on a device.,"1. Enter privileged EXEC mode using 'enable'.
2. Enter global configuration mode using 'configure terminal'.
3. Specify a tunnel interface number and enter interface configuration mode using 'interface tunnel tunnel id'.
4. Enable TrustSec on DMVPN with the command 'cts sgt inline'.
5. Exit global configuration mode using 'exit'."
Configuring TrustSec DMVPN Inline Tagging Support,"1. enable, 2. show dmvpn"
Display NHRP and NHS details for DMVPN-specific session information.,`show ip nhrp nhs detail`
Enables privileged EXEC mode,enable
Enable TrustSec on DMVPN on IKEv2 networks using GRE and tunnel interfaces modes only.,"Device# configure terminal
crypto ikev2 cts sgt
Device(config)# crypto ikev2 cts sgt
crypto ikev2 proposal p1
encryption 3des
integrity md5
group 2
!
crypto ikev2 policy policy1
proposal p1
!
crypto ikev2 keyring key
peer peer
address ::/0
pre-shared-key cisco
!
peer v4
address 0.0.0.0 0.0.0.0
pre-shared-key cisco"
"Set IKEv2 profile ""prof3"" and match address ""ipv4acl"".",N/A (The given text does not provide a specific configuration for this requirement.)
Enable IPsec inline tagging on a dynamic VTI responder and configure crypto maps and VTIs for the same.,"- line vty 0 4
- login
- transport input all
- exception data-corruption buffer truncate
- scheduler allocate 20000 1000
- Dynamic VTI Responder Configuration (following lines)"
Configure the Loopback interfaces with specific IP addresses and IPv6 addresses.,"1. Configure the IP address for interface Loopback2: ip address 172.18.0.1 255.240.0.0
2. Set no ip address on interface Loopback1.
3. Configure IPv6 address for interface Loopback10: ipv6 address 2001::8:1/112
4. Set no ip address on interface Loopback9.
5. Configure IPv6 address for interface Loopback11: ipv6 address 2001::80:1/112"
Shutdown the interface.,"```
interface FastEthernet0/0/0
shutdown
```"
TrustSec DMVPN Inline Tagging Support feature enables IPsec to carry Cisco Trust Sec (CTS) Security Group Tag (SGT) between IPsec peers.,"cts sgt inline, show dmvpn, show ip nhrp nhs, show tunnel endpoints"
Configuring TrustSec DMVPN Inline Tagging Support,Not provided in the text.
Spoke-to-Spoke NHRP Summary Maps,Not provided
Limiting the number of NHRP messages between spokes by configuring the IP address network and subnet mask in the NHRP resolution response.,Use the ip nhrp summary-map command to configure NHRP summary map on a spoke.
Implement Spoke-to-Spoke NHRP Summary Maps for efficient routing between spokes in a network.,"1. Configure NHRP on each spoke device.
2. Create NHRP summary maps with IP addresses and subnet masks for each local spoke's address space.
3. Advertise the local address space using a routing protocol like EIGRP."
"Summarize the networks to 192.0.0.0/19 and advertise that to the hub. The hub summarizes this further, to 192.0.0.0/16, when it advertises it to the other spokes.",Spoke-to-Spoke NHRP Summary Maps
- NHRP resolution request for 192.0.12.1/32,"1. Configure NHRP summary map for 192.0.0.0/19 using the command ""ip nhrp summary-map 192.0.0.0/19""
2. Verify if destination 192.0.12.1/32 is covered by the summary map configuration
3. Return 192.0.0.0/19 in NHRP resolution reply"
"Set the source address for a tunnel interface and configure encapsulation mode to Multiple Generic Routing Encapsulation (mGRE) for the tunnel interface. Additionally, enable an ID key for a tunnel interface.","tunnel source {ip-address | type number}
tunnel mode gre multipoint
tunnel key key-number"
Unreachable NHRP RIB entry for 67.0.0.0/24,"Example: Spoke-to-Spoke NHRP Summary Maps
- interface Tunnel0
- ip address 15.0.0.1 255.255.255.0
- no ip redirects
- no ip split-horizon eigrp 2
- ip nhrp authentication cisco123
- ip nhrp network-id 23
- ip nhrp redirect
- ip summary-address eigrp 2 190.0.0.0 255.255.252.0
- ip summary-address eigrp 2 201.0.0.0 255.255.252.0
- tunnel source GigabitEthernet1/0/0
- tunnel mode gre multipoint
- tunnel key 6

Example: Spoke-to-Spoke NHRP Summary Maps on spoke 1
- interface Tunnel0
- vrf forwarding vrf1
- ip address 15.0.0.10 255.255.255.0
- ip nhrp authentication cisco123
- ip nhrp summary-map 190.0.0.0/22
- ip nhrp network-id 5
- ip nhrp nhs 15.0.0.1 nbma 123.0.0.1 multicast
- ip nhrp shortcut
- tunnel source GigabitEthernet0/1/0
- tunnel mode gre"
Configuring NHRP (Network Host Register Protocol),"Requirement: Configuring NHRP (Network Host Register Protocol)
Configuration:
- nhrp network-id 5
- nhrp nhs 15.0.0.1 nbma 123.0.0.1 multicast
- ip nhrp shortcut
- tunnel source GigabitEthernet0/0/0
- tunnel mode gre multipoint
- tunnel key 6"
Configuring BFD support on DMVPN for point-to-point (P2P) tunnels and ensuring the same BFD intervals are configured on the peers for spoke-to-spoke refresh to work as expected.,"NHS must be configured before configuring BFD support on DMVPN for P2P tunnels. In a Cisco Aggregation Service Router 1000 Series, a single DMVPN hub with BFD can be scaled to a maximum of 4095 sessions. Regular methods of scaling DMVPN like clustering, SLB, and hierarchical designs still apply."
"BFD (Bidirectional Forwarding Detection) must be enabled on both systems or BFD peers to create and maintain BFD neighbor sessions between routers. This involves configuring BFD timers, negotiating intervals, and allowing for faster detection of link failure.",Enabling BFD on interfaces and at the router level for appropriate protocols (NHRP and routing protocol on overlay).
BFD Support on DMVPN configuration for tunnel interfaces and hub devices,"1. Enable BFD support on the tunnel interface (interface tunnel1) by configuring the following commands:
   - bfd interval 1000 min_rx 1000 multiplier 5
   - no echo

2. Define a template for BFD intervals and attach it to the tunnel interface (bfd-template single-hop sample) with the following configuration:
   - interval min-tx 1000 min-rx 1000 multiplier 5

3. Configure DMVPN on hub devices using the example provided, including BFD support for tunnel interfaces (interface Tunnel0):
   - ip address 10.0.0.1 255.255.255.0
   - no ip redirects
   - ip nhrp authentication cisco123
   - ip nhrp network-id 5
   - ip nhrp redirect
   - ip mtu 1400
   - ip tcp adjust-mss 1360
   - bfd template sample
   - tunnel source GigabitEthernet0/0/0
   - tunnel mode gre multipoint
   - tunnel key 6

4. Configure the physical interface (GigabitEthernet0/0/0) for DMVPN and BFD support:
   - ip address 10.0.0.1 255.0.0.0
   - negotiation auto

5. Configure the EIGRP protocol with BFD enabled for all interfaces in the network (router eigrp 2):
   - network 10.0.0.0 0.0.0.255
   - bfd all-interfaces"
Configure BFD support on DMVPN on spoke devices.,bfd-template single-hop sample interval min-tx 1000 min-rx 1000 multiplier 5
- Create a GRE tunnel with multiple points.,"- Interface Tunnel1: ip address 10.0.0.10, no ip redirects, ip nhrp authentication cisco123, ip nhrp network-id 5, ip nhrp nhs 10.0.0.1 nbma 10.0.0.10 multicast
- Tunnel Source: GigabitEthernet0/0/0
- Tunnel Mode: gre multipoint
- Tunnel Key: 6
- BFD Template: sample

Interface GigabitEthernet0/0/0:
- MTU: 4000
- IP Address: 11.0.0.1
- Media Type: rj45
- Negotiation: auto

Interface GigabitEthernet0/0/1:
- MTU: 6000
- IP Address: 111.0.0.1
- Negotiation: auto

Router EIGRP 2:
- Networks: 11.0.0.0, 111.0.0.0, 10.0.0.0
- BFD All-Interfaces
- Auto-Summary"
"BFD support for EIGRP on Tunnel1 interface, with single-hop sample and multiplier of 3","- bfd-template single-hop sample
- interval min-tx 1000 min-rx 1000 multiplier 3
- router eigrp 2
- bfd interface Tunnel1"
The requirement here seems to be related to the NHRP (Next Hop Resolution Protocol) and DMVPN (Dynamic Multipoint VPN) configuration.,"- Type: Hub
- NHRP Peers: 2
- Peer NBMA Addr: 172.17.0.1 (Peer Tunnel Add State: UP), 172.17.0.2 (Peer Tunnel Add State: BFD)
- Peer Tunnel Add State: UP, BFD
- UpDn Time: 00:00:14 (UP), 00:00:03 (BFD)
- Attrb: D, D"
BFD (Fast Link Failure Detection) support on DMVPN,"Type: static, Flags: used bfd; Tunnel2 created 00:09:04, never expire"
Dynamic configuration with unique local flags for router,"NBMA address: 172.17.0.1, Flags: no-socket, 192.168.2.0/24 via 10.0.0.2, Tunnel2 created 00:00:05, expire 00:04:54, NBMA address: 172.17.0.2, BFD flag"
Bidirectional Forwarding Detection (BFD) support on DMVPN,"show dmvpn, show ip nhrp, show ipv6 nhrp, show tunnel endpoints, show nhrp interfaces"
Overlay routing should be active-passive in nature for DMVPN Multiple Tunnel Termination feature.,"DMVPN supports transport independence through overlay routing, simplifying the WAN transport (dial-up, leased circuits, MPLS, and IPsec VPNs)."
"Consistent routing protocol across any transport, controlling traffic and load sharing, overlay routing for transport independence, support for multiple WAN transports, single routing domain, consistent troubleshooting and topology.","Overlay routing with DMVPN tunnel, using multipoint generic routing encapsulation (mGRE) tunnels to interconnect hubs and spokes."
"The requirement is to configure next-hops/paths in a network with primary, secondary, and repair paths. Primary paths are used for regular forwarding, while secondary paths are used as an alternate to the primary and repair paths and should be distinguishable from other regular and alternate paths. The routing protocol must compute ""n"" secondary paths with the following requirement from RIB: Allow the routing protocol to install the ""n1"" primary paths as a regular path and allow the routing protocol to install the ""n2"" secondary paths as alternate paths.","Configure the network with primary, secondary, and repair next-hops/paths. Set up the routing protocol to compute ""n"" secondary paths based on the RIB requirement. Distinguish secondary paths from other regular and alternate paths. Use next hop overrides to override the secondary paths when necessary."
Support for multiple tunnel terminations (interfaces) in the same VRF on the same hub device for resiliency at a single hub in Cisco IWPN without adding network devices.,DMVPN Multiple Tunnel Termination feature
DMVPN Support for IWAN and DMVPN Multiple Tunnel Termination,Not provided in the text.
Active-active path configuration for routing protocol with maximum secondary paths.,"maximum-secondary-paths [eigrp | ibgp] path command, range from 0 to 32."
Configure DMVPN Multiple Tunnel Termination on a router.,"1. bgp router-id 172.17.1.99
2. bgp log-neighbor-changes
3. timers bgp 70 120
4. neighbor 192.168.1.2 remote-as 40000
5. neighbor 192.168.3.2 remote-as 50000
6. neighbor 192.168.3.2 description finance
7. address-family ipv4
8. neighbor 192.168.1.2 activate
9. neighbor 192.168.3.2 activate
10. no auto-summary
11. no synchronization
12. network 172.17.1.0 mask 255.255.255.0
13. exit-address-family
14. router bgp 1
15. bgp log-neighbor-changes
16. bgp listen range 192.168.0.0/16
17. peer-group SPOKES2
18. bgp listen range 190.168.0.0/16
19. peer-group SPOKES network 192.168.0.0
20. aggregate-address 192.168.0.0 255.255.0.0 summary-only
21. timers bgp 10 30
22. neighbor SPOKES2 peer-group
23. neighbor SPOKES2 remote-as 1
24. neighbor SPOKES2 next-hop-self
25. maximum-secondary-paths eigrp 1"
DMVPN configuration for spokes 1 and 2,"- topology base
  - maximum-secondary-paths 4
  - fast-reroute per-prefix all
  - fast-reroute tie-break interface-disjoint 1
- network 10.0.0.0
- network 20.0.0.0
- network 192.168.149.0
- exit-address-family
- router bgp 1
  - bgp log-neighbor-changes
  - bgp listen range 20.0.0.0/8 (spoke 1)
  - peer-group SPOKES2
  - bgp listen range 10.0.0.0/8 (spoke 2)
  - peer-group SPOKES
  - network 192.168.149.0
  - aggregate-address 192.168.0.0 255.255.0.0 summary-only (spoke 1)
  - timers bgp 10 30
  - neighbor SPOKES peer-group
  - neighbor SPOKES remote-as 1
  - neighbor SPOKES next-hop-self
  - neighbor SPOKES2 peer-group
  - neighbor SPOKES2 remote-as 1
  - neighbor SPOKES2 next-hop-self
- maximum-secondary-paths eigrp 1 (spoke 1)

For spoke 2:
- bgp additional-paths install
- network 192.168.0.0 255.255.0.0"
The requirement seems to be related to the network configuration and routing of IP addresses on a device (possibly a router). The text provides information about connected and local routes for specific IP addresses and networks.,"1. Directly connected, Ethernet1/0: 192.168.149.0/24
2. Directly connected, Tunnel0: 10.0.0.0/8"
"F3BDABAC, share 1/1, type recursive, for IPv4","Recursive via 10.0.0.41[IPv4:Default], fib F693B80C, 1 terminal fib, v4:Default:10.0.0.41/32
path list F3BDA72C, 2 locks, per-destination, flags 0x49 [shble, rif, hwcn]"
Ethernet1/0 is directly connected with the IP address 192.168.149.1/32,"- Interface: Ethernet1/0
- IP Address: 192.168.149.1/32"
A device should be configured to handle multiple routes and support various routing protocols.,"Requirement: A device should be configured to handle multiple routes and support various routing protocols.

Configuration: The device should have routes for Ethernet1/0 (directly connected), Tunnel1 (connected with summary 192.168.0.0/16), and variably subnetted 192.168.149.0/24 with two subnets and two masks. The device should also handle routes for 192.168.40.0/24 and 192.168.50.0/24 via Tunnel1, and 192.168.149.0/24 as directly connected to Ethernet1/0."
Segregating traffic in network domains with overlapping addressing spaces using VRFs to ensure that traffic intended for one customer does not enter into another customer's domain.,"An MPLS-aware interface with IPsec protection and an IPsec tunnel built between PE devices, allowing the assignment of labels per-VRF or per-prefix to identify the correct VRF for routing traffic."
MPLS forwarding and MPLS VPNs for transport networks.,"- Label distribution protocol (LDP) in the transport space along with unicast routing protocol.
- Use of VRFs for carrying data across customer sites.
- Overlay prefixes identified by a VPN overlay label as an inner label in MPLS data packets.
- Outer label is the MPLS transport label for switching packets in the core network.
- LDP used along with IGP for MPLS unicast IP forwarding in the core network."
MPLS over Dynamic IPsec Tunnels feature to provide a solution for secure communication between overlapping addresses in customer sites using NHRP and IPsec.,"Deploying an MPLS network, extending the MPLS network on a new network (determined dynamically) in a different region securely over the Internet."
"Implement MPLS over Dynamic IPSec Tunnels using IKEv2 and IPsec for secure communication between spoke and hub devices, as well as between spokes when discovered dynamically.","- Configure Provider and provider-edge devices to run LDP and IGP for unicast IP routing support.
- Enable PEs to learn customer specific routes using IGP and store them in per-customer VRF routing tables.
- Configure PEs to use MP-BGP for exchanging customer routes with other PEs.
- Implement IKEv2 and IPsec for secure traffic between spoke and hub devices, as well as between spokes when discovered dynamically.
- Utilize FlexVPN for adding static routes to the peer's tunnel overlay address as a directly connected route, resulting in an implicit-NULL label being added to the LIB for the peer's tunnel overlay address."
"The requirement is to configure and enable MPLS over Dynamic IPSec Tunnels, including the working of MPLS, Multicast Forwarding Information (MFI), Multiprotocol BGP (MP-BGP) for distributing overlay labels for customer network on different VRFs, Label Distribution Protocol (LDP) for data packets, and forwarding control packets to global addresses or specific VRF based on the virtual domain context.","1. Enable MPLS: Configure the device to enable MPLS tag switching for data packets.
2. Configure LDP: Disable Label Distribution Protocol (LDP) between spokes.
3. Enable MFI: Configure Multicast Forwarding Information (MFI) to allocate and release labels assigned to tunnels.
4. Enable MP-BGP: Configure Multiprotocol BGP (MP-BGP) for distributing overlay labels for the customer network on different VRFs.
5. Configure IPSec Tunnels: Set up Dynamic IPSec Tunnels with the appropriate encryption and authentication methods.
6. Configure MPLS over Dynamic IPSec Tunnels: Implement the working of MPLS over Dynamic IPSec Tunnels using the provided topology as an example, where traffic flows from IP address 192.168.1.1 of Customer A, behind Spoke A to IP (destination)."
Configure MPLS over DMVPN,"1. enable
2. configure terminal
3. interface tunnel number
4. Do one of the following: mpls nhrp mpls bgp forwarding
5. end
6. show mpls forwarding-table"
MPLS over DMVPN using LDP and BGP for spokes and hub configuration,"- ip vrf custA
- rd 10:100
- route-target export 10:1000
- route-target import 10:1000
- ip vrf custB
- rd 10:110
- route-target export 10:2000
- route-target import 10:2000
- mpls label mode all-vrfs protocol bgp-vpnv4 per-vrf
- crypto ikev2 authorization policy default
- route set interface
- crypto ikev2 keyring KR
- peer All
- address 0.0.0.0 0.0.0.0
- pre-shared-key Cisco123
- crypto ikev2 profile default
- match identity remote fqdn domain cisco.com
- identity local fqdn R2.cisco.com
- authentication local pre-share
- authentication remote pre-share
- keyring local KR
- aaa authorization group psk list default default
- virtual-template 2
- crypto ipsec profile default
- set ikev2-profile default
- interface Loopback0
- ip address 10.0.0.101 255.255.255.255
- interface Tunnel0
- ip address 10.0.0.11"
"Configure OSPF, BGP, and VPNv4 for two VRFs (custA and custB) on a router.","1. Enable OSPF with router ID 10.0.0.103 for area 0 under VRF custA.
2. Configure BGP with ASN 100, enable logging of neighbor changes, and set update-source to Loopback0 for neighbor 10.0.0.103.
3. Enable soft-reconfiguration inbound for the same neighbor.
4. Enable VPNv4 address family for the same neighbor.
5. Set the remote ASN for the same neighbor as 100.
6. Configure the export and import route targets for the two VRFs (custA and custB).
7. Define a route distinguisher for each VRF.
8. Enable IKEv2 with an authorization policy and set the route-set to interface.
9. Create a keyring called KR and peer configuration for IKEv2."
"Configure a tunnel between two devices using MPLS BGP forwarding and NHRP, with source and destination IP addresses and protection via IPSec profile.","```
ip address 10.0.0.104 255.255.255.255
interface Tunnel0
 ip address 10.0.0.12 255.255.255.255
 mpls bgp forwarding
 ip nhrp network-id 1
 ip nhrp shortcut virtual-template 2
 tunnel source Ethernet0/0
 tunnel destination 172.17.0.1
 tunnel protection ipsec profile default
```"
IKEv2 VPN with pre-shared key authentication,"- Crypto IKEv2 profile: default
- Match identity remote FQDN domain cisco.com
- Identity local FQDN R1.cisco.com
- Authentication local pre-share
- Authentication remote pre-share
- Keyring local KR
- AAA authorization group PSK list default default
- Virtual template 1
- Crypto IPsec profile: set IKEv2-profile default

Network Interfaces:
- Loopback0: ip address 10.0.0.103 255.255.255.255
- Loopback1: ip address 10.0.0.1 255.255.255.0
- Ethernet0/0: ip address 172.17.0.1 255.255.255.0
- Ethernet1/0: ip vrf forwarding custA, ip address 192.168.70.254 255.255.255.0
- Virtual-Template1 (tunnel): ip unnumbered Loopback1, mpls bgp forwarding, ip nhrp network-id 1, ip nhrp redirect, tunnel protection IPsec profile default

IP Local Pool: FPool 10.1.0.1 - 10.1.0.100

Routing Protocols:
- OSPF 10: network 172.17.0.0 0.0.0.255 area 0
- BGP 100: bgp log-neighbor-changes, neighbor 10.0.0.101 remote-as 100, neighbor 10.0.0.101 update-source Loopback0"
Configure a Dynamic Multipoint VPN with IPv4 and vpnv4 address families.,"- Tunnel0
- address-family ipv4
- neighbor 10.0.0.1 activate
- exit-address-family
- address-family vpnv4
- neighbor 10.0.0.1 activate
- neighbor 10.0.0.1 send-community both
- exit-address-family"
Crypto IKEv2 profile and IPSec protection for Tunnel0 interface.,"crypto ipsec profile default
set ikev2-profile default"
"Configure MPLS LDP loop detection, IP CEF, and IKEv2.","```
route-target export 1:1
route-target import 1:1
!
ip vrf cust2
rd 2:2
route-target export 2:2
route-target import 2:2
!
no ip domain lookup
ip domain name cisco.com
ip cef
no ipv6 cef
!
multilink bundle-name authenticated
mpls ldp loop-detection
!
crypto pki trustpoint CA
enrollment url http://172.16.0.2:80
password
fingerprint E0AFEFD7F08070BAB33C8297C97E6457
subject-name CN=R1-HUB.cisco.com,OU=FLEX,OU=VPN,O=Cisco Systems,C=US,L=Linux
revocation-check crl none
rsakeypair R1-HUB.cisco.com 2048
auto-enroll 95
!
!
crypto pki certificate chain CA
certificate 02
certificate ca 01
!
redundancy
!
!
!
crypto ikev2 authorization policy default
pool mypool
banner ^C Welcome ^C
def-domain cisco.com
!
!
!
crypto ikev2 profile default
match identity remote fqdn domain cisco.com
identity local dn
authentication local rsa-sig
authentication remote rsa-sig
pki trustpoint CA
dpd 60 2 on-demand
aaa authorization group cert list default default
virtual-template 1
!
crypto ipsec profile default
set
```"
"The requirement is to configure an IP network for Ethernet interfaces and a tunnel interface, as well as BGP settings for the router.","1. Interface Ethernet0/0: WAN interface with IP address 172.16.0.1/30.
2. Interface Ethernet0/1: LAN interface with IP address 192.168.100.1/24.
3. Interface Ethernet0/2: VRF forwarding for cust1, with IP address 192.168.110.1/24.
4. Interface Ethernet0/3: VRF forwarding for cust2, with IP address 192.168.111.1/24.
5. Virtual-Template1 interface: Tunnel type, unnumbered Loopback0, NHRP network-id 1, NHRP redirect, MPLS BGP forwarding, IPsec profile default, and tunnel protection enabled.
6. Router BGP settings: BGP log-neighbor-changes, listening range for 0.0.0.0/0 peer-group mpls, limit 5000, neighbor mpls with peer-group, remote-as 100, transport connection mode passive, update-source Loopback0, and redistributing static routes using route-map global.
7. Address-family settings: IPv4 redistribution, activating and setting next-hop-self for neighbor mpls, and VPNv4 activation with sending community both."
"Redistribute connected and static route-map cust1 in address-family ipv4 vrf cust1, and redistribute connected and static route-map cust2 in address-family ipv4 vrf cust2. Additionally, configure the default information originate for both VRFs.","```
!
address-family ipv4 vrf cust1
 redistribute connected
 redistribute static route-map cust1
 default-information originate
exit-address-family
!
address-family ipv4 vrf cust2
 redistribute connected
 redistribute static route-map cust2
 default-information originate
exit-address-family
!
```"
"Enable 6VPE support in MPLS over DMVPN phase 2 for the hub by configuring VRF, Tunnel, IPsec Tunnel Protection, WAN Facing Interface, Transport Routing, and Overlay Routing.","1. VRF - Define blue and red VRFs with respective route-target exports and imports.
2. Tunnel - Enable interface ""Tunnel11"", configure its IP address, disable IP redirects, set NHRP authentication and network-id, enable MPLS NHRP, set tunnel source, mode, and key.
3. IPsec Tunnel Protection - Enable IPsec profile ""ipsec_ikev2"" on interface ""Tunnel1"".
4. WAN Facing Interface - Configure interface ""GigabitEthernet0/0/1"" with an IP address of 10.1.1.1."
"Enabling Transport Routing and Overlay Routing for the Hub, EIGRP and BGP routing configurations.","1. hold-queue 4096 in
2. hold-queue 4096 out
3. router eigrp 100
4. network 10.1.1.0 0.0.0.255
5. router bgp 1
6. bgp router-id 192.168.1.1
7. bgp log-neighbor-changes
8. neighbor 192.168.1.101 remote-as 1
9. neighbor 192.168.1.101 update-source Tunnel1
10. neighbor 192.168.1.102 remote-as 1
11. neighbor 192.168.1.102 update-source Tunnel1
12. address-family ipv4
13. neighbor 192.168.1.101 activate
14. neighbor 192.168.1.102 activate
15. exit-address-family
16. address-family vpnv6
17. neighbor 192.168.1.101 activate
18. neighbor 192.168.1.101 send-community extended
19. neighbor 192.168.1.101 route-reflector-client
20. no neighbor 192.168.1.101 next-hop-self all
21. neighbor 192.168.1.102 activate
22. neighbor 192.168.1.102 send-community extended
23. neighbor 192.168.1.102 route-reflector-client
24. no neighbor 192.168.1.102 next-hop-self all
25. exit-address-family
26. address-family ipv6 vrf blue
27. redistribute connected
28. exit-address-family
29. address-family ipv6 vrf red
30. redistribute"
Enabling 6VPE support in MPLS over DMVPN for spokes,"VRF, Tunnel, IPsec Tunnel Protection, WAN Facing Interface, PE-CE Interfaces, Transport Routing, Overlay Routing"
Configure VRF and Tunnel settings for the Spokes,"1. VRF Configuration:
   - VRF blue with RD 100:1, IPv6 address family, and route targets export/import 100:1
   - VRF red with RD 100:2, IPv6 address family, and route targets export/import 100:2
2. Tunnel Configuration:
   - Enable tunnel on interface Tunnel1
   - IP address for Tunnel1: 192.168.1.101 /24
   - No IP redirects, NHRP authentication cisco123
   - NHRP mapping for multicast and unicast addresses
   - NHRP network-id: 101, NHRP next-hop server: 192.168.1.1
   - MPLS enabled with NHRP
   - Tunnel source: GigabitEthernet0/0/1
   - Tunnel mode: GRE multipoint
   - Tunnel key: 101
3. IPsec Tunnel Protection for Spokes:
   - Enable IPsec protection on interface Tunnel1 using IKEv2 profile
4. WAN Facing Interfaces for Spokes:
   - Configure IP and IPv6 addresses on GigabitEthernet0/0/1
   - Negotiation set to auto
5. PE-CE Interfaces for Spokes:
   - Configure interface GigabitEthernet0/0/3.1 with VRF forwarding blue and encapsulation dot1q 1"
Configuring MPLS over DMVPN and Configuring VRF for the Spokes,"ipv6 address 60::6/64, ipv6 enable, encapsulation dot1q 2, vrf forwarding red, interface GigabitEthernet0/0/3.2"
"Enable Transport Routing for Spokes and Overlay Routing for the Spokes, including IPv6 LAN extension (L3VPN) over DMVPN with IPv6 transport.","1. Configure EIGRP for Transport Routing:
   - router eigrp 100
   - network 40.1.1.0 0.0.0.255

2. Configure BGP for Overlay Routing:
   - router bgp 1
   - bgp router-id 192.168.1.101
   - bgp log-neighbor-changes
   - neighbor 192.168.1.1 remote-as 1
   - neighbor 192.168.1.1 update-source Tunnel1
   - address-family ipv4
   - neighbor 192.168.1.1 activate
   - exit-address-family
   - address-family vpnv6
   - neighbor 192.168.1.1 activate
   - neighbor 192.168.1.1 send-community extended
   - exit-address-family
   - address-family ipv6 vrf blue
   - redistribute connected
   - exit-address-family
   - address-family ipv6 vrf red
   - redistribute connected
   - exit-address-family

3. Configure EIGRP for IPv6 Transport Routing:
   - ipv6 router eigrp 1
   - eigrp router-id 1.1.1.1"
Enabling IPsec Tunnel Protection for the Hub,"- tunnel protection ipsec profile ipsec_ikev2
- no shutdown"
Enabling Tunnel for Hub,"address-family ipv4, neighbor 192.168.1.101 activate, neighbor 192.168.1.102 activate, exit-address-family, address-family ipv6, redistribute connected"
Enable 6PE support in MPLS over DMVPN phase 2 for spokes,"- Activate neighbors (192.168.1.101 and 192.168.1.102)
- Send community extended to neighbors (192.168.1.101 and 192.168.1.102)
- Configure route-reflector-client for neighbors (192.168.1.101 and 192.168.1.102)
- Disable next-hop-self all for neighbors (192.168.1.101 and 192.168.1.102)
- Enable Tunnel, IPsec Tunnel Protection, WAN Facing Interface, PE-CE Interfaces, Transport Routing, and Overlay Routing for spokes
- Configure Tunnel for Spokes:
  - interface Tunnel1
  - ip address 192.168.1.101 255.255.255.0
  - no ip redirects
  - ip nhrp authentication cisco123
  - ip nhrp map multicast 10.1.1.1
  - ip nhrp map 192.168.1.1 10.1.1.1
  - ip nhrp network-id 101
  - ip nhrp nhs 192.168.1.1
  - mpls nhrp
  - tunnel source GigabitEthernet0/0/1
  - tunnel mode gre multipoint
  - tunnel key 101"
"Enabling WAN Facing Interfaces for Spokes, PE-CE Interface for Spokes","interface GigabitEthernet0/0/1, ip address 40.1.1.6 255.255.255.0, negotiation auto, ipv6 address 40::6/64, ipv6 enable, interface GigabitEthernet0/0/3.1, encapsulation dot1q 1"
Verify the 6PE support in MPLS over DMVPN Phase 2,"1. show ipv6 route vrf blue 60::/64
2. show ipv6 route vrf blue 70::/64
3. show mpls forwarding-table
4. show mpls forwarding-table vrf blue 60::/64 detail
5. show mpls forwarding-table vrf blue 70::/64 detail
6. show ipv6 cef vrf blue 60::/64
7. show ipv6 cef vrf blue 70::/64
8. show ipv6 cef vrf red 61::/64
9. show ipv6 cef vrf red 71::/64
10. show bgp ipv6 unicast
11. show dmvpn
12. show ip nhrp"
Support and Cisco software image support.,The 6VPE and 6PE Support in MPLS over DMVPN feature enables service providers running an MPLS/IPv4 infrastructure to offer IPv6 services without any major changes in the infrastructure. It allows IPv6 sites to communicate with each other over a DMVPN MPLS/IPv4 core network using MPLS label switched paths (LSPs). The required Cisco IOS XE release is Gibraltar 16.10.x for 6VPE and 6PE Support in MPLS over DMVPN.
Per-Tunnel QoS Support for Multiple Policy Maps (MPOL),platform qos port-channel-aggregate port-channel-interface-number
Define a port-channel before configuring it to prevent errors.,Use a different interface number for the port-channel that has not been configured yet.
Setting up MPOL components and configuring policy maps for various traffic classes in a network.,"policy-map WAN
  class INTERACTIVE-VIDEO
    bandwidth remaining percent 30
    random-detect dscp-based
    set dscp tunnel af41
  class STREAMING-VIDEO
    bandwidth remaining percent 10
    random-detect dscp-based
    set dscp tunnel af31
  class NET-CTRL
    bandwidth remaining percent 5
    set dscp tunnel cs6
  class CALL-SIGNALING
    bandwidth remaining percent 4
    set dscp tunnel af21
  class CRITICAL-DATA
    bandwidth remaining percent 25
    random-detect dscp-based
    set dscp tunnel af21
  class SCAVENGER
    bandwidth remaining percent 1
    set dscp tunnel af11
  class VOICE
    priority level 1
    police cir percent 10
    set dscp tunnel ef
  class class-default"
"Apply Policy Maps to Spoke, Enabling MPOL (Multicast Protocol Over Layer 2 Tunnels)","1. Define routers to use QoS on the port-channel interface that will be configured
2. Define policy shaper
3. Define the port-channel interface and subinterface and apply the policy shaper
4. Define class maps to match the ingress traffic or DSCP for egress marking
5. Define the child policy map for queuing definition and setting the tunnel DSCP
6. Define the per-spoke policy maps to shape traffic on each spoke based on NHRP group registration and nest the child policy map in each spoke
7. Apply the per-spoke policy-maps to the tunnel interfaces and define the tunnel source to be the port-channel main"
RS-GROUP-30MBPS-POLICY,"Service-policy output: RS-GROUP-30MBPS-POLICY, Class-map: class-default (match-any), Queueing queue limit 124 packets"
Configure HSRP (Hot Standby Router Protocol),Enabling HSRP
VRRPv3 Object Tracking Integration,"How to Configure VRRPv3: Object Tracking Integration, Configuration Examples for VRRPv3: Object Tracking Integration"
Virtual MAC assignment for unicast messages between the active virtual gateway (AVG) and GLBP group members.,"Unicast messages are used for communication between the AVG and GLBP group members, with each member being assigned a virtual MAC address by the AVG."
Configure GLBP (Gateway Load Balancing Protocol) with a specific virtual MAC address assignment.,Set the GLBP virtual MAC address and ensure proper load balancing between gateways.
The requirement is to configure the GLBP gateway priority and make sure that each GLBP device knows when the secondary holdtime expires so it can reassign an expired virtual forwarder number.,The configuration should include setting the GLBP gateway priority for each backup virtual gateway using the glbp priority command with a value of 1 through 255.
GLBP (Gateway Load Balancing Protocol) virtual gateway election and preemptive scheme configuration,"GLBP priority assignment, GLBP weighting scheme, GLBP forwarding capacity determination, GLBP preempt command enable/disable"
"The requirement is to configure GLBP (Gateway Load Balancing Protocol) in a network environment, ensuring redundancy and automatic adjustments based on interface states.","1. Configure GLBP group weighting thresholds.
2. Set up interface tracking for automatic adjustment of the GLBP group weighting.
3. Enable the GLBP virtual forwarder preemptive scheme with a specified delay (e.g., 30 seconds).
4. Configure low weighting threshold and backup virtual forwarder settings as needed."
"GLBP must not have the same authentication configuration for a group. It should have one of the following authentication schemes: No authentication, Plain text authentication, or MD5 authentication.","GLBP packets will be rejected if the authentication schemes differ on the device and in the incoming packet, MD5 digests differ on the device and in the incoming packet, or text authentication strings differ on the device and in the incoming packet."
GLBP SSO functionality for stateful switchover in devices with dual RPs,GLBP SSO-awareness enabling the device to continue group state during a switchover and maintain network state information between redundant RPs.
Enable and verify GLBP on an interface,"1. enable
2. configure terminal
3. interface type number
4. ip address ip-address mask [secondary]
5. glbp group ip [ip-address [secondary]]
6. exit"
Specify an interface type and number to enter the interface configuration mode.,interface type number
First Hop Redundancy Protocols Configuration,"Virtual IP address: 10.21.8.10, Hello time: 5 sec, Hold time: 18 sec, Redirect time: 600 sec, Forwarder time-out: 7200 sec, Authentication text: ""stringabc"", Preemption enabled with min delay of 60 sec, Active is local, Standby is unknown, Priority: 254 (configured), Weighting: 105 (configured 110), thresholds: lower 95, upper 105, Track object 2 state Down decrement 5, Load balancing: host-dependent, There is 1 forwarder (1 active)."
Configure the GRE tunnel between two devices using pre-shared key authentication.,"Device(config)# interface Tunnel <tunnel_number>
Device(config-if)# ip address <IP_address1> <subnet_mask>
Device(config-if)# tunnel mode gre
Device(config-if)# tunnel key <pre_shared_key>"
The requirement is to configure GLBP (Gateways Load Balancing Protocol) on a network device for proper load balancing and failover.,"glbp group load-balancing [host-dependent | round-robin | weighted]
                 glbp group priority level
                 glbp group preempt [delay minimum seconds]"
Enabling IP redundancy by assigning a name to the GLBP group,glbp group-name redundancy-name
Configure GLBP (Gateway Load Balancing Protocol) with MD5 Authentication using a key string.,"Device# configure terminal, enter global configuration mode, and then follow the steps for configuring GLBP and its MD5 authentication with a key string."
Configuring an authentication key for GLBP MD5,glbp group-number authentication md5 key-string [0 | 7] key
GLBP MD5 Authentication Using a Key Chain,"Device(config-keychain)# key 100; key-string string (Example: ""abc123"")"
Configure an interface type and enter interface configuration mode.,Device(config)# interface Ethernet0/1
Text Authentication Configuration,"1. enable
2. configure terminal
3. interface type number
4. ip address ip-address mask [secondary]
5. glbp group-number authentication text string
6. glbp group-number ip [ip-address [secondary]]"
Authenticates GLBP packets received from other devices in the group.,glbp group-number authentication text string
Configuring GLBP weighting values and object tracking for interface states,"1. Enable the GLBP feature with the command ""glbp enable""
2. Configure the interface with the command ""interface type number""
3. Set the tracked object-number and interface type number with the command ""track object-number interface type number {line-protocol | ip routing}""
4. Define maximum weighting values with the commands ""glbp group weighting maximum [lower lower] [upper upper]""
5. Configure the decrement value for GLBP group weighting with the command ""glbp group weighting track object-number [decrement value]""
6. Set the preempt delay minimum seconds with the command ""glbp group forwarder preempt [delay minimum seconds]"""
Enables privileged EXEC mode.,enable
Configure the device to take over as AVF for a GLBP group if the current AVF for a GLBP group falls below its low weighting threshold.,glbp group forwarder preempt [delay minimum seconds]
"Configure GLBP text authentication using key chain ""AuthenticateGLBP"" with the key-string ""ThisIsASecretKey"" on an interface.","1. Enter configuration mode for the device: `Device(config)#`
2. Create a key chain named ""AuthenticateGLBP"": `Device(config)# key chain AuthenticateGLBP`
3. Define a key within the key chain with the key-string ""ThisIsASecretKey"":
   - Enter configuration mode for the key chain: `Device(config-keychain)#`
   - Create a key with an ID of 1 and enter its configuration mode: `Device(config-keychain)# key 1`
   - Set the key-string value: `Device(config-keychain-key)# key-string ThisIsASecretKey`
   - Exit the key configuration mode: `Device(config-keychain-key)# exit`
   - Exit the key chain configuration mode: `Device(config-keychain)# exit`
4. Configure GLBP on an interface with text authentication using the previously created key chain:
   - Enter configuration mode for the interface: `Device(config)# interface Ethernet 0/1`
   - Set the IP address and subnet mask: `Device(config-if)# ip address 10.0.0.1 255.255.255.0`
   - Configure GLBP with authentication enabled and reference to the key chain ""AuthenticateGLBP"": `Device(config-if)# glbp 2 authentication text key-chain AuthenticateGLBP`
   - Set the IP address for the GLBP group: `Device(config-if)# glbp 2 ip 10.0.0.10`
5. Exit configuration mode: `Device(config-if)# exit`"
Configuring GLBP Weighting,"track 1 interface POS 5/0/0 ip routing, track 2 interface POS 6/0/0 ip routing, interface fastethernet 0/0/0, glbp 10 weighting 110 lower 95 upper 105, glbp 10 weighting track 1 decrement 10, glbp 10 weighting track 2 decrement 10, glbp 10 forwarder preempt delay minimum 60"
GLBP configuration on a device,"address 10.21.8.32 255.255.255.0, Device(config-if)# glbp 10 ip 10.21.8.10"
ISSU (In-Service Software Upgrade) and NSF (Nonstop Forwarding),"Update Cisco IOS XE software while packet forwarding continues, enabling increased network availability and reduced downtime during planned software upgrades."
Route Processor Redundancy (RPR) and RPR+ for reducing unplanned downtime and maintaining state information during switchover events.,"Standby Route Processor (RP) with full initialization, ready to assume control from the active RP in case of manual or fault-induced switchover occurrences."
Each configured GLBP group must have only one virtual IP address (vIP) that is an IPv4 address.,"The virtual IP address must be configured on at least one GLBP group member, and other GLBP group members can learn the virtual IP address from hello messages."
"Periodic RAs for HSRP virtual IPv6 link-local addresses are sent when the HSRP group is active and stop after a final RA is sent when the group leaves the active state. Additionally, periodic RAs for interface link-local addresses stop after a final RA is sent while at least one virtual IPv6 link-local address is configured on the interface.","No restrictions occur for the interface IPv6 link-local address other than those mentioned for the RAs. HSRP uses a priority mechanism to determine which device should be the active device, with the default priority being 100. To configure a device as the active device, assign it a higher priority than all other HSRP-configured devices."
Enabling HSRP Version 2 on an interface,"configure terminal, interface type number, standby version {1 | 2}, and (optional) standby ipv6 command for IPv6 operation"
Duplicate Address Detection (to ensure uniqueness on the First Hop Redundancy Protocols),Enabling HSRP Version 2 for IPv6
Enable HSRP for IPv6 on a Cisco device.,"1. Configure the terminal (Device# configure terminal)
2. Enable ipv6 unicast-routing (ipv6 unicast-routing)
3. Specify an interface type and number, and place the device in interface configuration mode (interface type number)
4. Activate HSRP in IPv6 on the specified interface (Device(config)# interface GigabitEthernet 0/0/0; Device(config)# standby [group-number] ipv6 {link-local-address | autoconfig})"
"Configure HSRP preemption and preemption delay, set HSRP priority, and display HSRP information for IPv6.","- standby [group-number] preempt [delay minimum seconds | reload seconds | sync seconds]
- standby [group-number] priority [priority]
- show standby [type number [group]] [all | brief]
- show ipv6 interface [brief] [interface-type interface-number] [prefix]"
Standby 201 with preempt delay minimum of 30 seconds and authentication using ESE.,"Preemption enabled, delay min 30 secs, Authentication text ""ese""."
Network device configuration for HSRP and IPv6 settings on Device 2,"- Interface FastEthernet0/0.100
  - Description: DATA VLAN for Computers
  - Encapsulation: dot1Q 100
  - IPv6 Address: 2001:DB8:CAFE:2100::BAD1:1020/64
  - Standby Version: 2
  - Standby Group: 101
  - Standby Preempt: Enabled
  - Standby Authentication: ESE
  - IP Redundancy Name: hsrp-Fa0/0.100-201 (default)"
"Hello time - 3 sec, hold time - 10 sec, Authentication text - ""ese"", Preemption enabled","Active router - FE80::212:7FFF:FEC6:8F0C (priority 120, expires in 7.548 sec), MAC address - 0012.7fc6.8f0c"
Support for existing standards,MIBs (Management Information Base)
Definitions of Managed Objects for the Virtual Router Redundancy Protocol (RFC 2338),Not provided in the text.
"HSRP (Hot Standby Router Protocol) should be configured on a network segment to provide a virtual MAC address and an IP address shared among a group of devices. This allows hosts without discovery protocol support or those that cannot switch to a new device during reloads, to use HSRP as their default gateway and recover transparently.","- Configure the HSRP virtual IP address as the host's default gateway instead of the IP address of a single device.
- Select one device as the active device for receiving and routing packets destined for the virtual IP address."
HSRP (Hot Standby Router Protocol) for grouping devices and providing redundancy in case of active device failure.,"Priority mechanism to determine the default active device, with a default priority of 100; configurable period of time for sending hello messages."
Hot Standby Router Protocol (HSRP) for network redundancy and load sharing.,Multiple Hot Standby groups on an interface to utilize redundant devices and share virtual MAC address and IP address between two or more devices acting as a single virtual router.
"Improved stability, expanded group number range, and enhanced management and troubleshooting in HSRP version 2","Advertising and learning millisecond timer values, group number range from 0 to 4095, HSRP packet format with a 6-byte identifier field for uniquely identifying the sender, using multicast address 224.0.0.2 for sending HSRP hello messages"
Improved reliability of HSRP by reducing the chance of bunching of HSRP group operations.,"Jitter timers for services that work realtime and scale, allowing up to 4000 operational groups configured in HSRP."
"The requirement is to configure an HSRP group with a virtual IP address that matches the subnet of an IP address of a secondary interface, and automatically set the source address of HSRP messages to the most appropriate interface address.","- Virtual IP address: 192.168.1.254 (same as Network ID of the secondary interface)
- HSRP group priority: 105
- HSRP group preempt enabled"
The text describes a requirement for configuring HSRP (Hot Standby Router Protocol) to ensure that an HSRP group remains in INIT state if the HSRP virtual IP address has the same network ID as the primary interface address.,"In order to achieve this, it is necessary to configure the HSRP group with a matching network ID for the primary interface address. This will help maintain the desired state of the HSRP group and prevent it from remaining in INIT state."
HSRP (Hot Standby Router Protocol) configuration with standby delay minimum and reload settings,"- standby delay minimum 30
- reload 60"
"HSRP configuration with virtual IP, MAC address, and group number","Virtual IP address, configured IP address for active and standby devices, interface MAC address, and virtual MAC address format (0000.0C07.ACxy)"
"The requirement is to configure HSRP version 2 with the new IP multicast address 224.0.0.102, enable CGMP leave processing, and use a new MAC address range for expanded group numbers.",The configuration should include setting the standby mac-address command in the group and implementing the standby use-bia command to overcome limitations on Token Ring networks.
Configure HSRP to use burned-in MAC address for interface instead of HSRP virtual MAC address.,standby use-bia command for an interface and standby mac-address command for an HSRP group.
"Configuring HSRP timers for version 1 and 2, ensuring compatibility with millisecond timer values when specified in the hello time or hold time.",Ensuring that all devices are configured with the appropriate millisecond timer values if either the hello time or hold time is specified in milliseconds.
Prevent sending MAC refresh packets if not needed (when having FDDI but not a learning bridge or switch).,Not specified in the text.
Configuring HSRP (First Hop Redundancy Protocols),"HSRP MD5 authentication, HSRP timers"
Enhanced security and protection against HSRP-spoofing software and denial-of-service attacks through the use of MD5 authentication or plain text authentication in HSRP.,"HSRP can use either plain text authentication or MD5 authentication, with the key for MD5 hash being given directly using a key string or supplied indirectly through a key chain."
Device A should maintain its active status if it has authentication configured to ignore spoof HSRP hello packets.,"Authentication schemes, MD5 digests, and text authentication strings should be the same on both devices and incoming packets."
Provide a virtual first hop for IPv6 hosts using HSRP.,"HSRP IPv6 group has a virtual MAC address derived from the HSRP group number, and a virtual IPv6 link-local address derived from the HSRP virtual MAC address. The MAC address range is 0005.73A0.0000 to 0005.73A0.0FFF. Periodic RAs are sent for the HSRP virtual IPv6 link-local address when the HSRP group is active, and stop after a final RA is sent when the group leaves the active state."
HSRP (Hot Standby Router Protocol) for providing stateless redundancy for IP routing.,"HSRP Group Linking to IP Redundancy Clients, using logging Level 5 for syslog messages related to HSRP state changes."
Enhanced Object Tracking with HSRP Group Shutdown,standby track command with the shutdown keyword for configuring HSRP group shutdown.
HSRP Support for ICMP Redirect Messages,"ICMP redirect messages enabled on devices running HSRP.
Filtering outgoing ICMP redirect messages through HSRP with the next hop IP address changed to an HSRP virtual IP."
- ICMP Redirects to Active HSRP Devices,"- Comparing next-hop IP address to list of active HSRP devices
- Allowing redirect message if match found and replacing with virtual IP address
- Sending ICMP redirect message only if no match found, and the device corresponding to new next hop is not running HSRP
- Snooping on all HSRP packets for maintaining a list of active devices (virtual vs real IP addresses)"
First Hop Redundancy Protocols Configuration,HSRP (Hot Standby Router Protocol)
Modify the next hop in the redirect message and change the source IP address of the redirect message for hosts using virtual IP addresses of different HSRP groups.,"Source IP* = HSRP group 1 virtual IP, Gateway to use* = HSRP group 3 virtual IP"
ICMP redirects should be properly configured for both HSRP and non-HSRP devices in the network to ensure optimal operation and avoid misconfigurations that may lead to redundancy loss.,"Ensure that HSRP ICMP redirection is optimally configured, with at least one active HSRP group on every device running HSRP, and allow ICMP redirects for non-HSRP devices."
Devices should be able to determine the HSRP group state of any HSRP device on the network using passive HSRP Advertisement Messages.,"Passive HSRP devices should send out HSRP advertisement messages both periodically and when entering or leaving the passive state, so all HSRP devices can determine the HSRP group state of any HSRP device on the network."
HSRP device must use destination MAC address to determine gateway IP address of the host.,HSRP Support for MPLS VPNs.
An Ethernet LAN connected between two provider edge (PE) devices with either a customer edge (CE) device having a default route to the HSRP virtual IP address or one or more hosts with the HSRP virtual IP address configured as the default gateway.,"A VPN associated with one or more VPN routing and forwarding (VRF) instances, which consist of an IP routing table, Cisco Express Forwarding table, set of interfaces using the Cisco Express Forwarding forwarding table, and a set of rules and routing protocol parameters to control the information in the routing tables."
Configuring HSRP (Hot Standby Router Protocol),HSRP Support for MPLS VPNs in Cisco IOS XE Fuji 16.11.x
Enhance the High Availability Configuration Guide with an Upgrade Process document focusing on SSO HSRP and its behavior in devices with redundant Route Processors (RPs).,"1. Enable SSO functionality by default when the redundancy mode of operation is set to SSO.
2. Ensure that the HSRP SSO information is synchronized to the standby RP for continuous forwarding of traffic during a switchover without data loss or path change.
3. Configure devices with dual RPs to support SSO functions and provide RP redundancy by establishing one RP as active and the other as standby."
"SSO HSRP is required to preserve the forwarding path for traffic destined to the HSRP virtual IP address through an RP switchover. Configuring SSO on the edge device enables the traffic on the Ethernet links to continue during an RP failover without the Ethernet traffic switching over to an HSRP standby device (and then back, if preemption is enabled).","Not applicable, as this text only provides a description of the requirement and its purpose."
Create and maintain BFD neighbor sessions between two systems.,Configure BFD on both systems or BFD peers and enable BFD on interfaces and at the device level for HSRP.
Simple network with two devices running HSRP and BFD,"First Hop Redundancy Protocols Configuration Guide, Cisco IOS XE Fuji 16.11.x"
HSRP BFD Peering,"Simple Network Management Protocol (SNMP) Get operations, Enabling HSRP MIB trap support through CLI"
Configuring HSRP (First Hop Redundancy Protocols),"Requirement: Configuring HSRP (First Hop Redundancy Protocols)
Configuration:
Step 5
• If you do not configure a group number, the default group number is 0. The group number range is from Device(config-if)# standby 1 ip 172.16.6.100 for HSRP version 1 and from 0 to 4095 for HSRP version 2."
Configuring the virtual IP address for at least one device in the group for HSRP (Hot Standby Router Protocol) election.,Device(config-if)# ip address <virtual_IP_address>
Configure HSRP Priority and Preemption on a device,"1. enable
2. configure terminal
3. interface type number
4. ip address ip-address mask
5. standby [group-number] priority priority
6. standby [group-number] preempt [delay {minimum | reload | sync} seconds]"
Configure HSRP preemption and preemption delay,standby [group-number] preempt [delay {minimum | reload | sync} seconds]
Configure HSRP Object Tracking on a device's GigabitEthernet interface to change the HSRP priority based on the state of a tracked object.,"1. enable
2. configure terminal
3. track object-number interface type number {line-protocol | ip routing}
4. exit
5. interface type number
6. standby [group-number] track object-number [decrement priority-decrement] [shutdown]
7. standby [group-number] ip [ip-address [secondary]]
8. end"
Tracking configuration for an interface using an object number,track object-number interface type number {line-protocol | ip routing}
Changing the configuration of an already tracked object by an HSRP group to use the HSRP Group Shutdown feature.,"Remove tracking configuration using the no standby track command, reconfigure it using the standby track command with the shutdown keyword."
Configuring HSRP MD5 Authentication Using a Key String,Device(config-if)# standby 1 authentication md5 key-string
HSRP (Hot Standby Router Protocol) configuration for device redundancy.,Device(config-if)# standby [group-number] ip [ip-address] [secondary]; Device(config-if)# standby 1 authentication md5 key-string d00b4r987654321a timeout 30
Configure HSRP MD5 authentication using a key chain for First Hop Redundancy Protocols in Cisco IOS XE Fuji 16.11.x,"1. enable
2. configure terminal
3. key chain name-of-chain
4. key key-id
5. key-string string
6. exit
7. exit
8. interface type number
9. ip address ip-address mask [secondary]"
Authentication string for a key,key-string mno172 (1 to 80 uppercase or lowercase alphanumeric characters; first character cannot be a numeral)
Configuring an interface type and entering the interface configuration mode.,interface GigabitEthernet 0/0/0
Configure HSRP (Hot Standby Router Protocol) with MD5 authentication using a key chain.,Device(config-if)# standby 1 ip 10.21.8.12 [other steps as mentioned in the text]
Troubleshooting HSRP MD5 Authentication,"1. Enable privileged EXEC mode using the 'enable' command.
2. Use the 'debug standby errors' command to display error messages related to HSRP authentication."
Configuring HSRP Text Authentication and Troubleshooting HSRP MD5 Authentication,"enable, configure terminal, First Hop Redundancy Protocols Configuration Guide, Cisco IOS XE Fuji 16.11.x"
Configure HSRP text authentication.,standby [group-number] authentication text string
Configure HSRP on a network device.,"1. Enable: Device# enable
2. Enter configuration mode: Device# configure terminal
3. Define interface type and number: Device(config)# interface type number
4. Set IP address: Device(config-if)# ip address ip-address mask [secondary]
5. Activate HSRP and set timers: Device(config-if)# standby group-number timers msec hellotime msec"
Configuring an HSRP MAC Refresh Interval,- Standby mac-refresh seconds (value in seconds)
"- First Hop Redundancy Protocols Configuration Guide, Cisco IOS XE Fuji 16.11.x","1. enable
2. configure terminal
3. interface type number"
Configure the primary and secondary IP addresses for an interface using HSRP (Hot Standby Routing Protocol) with different group numbers on multiple devices.,"1. Enter privileged EXEC mode by typing ""enable"" and enter your password if prompted.
2. Enter global configuration mode by typing ""configure terminal"".
3. Configure an interface type and enter interface configuration mode by typing ""interface type number"".
4. Specify a primary or secondary IP address for the interface using ""ip address ip-address mask [secondary]"".
5. Configure HSRP priority for different group numbers by typing ""standby [group-number] priority priority"".
6. Configure preemption and delay values for standby groups using ""standby [group-number] preempt [delay {minimum | reload | sync} delay]"".
7. Specify the secondary IP address for standby groups using ""standby [group-number] ip [ip-address] secondary"".
8. Repeat Steps 5 through 7 for different standby groups on the same device.
9. Exit configuration mode by typing ""exit"".
10. Repeat Steps 3 through 9 on another device."
"The requirement is to configure the interval for HSRP groups and ensure that client or subordinate groups are on the same physical interface as the master group. Additionally, the requirement is to make sure that client groups take their state from the group they are following and do not use timer, priority, or preemption settings.","The default interval for HSRP groups can be configured between 10 to 255 seconds. To configure the interval, use the command ""standby [interface-id] [interval-time]""."
"Configure HSRP settings, including IP address and mask, MAC refresh interval, and client group configuration.","1. ip address ip-address mask [secondary] - Configures a primary or secondary IP address for an interface. Example: Device(config-if)# ip address 10.0.0.1 255.255.255.0
2. standby mac-refresh seconds - Configures the HSRP client group refresh interval. Example: Device(config-if)# standby mac-refresh 30
3. standby group-number follow group-name - Configures an HSRP group as a client group. Example: Device(config)# standby 1 follow HSRP_Group_Name"
Enabling HSRP Support for ICMP Redirect Messages,"1. enable
2. configure terminal
3. interface type number
4. standby redirect [timers advertisement holddown] [unknown]
5. end
6. show standby redirect [ip-address] [interface-type interface-number] [active] [passive] [timers]"
Enable HSRP filtering of ICMP redirect messages on all interfaces configured for HSRP.,"Use the ""standby redirect"" command in global configuration mode to enable HSRP filtering of ICMP redirect messages on all interfaces configured for HSRP."
Configuring HSRP Virtual MAC Addresses or BIA MAC Addresses,"1. enable
2. configure terminal
3. interface type number
4. ip address ip-address mask [secondary]
5. Enter one of the following commands:
• standby [group-number] mac-address mac-address
• or
• standby use-bia [scope interface]
• or
6. standby [group-number] ip [ip-address [secondary]]"
Configure an IP address and a virtual MAC address for an interface using HSRP (Hot Standby Router Protocol).,"1. Configure an IP address for an interface:
```
Device(config-if)# ip address ip-address mask [secondary]
Example: Device(config-if)# ip address 172.16.6.5 255.255.255.0
```
2. Configure a virtual MAC address for HSRP:
```
Device(config-if)# standby [group-number] mac-address mac-address
Example: Device(config-if)# standby 1 mac-address 5000.1000.1060
```
or
```
Device(config-if)# standby use-bia [scope interface]
```
3. Configure HSRP to use the burned-in address of the interface as its virtual MAC address:
```
Device(config-if)# standby use-bia
```
4. Activate HSRP and configure an IP address for the HSRP group:
```
Step 6
Device(config-if)# standby [group-number] ip [ip-address [secondary]]
Example: Device(config-if)# standby 1 ip 172.16.6.100
```"
Configure HSRP settings on a device.,"standby 1 name HSRP-1, standby 1 ip 10.0.0.11, and HSRP version 2."
Configuring HSRP version 2 on a device with different packet formats and ensuring mutual exclusivity between versions.,"Enable, configure terminal, and follow the steps in the SUMMARY STEPS section for Changing to HSRP Version 2."
HSRP (Hot Standby Router Protocol) configuration,standby 400 ip 10.10.28.5
"Enabling SSO-aware HSRP on interfaces configured for HSRP, and automatically resetting the standby RP.","First Hop Redundancy Protocols Configuration Guide, Cisco IOS XE Fuji 16.11.x (Step 4)"
"First Hop Redundancy Protocols Configuration for Cisco IOS XE Fuji 16.11.x, including HSRP and SSO Aware HSRP verification.","Hold time is set to 3 seconds. Authentication text is set as ""authword"". Preemption is enabled."
"Enabling the device to send SNMP traps, informs, and HSRP notifications.",snmp-server enable traps hsrp
Enable BFD on the interface,Device(config-if)# bfd interval <milliseconds> min_rx <milliseconds> multiplier <interval-multiplier> Example: Device(config-if)# bfd interval 50 min_rx 50 multiplier 5
Exit global configuration mode,exit
First Hop Redundancy Protocols Configuration for HSRP in Cisco IOS XE Fuji 16.11.x,"Active router is local, Standby router is 10.0.0.2 with priority 90 (expires in 8.268 sec), BFD enabled, Priority 110 (configured 110), Group name ""hsrp-Fa2/0-1"""
HSRP configuration with priority and preemption for devices A and B.,"- Device A: Interface GigabitEthernet 0/0/0, Priority 110, Preempt enabled.
- Device B: Interface GigabitEthernet 0/0/0, Active device for group 2, Standby device for group 1."
Configuring HSRP with tracking and priority settings for redundancy and load balancing.,"1. Set standby group and priority on interface GigabitEthernet 0/0/0 of Device A:
   - standby 1 priority 105
   - standby 1 ip 10.1.0.1
2. Set standby group and preempt settings on interface GigabitEthernet 0/0/0 of Device B:
   - standby 2 preempt
   - standby 2 priority 95
   - standby 2 ip 10.1.0.2
3. Configure HSRP Object Tracking on interface GigabitEthernet 0/0/0 of Device A to track the IP-routing capability of serial interface 1/0:
   - track 1 interface Serial 1/0 state
4. Set the standby group and priority for redundancy on both devices based on the tracking process, in case one of the serial interfaces goes down."
"The requirement is to configure the HSRP (Hot Standby Router Protocol) on two devices, Device A and Device B. Both devices should have operational Gigabit Ethernet interfaces for Device A to be the active device due to its higher priority. If IP routing on Device A's interface fails, Device B will become the active device.","Device A Configuration:
- track 100 interface GigabitEthernet 0/0/0 ip routing
- standby 1 ip 10.1.0.1
- standby 1 preempt
- standby 1 priority 110
- standby 1 track 100 shutdown

Device B Configuration:
- track 100 interface GigabitEthernet 0/0/0 ip routing"
Configure Hot Standby Router Protocol (HSRP) on GigabitEthernet 0/0/1 interface with specific parameters.,"1. Set the IP address for the interface: ip address 10.1.0.22 255.255.0.0
2. Enable HSRP on the interface and set it as active router (standby 1 ip 10.1.0.1).
3. Make the HSRP group preemptive (standby 1 preempt).
4. Assign a priority value to the local router in the HSRP group (standby 1 priority 105).
5. Enable tracking of a specific condition on the interface and shutdown the HSRP group if that condition is met (standby 1 track 100 shutdown)."
Change the configuration of a tracked object to include the HSRP Group Shutdown feature.,no standby 1 track 100 decrement 10; standby 1 track 100 shutdown.
Configure HSRP MD5 Authentication using Key Strings and Key Chains.,"- Key chain: hsrp1
  - Key ID: 0 or any other valid ID
  - Key string: 54321098452103ab (example)
- Interface: GigabitEthernet 0/0/0
  - HSRP configuration:
    - Standby 1 priority: 110
    - Standby 1 preempt: enabled
    - Standby 1 authentication md5 key-chain: hsrp1
  - HSRP IP address: 10.21.0.10"
Configuring HSRP Text Authentication with MD5 key-string and IP address,"Device(config)# interface GigabitEthernet 0/0/0
Device(config-if)# standby 1 priority 110
Device(config-if)# standby 1 preempt
Device(config-if)# standby 1 authentication md5 key-string 54321098452103ab
Device(config-if)# standby 1 ip 10.21.0.10"
HSRP load sharing and standby preempt configuration to ensure load balancing and automatic failover between two routers.,"Router A as the active router for group 1 with a priority of 110, Router B as the active router for group 2 with a priority of 110, virtual IP addresses of 10.0.0.3 and 10.0.0.4 for Group 1 and Group 2 respectively."
HSRP (Hot Standby Router Protocol) Configuration,"1. Set the hostname for each router (RouterA and RouterB).
2. Configure the IP address, priority, and standby group number for the primary interface on both routers.
3. Enable preemption and configure the standby IP address for the primary interfaces on both routers.
4. Configure the priority, preemption, and standby group number for the secondary interface on both routers.
5. Set up the standby IP address for the secondary interface on both routers."
Optimize CPU and network performance by implementing Hot Standby Routing Protocol (HSRP) with multiple group optimization.,N/A (not provided in the text)
Configure HSRP support for ICMP redirect messages on a network device.,"1. Set the standby group and follow the HSRP instance on an interface:
   Device(config-if)# standby 2 follow HSRP1

2. Configure IP address, HSRP settings, and standby parameters for both devices:
   - Device A Configuration—Active for Group 1 and Standby for Group 2:
     a. Interface configuration:
       Device(config)# interface GigabitEthernet 0/0/0
       b. IP address:
         Device(config-if)# ip address 10.0.0.10 255.0.0.0
       c. HSRP settings and parameters:
         Device(config-if)# standby redirect
         Device(config-if)# standby 1 priority 120
         Device(config-if)# standby 1 preempt delay minimum 20
         Device(config-if)# standby 1 ip 10.0.0.1
         Device(config-if)# standby 2 priority 105
         Device(config-if)# standby 2 preempt delay minimum 20
         Device(config-if)# standby 2 ip 10.0.0.2"
Linking IP Redundancy Clients to HSRP Groups and supporting static Network Address Translation (NAT) configuration.,"- Two devices acting as HSRP active and standby
- NAT inside interfaces are HSRP enabled and configured to belong to the group named ""group1""
- Standby settings:
  - Device IP: 192.168.5.30
  - Priority: 110
  - Preempt: Enabled
  - Name: group1
  - Tracking: Ethernet 2/1
- Active device configuration:
  - Interface: BVI 10
    - IP address: 192.168.5.54 with subnet mask 255.255.255.255.0
    - No ip redirects
    - ip nat inside
- NAT Redundancy configuration:
  - Source static translation for IP address 192.168.5.33 to 10.10.10.5, with group ""group1"""
Configure HSRP version 2 on an interface with a group number of 350.,"1. Enter the interface configuration mode for vlan 350.
   ```
   Device(config)# interface vlan 350
   ```

2. Set the HSRP version to 2.
   ```
   Device(config-if)# standby version 2
   ```

3. Configure the priority for the group.
   ```
   Device(config-if)# standby 350 priority 110
   ```

4. Enable preempt mode for the group.
   ```
   Device(config-if)# standby 350 preempt
   ```

5. Set timers for the group.
   ```
   Device(config-if)# standby 350 timers 5 15
   ```

6. Set the IP address for the group.
   ```
   Device(config-if)# standby 350 ip 172.20.100.10
   ```"
Enable SSO-Aware HSRP on devices,"1. Configure redundancy mode to SSO using the following commands:
Device(config)# redundancy
Device(config-red)# mode sso
2. Set up an interface with IP address and standby priority using the following commands (as shown in the example):
Device(config)# interface GigabitEthernet 1/0/0
Device(config-if)# ip address 10.1.1.1 255.255.0.0
Device(config-if)# standby priority 200
3. Enable preemption and configure the device as the active (primary) device with the following command:
Device(config-if)# standby preempt
Device(config-if)# standby sso"
Backup device configuration using HSRP for redundancy.,"- Device A:
    - Interface GigabitEthernet 0/0/0 with IP address 10.1.1.1 and subnet mask 255.255.0.0, standby priority 200, standby preempt, and standby IP 10.1.1.3
    - SNMP server enabled for traps and HSRP with host yourhost.cisco.com
- Device B:
    - Interface GigabitEthernet 1/0/0 with IP address 10.1.1.2 and subnet mask 255.255.0.0, standby priority 101, standby IP 10.1.1.3
    - SNMP server enabled for traps and HSRP with host myhost.cisco.com"
BFD session for early failover notification in HSRP groups.,"bfd interval command, standby bfd and standby bfd all-interfaces commands (if BFD has been manually disabled)."
Hot Standby Router Protocol (HSRP) configuration for redundancy on a FastEthernet interface,"- Interface: FastEthernet2/0
- IP address: 10.1.0.22 with subnet mask 255.255.0.0
- Standby protocol enabled with group number 1, preemption enabled, and priority set to 90
- Secondary standby configuration with group number 2, IP address 10.0.0.12, preemption enabled, and priority set to 80"
Centralized control unit in a chassis for route processing redundancy (RPR+) and High System Availability (HSA).,Not provided.
Improved millisecond timer values and expanded group number range in HSRP version 2 for increased stability and flexibility.,"Advertising and learning millisecond timer values, expanding the group number range from 0 to 4095, and including a 6-byte identifier field in packet format for uniquely identifying the sender of the message (typically using the interface MAC address)."
"The requirement is to configure and use HSRP (Hot Standby Router Protocol) for high availability in a network. The specific configuration should be between HSRP version 1 and version 2, depending on the desired functionality of Cisco Group Management Protocol (CGMP) and the multicast address used for hello packets.","The configuration will vary based on the chosen HSRP version. For HSRP version 1:
- Multicast address: 224.0.0.2
- Default version of HSRP

For HSRP version 2:
- Multicast address: 224.0.0.102
- Enables CGMP leave processing at the same time as HSRP
- Expanded group number range: 0 to 4095
- New MAC address range: 0000.0C9F.F000 to 0000.0C9F.FFFF
- Virtual MAC address changes when the HSRP version is changed"
Using Jitter timers in HSRP to improve reliability and reduce CPU and network traffic spikes.,"Not specified in the text, but it mentions that a given timer instance may take up to 20% more than the configured value."
"Enable HSRP on an interface with a specified IP address and version, configure the standby group number, and display information about the standby configuration.","1. enable
2. configure terminal
3. interface type number (e.g., vlan 400)
4. ip address ip-address mask (e.g., 10.10.28.1 255.255.255.0)
5. standby version {1 | 2} (e.g., standby version 2)
6. standby [group-number] ip [ip-address [secondary]] (e.g., standby 100 ip 10.10.28.1)"
HSRP version configuration,standby 400 ip 10.10.28.5
Configure HSRP version 2 on an interface with a group number of 350.,Device(config)# interface vlan 350; Device(config-if)# standby version 2; Device(config-if)# standby 350 priority 110 ; Device(config-if)# standby 350 preempt ; Device(config-if)# standby 350 timers 5 15; Device(config-if)# standby 350 ip 172.20.100.10
HSRP Text Authentication to protect against false HSRP hello packets causing a denial-of-service attack.,"HSRP ignores unauthenticated HSRP protocol messages, and the default authentication type is text authentication."
Implement HSRP MD5 Authentication for added security and protection against HSRP-spoofing software.,Each HSRP group member must use a secret key to generate a keyed MD5 hash that is part of the outgoing packet. The key can be given directly in the configuration using a key string or supplied indirectly through a key chain.
Configure HSRP with MD5 authentication to protect against false hello packets causing denial-of-service attacks.,Use HSRP MD5 authentication with a key chain to allow different key strings to be used at different times based on the key chain configuration.
The requirement is to configure the HSRP (Hot Standby Router Protocol) with MD5 authentication using a key chain.,"To configure the HSRP with MD5 authentication using a key chain, follow these steps:
1. Enter the key-chain configuration mode: Device(config-keychain)# key 100
2. Specify the authentication string for the key: Device(config-keychain-key)# key-string mno172 (an example, use an appropriate alphanumeric string)
3. Return to the key-chain configuration mode: Device(config-keychain)# exit
4. Configure HSRP with MD5 authentication: Device(config)# ip hsrp <hsrp-group-number> <authentication-string> priority <priority-value> hold-time <hold-time-value> [standby <interface>] [track <interface> down]
5. Return to global configuration mode: Device(config-line)# exit
6. Exit the device configuration mode: Device# exit"
"Configure an interface type and enter interface configuration mode, specify a primary or secondary IP address for an interface, configure HSRP priority, configure HSRP preemption, configure authentication MD5 key chain for HSRP.","1. Example: Step 8 - Device(config)# interface GigabitEthernet 0/0/0
2. Example: Step 9 - Device(config-if)# ip address 10.21.8.32 255.255.255.0
3. Example: Step 10 - Device(config-if)# standby 1 priority 110
4. Example: Step 11 - Device(config-if)# standby 1 preempt minimum|reload|sync seconds
5. Example: Step 12 - Device(config-if)# standby 1 authentication md5 key-chain key-chain-name
6. Example: Step 13 - Device(config-if)# standby group-number ip ip-address"
Configuring HSRP Text Authentication,"1. enable
2. configure terminal"
Activate HSRP and configure MD5 authentication on the device interface.,"Device(config-if)# standby [group-number] ip [ip-address [secondary]], Device(config-if)# standby [group-number] authentication md5 key-string [key], Device(config-if)# standby [group-number] timeout [timeout-value]."
Configure HSRP (Hot Standby Router Protocol) with MD5 authentication using a key chain.,"1. Create a key chain using the 'key chain' command:
   Device(config)# key chain hsrp1
2. Define a key within the key chain using the 'key' command:
   Device(config-keychain)# key 1
3. Set the key string for the defined key using the 'key-string' command:
   Device(config-keychain-key)# key-string 54321098452103ab
4. Exit the key configuration mode using the 'exit' command:
   Device(config-keychain-key)# exit
5. Configure an interface with the 'interface' command:
   Device(config)# interface GigabitEthernet 0/0/0
6. Enable HSRP on the interface using the 'standby' command and set the priority, preempt option, and authentication:
   Device(config-if)# standby 1 priority 110
   Device(config-if)# standby 1 preempt
   Device(config-if)# standby 1 authentication md5 key-chain hsrp1
7. Specify the HSRP virtual IP address using the 'ip' command:
   Device(config-if)# standby 1 ip 10.21.0.10"
HSRP Support for ICMP Redirects,Configure HSRP Support for ICMP Redirects (on page 114) and Configuration Examples for HSRP Support for ICMP Redirects (on page 115)
ICMP Redirects to Active HSRP Devices,"The next-hop IP address is compared to the list of active HSRP devices on that network; if a match is found, then the real next-hop IP address is replaced with a corresponding virtual IP address and the redirect message is allowed to continue. If no match is found, then the ICMP redirect message is sent only if the device corresponding to the new next hop IP address is not running HSRP. Redirects to passive HSRP devices are not allowed (a passive HSRP device is a device running HSRP, but which contains no active HSRP groups on the interface). For optimal operation, every device in a network that is running HSRP should contain at least one active HSRP group on an interface to that network. Every HSRP device need not be a member of the same group. Each HSRP device will snoop on all HSRP packets on the network to maintain a list of active devices (virtual IP addresses versus real IP addresses)."
Modify the ICMP redirect message to use HSRP group 1 virtual IP and HSRP group 3 virtual IP for source IP and gateway respectively.,"- Destination MAC: Host MAC
- Source MAC: router R1 MAC
- Destination IP: Host IP
- Source IP*: HSRP group 1 virtual IP
- Gateway to use*: HSRP group 3 virtual IP"
"The requirement seems to be about configuring a network that does not allow ICMP redirects to passive HSRP devices, ensuring redundancy and optimal operation of HSRP ICMP redirection.",The configuration should have at least one active HSRP group on every device running HSRP in the network. This will help avoid misconfigurations and ensure that ICMP redirects operate optimally.
Allowing HSRP on local interfaces and permitting hosts to learn the real IP address of non-HSRP devices.,"Passive HSRP Advertisement Messages, allowing redirection to device R7 as it is not running HSRP, with no standby redirect unknown command to stop these redirects."
HSRP Support for ICMP Redirects and ICMP Redirects to Passive HSRP Devices,Not provided in the text
HSRP configuration and advertisement interval adjustment,standby redirect timers command for adjusting the advertisement interval and hold-down time.
Enables privileged EXEC mode.,Device> enable
Configuring HSRP Support for ICMP Redirects,"Device A Configuration—Active for Group 1 and Standby for Group 2
Device(config)# interface GigabitEthernet 0/0/0
Device(config-if)# ip address 10.0.0.10 255.0.0.0
Device(config-if)# standby redirect
Device(config-if)# standby 1 priority 120 
Device(config-if)# standby 1 preempt delay minimum 20"
Implement Hot Standby Router Protocol (HSRP) with the following settings for Device B.,"Requirement: Implement Hot Standby Router Protocol (HSRP) with the following settings for Device B.
- Standby Group 1: Active device with priority 105, preempt delay minimum 20, and IP address 10.0.0.1.
- Standby Group 2: Active device with priority 120, preempt delay minimum 20, and IP address 10.0.0.2.

Configuration:
```
Device B Configuration—Standby for Group 1 and Active for Group 2
Device(config)# interface GigabitEthernet 0/0/0
Device(config-if)# ip address 10.0.0.11 255.0.0.0
Device(config-if)# standby redirect
```"
Configure multiple HSRP groups for load balancing and redundancy in networks.,"- Device A active for group 1, standby for group 2
- Device B standby for group 1, active for group 2
- Fifty percent of the hosts on the LAN with virtual IP address of group 1
- Remaining hosts with virtual IP address of group 2"
Configure HSRP (Hot Standby Router Protocol) on an interface,"1. Enter interface configuration mode using `interface GigabitEthernet <interface-number>`.
2. Configure the primary or secondary IP address for the interface using `ip address <ip-address> <mask> [secondary]`.
3. Set up HSRP priority with `standby <group-number> priority <priority>` command.
4. Optionally configure HSRP preemption with `standby <group-number> preempt [delay {minimum | reload | sync} delay]`.
5. Activate HSRP using `standby <group-number> ip [ip-address] secondary`.
6. Repeat Steps 1 through 5 for different standby groups as needed."
Configure multiple HSRP groups with different priority and preemption values to enable load balancing on devices.,"HSRP group priority, preemption values, and enabling load balancing on devices."
"HSRP client groups should follow the primary HSRP with a slight, random delay so that all client groups do not change at the same time. Client or subordinate groups must be on the same physical interface as the primary group. A client group takes its state from the group it is following and does not use its timer, priority, or preemption settings.",The standby mac-refresh seconds command can be used to change the HSRP client group refresh interval. The default interval is 10 seconds and can be configured up to 255 seconds.
"Configure an interface type and enter interface configuration mode. Specify a primary or secondary IP address for an interface, configure the HSRP client group refresh interval, and configure multiple HSRP client groups.","1. Step 3: Device(config)# interface GigabitEthernet 0/0/0
2. Step 4: Device(config-if)# ip address 10.0.0.1 255.255.255.0
3. Step 5: Device(config-if)# standby mac-refresh 30
4. Step 6: Device(config-if)# standby 1 follow HSRP1
5. Repeat Steps 3 through 6 to configure additional HSRP client groups."
Configure load sharing between Router A and Router B using Hot Standby groups in a First Hop Redundancy Protocol (HSRP) environment.,"1. Configure Half of the clients for Router A and Half for Router B.
2. Establish two Hot Standby groups (Group 1 and Group 2).
3. Set Router A as the default active router with highest priority in Group 1, with Router B as the standby router.
4. Set Router B as the default active router with highest priority in Group 2, with Router A as the standby router.
5. Enable load sharing during normal operation between Routers A and B for IP traffic.
6. Configure standby preempt interface to restore load sharing when a router goes down and comes back up."
"HSRP Load Sharing Configuration with two groups (group 1 and group 2), each having a virtual IP address (Group 1: 10.0.0.3, Group 2: 10.0.0.4).","- Router A is configured as the active router for group 1 with a priority of 110.
- Router B is configured as the active router for group 2 with a priority of 110.
- The default priority level is 100.
- Interface configuration includes setting the IP addresses, enabling HSRP on the interface, and specifying the virtual IP addresses for each group."
"First Hop Redundancy Protocols Configuration, specifically HSRP (Hot Standby Router Protocol) with multiple group optimization for load balancing.",standby <group_number> preempt; standby <group_number> ip <virtual_IP>;
Configuring Hot Standby Router Protocol (HSRP) for IPv4 and IPv6,"1. Enable the interface with ""no shutdown"" command.
2. Set the VRF forwarding using ""ip vrf forwarding VRF4"" command.
3. Configure the IP address with ""ip address 10.0.0.100 255.255.0.0"" command.
4. Set up HSRP for the interface with ""standby 2 ip 10.0.0.254"" command.
5. Follow an existing HSRP group with ""standby 2 follow HSRP1"" command."
"Object tracking for line protocol state or reachability of an IP route, and notifying client processes when tracked objects change state.",HSRP Group Shutdown with standby track command and shutdown keyword.
- Configuring priority decrements for tracked objects.,"- Cumulative priority decrements for multiple tracked objects with configured priority decrements.
- Default decrement is 10 if none of the tracked objects were configured with priority decrements.
- Removing tracking configuration using the no standby track command, then reconfiguring it using the standby track command with the shutdown keyword."
Activating HSRP and setting the group number for an interface,standby [group-number] ip [ip-address [secondary]]
Prevent any HSRP state change and ensure the active device's key string is changed no later than one hold-time period after nonactive devices.,1. Configure the standby timers interface command to specify the hold-time period.
Configuring HSRP MD5 Authentication Using a Key String,"Device(config-if)# standby 1 authentication md5
key-string d00b4r987654321a timeout 30"
"The requirement is to configure and activate HSRP (Hot Standby Router Protocol) on a group of routers. This allows for redundancy and load balancing among the routers in the group, ensuring continuous connectivity and optimal performance.","To configure and activate HSRP, follow these steps:
1. Enter global configuration mode on each router.
2. Use the ""standby"" command to define the HSRP group, IP address, and set it as secondary (optional). Example: ""Device(config)# standby 1 ip 10.0.0.3 secondary"".
3. Repeat Steps 1-2 on each device in the group that will communicate.
4. Enter back to privileged EXEC mode using the ""end"" command (optional). Example: ""Device(config)# end"".
5. To verify your configuration, use the ""show standby"" command."
"If the IP state on serial interface 1/0 goes down, the priority of the HSRP group is reduced by 10.","track 100 interface serial 1/0/0 ip routing, standby 1 preempt, standby 1 priority 110, standby 1 track 100 decrement 10"
"Configure HSRP on Device B to track the IP-routing capability of Gigabit Ethernet interface 0/0/0. The tracking process should be informed of any changes to the IP-routing state of Gigabit Ethernet interface 0/0/0, and if the IP state goes down, the HSRP group should be disabled.","1. Set up tracking on Device B for the IP routing capability of Gigabit Ethernet interface 0/0/0:
Device(config)# track 100 interface serial 1/0/0 ip routing
2. Configure HSRP on GigabitEthernet 0/0/0 with preempt and priority:
Device(config-if)# standby 1 preempt
Device(config-if)# standby 1 priority 105
3. Set up tracking on the GigabitEthernet 0/0/0 interface to decrement by 10 when the tracking process is triggered:
Device(config-if)# standby 1 track 100 decrement 10
4. Assign the IP address and subnet mask for the GigabitEthernet 0/0/0 interface:
Device(config-if)# ip address 10.1.0.22 255.255.0.0
5. Configure the standby IP address to be 10.1.0.1 for HSRP group 1 on GigabitEthernet 0/0/0:
Device(config-if)# standby 1 ip 10.1.0.1"
Maintaining a default virtual gateway service for hosts on the 10.1.0.0 subnet in case of HSRP group failure.,"Device A:
- track 100 interface GigabitEthernet 0/0/0 ip routing
- standby 1 ip 10.1.0.1
- standby 1 preempt
- standby 1 priority 110
- standby 1 track 100 shutdown

Device B:
- track 100 interface GigabitEthernet 0/0/0 ip routing
- interface GigabitEthernet 0/0/1
- ip address 10.1.0.22 255.255.0.0
- standby 1 ip 10.1.0.1
- standby 1 preempt
- standby 1 priority 105
- standby 1 track 100 shutdown"
Configure the HSRP Group Shutdown feature on a tracked object.,"Remove the tracking configuration using the 'no standby track' command, then reconfigure it using the 'standby track' command with the 'shutdown' keyword."
HSRP for IPv6 configuration,Hot Standby Router Protocol (HSRP)
Synchronizing HSRP SSO information to standby RP for continuous traffic forwarding during switchover without loss of data or path change.,The feature is enabled by default when the redundancy mode of operation is set to SSO.
Enabling and configuring SSO (Stateful Switchover) for HSRP (Hot Standby Router Protocol) on Cisco IOS devices.,"1. Enable SSO on the edge device:
   - Configure global commands: `sso policy ssr 32` and `sso primary-standby-policy`.
2. Configure HSRP on the devices participating in the redundancy group:
   - Define the HSRP group: `ip address <HSRP_virtual_IP> <interface> secondary`.
   - Set the HSRP priority and standby IP: `standby 1 ip <standby_IP> priority <priority_value>` (optional).
3. Configure SSO for HSRP on the devices:
   - Enable Stateful Switchover for HSRP: `sso protocol hsrp`.
4. Configure Ethernet links to continue during RP failover without switching over to an HSRP standby:
   - Configure `sso ethernet` under the appropriate VLAN interfaces."
SSO Aware HSRP Enabled,"Redundancy mode set to SSO, enabling the SSO aware HSRP."
Disable SSO HSRP if LAN segments should switch HSRP traffic to a redundant device while maintaining traffic flow for other connections.,"1. enable
2. configure terminal
3. redundancy
4. mode sso
5. exit
6. no standby sso"
"Down decrement by 10; Group name ""name1""",(cfgd)
Enable SSO-Aware HSRP on Gi0/0/1 Group 101.,"1. Set the redundancy mode to SSO:
   Device(config)# redundancy
   Device(config-red)# mode sso
2. Configure the interface (example using GigabitEthernet 1/0/0):
   Device(config)# interface GigabitEthernet 1/0/0
   Device(config-if)# ip address 10.1.1.1 255.255.0.0
   Device(config-if)# standby priority 200 
   Device(config-if)# standby preempt
   Device(config-if)# standby sso"
Increase network availability and reduce downtime caused by planned software upgrades.,Implementing ISSU (In Service Software Upgrade) in Cisco networks. Refer to the Cisco IOS In Service Software Upgrade Process document in the High Availability Configuration Guide for detailed information.
HSRP MIB support for Simple Network Management Protocol (SNMP) Get operations to monitor HSRP groups in a network from the network management station.,"Enabling HSRP MIB trap support through CLI, using a read-only version of the MIB and not supporting set operations."
Configure HSRP on two devices and enable the HSRP MIB trap support functionality.,"1. Set a higher priority level for the primary device (Device A) and enable preemption.
2. Configure IP addresses, standby priority, standby preempt, and standby IP address for each interface on both devices.
3. Enable SNMP traps for HSRP on both devices.
4. Configure the SNMP server host information for HSRP on both devices."
Configure the VRRP advertise timer and bridge forward-time command on the BVI interface to prevent a VRRP router from unconditionally taking over the primary role.,"Use the vrrp timers advertise command to set the VRRP advertisement timer, and use the bridge forward-time command to set the forwarding delay on the BVI interface."
"Dynamic routing protocol updates (e.g., Routing Information Protocol [RIP]), ICMP Router Discovery Protocol (IRDP) client.",Running dynamic routing protocols and ICMP Router Discovery Protocol on the LAN client.
Virtual Router Redundancy Protocol (VRRP) to provide redundancy for the primary router's IP address and ensure uninterrupted service for LAN hosts.,"VRRP routers with priority settings, Router A as the virtual primary router, Clients 1 through 3 configured with default gateway IP address of 10.0.0.1, Routers B and C as virtual router backups."
Sharing traffic to and from clients 1 through 4 and acting as virtual router backups for Routers A and B in case of failure.,"First Hop Redundancy Protocols Configuration Guide, Cisco IOS XE Fuji 16.11.x"
Configure two virtual routers with redundancy and load-sharing for better network reliability and traffic distribution.,"Virtual Router 1 - Router A (IP address 10.0.0.1, primary router), Virtual Router Backup - Router B. Default gateway IP address for Clients 1 and 2 is 10.0.0.1.
Virtual Router 2 - Router B (IP address 10.0.0.2, primary router), Virtual Router Backup - Router A. Default gateway IP address for Clients 3 and 4 is 10.0.0.2."
Virtual Router Management of Multiple IP Addresses and VRRP Configuration,"Multiple subnets on Ethernet interface, VRRP for each subnet, Preemption for higher priority virtual router backup."
VRRP authentication using the MD5 algorithm for improved reliability and security.,"IANA standard multicast address (224.0.0.18) for VRRP advertisements, IP protocol number 112 assigned by IANA."
The requirement is to set up a router interface that can act as a primary for one virtual router and as a backup for one or more virtual routers using VRRP (Virtual Router Redundancy Protocol).,Configure the priority of each virtual router backup with a value of 1 through 254 using the vrrp priority command.
Configurable VRRP advertisement interval (milliseconds),Millisecond timer values for primary and backup routers
Object tracking for VRRP devices to dynamically change priority based on tracked objects' states.,None provided in the text.
Support for In Service Software Upgrade (ISSU) in VRRP,High-availability system running in stateful switchover mode with different software versions on active and standby Route Processors or line cards
VRRP Support for Stateful Switchover to allow VRRP to continue in its current group state when a router fails over to the secondary RP.,Not provided in the text.
"Configure the router to act as a virtual router backup for a VRRP group, learn the advertisement interval used by the virtual primary router.",vrrp 10 timers learn
Configure IP address and VRRP group on a router interface.,Example 1: ip address 172.16.6.5 255.255.255.0; Example 2: vrrp 10 ip 172.16.6.1
The requirement is to configure and display the status of Virtual Router Redundancy Protocol (VRRP) groups on a router.,"The configuration includes setting up the VRRP backup address, interface type, and number, as well as configuring the VRRP group and its associated parameters such as priority, virtual IP and MAC addresses, advertisement interval, preemption delay, master router selection, and other related settings."
Track the line-protocol state of an interface using the track command in a router configuration.,Router(config)# track 2 interface serial 6 line-protocol
"Enabling privileged EXEC mode and configuring an interface with IP address, authentication for VRRP group.","1. Enable privileged EXEC mode (Router> enable)
2. Enter global configuration mode (Router# configure terminal)
3. Configure an interface (Router(config)# interface GigabitEthernet 0/0/0 Ethernet 0/1)
4. Specify a primary or secondary IP address for the interface (Router(config-if)# ip address 10.0.0.1 255.255.255.0)
5. Authenticate VRRP packets received from other routers in the group (Router(config-if)# vrrp 1 authentication text textstring1)"
Enabling and configuring VRRP on routers in a group to ensure high availability and load balancing.,"Configure each router with the same VRRP group IP address, enable VRRP on the interface, and repeat steps 1 through 6 on each router."
Configure VRRP for Router A and Router B in three different groups with specified properties.,"Group 1:
- Virtual IP address: 10.1.0.10
- Primary router: Router A (priority 120)
- Advertising interval: 3 seconds
- Preemption enabled

Group 5:
- Primary router: Router B (priority 200)
- Advertising interval: 30 seconds
- Preemption enabled

Group 100:
- Primary router: Router A (higher IP address, 10.1.0.2)
- Advertising interval: default 1 second
- Preemption disabled"
"Configuring VRRP with the specified timers, IP addresses, and priority values on a Cisco device.","- Set VRRP timers advertise to 3 for VRRP 1
- Set VRRP timers learn to default for VRRP 1
- Set VRRP IP address to 10.1.0.10 for VRRP 1
- Set VRRP priority to 100 for VRRP 5
- Set VRRP timers advertise to 30 for VRRP 5
- Set VRRP timers learn to default for VRRP 5
- Set VRRP IP address to 10.1.0.50 for VRRP 5
- Set VRRP timers learn to default for VRRP 100
- Disable VRRP preempt for VRRP 100
- Set VRRP IP address to 10.1.0.100 for VRRP 100
- No shutdown for the interface"
Configure VRRP for redundancy on interfaces GigabitEthernet 0/0/0 and GigabitEthernet 1/0/0.,"- Set the IP address for interface GigabitEthernet 0/0/0:
```
Router(config)#interface GigabitEthernet 0/0/0
Router(config-if)#ip address 10.1.0.1 255.0.0.0
```

- Configure VRRP for interface GigabitEthernet 0/0/0 with priority 100, authentication text ""cisco"", timers advertise 3, and backup IP address 10.1.0.10:
```
Router(config)#interface GigabitEthernet 0/0/0
Router(config-if)#vrrp 1 priority 100
Router(config-if)#vrrp 1 authentication text cisco
Router(config-if)#vrrp 1 timers advertise 3
Router(config-if)#vrrp 1 ip 10.1.0.10
```

- Configure VRRP for interface GigabitEthernet 1/0/0 with priority 200, timers advertise 30, and backup IP address 10.1.0.50:
```
Router(config)#interface GigabitEthernet 1/0/0
Router(config-if)#vrrp 5 priority 200
Router(config-if)#vrrp 5 timers advertise 30
Router(config-if)#vrrp 5 ip 10.1.0.50
```

- Enable VRRP tracking on line protocol state changes for interface GigabitEthernet 1/0:
```
Router(config)#interface GigabitEthernet 1/0
Router(config-if)#vrrp 100 timers learn
```

- Disable VRRP preemption for VRRP instance 100 and set its backup IP address to 10.1.0.100:
```
Router(config)#interface GigabitEthernet 1/0
Router(config-if)#no vrrp 100 preempt
Router(config-if)#vrrp 100 ip 10.1.0.100
```

- Disable the shutdown state for interface GigabitEthernet 1/0:
```
Router(config-if)#no shutdown
```"
VRRP Priority Reduction when the serial interface goes down,"Router(config)# track 1 interface Serial 0/1 line-protocol
Router(config-track)# exit
Router(config)# interface Ethernet 1/0
Router(config-if)# ip address 10.0.0.2 255.0.0.0
Router(config-if)# vrrp 1 ip 10.0.0.3
Router(config-if)# vrrp 1 priority 120
Router(config-if)# vrrp 1 track 1 decrement 15"
"Locate and download MIBs for selected platforms, Cisco software releases, and feature sets.",Use Cisco MIB Locator found at http://www.cisco.com/go/mibs
Virtual primary router and VRRP router configuration,"First Hop Redundancy Protocols Configuration Guide, Cisco IOS XE Fuji 16.11.x"
Virtual Router Redundancy Protocol (VRRP) support for a group of devices to form a single virtual device providing redundancy for LAN clients.,VRRP version 3 (v3) Protocol Support feature enabling the capability to support IPv4 and IPv6 addresses while VRRP version 2 (v2) only supports IPv4 addresses.
Configuring multiple devices as the default gateway using VRRP to reduce the possibility of a single point of failure in a network.,"First Hop Redundancy Protocols Configuration Guide, Cisco IOS XE Fuji 16.11.x"
Load sharing and traffic distribution between multiple devices using VRRP.,"Multiple virtual devices (up to 255) can be configured on a physical interface, allowing for load balancing and redundancy in LAN topology. The virtual device can manage multiple IP addresses, including secondary IP addresses for multiple subnets on an Ethernet interface."
Determine priority for VRRP device function as a virtual primary device backup.,Configure the priority of each virtual device backup with a value of 1 through 254 using the priority command in VRRP configuration mode.
"1. Device B should have higher priority than device C. If not, the virtual primary device should be elected based on the highest IP address.","1. Priority for Device B and C, respectively (not specified in the text).
2. Enable preemptive scheme (default) or disable it using the no preempt command.
3. Optional delay for preemption of a lower priority primary device (not specified in the text)."
"Configure VRRP advertisements in routers, including priority, state, and multicast address for both IPv4 and IPv6. Adjust the interval of the advertisements as needed.",Set millisecond timer values on both primary and backup routers when necessary.
Enable VRRPv3 on a device and configure the parameters for creating a VRRP group.,"1. Configure terminal
2. fhrp version vrrp v3
3. interface type number
4. vrrp group-id address-family {ipv4 | ipv6}
5. address ip-address [primary | secondary]
6. description group-description
7. match-address
8. preempt delay minimum seconds
9. priority"
Enable preemption for lower priority primary device in VRRP group with an optional delay.,Device(config-if-vrrp)# preempt delay minimum 30
Configure the VRRPv3 protocol on a device,"1. Enter privileged EXEC mode using ""enable"" command.
2. Enter global configuration mode using ""configure terminal"" command.
3. Enable the ability to configure VRRPv3 and VRRS using ""fhrp version vrrp v3"" command.
4. Enter interface configuration mode by typing ""interface type number"" (e.g., ""interface GigabitEthernet 0/0/0"").
5. Specify the delay period for the initialization of FHRP clients after an interface comes up using ""fhrp delay {[minimum] [reload] seconds}"" command (e.g., ""fhrp delay minimum 5"")."
Create and customize a VRRP group.,"- Device enable mode: `Device> enable`
- Enter configuration mode: `Device# configure terminal`
- Enable FHRP with version VRRP v3: `Device(config)# fhrp version vrrp v3`
- Configure an interface for the VRRP group: `Device(config)# interface gigabitethernet0/0`
- Define the VRRP settings for IPv4 address family: `Device(config-if-vrrp)# vrrp 3 address-family ipv4`
- Set the primary address for the VRRP group: `Device(config-if-vrrp)# address 100.0.1.10 primary`
- Add a description for the VRRP group: `Device(config-if-vrrp)# description group 3`
- Enable matching of addresses within the group: `Device(config-if-vrrp)# match-address`
- Set the minimum preempt delay: `Device(config-if-vrrp)# preempt delay minimum 30`
- Exit the VRRP configuration mode: `Device(config-if-vrrp)# end`"
Five-second delay period for the initialization of FHRP clients after the interface comes up.,Device(config-if)# fhrp delay minimum 5
The requirement description is not provided in the given text. It is focused on device configurations and state information.,"- State duration: 3.707 secs
- Virtual IP address: 1.0.0.10
- Virtual MAC address: 0000.5E00.0101
- Advertisement interval: 1000 msec
- Preemption enabled
- Priority: 100
- Master Router: 1.0.0.1 (local), priority is 100
- Master Advertisement interval: 1000 msec (expires in 686 msec)
- State: MASTER"
A router running VRRP (Virtual Router Redundancy Protocol),VRRPv3 Protocol Support in Cisco IOS XE Fuji 16.11.x
"The requirement is to configure the tracking process to track the state of the IPv6 object using the VRRPv3 group on a GigabitEthernet interface. If the IPv6 object state goes down, the priority of the VRRP group should be reduced by 20.","Device(config)# fhrp version vrrp v3
Device(config)# interface GigabitEthernet 0/0/0
Device(config-if)# vrrp 1 address-family ipv6
Device(config-if-vrrp)# track 1 decrement 20"
Virtual MAC address is 0000.5E00.0101,"Advertisement interval is 1000 msec, Preemption enabled, Priority is 80 (configured 100), Master Router is 172.24.1.2, priority is 100, Master Advertisement interval is 1000 msec (learned), Master Down interval is 3609 msec (expires in 3297 msec)."
IPv6 Route Configuration,ipv6 route <address>/<prefix_length> reachability Down 00:08:55
VRRS must be configured on subinterfaces not configured with VRRP but which share a physical interface with a VRRP group. VRRS is currently only available for use with VRRP Version 3 (VRRPv3).,"Gigabit Ethernet interfaces are configurable for VRRP Version 2 (VRRPv2), and VRRS provides a stateless redundancy service to VRRS pathways and applications by monitoring VRRP."
"VRRS should notify clients about the protocol state, virtual MAC (vMAC) address, and virtual IP address information associated with a group.",A VRRP group should be configured with a name to activate VRRS. Pathways or clients should be configured with the same name to bind them with VRRS. The association name between a client and a VRRP group is a character name string.
"Maintain the switching cache (content-addressable memory or [CAM]) of connected Layer 2 devices on the LAN. Checkpoints all data and the pathway state with a High Availability module. The VRRS Pathway Manager creates an association between one or more VRRS pathway instances and a single VRRS database name entry. Pushes configuration and state information to associated registered pathways in response to a push from VRRS. Provides debugging and show output to the user, related to the state and configuration of the VRRS pathway manager. Is Online Insertion and Removal (OIR)–aware and manages pathways that may be affected by OIR events.","The device should maintain a switching cache using content-addressable memory or CAM for connected Layer 2 devices on the LAN. It should also checkpoint all data and the pathway state with a High Availability module. Additionally, it requires the VRRS Pathway Manager to create associations between one or more VRRS pathway instances and a single VRRS database name entry, push configuration and state information in response to a push from VRRS, provide debugging and show output related to the state and configuration of the VRRS pathway manager, be OIR-aware, and manage pathways that may be affected by OIR events."
Virtual Router Redundancy Service Configuration,ip address 209.165.200.230
Pathway information for an inactive pathway with the tag name “group1” and VRRP in backup state on Ethernet 0/1 interface.,Device# show vrrs pathway
"Pathway configuration for ""group1"" on the Ethernet 0/1 interface.","State = INACTIVE [VRRS push ""BACKUP""], Virtual MAC = 0101.0101.0101 [Reserved] (0), Address-family = v4, Options = Default Pathway=0, Owner Mode=0, Accept-Mode=1, Configured vMAC=1, Evaluation = No Shut=1, Connected=1, OIR=1, L2 Ready=1, L3 Ready=1, vMAC Ready=1, vIP Ready=1, Virtual Address List = 209.165.201.10"
"The requirement is to configure a Pathway with specific parameters for VRRS, Virtual MAC, Address-family, Options, Evaluation, and Virtual Address List.","Pathway group1@Et0/1
State: INACTIVE [VRRS push ""BACKUP""]
Virtual MAC: 0101.0101.0101 [Reserved] (0)
Address-family: v4
Options: Default Pathway=0, Owner Mode=0, Accept-Mode=1, Configured vMAC=1
Evaluation: No Shut=1, Connected=1, OIR=1, L2 Ready=1, L3 Ready=1, vMAC Ready=1, vIP Ready=1
Virtual Address List: 209.165.201.10"
"The requirement description is not provided in the text, but it seems to be related to VRRP (Virtual Router Redundancy Protocol) and the status of different interfaces and settings on a device.","1. Field - Value: 1 (indicates that the pathway has been implicitly created from a VRRP group) or 0 (indicates that the pathway has been explicitly created using the vrrs pathway command)
2. Default Pathway - Value: 1 (indicates that the interface IP address is specified)
3. Owner Mode - Value: 1 (indicates that traffic to a particular virtual IP address is accepted)
4. Accept-Mode - Value: 1 (indicates that a virtual MAC address is configured)
5. Configured vMAC - Value: 1 (indicates that the interface has been set to no shutdown mode)
6. No Shut - Value: 1 (indicates that the VRRS pathway is connected to a VRRS group)
7. Connected - Value: 1 (indicates online insertion and removal (OIR) of interface line cards on a device is complete)
8. L2 Ready - Value: 1 (indicates that the Layer 2 interface is up)
9. L3 Ready - Value: 1 (indicates that the Layer 3 interface is up)"
"The requirement is to indicate when a virtual IP address has been assigned to an interface, using the vIP Ready status.",Virtual MAC (vMAC) and Virtual IP address (vIP) should be assigned to an interface when the value is 1.
Configure VRRPv3 Control Groups and VRRS Pathways on a device.,"1. Enable configuration mode by typing `Device> enable`.
2. Enter the configuration terminal with `Device# configure terminal`.
3. Set the FHRP version to VRRPv3 using `Device(config)# fhrp version vrrp v3`.
4. Configure an interface, for example, VLAN 40, using `Device(config)# interface vlan 40`.
5. Set the IP address of the interface with `Device(config-if)# ip address 209.165.200.230 255.255.255.224`.
6. Enable VRRP on the interface using `Device(config-if)# vrrp 1 address-family ipv4`.
7. Configure an VRRPv3 control group with `Device(config-if-vrrp)# address 209.165.202.141`.
8. Set the VRRS leader group using `Device(config-if-vrrp)# vrrs leader group1`.
9. Exit the configuration with `Device(config-if-vrrp)# end`."
First Hop Redundancy Protocols Configuration,fhrp version vrrp v3 command in global configuration mode.
"Token Bucket with three components (burst size, mean rate, time interval), where mean rate is equal to burst size divided by the interval. The bit rate of the interface will not exceed the mean rate over any integral multiple of the interval when traffic shaping is enabled.","Excess Burst (Be) size, which corresponds to the number of noncommitted bits outside the CIR that are still accepted by the switch and marked as discard eligible (DE)."
Traffic Policing and Traffic Shaping to control packet forwarding based on specified rate and match criteria.,"Packets are classified into classes, with packets not meeting match criteria receiving no further action. Packets meeting match criteria receive configured policing actions (drop, send, or mark then send). Packets in a queue for transmission are not placed later if the token bucket has enough tokens; otherwise, they are dropped if the queue limit is exceeded."
"Locate and download MIBs for selected platforms, Cisco IOS releases, and feature sets using Cisco MIB Locator at http://www.cisco.com/go/mibs.",Not specified in the given text.
Distributed Cisco Express Forwarding (dCEF) must be enabled if the customer is using a Versatile Interface Processor (VIP) on the router.,"Enabling dCEF on a router with VIP.

Requirement: A policy map and a class map must be created first using the Modular Quality of Service (QoS) Command-Line Interface (MQC).
Configuration: Creating policy map and class map using MQC.

Requirement: Adaptive traffic shaping for Frame Relay networks is supported for Frame Relay networks only.
Configuration: Implementing adaptive traffic shaping on Frame Relay networks.

Requirement: Class-Based Traffic Shaping applies to outbound traffic only.
Configuration: Configuring Class-Based Traffic Shaping for outbound traffic.

Requirement: Class-Based Traffic Shaping does not support the following commands:
• traffic-shape adaptive
• traffic shape fecn-adaptive
• traffic-shape group
• traffic-shape rate
Configuration: Avoiding unsupported commands in Class-Based Traffic Shaping configuration."
"Traffic shaping using the token bucket mechanism and Class-Based Traffic Shaping on Cisco 7500 series router with a VIP2-40, VIP2-50, or greater processor.",Not provided in the text.
Implementing a traffic shaping mechanism using Class-Based Traffic Shaping and class-based Weighted Fair Queueing (CBWFQ).,"1. Create a secondary-level (child) policy map for CBWFQ configuration.
2. Enable the bandwidth command in the secondary-level (child) policy map to fine-tune traffic placement in queues.
3. Configure traffic shaping in the primary-level (parent) policy map."
Implement traffic shaping using policy maps and class maps for Quality of Service (QoS) regulation.,"1. Enable QoS on the router.
2. Configure a policy map with the name ""policy-map-name"".
3. Create a class map under the policy map using ""class {class-name | class-default}"".
4. Apply traffic shaping to the class map using ""shape [average | peak] mean-rate [burst-size] [excess-burst-size]"".
5. Assign the service policy to the policy map with ""service-policy policy-map-name""."
Enters global configuration mode.,configure terminal
"Configuring bandwidth percentage for CBWFQ using the ""bandwidth percent"" command in router configuration mode.",Router(config-pmap-c)# bandwidth percent 50
Class-Based Traffic Shaping configuration in a hierarchical policy map structure with primary-level and secondary-level policy maps (policy_parent and policy_child).,"The service-policy command associates the two policy maps in the hierarchical policy map structure. The primary-level policy map (policy_parent) is configured with traffic shaping using the shape average command, and the secondary-level policy map (policy_child) is configured with CBWFQ using the bandwidth percent command."
RTP header compression and TCP header compression,Per-interface or subinterface basis using Modular Quality of Service (QoS) Command-Line Interface (CLI) (MQC).
RTP Header Compression for audio applications to improve efficiency.,"Serial interfaces using Frame Relay, HDLC, or PPP encapsulation; supported over ISDN interfaces."
Not recommended to use RTP header compression on high-speed interfaces.,N/A (not provided in the text)
Configurable RTP Header-Compression Settings,"1. Maximum size of the compressed header (ip header-compression max-header)
2. Maximum time between transmitting full-header packets (ip header-compression max-time)
3. Maximum number of compressed packets between full headers (ip header-compression max-period)"
Configure RTP Header Compression,ip rtpproto udp compress [passive]
The requirement is to enable and configure the IP Header Compression (IPHC) format for PPP and HDLC interfaces to compress both RTP and TCP packets.,- Set the iphc-format keyword for PPP and HDLC interfaces.
"The requirement is to use the ietf-format keyword for header compression on both local and remote routers in the network, with support for both HDLC and PPP interfaces.","The configuration should have the ietf-format keyword specified on both local and remote routers, enabling RTP and TCP header compression. This allows for compression of UDP and TCP packets separately for HDLC interfaces and combined compression for PPP interfaces. Additionally, any even destination port number higher than 1024 can be used for valid RTP packets that will be compressed using the compressed RTP packet format."
Enable RTP header compression on an interface.,"1. enable
2. configure terminal
3. interface type number [name-tag]
4. encapsulation encapsulation-type
5. ip address ip-address mask [secondary]
6. ip rtp header-compression [passive | iphc-format | ietf-format| cisco] [periodic-refresh]"
Enable RTP header compression,ip rtp header-compression [passive | iethc-format | ietf-format | cisco] [periodic-refresh]
"Header-Compression Connections must match on both sides of the network for HDLC interfaces, and autonegotiation is used for PPP interfaces if there is a mismatch.","For HDLC interfaces, both local and remote routers must have the same number of header-compression connections configured. For PPP interfaces, the autonegotiated number will be the lower of the two numbers configured on both sides of the network."
Configure RTP header compression connections on an interface,ip rtp compression-connections number
"Enter the number of compression connections for PPP and HDLC interfaces using the ""ip rtp compression-connections"" command.","Not applicable, as the provided text does not include a specific configuration value to extract."
Enable RTP Header Compression on an Interface,"1. Enable RTP header compression on serial interface 0.
2. Set the maximum size of the compressed IP header to 100 bytes.
3. Change the number of header-compression connections to 150."
Header Compression for RTP/UDP/IP on Serial Interface,"1. Enable RTP/UDP/IP header compression on the Serial interface:
```
Router(config)# interface serial0
Router(config-if)# ip rtp compression-connections 150
```"
Configuring RTP Header Compression,"Cisco IOS XE Release 2.1, Cisco ASR 1000 Series Routers"
"Network access points enable traditional ""dumb"" terminals, terminal emulators, workstations, personal computers (PCs), and routers in conjunction with suitable adapters to communicate using protocols such as Point-to-Point Protocol (PPP), Serial Line Internet Protocol (SLIP), Compressed SLIP (CSLIP), or AppleTalk Remote Access (ARA) protocol.",Not provided in the text
"Accounting records for user billing, including user identities, start and stop times, executed commands (such as PPP), number of packets, and number of bytes.",TACACS+ protocol for authentication between the network access server and the TACACS+ daemon.
- Enable AAA using the aaa new-model global configuration command.,"1. Use the aaa new-model global configuration command to enable AAA.
2. Configure TACACS+ services using the appropriate commands for Telnet, rlogin, PPP, SLIP, or EXEC services.
3. Configure connection parameters using the appropriate commands for host or client IP address, access list, and user timeouts."
"Configure TACACS+ daemon with IP address, encryption key and apply authentication method lists on various interfaces.","1. Use tacacs-server host command to specify the IP address of one or more TACACS+ daemons.
2. Use tacacs-server key command to specify an encryption key for encrypting exchanges between network access server and TACACS+ daemon.
3. Define method lists using aaa authentication global configuration command.
4. Apply defined method lists to various interfaces using line and interface commands."
1. Specify TCP port number for TACACS+ daemon connection using the port integer argument (default is 49).,"1. Use tacacs-server host command to specify port number, timeout, and encryption key for a specific server. This overrides global settings made by tacacs-server timeout and tacacs-server key commands."
Enhance security on network by uniquely configuring individual TACACS+ connections.,"Set the global TACACS+ authentication key and encryption key using the command ""Router(config)# tacacs-server key key"" and configure the same key on the TACACS+ daemon for encryption to be successful."
"Configured for the same service (e.g., accounting) with fail-over backup for host entries",TACACS+ host entries are tried in the order they are configured
Implementing authentication and accounting services in Cisco IOS XE software.,"The configuration can be done globally using global configuration access list commands, per interface using interface configuration commands, or using DNIS mapping to specify an AAA server for providing AAA services."
Network Access Server should use access lists to determine how a server provides AAA services.,Use global AAA access lists to configure the network access server.
Mapping DNIS number to a defined AAA server group for accounting purposes.,Router(config)# aaa dnis map dnis-number accounting network [none | start-stop | stop-only] group server-group-name
Specifying TACACS+ as the authorization and accounting method.,AAA accounting command specifying TACACS+ as the accounting method.
"Configuring TACACS and Specifying TACACS Authentication (CHAP, PAP, Test)","tacacs-server host 10.1.2.3
tacacs-server key goaway
interface serial 0
ppp authentication chap pap test"
Enable AAA security services for PPP authentication.,"aaa new-model, aaa authentication ppp default if-needed group tacacs+"
Enable AAA security services and use TACACS+ for authentication.,"1. aaa new-model
2. aaa authentication chap default if-needed group tacacs+ local
3. tacacs-server host 10.1.2.3
4. tacacs-server key goaway
5. interface serial 0"
Implementing AAA security services with TACACS+ for PAP authentication on a serial interface.,"1. Enable AAA security services using `aaa new-model`.
2. Define the method list `MIS-access` for PPP authentication on serial interfaces using `aaa authentication pap MIS-access if-needed group tacacs+ local`.
3. Configure the TACACS+ server IP address and encryption key with `tacacs-server host 10.1.2.3` and `tacacs-server key goaway`.
4. Apply PPP authentication using `ppp authentication pap MIS-access` on the serial interface (e.g., `interface serial 0`)."
"AAA (Authentication, Authorization, and Accounting) setup with TACACS+ for PPP authentication.","- tacacs-server host 10.1.2.3 (TACACS+ daemon IP address)
- tacacs-server key goaway (Shared encryption key for TACACS+)
- aaa new-model (Enable AAA model)
- aaa authentication login default group tacacs+ local (Authentication method: TACACS+, then local database)
- interface (Select line for configuration)
- ppp authentication (Apply default method list to the selected line)"
Enable AAA security services and use TACACS+ for authentication.,aaa new-model; aaa authentication ppp default if-needed group tacacs+ local; aaa authorization network default group tacacs+; tacacs-server host 10.1.2.3; tacacs-server key goaway; interface serial 0; ppp authentication
Configure TACACS+ as the security protocol for PPP authentication and accounting.,"- aaa new-model
- aaa authentication ppp default if-needed group tacacs+ local
- aaa accounting network default stop-only group tacacs+
- tacacs-server host 10.1.2.3
- tacacs-server key goaway
- interface serial 0
- ppp authentication chap default"
Enable AAA security services and configure network accounting via TACACS+.,"The aaa new-model command enables the AAA security services. The aaa authentication command defines a method list, “default,” to be used on serial interfaces running PPP. The if-needed keyword means that if the user has already authenticated by going through the ASCII login procedure, then PPP authentication is not necessary and can be skipped. If authentication is needed, the keyword group tacacs+ means that authentication will be done through TACACS+. The aaa accounting command configures network accounting via TACACS+. In this example, accounting records describing the session that just terminated will be sent to the TACACS+ daemon whenever a network connection"
Select TACACS+ server groups based on DNIS to provide specific AAA services.,"- Enable AAA with `aaa new-model` command.
- Configure TACACS+ servers associated with the defined server groups using `tacacs-server host` commands and specify the IP addresses of the servers (e.g., 172.16.0.1, 172.17.0.1, etc.).
- Define the TACACS+ server group using `aaa group server tacacs <group_name>` command and associate servers with it using `server` commands (e.g., `server 172.16.0.1`, `server 172.17.0.1`, etc.)."
"Configure TACACS+ server group, associate a server, and set up DNIS mapping for RADIUS server groups.","1. Configure the TACACS+ server group and associate a server:
   - aaa group server tacacs default-group
   - server 172.20.0.1

2. Set up default-group tacacs server group parameters:
   - aaa authentication ppp default group default-group
   - aaa accounting network default start-stop group default-group

3. Enable DNIS mapping and map DNIS numbers to defined RADIUS server groups:
   - For PPP connection requests using DNIS 7777, use sg1 for authentication and sg2 for accounting records.
   - For PPP connection requests using DNIS 8888, use sg3 for authentication and default-group for accounting.
   - For PPP connection requests using DNIS 9999, use sg3 for authentication and default-group for accounting (stop records only).
   - All other calls with DNIS other than the ones defined use server group default-group."
AAA server group selection based on DNIS,"aaa dnis map enable, aaa dnis map <number> authentication ppp group <group>, aaa dnis map <number> accounting network start-stop group <group>"
Configuring TACACS+ feature,"service = ppp
protocol = ip
inacl#1=”permit ip any any precedence immediate”
inacl#2=”deny igrp 0.0.1.2 255.255.0.0 any”"
"Configure a VRF table and enter VRF configuration mode, create a routing and forwarding table for a VRF instance.",Router(config)# ip vrf cisco Router(config-vrf)# rd 100:1
Configure the VRF reference of a AAA TACACS+ server,Router (config-sg-tacacs+)# server-private 10.1.1.1 port 19 key cisco
"Display information about AAA/TACACS+ authentication, authorization, and accounting","1. Router> enable
2. debug tacacs authentication
3. Router# debug tacacs authorization
4. Router# debug tacacs accounting
5. Router# debug tacacs packets"
Local Pool and Address Pool Configuration for Remote Hosts,"- Enable local pooling using the ip-local pool command.
- Create a local pool using the ip local pool <pool-name> <start-IP> <end-IP> command.
- Use TACACS+ to return addr-pool=<pool-name> to indicate the address pool for the remote node's address."
DNS Server Configuration for Microsoft PPP Clients during IPCP Negotiation,dns-servers=<IP address in dotted decimal format>
- PPP and IP protocol support for current connection,"- Service: ppp, ipx
- Protocol: ip, lcp
- Access list: inacl#<n>, inacl=x"
"Hello Keepalive Interval, L2TP Hidden AVP, L2TP No Session Timeout, L2TP TOS Reflect, L2TP Tunnel Authentication","l2tp-hello-interval (Number of seconds for the hello keepalive interval)
l2tp-hidden-avp (When enabled, sensitive AVPs in L2TP control messages are scrambled or hidden)
l2tp-nosession-timeout (Specifies the number of seconds that a tunnel will stay active with no sessions before timing out and shutting down)
l2tp-tos-reflect (Copies the IP ToS field from the IP header of each payload packet to the IP header of the tunnel packet for packets entering the tunnel at the LNS)
l2tp-tunnel-authen (If this attribute is set, it performs L2TP tunnel authentication. Used with service=ppp and protocol=vpdn)"
Access server that dials out with service=outbound and protocol=ip.,"map-class (yes) to restrict the number of links in a multilink bundle, used with service=ppp and protocol=multilink. The range for <n> is from 1 to 255. max-links=<n>."
"Minimum number of links for MLP with service=ppp and protocol=multilink, vpdn","min-links

Requirement: Password for the network access server during the L2TP tunnel authentication
Configuration: nas-password

Requirement: No callback verification
Configuration: nocallback-verify

Requirement: Prevent user from using an escape character
Configuration: noescape=x

Requirement: Specify the nohangup option
Configuration: nohangup=x"
Defining IP address pools on the network access server for IPCP address negotiation.,"service=ppp, protocol=ip, addr-pool (specifying the IP pool name), pool-def#<n> (defining the IP address pool)."
The requirement is related to configuring physical ports for network access server authentication and setting various configurations for Cisco routers.,"1. port-type: yes - Indicates the type of physical port the network access server is using (Asynchronous, Synchronous, ISDN-Synchronous, ISDN-Asynchronous, Virtual).
2. ppp-vj-slot-compression: yes - Instructs the Cisco router not to use slot compression when sending VJ-compressed packets over a PPP link.
3. priv-lvl=x: yes - Assigns a privilege level for the EXEC (Privilege levels range from 0 to 15, with 15 being the highest).
4. protocol=x: yes - A protocol that is a subset of a service (Currently known values include lcp, ip, ipx, atalk, vines, lat, xremote, tn3270, telnet, rlogin, pad, vpdn, osicp, deccp, ccp, cdp, bridging, xns, nbf, bap, multilink, and unknown)."
ACLs and authentication proxy feature for user authorization and traffic control through interfaces.,"service=shell, protocol=exec, route attribute (dst_address mask [gateway]), temporary static route (route=” dst_address mask [ gateway ]”)."
Propagate routing information to and accept from an interface,routing=x
timeout,"service=arap, timeout=x

Requirement: username
Configuration: service=ppp, protocol=vpdn

Requirement: tunnel-id
Configuration: service=ppp, protocol=ip

Requirement: wins-servers
Configuration: service=ppp

Requirement: zonelist
Configuration: service=arap, zonelist=x"
"The requirement is related to extracting information about fax sessions, such as the transfer time (x), total fax session duration (y), unique fax message identification number assigned by Store and Forward Fax (Fax-Msg-Id), number of pages transmitted or received during the fax session (Fax-Pages), whether the fax session was aborted or successful (Fax-Process-Abort-Flag), and the number of recipients for this fax transmission (Fax-Recipient-Count).","The configuration is related to the IOS XE 2.1 software version, which seems to be focused on managing and monitoring fax sessions and their related attributes such as Fax-Modem-Time, Fax-Msg-Id, Fax-Pages, Fax-Process-Abort-Flag, and Fax-Recipient-Count."
"pre-bytes-in, pre-bytes-out, pre-paks-in",accounting-stop records
1. Pre-Output-Packets attribute recording,"1. pre-paks-out attribute
2. priv_level
3. protocol
4. reason
5. service
6. start_time
7. stop_time"
PPP Challenge Handshake Authentication Protocol (CHAP) failure,Not available
"The text describes a requirement for handling and clearing calls in an ISDN or modem call environment. The main requirements are to handle unacceptable calls, normal clearing, user-busy conditions, and situations where the called party does not respond within the prescribed period of time.","The configuration mentioned is related to Q850 Channel with codes 1806 (Unacceptable), 1816 (Normal Clearing), 1817 (User Busy), and 1818 (No User Responding). These codes apply to ISDN or modem calls that came in over ISDN."
"The requirement seems to be related to handling service- or option-not-available events for ISDN or modem calls coming in over an ISDN connection, and providing appropriate error codes for different scenarios.","The configuration might involve supporting bearer capabilities and channel types requested by the user, as well as providing the correct error codes when these are not supported or implemented by the equipment sending the code."
Configuring QoS Policies Aggregation—Egress MQC Queuing at Subinterface and Configuring QoS Policies Aggregation—MQC Support for Multiple Queue,Not provided in the text
An overview of Modular QoS CLI (MQC) configuration tasks for any QoS configuration on the Cisco ASR 1000 Series Aggregation Services Router.,"- Create class-maps to classify traffic into classes (e.g., voice and video).
- Define matching criteria for each class (e.g., DSCP values ef for voice and AF41 for video)."
Create a policy map for defining the treatment each class should receive in terms of priority and bandwidth allocation.,"```
policy-map simple-example
class voice
 priority
 police cir percent 10
class video
 bandwidth remaining percent 30
```"
"Create a class-map with either match-all or match-any semantics, depending on whether the packet must match just one filter or all filters to be considered part of that group.",class-map [match-all|match-any] <traffic-class-name>
"Create a class-map match-all for work-email and match protocol mapi, access-group name mail-server-addr.","class-map match-all work-email
match protocol mapi
match access-group name mail-server-addr"
"A policy-map named ""simple-example"" with two classes of traffic: voice and video. Voice traffic should have priority scheduling and be limited to 10% of the interface bandwidth. Video traffic should have a dedicated queue with a guarantee of 30% of what remains after voice is serviced.","The configuration will include the ""policy-map simple-example"" with class definitions for voice and video, along with the priority, police cir percent 10, and bandwidth remaining percent 30 settings."
"The requirement is to create a policy-map that differentiates traffic based on the classes (voice, video, and youtube) and apply actions like priority, police, and bandwidth.","class-map voice
match access-group name <access_group_name>
class-map video
match access-group name <access_group_name>
class-map youtube
match protocol youtube
!
policy-map simple-example
class voice
priority
police cir percent 10
class video
bandwidth remaining percent 30
class youtube
police cir percent 5"
"Hierarchical policy-maps with queuing and non-queuing actions, rate-limiting, admission control, marking, and bandwidth management.","1. Policy-map child with class voice, priority, and police cir percent 10.
2. Policy-map child with class video, bandwidth remaining percent 30.
3. Policy-map parent-vlan with class class-default, shape average 100m, and service-policy child."
Implement QoS using policy-maps and class-maps in Cisco IOS XE Gibraltar.,"Create a policy-map named ""child"" with a class ""voice"" in both parent-vlan100 and parent-vlan200, limiting the voice class to 10 Mbps (10% of 100M parent shaper) for parent-vlan100, and 5 Mbps (10% of 50M parent shaper) for parent-vlan200."
The requirement is to configure a hierarchical policy with class maps and service policies for different VLANs on interfaces gigabitethernet1/0/0.100 and gigabitethernet1/0/0.200.,"- Policy Map Parent-VLAN100:
  - Class Class-Default:
    - Shape Average 100M
    - Service-policy Child (referring to the child class VIDEO)
- Policy Map Parent-VLAN200:
  - Class Class-Default:
    - Shape Average 50M
    - Service-policy Child (referring to the child class VIDEO)
- Interface Gigabitethernet1/0/0.100:
  - Service-policy out Parent-VLAN100
- Interface Gigabitethernet1/0/0.200:
  - Service-policy out Parent-VLAN200"
"Configure and apply policy maps for VLAN, voice, video, and physical traffic prioritization.","1. Create policy-map child with class voice and priority police cir percent 10.
2. Create policy-map vlan-sharing with class vlan100 shape average 100m, and class vlan200 shape average 50m.
3. Create policy-map physical-policy with class class-default shape average 500m and apply service-policy vlan-sharing.
4. Apply service-policy out physical-policy to interface gigabitethernet1/0/0."
Creating a policy-map and attaching it to an interface for controlling traffic.,"policy-map create-error-example, class unconstrained-priority priority, class bandwidth-guarantee bandwidth percent 50, service-policy out simple-example on interface gigabitethernet1/0/0."
Create a queuing policy for a physical or logical interface.,"Attach the queuing policy to a physical interface using a flat policy, or use a hierarchical shape on parent/queue on child style policy for a logical interface."
Three-Parameter Scheduler in Hierarchical QoS,"3-Level User-Defined Queuing Policy Support with max value (shape), min value (bandwidth), and excess value (bandwidth remaining) for 3-parameter scheduler."
Configure User-Defined Traffic Class in a 3-Level Policy,"1. Access List Configuration:
   - ip access-list extended PEER
   - permit ip host 200.0.0.2 any
2. Class Maps and Matching Criteria:
   - class-map match-all ef (match dscp ef)
   - class-map match-all vlan100 (match vlan 100)
   - class-map match-all vlan101 (match vlan 101)
   - class-map match-all PEER (match access-group name PEER)
3. Policy Maps:
   - policy-map child (class ef - bandwidth remaining percent 15, class-default - fair-queue and queue-limit 512 packets, bandwidth remaining percent 85)
   - policy-map parent (class PEER - shape average 8000000, bandwidth remaining percent 10)
   - service-policy child (class class-default - shape average 8000000)
   - policy-map grandparent (class vlan100 - shape average 8000000, bandwidth remaining ratio 1000, service-policy parent)
   - class vlan101 (shape average 8000000, bandwidth remaining ratio 1000, service-policy parent)
   - class class-default (bandwidth remaining ratio 1, shape average 10000000)"
Configuring IP to ATM Class of Service (CoS),"Use Cisco Feature Navigator to find information about platform support and software image support for specific software release, feature set, or platform. Access Cisco Feature Navigator at http://www.cisco.com/go/cfn."
Define the WRED or VIP-distributed WRED (DWRED) parameter group.,"1. Configure the exponential weight factor for the average queue size calculation for the specified WRED or DWRED parameter group.
Command: Device(config)# random-detect-group group-name
2. Configure the specified WRED or DWRED parameter group for a particular IP precedence.
Command: Device(config)# precedence precedence min-threshold max-threshold mark-probability-denominator"
Configure IP to ATM CoS on an ATM bundle.,"1. Enter bundle configuration mode: Router(config-subif)# bundle bundle-name
2. Apply Bundle-Level Parameters: Device(config-atm-bundle)# protocol protocol {protocol-address | inarp} [[no] broadcast]"
"Configure QoS for VC, set PCR and output MCR for UBR-QoS, configure VC for VBR-nrt QoS, set PCR, output SCR, and output maximum burst cell size, configure precedence levels for the VC, configure bumping rules for the VC, configure VC to belong to the protected group of the bundle or to be an individually protected VC bundle member.","1. For UBR QoS: ubr+ output-pcr output-mcr [input-pcr]
2. For VBR-nrt QoS: vbr-nrt output-pcr output-scr output-mbs [input-pcr] [input-scr] [input-mbs]
3. Configure precedence levels for the VC: precedence [other | range]
4. Configure bumping rules for the VC: bump {implicit | explicit precedence-level | traffic}
5. Configure VC to belong to the protected group of the bundle or to be an individually protected VC bundle member: protect {group | vc}"
Configure CBWFQ and WFQ at the VC level for different CoS VCs to manage bandwidth and classes.,"1. Enable CBWFQ and WFQ at the VC level.
2. Create a policy-map and configure the class-default class."
Flow-based Weighted Fair Queuing (WFQ) configuration for the default class in Policy-Map.,Device(config-pmap-c)# fair-queue
Configuring a Virtual Circuit (VC) to use Flow-Based Weighted Fair Queuing (WFQ),N/A (Text does not provide specific configuration details)
Enabling WFQ for the VC by attaching the specified policy-map containing the class-default class to the VC being created or modified.,Device(config-if-atm-vc)# service-policy output policy-map
Create a PVC on an ATM interface and apply the WRED parameter group called sanjose to that PVC.,"Interface ATM1/1/0.46 multipoint, pvc 46, encapsulation aal5nlpid, random-detect attach sanjose."
Encapsulation with Inverse Address Resolution Protocol (ARP) to resolve IP addresses and OAM enabled.,"- encapsulation aal5snap
- broadcast
- protocol ip inarp
- oam-bundle manage 3
- oam retry 4 3 10"
"Traffic with specific IP Precedence levels (6 and 5) should not be allowed on a virtual circuit (VC), and when the VC goes down, its bumped traffic should be redirected to a VC with an IP Precedence level of 7. The class should make the VC a member of a protected group in a bundle, so if all members go down, the bundle goes down as well.",N/A (The text does not provide specific configuration commands for this requirement)
"VC-class configuration for priority-class and basic-class, with precedence range, protect group, and QoS type.","- vc-class atm priority-class
  - precedence 4-2
  - protect group
  - ubr+ 10000 3000
- vc-class atm basic-class
  - precedence other
  - protect group
  - ubr 10000"
"Three bundles - new-york, san-francisco, and los-angeles with respective VC members.","IP address for subinterface (10.0.0.1), IS-IS as the router protocol, creating the new-york bundle, and enabling IP and OSI traffic flows in the bundle using highest and lowest precedence VCs."
"Create and configure a bundle called san-francisco, including individual VCs for different classes.","Bundle: san-francisco
Class-bundles: 
1. Bundle name: ny-control, PVC count: 207, Class: control-class
2. Bundle name: ny-premium, PVC count: 206, Class: premium-class
3. Bundle name: ny-priority, PVC count: 204, Class: priority-class
4. Bundle name: ny-basic, PVC count: 201, Class: basic-class"
"The requirement is to set precedence for the VC, configure it either as a member of a protected group (protect group) or an individually protected VC, and assign a particular class to each VC. Rules of hierarchy should apply, and parameters of commands applied directly and discretely to a VC should take precedence over those applied within a class at the bundle-vc configuration level.","- bundle los-angeles
- protocol ip 1.1.1.4 broadcast
- protocol clns 49.0000.0000.4444.00 broadcast
- inarp 1
- class-bundle bundle-class
- pvc-bundle la-high 407
- precedence 7-5
- protect vc
- class-vc premium-class
- pvc-bundle la-mid 404
- precedence 4-2
- protect group
- class-vc priority-class
- pvc-bundle la-low 401
- precedence other
- protect group
- class-vc basic-class"
"For the first map class (class1), use numbered ACL 101 as the match criterion, and have a minimum bandwidth allocation request of 500 kbps with a maximum packet count limit of 30. For the second map class (class2), use numbered ACL 102 as the match criterion, and have a minimum bandwidth allocation request of 1000 kbps.","Policy-map: policy1, includes classes class1 and class2 with respective bandwidth allocation requests of 500 kbps (class1) and 1000 kbps (class2). The sum of the bandwidth requests is 75% of the total amount of bandwidth (2000 kbps) for the PVC called ""cisco""."
Check for matching criteria against ACLs 101 and 102 and classify accordingly.,"class-map class1 match access-group 101, class-map class2 match access-group 102, policy-map policy1 class class1 bandwidth 500 queue-limit 30, class class2 bandwidth 1000."
"PVC bundle configuration with WFQ and CBWFQ enabled on Bundle-Member VCs, using service policies.","encap aal5snap, policy1 for policy1, policy2 for policy2, and policy4 for policy4."
"QoS Scheduling configuration using commands like priority, bandwidth, bandwidth remaining, shape, and fair-queue to apportion bandwidth when congestion exists and ensure that applications receive the treatment they need to operate over the network.","The specific configuration details are not provided in the text, but the mentioned commands (priority, bandwidth, bandwidth remaining, shape, and fair-queue) can be used to configure QoS Scheduling on physical interfaces."
"The requirement is to create a schedule for each interface, which allows the device to choose between queues and set their expected treatment using schedule entries.","The configuration involves setting up schedule entries with different types such as Priority Queues and Bandwidth Queues. Examples of configurations include configuring a queuing command (e.g., bandwidth 10 Mbps) and storing the internal state like the last time a packet was transmitted from that queue and the current packet handle, if any, from that queue."
Configure schedule entries for priority or bandwidth queue in ASR 1000 Series Aggregation Services Router.,"Priority entry (default) with either the priority or priority level 1 command, P2 entry with priority level 2 command, Bandwidth entry with minimum rate (Min), maximum rate (Max), and excess weight (Ex)."
The requirement is to configure the Min and Max entries with the bandwidth command and shape command respectively to ensure sufficient bandwidth for scheduling and prevent excessive throughput.,"Min entry: bandwidth command, Max entry: shape command"
"Schedule Operation determines the packet sequence in a network environment, ensuring fairness between queues with minimum guarantees and distributing excess bandwidth among queues that still require service.","Packet scheduling prioritizes the P1 queue if not empty, then the P2 queue if the P1 is empty but the P2 is not, and services queues with a minimum bandwidth guarantee until those guarantees are met. If priority queues are empty and all bandwidth guarantees have been satisfied, excess bandwidth is distributed between queues that still require service until either all bandwidth is exhausted or a given queue has reached its maximum configured bandwidth."
"To prevent a priority queue from starving other queues of service, a policer should be used to limit the consumable bandwidth. This ensures that no single queue monopolizes the network resources, allowing for fair distribution of bandwidth among all queues.","The configuration provided is an example of applying a policy map and class-based QoS settings on a 100 Mbps interface. The example includes limiting the rate at which packets can be enqueued in different classes using a policer, setting priorities, bandwidth values, and specifying units (Kbps)."
Implement traffic policing and bandwidth guarantees for different classes in a network.,"- Voice class: Offered 30 Mbps, traverses a 20 Mbps policer, enqueues 20 Mbps to the P1 queue.
- Video class: Offered 5 Mbps, traverses a 10 Mbps policer, enqueues 5 Mbps to the video queue.
- Mission-critical class: Min bandwidth guarantee of 20 Mbps, receives at least that amount of throughput."
Scheduling Operation with priority queues and bandwidth guarantee for mission-critical class.,"Offering loads of 30Mbps to voice class, 5Mbps to video class, and a guaranteed 20Mbps bandwidth for the mission-critical class. The excess bandwidth is 55 Mbps (100 - 20 - 5 - 20 Mbps)."
"Each class in the queue receives a share of 27.5 Mbps bandwidth, and the mission-critical queue would receive 47.5 Mbps (20 + 27.5 Mbps). However, the Max configured shape rate is set to 30 Mbps.",The queue uses 30 Mbps of the received bandwidth (from both shaping and sharing) and returns the additional 17.5 Mbps to the excess pool.
Ethernet Overhead calculation and expected throughput on GigabitEthernet link.,"Sending 100 byte IP datagrams at line rate on a GigabitEthernet link, with an additional 38 bytes per-packet overhead (encapsulation + Ethernet inter-packet overhead), and a scheduler's packet length of Layer 3 datagram + Layer 2 header (14 bytes on a GigabitEthernet interface)."
Scheduler on an ATM Interface considering scheduling rates inclusive of all cell tax,"ATM VC configured with AAL5 SNAP encapsulation, including an 8-byte LLC/SNAP header and an 8-byte AAL5 trailer"
"Adjust the default ""scheduling length"" per packet by adding or removing bytes to achieve the desired behavior.","Add or subtract at most 63 bytes per packet. This option is supported on the shape and bandwidth commands. In the example, we add 24 bytes per packet to cover the 4-byte CRC and 20-byte inter-packet overhead when applying a shaper on an Ethernet interface to cap throughput at 50% of the actual physical bandwidth."
Overhead Accounting Adjustment for shaping and scheduling packets on remote links with different encapsulations.,Account option to remove 14 bytes from the scheduling length (Ethernet headers) and add 4 bytes to represent HDLC Layer 2 overhead on T1 link.
The requirement is to configure a shaper that conditions traffic to mirror how it would appear after DSLAM and add cell-tax to the scheduling length.,"The configuration needs to be based on predefined options for broadband use cases, encapsulating in Ethernet frames with Dot1Q or Q-in-Q, and receiving ATM encapsulation at the DSLAM."
"The requirement is to forward Dot1Q encapsulated packets on an Ethernet interface, with specific handling of Ethernet/Dot1q headers, AAL5-Mux 1483 routed encapsulation, and ATM network considerations.","The configuration should include policy-map and class-default definitions to shape average 50m account dot1q aal5 mux-1483routed, and referencing the previously mentioned table for DSLAM behavior, such as removing Ethernet/Dot1q headers and adding a 3-byte LLC header, as well as accounting for cell tax and extra overhead in scheduling length."
Voice over IP (VOIP) phones should have a de-jitter buffer allowing them to tolerate up to 30 mS jitter end-to-end across the network.,"Select one of three ways to control bandwidth for traffic class: unconstrained priority queue, conditional policer, or (un-conditional) always-on policer."
Priority Queue with Conditional Policer to manage bandwidth usage and enforce rate limits for different classes.,"Enforce 30 Mbps rate for the class when no congestion exists, and enforce 20 Mbps rate when congestion is present."
Priority Queue with Always on (Unconditional) Policer,Explicit policing rate for priority class
The requirement is to ensure that the explicit rate is not exceeded.,policy-map always_on_policer class priority-class priority police cir 20m
Always on Policer enforcement in priority class configuration to ensure deterministic behavior in priority service.,"Explicit policing rate for the priority class to control traffic and enforce rate, even with sufficient bandwidth."
Voice applications should tolerate about 30 mS of jitter and 150 mS latency end-to-end across a network. Each node in the network should be allowed a burst tolerance of 5-10 mS.,"The example provided is for an always on policer and a conditional policer.

Always On Policer Example:
policy-map always_on_policer_burst_example
class voice
priority
police cir 2000000 1250

Conditional Policer Example:
policy-map conditional_policer_burst_example
class voice
priority 20000 1250"
Determine the policing length when evaluating conformance to a rate on a priority queue.,Use the policing length when determining conformance to the rate configured on a priority queue.
"Multi-Level Priority Queuing for configuring multiple priority queues for multiple traffic classes, supporting voice and video with different priority levels.",Use a P1 queue for voice traffic and a P2 queue for video traffic.
Multi-Level Priority Queuing,"policy-map multilevel-rejection-example, class voice with priority and police cir 5000000 3125, class video with priority level 2 and police cir 10000000 12500"
"Bandwidth queues enable you to apportion interface bandwidth for applications that lack strict latency requirements. The intent is to ensure all applications receive necessary bandwidth and utilize unused bandwidth by making it available for other applications. Determine which applications to sacrifice under congestion, such as non-business critical applications like social media.",N/A (This text does not provide a specific configuration.)
"Configure bandwidth for an interface using the ""bandwidth percent"" command and ensure it is consistent across a policy-map.","Use the ""show interface gigabit x/y/z"" command to display the BW of 1000000 Kbit/sec on a GigabitEthernet interface. Configure bandwidth percent on an interface, e.g., ""bandwidth percent 50"", which sets a Min value of 500 Mbps. The account keyword can be used with the bandwidth command to adjust overhead in rate conformance calculations."
Configure a queue with a Min of 98 Mbps and attach the policy to a FastEthernet interface (100 Mbps).,"Scheduling length for each frame would be 96 bytes, actual bandwidth consumed by each frame including inter-packet overhead would be 120 bytes."
Single-shaped Queue configuration,policy-map shape_example class class-default shape average 5m
"The requirement is to support migration of configurations from existing IOS classic devices to ASR 1000 Series Aggregation Services Routers, and to use the shape average command when creating a new configuration.","The configuration should include the shape average command, the bandwidth remaining command for excess weight, and the show policy-map interface command output."
Bandwidth remaining command for guaranteeing bandwidth to queues using either excess bandwidth sharing or hierarchical policies.,"Two variants - bandwidth remaining ratio and bandwidth remaining percent, both supporting the account keyword. The default Excess Weight (Ex) is one ('1') unless explicitly set."
Identical behavior between an ASR 1000 Series Aggregation Services Router running IOS XE and a router running IOS Classic.,Use excess bandwidth sharing and change bandwidth percent statements in IOS Classic configuration to bandwidth remaining percent statements in IOS XE.
Calculate minimum guaranteed service rate for a queue under severe congestion conditions.,"Policy-map example with class priority-class, video, and mission-critical classes. Attached to a 10 Mbps Ethernet interface with offered load to each."
"The requirement is to calculate the minimum guaranteed service rate and the ""experience"" of latency packets at the video queue.","The configuration includes a video class with a minimum guaranteed service rate of 3 Mbps, consisting of 1 Mbps (min configured with the bandwidth command) + 2 Mbps (its always guaranteed share of excess bandwidth). The default queue-limit is 64 packets, and the average packet size is expected to be about 1400 bytes."
"Pak Priority scheme for protecting critical control packets, such as interface keepalives, BFD packets, and routing protocol hellos. This ensures guaranteed delivery of these control packets within a network.",DSCP of IP encapsulated control packets is set to CS6 to protect them at other devices in the network where they must traverse.
pak_priority flag for packets and protocols,Control Packets Marked with pak_priority Flag (Table 4)
Ensuring delivery of pak_priority packets when the queue is full by delaying them for a default queue-limit duration.,Default queue-limit of 50 mS on most ASR 1000 Series Aggregation Services Router platforms.
"Implement pak_priority packet handling when the queue is full, and ignore queue-limit in QoS configuration.","policy-map scheduling-example, class voice (priority level 1, police 20m), class video (priority level 2, police 10m), class mission-critical (bandwidth 20000, shape average 30m)."
Repurposing the interface default queue as a dedicated pak_priority queue,Min value set at 10% of linerate for ensuring other queues with Min service do not deprive this queue of service.
Implement a Flow-Based Fair Queuing policy to ensure fairness and prioritize different traffic classes in the network.,"```
policy-map fair-queue-example
    class voice priority level 1 police 20m
    class video priority level 2 police 10m
    class mission-critical bandwidth 20000
    class class-default fair-queue
```"
Verify operation of scheduling with show policy-map interface command and view long term trends and complete view of the policy.,"policy-map: show_policy_example
class voice: priority level 1, police cir percent 10 bc 5 ms
class video: priority level 2, police cir percent 20 bc 10 ms
class critical-data: bandwidth percent 50"
The requirement is to understand and analyze the output from the show policy-map interface command in order to configure and manage a network device's policy.,"The configuration would involve setting up a policy map, configuring classes with specific actions, and monitoring queuing information for priority levels on the interface."
- Classification statistics and criteria for video and critical-data classes,"Video class:
- Priority Level: 2
- Match: dscp af41 (34)
- Actions: enqueued in priority level 2 queue
- Police: cir 20 %, bc 10, cir 20000000 bps, bc 250000 bytes
- Conformed: 1381399 packets, 2072098500 bytes
- Actions: transmit, exceeded 0 packets, 0 bytes; actions: drop
- Conformed rate: 9288000 bps, exceeded rate: 0000 bps
- Priority: Strict, b/w exceed drops: 0

Critical-data class:
- Match: Class-map: critical-data (match-all)
- Actions: enqueued in priority level 2 queue
- Police: cir 20 %, bc 10, cir 45310 packets, bc 67965000 bytes
- Conformed: 45310 packets, 67965000 bytes
- Actions: transmit
- Exceeded: 0 packets, 0 bytes; actions: drop
- Conformed rate: 719000 bps, exceeded rate: 0000 bps"
"The requirement seems to be related to configuring and analyzing queue settings and bandwidth actions in networking devices, specifically in relation to DSCP AF11 (10) class.","- Queue limit: 2083 packets
- Bandwidth action: 50% (500000 kbps)"
Verify system behavior and data plane programming by using a command. Clear counters for long term events like packets enqueued or dropped every 10 seconds when information is pushed to the control plane.,Not specified in the text.
Instantaneous queue depth and statistics for current 10 second interval.,"Queue: QID: 177 (0xb1), bandwidth (cfg): 500000000, bandwidth (hw): 500000000, shape (cfg): 0, shape (hw): 0, prio level (cfg): 0, prio level (hw): n/a, limit (pkts ): 2083, drop policy: tail-drop."
Specify encapsulation of a downstream device and automatically calculate the overhead accounting adjustment.,[no] shape | bandwidth rate account dot1q | qing encapsulation
Configure bandwidth rate and percentage for queue scheduling.,"Bandwidth command, configurable in 8Kbps increments, supported in leaf schedules (class layer schedules). Use bandwidth remaining percent if using parent policy or replicating IOS Classic platform behavior."
Flow based fair-queuing configuration for a class of traffic.,fair-queue
Configure priority in the parent of a hierarchical policy,Priority propagation
Parent Schedule can hold Priority and Bandwidth Handles (Passing Lanes),Max and Excess Weight parameters in the parent schedule entry. Priority traffic counts towards Max and is unaltered by Ex.
Understanding how a configuration is mapped into a datapath configuration.,"- Policy map child100 with class priority and priority, police cir 400m, class data with bandwidth remaining ratio 4.
- Policy map parent100 with class class-default, shape average 900m, service-policy child100.
- Policy map child200 with class priority and priority, police cir 400m, class data with bandwidth remaining ratio 2.
- Policy map parent200 with class class-default, shape average 900m, bandwidth remaining ratio 2, service-policy child200.
- Interface g1/0/4.100 with encaps dot1q 100 and service-policy out parent100.
- Interface g1/0/4.200 with encaps dot1q 200 and service-policy out parent200."
Calculating the Remaining Bandwidth for Bandwidth Queues,"The parent schedule uses the Ex configuration to apportion the remaining bandwidth. With Ex values of 1 and 2, VLAN100 will receive 100 Mbps and VLAN200 will receive 200 Mbps."
Bandwidth Sharing based on the Excess Weights in the Child Schedule,"- VLAN100:
  - 100 Mbps total bandwidth
  - Shared as 80 Mbps for class data and 20 Mbps for class class-default (4:1 ratio)
- VLAN200:
  - 200 Mbps total bandwidth
  - Shared as 133 Mbps for class data and 67 Mbps for class class-default (2:1 ratio)"
Child Schedule Apportions Bandwidth received from Parent Schedule,Ensure that the physical bandwidth available exceeds the sum of all priority class policers.
Create a hierarchical scheduling with QoS for g1/0/4.100 and g1/0/4.200 interfaces using dot1q encapsulation and service-policy out commands.,"1. Configure dot1q encapsulation on both interfaces:
   - For g1/0/4.100, use encaps dot1q 100.
   - For g1/0/4.200, use encaps dot1q 200.
2. Apply service-policy out with parent100 for g1/0/4.100 and parent200 for g1/0/4.200."
Bandwidth Command Application in Leaf Schedules,N/A (not provided in the text)
Apportioning Bandwidth Share Between Children,"VLAN200 - 567 Mbps (2/3 of 850 Mbps), Max value = 500 Mbps, Priority traffic = 50 Mbps; VLAN100 - 400 Mbps"
"The requirement is to understand how the Max value of the Parent's Schedule Entry influences Bandwidth Sharing, and ensure that any bandwidth unused by one child is not available to another.",Not provided in the text.
"Calculate bandwidth share for each child in a hierarchical scheduling system, ensuring that the maximum value in each parent schedule is not exceeded.","Parent Shaper configuration with excess weights to distribute bandwidth shares among children (e.g., 283 Mbps and 567 Mbps)."
Calculating Bandwidth Share for Each Child based on Excess Weight Configured in Parent Schedule,Not provided in the text.
Minimum bandwidth guarantee for class critical-data in VLAN100 should be locally relevant and not lead to starvation of other classes of service.,Use only the bandwidth remaining command in child policies and ensure that the sum of policers on priority queues does not exceed the available bandwidth.
Carrier card schedule should ensure fairness between interfaces and set the Max value in the carrier card schedule for each interface to slightly exceed the interface's bandwidth to condition traffic within a platform.,"SIP10 with 10 Gbps link over the backplane, holding 4 SPAs (Shared Port Adapters) with interface(s) totaling at most 10 Gbps capacity."
Maintain a constant data stream on a physical interface and pause sending when the interface indicates it has sufficient data buffered. Use distinct high and low priority flow control messages for each interface.,"Interface schedule for every physical interface in the box, with interface default queue as a child of the interface schedule."
"The requirement is to implement an interface scheduling mechanism that maintains distinct buffers and queues for priority and bandwidth traffic, while minimizing jitter for latency sensitive traffic. The system should pause bandwidth traffic when buffers are filling up but continue forwarding priority traffic. Similarly, it should pause sending packets when priority buffers are filling up until congestion clears.","- Policy Map Child100
  - Class Voice
    - Priority
    - Police Cir 100m
  - Class Critical-Data
    - Bandwidth 300m

- Policy Map Parent100
  - Class Class-Default
    - Shape Average 900m
  - Service-Policy Child100

- Interface Configuration (depends on the specific device and requirements)"
Configure a shaper in the parent policy with a shape average rate of 900M and apply it to each logical interface to apportion bandwidth.,"GigabitEthernet link, T1 connection"
Cap the throughput of an individual subscriber and configure a bandwidth remaining ratio in the parent.,"Shape on Parent / Queue on Child Construct. Define classes within the policy-map to treat different types of traffic (e.g., voice) at the class layer."
A Complete Hierarchical Scheduling Framework to Handle Congestion and avoid Wasting Bandwidth,Bandwidth remaining ratio of 2 for controlling fairness between VLANS
Attach policy-maps to logical interfaces for management in scaled environments and ease of configuration.,"You can reuse or create policy-maps for each logical interface, such as attaching a policy-map to each of 1000 VLANs configured on an Ethernet-type interface. To review the QoS statistics for an individual logical interface, you can issue the show policy-map interface interface-name command."
MPOL (Multiple Policies on Logical Interface) support and configuration,"ASR 1000 Series Aggregation Service Router supports limited implementation of MPOL. If a policy-map is attached to a logical interface, the only policy that can be attached to the physical interface is flat with only class-default and shaper configured."
Shape all traffic to 200 Mbps on a GigabitEthernet interface connection.,"```
policy-map physical-shaper
    class class-default
        shape average 200m
    !
    policy-map child100
        class voice
            priority
        class critical-data
            bandwidth
```"
"Shape average bandwidth for class-default in policy-map parent100 and parent200, attach physical policy before logical policies, and shape user traffic through the physical interface to 200 Mbps.","```
policy-map parent100
 class class-default
  shape average 900m
 policy-map child100
!
policy-map parent200
 class class-default
  shape average 900m
 bandwidth remaining ratio 2
 policy-map child200
!
interface g1/0/0
 service-policy output physical-shaper
!
interface g1/0/0.100
 encaps dot1q 100
 service-policy out parent100
!
interface g1/0/0.200
 encaps dot1q 200
 service-policy out parent200
```"
Hierarchical Policy-Maps for constructing hierarchies in policy-maps and achieving desired flexibility.,"Using up to 1,000 classes in a policy-map on the ASR 1000 Series Aggregation Service Router to represent logical interfaces."
Shape average bandwidth of 900m in class vlan100,Policy map vlansharing with bandwidth remaining ratio 1 and service policy child100 applied to class vlan100
"The requirement is to add flexibility for different classes of traffic on a physical interface, providing unique treatment to each class without VLAN tags.","To achieve this, an hierarchical construct can be used with class-maps and policy-maps. For example, the following configuration adds a priority class for voice traffic over the physical interface:
```
class-map vlan100
match vlan 100

class-map vlan200
match vlan 200

class-map voice
match dscp ef

policy-map physical-shaper
class class-default
shape average 200m
class vlan100
priority-forward
class vlan200
priority-forward
class voice
bandwidth percent 10
```"
QoS Hierarchical Scheduling with bandwidth allocation and priority for different classes of traffic,"- Policy-map: child200 with class voice, set priority and police cir to 100m
- Policy-map: vlansharing with class vlan100, shape average 900m and bandwidth remaining ratio 1
- Policy-map: vlansharing with class vlan200, shape average 900m and bandwidth remaining ratio 2
- Policy-map: physicalshaper with class class-default, shape average 200m and service-policy vlansharing
- Interface g1/0/0 with service-policy output physicalshaper"
Voice packets from a physical interface (Gig1/0/0) should have slightly higher priority than voice packets from VLAN 100 or 200.,Priority queue admission control is used to avoid starvation of other classes.
Verification of hierarchical scheduling configurations in QoS configuration work.,"The primary tool is the show policy-map interface interface-name command, and to display the hierarchy, use show policy-map int g1/0/0 | inc Class."
Implement a hierarchical policy for GigabitEthernet1/0/0 to manage traffic based on class-maps and service policies.,"- Create a class-map named vlan100 with a match-all condition for VLAN 100.
- Set the queue limit to 3748 packets.
- Configure the bandwidth remaining ratio to 1.
- Apply the service policy child100 to the vlan100 class-map.
- Create another class-map named voice with a match-all condition for DSCP EF (46).
- Set the priority to strict and configure the police parameters: CIR 10,000,000 bps, BC 3,125,000."
Treat classified traffic according to a specific policy,Attach the traffic policy to the interface using the service-policy command.
The requirement is to configure the MQC Command Sequence for a policy map in a router.,"policy-map <policy-map-name>
class class-default
random-detect dscp <dscp-value> min-threshold max-threshold[mark-probability-denominator]
random-detect clp <clp-value> min-threshold max-threshold[mark-probability-denominator]
random-detect cos <cos-value> min-threshold max-threshold[mark-probability-denominator]
random-detect discard-class <discard-class-value> min-threshold max-threshold[mark-probability-denominator]
random-detect precedence <ip-precedence> min-threshold max-threshold[mark-probability-denominator]
random-detect precedence-based
random-detect ecn
random-detect exponential-weighting-constant exponent
random-detect cos-based"
Configure custom queuing on a router using a policy map and interface commands.,"1. Set up a policy map with a specified name.
2. Create a class within the policy map called ""class-default.""
3. Under the class, configure bandwidth for the policy map by using the bandwidth command with either kbps or percentages.
4. Apply the policy map to an interface using the interface command and specify the custom queue list with the list number."
Configuring RTP priority and reserve settings for an interface,"Router(config)# interface type number
Router(config-if)# ip rtp priority starting-port-number port-range bandwidth
Router(config)# interface type number
Router(config-if)# ip rtp reserve lowest-udp-port range-of-ports [maximum-bandwidth] 1000"
Implementing a fair-queue mechanism on interfaces in Cisco IOS Release 15.0(1)S and 15.1(3)T for WFQ and dynamic queues.,"Command Usage (Cisco IOS Release 15.0(1)S):
Router(config)# interface type number
Router(config-if)# fair-queue

Command Usage (Cisco IOS Release 15.1(3)T):
Router(config)# interfacetype number
Router(config-if)# fair-queue [dynamic-queues]"
Configure a policy map with class-based traffic management for frame relay congestion control,"1. Create a policy-map and assign it a name (policy-map-name1)
2. Apply the policy-map to an interface (Router(config-pmap-c)# service-policy)
3. Exit the policy-map configuration mode (Router(config-pmap-c)# exit)
4. Exit the policy-map configuration (Router(config-pmap)# exit)
5. Create another policy-map and assign it a name (policy-map-name2)
6. Define a class within the policy-map (Router(config-pmap)# class class-name)
7. Set the discard-class for the defined class (Router(config-pmap-c)# set discard-class discard-class)
8. Apply the frame relay congestion threshold using the map-class command (Router(config)# map-class frame-relay)
9. Assign a name to the map-class (map-class-name)
10. Enter the configuration mode for frame-relay (Router(config-map-class)# frame-relay)
11. Set the congestion threshold value using the percentage option (congestion threshold de percentage)"
Configuring Frame Relay Custom Queueing for Virtual Circuits,"Router(config)# policy-map policy-map-name
Router(config-pmap)# class class-default
Router(config-pmap-c)# bandwidth {bandwidth-in-kbps | remaining percent percentage}"
Configuring Frame Relay Weighted Fair Queueing and Priority Queueing on a PVC,"1. Router(config)# policy-map policy-map-name
2. Router(config-pmap)# class class-default
3. Router(config-pmap-c)# fair-queue
4. Router(config-pmap-c)# fair-queue queue-limit
5. Router(config)# map-class frame-relay
6. Router(config-map-class)# frame-relay
7. Router(config-map-class)# fair-queue [discard-threshold dynamic-queue-count reserved-queue-count buffer-limit]
8. Router(config)# policy-map policy-map-name
9. Router(config-pmap)# class class-name
10. Router(config-pmap-c)# priority bandwidth-in-kbps [burst-in-bytes]
11. Router(config)# map-class frame-relay
12. Router(config-map-class)# frame-relay ip rtp priority starting-port-number port-range bandwidth"
Assigning a Priority Queue to Virtual Circuits Associated with a Map Class,Router(config)# policy-map policy-map-name Router(config-pmap)# class class-default Router(config-pmap-c)# priority
Replace MQC Command Sequence with MQC traffic shaping for non-FECN/BECN.,Router(config)# policy-map policy-map-name; Router(config-pmap)# class class-default; Router(config-pmap-c)# shape average rate.
Configure Frame Relay Traffic Shaping and Interface Queue Priority.,"1. Router(config)# policy-map policy-map-name
2. Router(config-pmap)# class class-default
3. Router(config-pmap-c)# priority 10 20 30 40
4. Router(config-if)# interface-queue 10 20 30 40
5. Router(config)# map-class frame-relay map-class-name
6. Router(config-map-class)# frame-relay bc in committed-burst-size-in-bits
7. Router(config-map-class)# frame-relay be in committed-burst-size-in-bits
8. Router(config-map-class)# frame-relay cir rate"
traffic-shape queue,"show traffic-shape queue, show traffic-shape statistics"
Mark internal values (qos-group and discard-class) for classification within a router without modifying the packet's contents. Use them in ingress and egress policies.,"Ingress policy for marking qos-group and discard-class values, Egress policy for classification based on these values and choosing appropriate action."
Supported DSCP and Precedence Tunnel Marking Configurations,Table 7
"Set MPLS experimental imposition, DSCP tunnel, and precedence tunnel.",Not provided in the text.
Prioritize applications within a tunnel by setting DSCP in the outer IP header to indicate service-class within the provider's network.,"policy-map mark-outer-gre-header
class voice
priority level1 percent 20
set dscp tunnel"
"Set a QoS group for packets that match the classification using Network Based Application Recognition (NBAR) on ingress, and apply the same classification on egress.","1. Define class-maps for telepresence-video, jabber-video, and egress-video-traffic.
2. Match protocols telepresence-media, cisco-jabber-video, and qos-group 4 respectively in the class-maps.
3. Create policy-map mark-qos-group with classes telepresence-video and jabber-video, setting their respective qos-groups to 4.
4. Create policy-map egress-queuing with class egress-video-traffic, setting bandwidth remaining percent to 50.
5. Apply the mark-qos-group policy on ingress interface gig 1/0/0 and egress-queuing policy on interface serial1/1/0."
egress-queuing,"policy-map egress-queuing, class egress-video-traffic, bandwidth remaining percent 50, random-detect discard-class-based, random-detect discard-class 1 24 40, random-detect discard-class 2 22 30"
Enable QoS Packet Marking Statistics and configure a policy-map for traffic classification.,"1. Issue the command `platform qos marker-statistics` in configuration mode to enable Packet Marking Statistics.
2. Create a policy-map using the command `policy-map remark-af41`.
3. Within the policy-map, create a class with the command `class af41-traffic`.
4. Set DSCP for tunnel EF traffic with the command `set dscp tunnel ef`."
Mark traffic with AF41 in the user's IP header and EF in the GRE IP header on a tunnel interface.,Service-policy output: remark-af41; Class-map: af41-traffic (match-all); Match: dscp af41 (34); QoS Set
Enable marking statistics for per-set action statistics,"Per-set action statistics enabled, show policy-map interface tunnel1 command with output including Service-policy output: remark-af41, Class-map: af41-traffic (match-all), 575 packets, 40250 bytes, match dscp af41 (34), QoS Set, dscp tunnel ef, Packets marked 575, Class-map: class-default (match-any), 0 packets, 0 bytes, match any."
Propagating Service-Class Information Throughout the Network,"DSCP codepoint 0, GRE tunnel (possibly encrypted), VLAN tagged packet"
Modify the default behavior of DSCP in an ingress policy for Router 1.,"ip access-list extended 101
permit udp any any range 16384 32767
!
class-map video
match access-group 101
!
policy-map traffic-marking
class video
set dscp AF41
!
int gig1/0/0"
Place the QoS policy on the tunnel interface of Router 1 rather than on the physical interface.,"class-map video
match dscp AF41
!
policy-map
egress-queuing
class video
set dscp EF
!
int tunnel100"
The requirement is to alter only the tunnel IP header using the set dscp tunnel command.,class-map video match dscp AF41 policy-map egress-queuing class video set dscp tunnel EF int tunnel100 service-policy out egress-queuing
Disable packet marking statistics,[no] platform qos marker-statistics
Set the Layer 2 class of service (CoS) value for outgoing packets using the set cos command in policy-map class configuration mode.,Use the [no] set cos cos-value command to enable or disable this setting. The default behavior is either IP Precedence or MPLS EXP bits copied from the encapsulated datagram. This command can be used in policy-map (config-pmap) mode.
Set Layer 2 CoS value in the inner VLAN tag of a QinQ packet using the set cos-inner command in policy-map class configuration mode.,Use the [no] set cos-inner cos-value command to specify an IEEE 802.1q CoS value ranging from 0-7.
Set the Discard Class value for a packet processed by the router using the set discard-class command in policy-map configuration mode.,Set the Discard Class value to a range from 0 to 7 using the command [no] set discard-class discard-class-value.
Classify both IPv4 and IPv6 packets using the match dscp command.,"Use the set dscp tunnel command in policy-map class configuration mode to set the DSCP value in a tunnel header. Specify the DSCP value ranging from 0 to 63, either numerically or using its well known DiffServe name (e.g., EF)."
Set DSCP tunnel marking configurations for IPv4 on Cisco ASR Series Aggregation Services Router,Refer to the table on page 148 in Imposition Marking for supported DSCP tunnel marking configurations. Use the set dscp tunnel command to configure the settings.
"Supporting two command variants that perform identical functions for marking DSCP value in the IP header, and two command variants for marking precedence value in the IP header.","set ip dscp, set dscp; set ip dscp tunnel, set dscp tunnel; set ip precedence, set precedence; set ip precedence tunnel, set precedence tunnel"
QoS Packet Marking,set mpls experimental imposition
Set precedence in tunnel header ranging from 0 to 7 using the set precedence tunnel command in policy-map class configuration mode.,policy-map (config-pmap)
"The requirement is to associate a group ID with a packet as it is processed by the router using the set qos-group command. This can be used in egress policies to classify packets into service-classes, especially with color-aware policing enabled.",The configuration involves using the policy-map (config-pmap) and the set qos-group command to associate a group ID with a packet during router processing.
Enabling the QoS Packet-Matching Statistics feature,"QoS Packet-Matching Statistics: Per Filter, QoS Packet-Matching Statistics: Per ACE (enabled or disabled)"
Enable QoS Packet-Matching Statistics: Per Filter feature for the ACE feature.,"The QoS Packet-Matching Statistics: Per Filter feature may increase CPU utilization on a scaled configuration, so weigh the benefits of the statistics information against the increase in CPU utilization for your system before enabling it. QoS Packet-Matching Statistics: Per Filter is not supported for match-all class-maps, but QoS Packet-Matching Statistics: Per ACE is supported for the match-all class-maps."
The requirement is to configure an access list (A1) that permits a specific IP range (32.1.1.0/255) on a router interface.,"- Extended IP access list A1 (used in the policy-map and service-policy input of the GigabitEthernet0/0/2 interface)
- Access-group name A1 (matches the access list A1)"
The requirement is to understand how access list counts are calculated and the possible impact of multiple features using the same ACE on a single packet.,"The configuration includes an example of an extended access list (A1), a class-map match-all, and an interface configuration for GigabitEthernet0/0/2."
Configure QoS Packet-Matching Statistics for filter.,"Class-map: A1-class (match-all)
1000 packets, 124000 bytes
5 minute offered rate 4000 bps
Match: access-group name A1
Class-map: class-default (match-any)
0 packets, 0 bytes
5 minute offered rate 261000 bps, drop rate 0 bps
Match: any"
Remove QoS policy-map from an interface.,"1. Enter interface configuration mode using `interface interface-name` command.
2. Use `no service-policy {input | output} policy-map-name` command to remove the QoS policy-map.
3. Exit the interface configuration mode using the `exit` command."
Configure a policy map with class-based QoS for interface gig1/1/0.,"Service-policy input: pol1
! target = gig1/1/0,input
Class-map: class1 (match-any)
1000 packets, 40000 bytes
5 minute offered rate 0000 bps, drop rate 0000 bps
Match: ip precedence 1 <-------- User-defined filter
800 packets, 32000 bytes <-------- Filter matching results
Match: ip precedence 2 <-------- User-defined filter
200 packets, 8000 bytes <-------- Filter matching results
QoS Set
ip precedence 7"
Disable QoS Packet-Matching Statistics for both Per ACE and Per Filter features.,"Step 13: Router(config-if)# exit
no platform qos match-stat per-ace
Step 14: Router(config)# no platform qos match-stat per-filter
Step 15: Router(config)# no platform qos match-statistics per-filter"
Define a QoS packet matching filter,"• Class-map: class-default (match-any)
• Match: any (User-defined filter)
• Queueing
• queue limit 416 packets
• (queue depth/total drops/no-buffer drops) 0/0/0
• (pkts output/bytes output) 4469/4558380
• shape (average) cir 100000000, bc 400000, be 400000
• target shape rate 100000000
• Service-policy : DATA-OUT
• Class-map: ATM-VTI-RIP-SPK1-DATA (match-any)
• Match: access-group 121 (User-defined filter)"
The QoS Packet-Matching Statistics: Per Filter feature allows you to count and display the number of packets matching individual filters (match statements) used in class-maps within QoS service policies that have.,platform qos match-statistics per-filter
"Enter global configuration mode, enter policy-map configuration mode, and create a policy-map.","configure terminal, policy-map policy-map-name, class {class-name| class-default}."
Set ATM CLP Bit Using Policer,Configuring PPPoA Broadband Traffic Policing
"Enter the policy-map class configuration mode, configure or modify a policy for a specific class, and set the ATM CLP bit.","Enter command ""policy-map"", followed by the name of the class (class-name) or specify the default class (class-default), and use the ""set atm-clp"" command to configure the ATM CLP bit."
Set ATM CLP Bit Using Policer,"Define traffic classes, Configure a two-layer policy-map, Apply the policy-map to PPPoA sessions"
Conditionally mark the ATM CLP bit on traffic in the low_interest class when traffic exceeds a given rate.,"class-map low_interest
match precedence 1 0
!
policy-map child
class low_interest
police cir 1000000 conform-action transmit exceed-action set-clp-transmit"
Enabling QoS features (such as traffic classification and policing) for use on an EVC,Not provided in the given text
Apply QoS features to network traffic using the MQC.,"Attach the traffic policy (policy-map) to an interface (EVC) by using the service-policy command, and apply the policy-map to an EFP in either the incoming or outgoing direction of an EVC."
Match commands for classifying traffic on an EVC with Quality of Service (QoS),"Available match commands vary by Cisco IOS XE release and include:
- match access-group
- match any
- match cos
- match cos inner
- match [ip] dscp
- match not

For more information about the commands and command syntax, see the Cisco IOS Quality of Service Solutions Command Reference."
Identifying specific match parameters for traffic classification,"Using match not, match ip precedence, match qos-group, match source-address mac, and match vlan (QoS) commands to specify match criteria."
Specify how to evaluate the match commands in a traffic class containing more than one match command.,Use either the match-any or match-all keyword of the class-map command.
"Minimum bandwidth guarantee for a class, Configures an excess weight for a class, Enables the flow-based queueing feature within a traffic class.","Bandwidth, Bandwidth remaining, Drop, Fair-queue, Police, Police (percent), Police (two rates), Priority, Queue-limit, Random-detect, Random-detect cos-based."
Configure WRED with DSCP-based drop probability for a packet in policy-map.,random-detect dscp-based discard-class [discard-class-value]
Configure WRED on the basis of the discard class value of a packet.,random-detect discard-class-based
Configure a Quality of Service Feature on an EVC,"1. enable
2. configure terminal
3. class-map [match-all | match-any] class-name
4. match cos cos-number
5. (Enter additional match commands, if applicable; otherwise, proceed with the next step.)
6. end"
Creating a Policy-Map for Use on the EVC,"policy-map policy-map-name, class {class-name| class-default}, police bps [burst-normal] [burst-max] [conform-action action] [exceed-action action] [violate-action action], enter additional QoS feature commands if applicable."
Creating or specifying the name of the traffic policy and entering QoS policy-map configuration mode.,policy-map policy-map-name (Example: policy1)
Specifying the name of a class and entering QoS policy-map class configuration mode.,class {class-name| class-default}
Configure an EVC and attach a traffic policy to the EVC.,"```
Router> enable
Router# configure terminal
Router(config)# interface gigabitethernet 0/0/1
Router(config-if)# service instance 333 ethernet evc1
Router(config-if-srv)# encapsulation dot1q 10
Router(config-if-srv)# rewrite ingress tag translate 1-to-1 dot1q 300 symmetric
Router(config-if-srv)# bridge domain 1
Router(config-if-srv)# service-policy input policy1
Router(config-if-srv)# end
```"
Configure a service instance with a specific policy for GigabitEthernet1/1/7 interface.,"service instance 10
interface GigabitEthernet1/1/7
 encapsulation aal5
 exit
!
class-map c1 match-all
 match ip precedence 3
!
policy-map multiaction
 class c1
  police cir 300000 2000 bc
  set precedence 7
 exit
!
interface GigabitEthernet1/1/7
 service-policy input multiaction
!"
General MQC QoS support on Port-channel sub-interface,"Use port-channel aggregation (see the ""Aggregate EtherChannel Quality of Service"" chapter) in Cisco IOS XE 3.16.3 or later and in Cisco IOS XE Fuji 16.3 or later"
Fragments in Class Definition Statements for QoS Policies Aggregation.,"1. Mark default traffic class definition statements as fragments within a policy-map.
2. Create a separate policy-map with a service fragment class definition statement to apply QoS to all of the fragments as a single group."
"Achieve common policy treatment for aggregate traffic using the fragment keyword for class-default in the subscriber policy-map, and service-fragment keyword for a user-defined class in the main-interface policy-map.",Not provided in the text.
"Software is required. The global configuration must contain the port-channel load-balancing vlan-manual command, or the port-channel main-interface configuration must contain the load-balancing vlan command.","1. enable
2. configure terminal
3. interface port-channel port-channel-number.subinterface-number
4. service-policy output policy-map-name
5. end"
Configure QoS Policies Aggregation—Egress MQC Queuing at Subinterface,"1. Enter global configuration mode.
2. Use the ""configure terminal"" command.
3. Specify the member link physical interface that receives the service policy configuration using the ""interface GigabitEthernet card/bay/port"" command.
4. Apply the name of the service policy to output traffic for this physical interface that is part of the Etherchannel using the ""service-policy output policy-map-name"" command.
5. Exit interface configuration mode and return to privileged EXEC mode using the ""end"" command."
"Support for policy-maps on multiple port-channel subinterfaces and member link interfaces, and collective classification of traffic directed toward a given port-channel member link when designated by primary or secondary directives on the subinterface encapsulation command.","All subinterface traffic classes should have queues. If a traffic class in the subinterface policy-map is not configured with any queuing feature, the traffic is assigned to the class-default queue. The main interface policy-map does not support classification for subinterface traffic classes that do not use the fragment and service-fragment configuration."
"Create a policy map with different traffic classes (voice, video, and class-default fragment BestEffort) and set their respective COS values, priority levels, shape, bandwidth remaining ratio.","policy-map subscriber1
class voice
 set cos 5
 priority level 1
class video
 set cos 4
 priority level 2
class class-default fragment BestEffort
 shape average 200000000
 bandwidth remaining ratio 10"
QoS (Quality of Service) configuration for a policy-map on a subinterface.,"policy-map subscriber 2
  class voice
    set cos 5
    priority level 1
  end-class
  class video
    set cos 4
    priority level 2
  end-class
  class class-default fragment BestEffort
    shape average 200000000
    bandwidth remaining ratio 10
  end-class

Note: The example provided also shows how to configure a fragment named BestEffort for the default class in a policy-map on a subinterface using the QoS Policies Aggregation MQC Support for Multiple Queue Aggregation at Main Interface implementation."
Configure a separate policy-map with a class statement using the service-fragment keyword to apply QoS to the class statements configured as fragments.,"Not provided, as it requires creating fragment default traffic classes which are documented in the ""Configuring a Fragment Traffic Class in a"""
"Configure QoS for a device's policy map class for data service fragment called ""BestEffort"".","Device(config-pmap)# class data service-fragment BestEffort
Device(config-pmap-c)# shape average 400000000"
Configure the service-policy output on a physical interface supporting a Gigabit Etherchannel bundle.,"1. Enter privileged EXEC mode by typing ""enable"" and entering your password when prompted.
2. Enter global configuration mode by typing ""configure terminal.""
3. Specify the member link physical interface that receives the service-policy configuration by typing ""interface GigabitEthernet card/bay/port."""
Attach a service policy containing a service fragment with the default traffic class to the physical Gigabit Ethernet interface.,Example: Device(config-if)# service-policy output aggregate-member-link
Quality of Service for Etherchannel Interfaces,Configuring Fragments on Gigabit Etherchannel Member Link Subinterfaces
"Configure a port-channel with load balancing, VLAN manual or main-interface load-balancing command.","Cisco IOS XE Release 2.1 or later software, enable privileged EXEC mode, enter global configuration mode, create an Etherchannel member link subinterface, and apply the service-policy input policy-map-name."
Configuring Egress Policing and Marking on Port-Channel Member Links,"1. Enable the configuration mode using the ""configure terminal"" command.
2. Create an input policy map named ""sub-intf-input"".
3. Add voice class to the policy map with precedence 5.
4. Add video class to the policy map with precedence 6.
5. Add class-default to the policy map with precedence 3.
6. Apply the input policy map to the Port-channel 1.100 interface using the ""service-policy input sub-intf-input"" command."
The requirement is to define and attach a service policy named WAN-GEC-member-Out-police to the port-channel subinterface in the output direction.,"1. Configure the service policy with the policy-map command:
```
policy-map WAN-GEC-member-Out-police
```
2. Define classes for voice, video, and class-default within the policy map:
```
class voice
set precedence 5
class video
set precedence 6
class class-default
set precedence 3
```
3. Apply the service policy to the port-channel subinterface using the service-policy output command:
```
interface port-channel 1.100
service-policy output WAN-GEC-member-Out-police
```"
Aggregated treatment of multiple user-defined traffic classes from multiple port-channel subinterfaces with policy-maps attached to the same physical interface.,Port-channel load-balancing vlan-manual or the main interface of the port-channel being configured must have the following command: port-channel load-balancing vlan.
Aggregation of default class traffic from multiple subinterfaces into a common policy-map at the main interface. Support for other subinterface traffic classes (such as DSCP-based classes) to be aggregated into a common policy-map at the main interface.,"Use the fragment keyword in the subinterface class-default class, and service-fragment configuration in the main interface class."
"Configure default class statements as fragments in multiple subinterface policy-maps, configure a separate policy-map with a class statement using the service-fragment keyword, and configure fragment traffic classes and attach them to the main physical interfaces and member link subinterfaces.","Configure default class statements as fragments in multiple subinterface policy-maps, configure a separate policy-map with a class statement using the service-fragment keyword, configure service fragment traffic classes on the main physical interfaces supporting a Gigabit Etherchannel bundle, and configure fragment traffic classes on the member link subinterfaces of Gigabit Etherchannel."
Traffic classes must be configured using the class-map command. A one or two level hierarchical policy-map should be configured using previously defined class maps. Cisco IOS XE Release 2.4 or later software is required.,"interface Port-channel1, lacp fast-switchover, lacp max-bundle 1"
Configure traffic classes and policy-map for Etherchannel load balancing on port-channel members using Cisco IOS XE Release 2.5 or later software.,"1. enable
2. configure terminal
3. interface GigabitEthernet card/bay/port
4. channel-group # mode active"
Service policy for output traffic,service-policy output policy-map-name
"- Prioritizing voice, video, and AF1 traffic with different priority levels","- Class Voice set cos 2
- Class Video set cos 3
- Class AF1 account
- Class Class-default fragment BestEffort shape average 200000000 bandwidth remaining ratio 10
- Policy-map main-interface-out class voice priority level 1, class video priority level 2, class AF1 bandwidth remaining ratio 90, class data service-fragment BestEffort shape average 400000000 bandwidth remaining ratio 1"
Egress MQC queuing on port-channel subinterface for Quality of Service in Etherchannel Services.,Cisco ASR 1000 Series Routers with Cisco IOS XE Release 2.1.
"Egress MQC Queuing, QoS Policies Aggregation - Egress MQC queuing at subinterface, Ingress Policing and Marking on port-channel subinterface, Egress Policing and Marking","Port-Channel Member Link, Subinterface"
Egress MQC Queuing on Port-Channel Member Link,No Etherchannel Load Balancing
Apply an aggregate egress-queuing policy-map on a port-channel main interface or subinterface.,Not provided in the text.
Aggregate EtherChannel Quality of Service configuration,QoS on Ethernet Virtual Circuit (EVC) with an aggregate port-channel interface is not supported. Point-to-Point Protocol over Ethernet (PPPoE) and IP over Ethernet (IPoE) sessions in the context of the Intelligent Services Gateway (ISG) and Intelligent Wireless Access Gateway (iWAG) (with or without QoS) across an aggregate port-channel interface is not supported. Virtual Private LAN Services (VPLS) with QoS on an aggregate port-channel interface is not supported. Xconnect with QoS on an aggregate port-channel interface is not supported. The use of fragment and service-fragment Modular QoS CLI (MQC) keywords in conjunction with the aggregate port-channel interface type is not supported.
All the member links of a port channel must be of the same speed.,"Not supported to combine Gigabit Ethernet, Fast Ethernet, or Ethernet interfaces into the same port channel."
Supported Features for Aggregate EtherChannel Quality of Service,"Flow-based load balancing, up to three levels of hierarchy, configuration of shaping, absolute bandwidth, and relative bandwidth, a minimum amount of bandwidth for subclasses (VLANs), Input QoS (policing and marking), and output QoS (all queuing)"
Scalability for Aggregate EtherChannel Quality of Service,"• Up to 8 port channels
• Up to 4 member links in a port channel
• Member links can be split across multiple shared port adapters (SPAs) and SPA interface processor (SIP) cards"
Enable the aggregate port-channel interface for Quality of Service (QoS) on a platform.,"1. Enter global configuration mode with the command `router(config)# platform qos port-channel-aggregate`.
2. Specify the port-channel number using the command `port-channel-number`.
3. Enter interface configuration mode for the specific port channel using the command `interface port-channel port-channel-number`."
Attach a policy-map to an output interface as the service policy for that interface.,service-policy {output} policy-map
Unconfigure Aggregate EtherChannel Quality of Service,no platform qos port-channel-aggregate port-channel-number
Traffic policing and shaping for specific VLANs with different bandwidth limits.,"- Class prec2: Police cir percent 40
- Priority level 2
- Class prec3: Bandwidth remaining ratio 3
- Class class-default: Bandwidth remaining ratio 1
- Class vlan_2: Shape average 100000000, Service-policy child-vlan
- Class vlan_3: Shape average 200000000, Service-policy child-vlan
- Class vlan_4: Shape average 300000000, Service-policy child-vlan"
Unconfigure Aggregate EtherChannel Subinterface and Quality of Service,"1. no interface port-channel port-channel-number.subinterface
2. no platform qos port-channel-aggregate port-channel-number"
Configure Aggregate EtherChannel and Subinterface Quality of Service,"1. Configure Aggregate Port-Channel Interface:
   - Device# configure terminal
   - Device(config)# platform qos port-channel-aggregate 2
   - Device(config)# interface port-channel 2
2. Create Subinterfaces and assign VLANs:
   - Device(config-if)# interface GigabitEthernet1/1/1
   - Device(config-if)# channel-group 2
   - Device(config-if)# interface GigabitEthernet1/1/0
   - Device(config-if)# channel-group 2
3. Configure IP addresses for Subinterfaces:
   - Device(config-subif)# interface port-channel 2.200
   - Device(config-subif)# encapsulation dot1Q 200
   - Device(config-subif)# ip addr 15.0.1.2 255.255.255.0
   - Device(config-subif)# interface port-channel 2.300
   - Device(config-subif)# encapsulation dot1Q 300
   - Device(config-subif)# ip addr 15.0.2.2 255.255.255.0
4. Configure Class Map for QoS:
   - Device# configure terminal
   - Device(config)# class-map vlan_2
   - Device(config-cmap)# match vlan
   2
   - Device(config-cmap)# class-map vlan_3
   - Device(config-cmap)# match vlan
   3"
Configure QoS for a device using class-maps and policy-map.,"- Create class-maps for different precedence levels (prec1, prec2, prec3, prec4).
- Define Policy-Map subinterface_child with classes prec1, prec2, prec3, and prec4.
- Set police cir percent 30 for classes prec1 and prec2.
- Set priority level 1 for class prec1, priority level 2 for class prec2, and priority level 3 for class prec3."
Applying QoS to Port Channel Subinterface,"1. Apply policy-map sub_egress_policy with class class-default and bandwidth remaining ratio 3
2. Apply policy-map sub_ingress_policy with class class-default and police cir 80000000"
"Create a virtual template interface that can be configured and applied dynamically in creating virtual access interfaces, and enter interface configuration mode.","Device(config)# interface virtual-template number (e.g., Device(config)# interface virtual-template 99)"
1. Bandwidth remaining ratio configuration 2. Set precedence configuration 3. Policy-map for session parent and ingress with different class configurations 4. Shaping and policing configurations for VoIP and P2P traffic,"1. bandwidth remaining ratio 1 (for class-default) 2. set precedence 1 (for class-default) 3. policy-map session_parent and session_ingress with respective class configurations 4. Shape average 25000000 for session_parent 5. Police cir 256000 for VoIP traffic 6. Police cir 256000 and pir 512000 for P2P traffic 7. Conform-action and exceed-actions for different classes in session_ingress 8. Shape bandwidth remaining ratio 1 and conform-action, exceed-actions, and violate-action for class-default in session_parent"
Selective Packet Discard (SPD) mechanism manages the process level input queues on the RP. It provides priority to routing protocol packets and other important traffic control Layer 2 keepalives during periods of process level queue congestion.,Not provided in the text.
SPD state management based on the length of the IPv6 packet input queue,"- Normal: Process input queue is less than the SPD minimum threshold, no packets are dropped.
- Random drop: Process input queue is between the SPD minimum and maximum thresholds, normal priority packets may be dropped.
- Max: Process input queue is equal to the SPD maximum threshold, normal priority packets are discarded."
Configure the maximum and minimum number of packets in the SPD process input queue for IPv6.,"Set the 'ipv6 spd queue max-threshold value' and 'ipv6 spd queue min-threshold value' to desired values (e.g., 60000 and 4094)."
Enabling privileged EXEC mode and configuring SPD headroom size,"enable, configure terminal, spd headroom size"
Configure extended SPD headroom.,spd extended-headroom
The requirement is to extend the QoS Packet Matching Statistics feature to allow tracking of the number of packets and bytes matching individual access control elements (ACEs) used in a filter. This filter is part of the class-map definition of a quality of service (QoS) policy-map.,"The configuration involves using the show access-lists command to display per-ACE statistics, defining a QoS packet filter, and displaying the number of packets and bytes matching that filter."
Enabling Per ACE QoS Statistics feature on a device.,Configure the platform qos match-statistics per-filter command before configuring the platform qos match-statistics per-ace command.
Enabling QoS per-filter packet-matching statistics on the device,Configure the platform qos match-statistics per-filter command to enable QoS per-filter packet-matching statistics.
Support for per ACE QoS statistics in a given software release,"Cisco IOS XE Release 3.10S, platform qos match-statistics per-ace command"
Service rate and per-class restrictions for traffic sent to the provider.,"Policer (Policing) with a specified rate, e.g., policy-map police-all-traffic class class-default police 1m, which allows different treatment for packets depending on whether they are received above or below a specified rate."
Defining a burst tolerance (Bc) for conforming packets in a three-color policer.,Bc (Conforming Burst Size) - adjustable value depending on whether the policer is single or dual rate.
The maximum amount of data that can be forwarded in a given interval.,CIR (Committed Information Rate)
Policer with deferred action based on network congestion.,"Forward all traffic, mark packet differently for conforming and exceeding traffic (e.g., DSCP)."
"The requirement is to police traffic with a specified rate of 1 Mbps, where the conform-action is to transmit traffic that arrives at or below the rate and the exceed-action is to mark the packet's DSCP value for traffic exceeding 1 Mbps.","The configuration involves using the police command with the following actions: set-dscp-transmit for exceeding traffic, and conform-action for traffic at or below the specified rate."
Stores a tunnel IP Precedence value that will be written to a tunnel header if and when such a header is added to the current packet.,set-prec-transmit precedence-value
Transmits the packet without modifying any field therein.,"The rules for policer actions are very similar to those for the set command.
You can only mark Layer 2 and outer Layer 3 headers.
You must enter policy-map class police configuration (config-pmap-c-police) submode."
"Simultaneous configuration of multiple actions for the same packet or different traffic types, with options to cap, mark, or drop traffic based on specific criteria.","Using class-based policing, specify Conform-Action (e.g., set-cos-transmit, set-dscp-transmit, set-mpls-exp-topmost-transmit) and Exceed-Action (e.g., drop or transmit) for different traffic types like RTP, DSCP, EXP bits, etc."
Configure CLI variants for policing in Cisco IOS software releases.,"Police value, police cir value, and police rate value can be used to achieve the same result with optional cir and rate parameters. For example, use ""police [cir|rate] 10m"" to configure a rate of 10 Mbps."
"- Implement a policy map named ""policer-cli-example"" with three classes.","- Service-policy input: policer-cli-example
- Class-map: class-default (match-any)
- Policy:
  - cir 10000000 bps, bc 312500 bytes
  - rate 10000000 bps
- Match: any"
"To accommodate bursts yet enforce our predetermined CIR over time, we use a token bucket scheme.",Tokens are continuously replenished at CIR and the depth of the bucket is Bc. The policer assesses whether the bucket contains enough tokens (bytes) to cover that incoming packet (sufficient bytes to match the packet length).
Two-color policer for traffic classification,"- Conforming token bucket: Initially full (Bc - conforming burst size)
- Exceeding token bucket: Initially full (Be - excess burst size)
- Token overflow: From conforming to exceeding bucket if both are full when tokens arrive (at the CIR)"
Police traffic for class af41 to 10% of the interface's bandwidth.,"policy-map ingress-enforcement
class af41-metering
police cir percent 10 bc 5 ms be 10 ms
conform-action set-dscp-transmit af41
exceed-action set-dscp-transmit af42
violate-action drop"
QoS Packet Policing with Dual-Rate and Three-Color Policer,16.11.x (not enough information provided to specify the exact configuration)
"Traffic should be policed using a 2R3C policer to differentiate between conforming, exceeding, and violating traffic rates based on CIR and PIR values. The traffic rate between CIR and PIR should mark packets as exceeding.","cir (CIR) - Conformity Interface Rate, defining the maximum rate for conforming packets; Bc (Bc) - maximum value for conforming token buckets. pipir (PIR) - Peak Interface Rate, defining the maximum rate for exceeding packets; Be (Be) - maximum value for exceeding token buckets. PIR must be greater than CIR and overflow between buckets is disallowed."
"Dual-rate policer with actions for conforming, exceeding, and violating packets.","Configure to send packets that either conform or exceed (with decreased priority), and drop packets that violate."
"Implement Dual-Rate, Three-Color Policer for traffic management in a network with Cisco IOS XE.","```
policy-map ingress-enforcement
class af41-metering
  police cir 100k bc 3000 pir 150k be 3000 conform-action set-dscp-transmit af41
  exceed-action set-dscp-transmit af42 violate-action drop
```"
"Traffic policing based on bandwidth and burst size, with different DSCP markings for conforming, exceeding, and violating traffic.","Policer-Rate Calculation (Overhead Accounting) should include Layer 3 datagram, Layer 2 header lengths, but neither CRC nor inter-packet overhead."
Policing rate for Layer 3 and Layer 2 header length calculation to determine packets per second.,Policer configured at 500 Mbps on a GigabitEthernet interface with 100 byte IP datagrams and a 14-byte Ethernet Layer 2 header.
Calculate policer rate calculations for GRE/QoS Policy Length on ASR 1000 Series Aggregation Services Router.,"Include Layer 2 overhead and any tunnel headers in the policer rate calculations for tunnel interfaces, and exclude encryption overhead from policer rate calculations if encryption is configured."
"Layer 3 + 24 + 14, ip_gre",Not provided in the text
Include all inter-packet overhead such that a policer will allow up to 50% of the traffic on the physical link to be conforming.,Add 24 bytes per packet (user-defined 24) to address the 4 byte CRC and the 20-byte inter-packet overhead.
"The requirement is to configure a simple policy with a single-rate, two-color policer on a network device.","policy-map hardware-example
class class-default
police cir 1m bc 3000
Service-policy input: hardware-example
Class-map: class-default (match-any)
police:
cir 1000000 bps, bc 3000 bytes"
QoS Packet Policing with Rate and Burst Sizes Programmed in Hardware,"- Interface: GigabitEthernet1/0/0
- QFP interface: 9
- Direction: Input
- Hierarchy level: 0
- Policy name: hardware-example
- Class name: class-default
- Police:
  - cir: 1000000 bps
  - bc: 3264 bytes
  - pir: 0 bps
  - be: 3008 bytes"
Percentage-based Policing feature for traffic policing based on a percentage of available bandwidth.,"The same policy-map can be used for multiple interface types with differing amounts of bandwidth, making it unnecessary to recalculate the bandwidth for each interface or configure different policy-maps for each type of interface."
• Extract information about rate types for virtual circuits (VC) - VBR and ABR.,"• Use percentage-based policers for both CIR and PIR.
• Configure the Bc to 10 ms (relative to the police rate).
• Set the CIR to 10% of the available interface bandwidth."
Percent-based policer for QoS Packet Policing,Service-policy input: police-percent
Configure and apply QoS policies on network devices using Class-Based Weighted Fair Queuing (CBWFQ) with traffic policing.,"1. Define a class-map for the default class matching any traffic (match-any).
2. Set the offered rate to 13000 bps and drop rate to 0000 bps for the default class.
3. Configure police with cir 10% and bc 10 for the default class.
4. Set CIR and Bc converted to bps and bytes, respectively, based on a nominal bandwidth of 155 Mbps, CIR as 15.5 Mbps, and Bc as 19375 bytes for a POS OC3 interface.
5. Attach the police-percent policy to the interface."
"Color-aware policing implementation on ASR 1000, with support for QoS group matching and limited use of class-maps.","Supported features include classification based on qos-group, only one filter per color-aware class, ability to set qos-group using a child policy, no support for ""specific"" statistics, and inability to remove a color-aware map with the no class-map command if it is referenced in a policer."
"The requirement is to configure a color-aware policer in a class that matches all packets from one of the DSCP assured forwarding traffic classes, AF4.","The configuration involves creating class-maps and a child policy to specify pre-existing colors based on any field in the received packet. In this case, it is based on the DSCP value. The child policy mark-existing-color is used to classify packets based on the received DSCP, internally marking AF41 packets as qos-group 1 and AF42 packets as qos-group 2."
"Implement a Single-Rate, Color-Aware, Three-Color Policer to manage traffic based on DSCP values and QoS groups.","class-map af41
 match dscp af41
 class-map af42
 match dscp af42
 policy-map mark-existing-color
 class af41
 set qos-group 1
 class af42
 set qos-group 2
 policy-map dual-rate-color-aware
 class af4
 police cir 1m bc 5000 pir 2m be 5000
 conform-action set-dscp-transmit af41
 exceed-action set-dscp-transmit af42
 violate-action drop
 conform-color pre-conform exceed-color pre-exceed
 service-policy mark-existing-color"
Hierarchical policers for network admission control and traffic shaping for different classes of traffic,"- Policy-map: child
  - Class: voice
    - Police cir percent 10 bc 5 ms
- Policy-map: parent
  - Class: class-default
    - Police cir 50000000
  - Service-policy: child"
Ingress hierarchical policy containing only policers for exceeding 5 Mbps (10% of the parent).,"- Policy-map child
- Class AF41
  - Police 2m
- Class AF31
  - Police 2m
- Policy-map parent
  - Class AF41_or_AF31
    - Police 3m
- Service-policy child"
Implement hierarchical policing with AF31 and AF41 traffic rate control.,"- Child policy: AF31 policer - 2 Mbps rate, allows packets to pass through up to this rate.
- Parent policy: Both AF31 and AF41 traffic observation, parent policer - 3 Mbps rate, may drop packets if rate arriving is above this configured limit.
- Combined rate of AF31 and AF41 traffic from the child policy can be up to 4 Mbps (2 Mbps each)."
"Configuring and understanding percent-based policers in policy maps at different levels (child, grandchild) to allocate bandwidth based on available interface bandwidth or constrained class rates.","The configuration for this requirement would involve setting the percent-based policer at either the child or grandchild level, with the interpretation of the percent varying depending on whether a shaper or policer exists in the parent class. If present, the child policer CIR is a percentage of the shape or police rate in the parent level. If not, it is interpreted as a percentage of the interface bandwidth where the policy-map is attached. For grandchild levels, the configuration would first check for a shaper or policer at the child level and use that rate if found. If none exists, it would look to its class in the parent level for a rate or use the rate from the parent level's class."
1. Class AF12 with police cir percent 40,"1. Policy-map child
   - Class AF1
     - bandwidth percent 50
     - service-policy grandchild
   - Class class-default
     - shape average 50000000
     - service-policy child"
A requirement of the given text is to define a policy with conforming and exceeding actions for multiple interfaces.,"The configuration should have a service-policy applied to multiple interfaces, which includes class-maps, match conditions, policing (cir 20000000 bps, bc 625000 bytes), and conforming and exceeding actions (conform-action transmit, exceed-action drop)."
"A requirement is to configure a single-rate two-color policer that appears as a single-rate three-color policer in the output of the dataplane command. The requirement is to ensure that the hardware always operates in a three-color mode, and that the violate and exceed actions match for achieving two-color functionality.","The configuration provided in the text includes the class name (class-default) and policy name (simple_policer), as well as the green_qos_group and yellow_qos_group values set to 0. To achieve a single-rate two-color policer, you may need to adjust the actions for Exceed and Violate to match the desired behavior."
The requirement appears to be related to viewing hardware behavior in real time using dataplane commands and using the regular IOS show policy-map interface command for meaningful (persistent) statistics.,"The configuration example provided is about Simple Network Admission Control with a policer rate-limiting all traffic entering an interface, assuming the network will shape the traffic and use egress scheduling to apportion the contracted rate to different classes of traffic."
"Police all traffic to a contracted service-rate, assuming that the sender would apportion bandwidth within that rate.","```
policy-map ingress_cap_all_100m
class class-default
police cir 100000000
!
interface GigabitEthernet1/0/0
service-policy ingress_cap_all_100m
```

Example 2: Network Admission Control - Hierarchical Policers
The text for this example does not provide a specific requirement or configuration."
"Enforce a cap on an individual class of traffic within the contracted service-rate, and prioritize voice traffic.","1. Define a class-map for voice traffic (match-all with dscp ef).
2. Create a child policy to enforce 5 Mbps voice traffic.
3. Create a parent policy with a policy-map ingress_police_child and add the voice class, police cir percent 5 bc 5 ms.
4. Set up a policy-map for the parent policy with class class-default and police cir 100 Mbps (100000000).
5. Apply the service-policy ingress_police_child to the interface GigabitEthernet1/0/0."
Ensuring that any traffic admitted by the child policer is also admitted by the parent using a color-aware policer.,"A class-map and policy-map are used to enforce the 5Mbps voice traffic, marking voice traffic as Green (qos-group1) and other traffic as Yellow (qos-group2). The parent policer is configured with a CIR and PIR to ensure forwarding of Green traffic and enforcement of the contracted service-rate."
Configure a policer in the policy map ingress_police_parent with specific parameters.,"policy-map ingress_police_parent
class class-default
police cir 5m bc 3125 pir 100m be 625000
conform-action transmit
exceed-action transmit
violate-action drop
conform-color policer-green exceed-color policer-yellow
service-policy ingress_police_child"
"Single-Rate, Three-Color Policer with single line expression if only one action per designated conformance level.","- Police (cir | rate)cir[percent percent]
- Conform-burst [ms] (optional)
- Exceed-burst [ms] (optional)
- Account options (optional)"
"QoS Packet Policing using Single-Rate, Three-Color Policer",Not provided in the text
"Specify the Committed Information Rate (CIR) and configure actions for conforming, exceeding, and violating traffic.","cir <value>, Conform-Action <action>, Exceed-Action <action>, Violate-Action <action>"
Specifies IEEE 802.1Q VLAN encapsulation as the BRAS-DSLAM encapsulation type,dot1q
"Queue Limits to control the depth of queues, fair access to shared resources, and capping latency for congested queues in Cisco IOS XE devices.",The memory dedicated for storing packets is treated as a global pool available to all interfaces rather than carved or owned by individual interfaces.
Control packet drop in nearly full queues and prevent starvation for other interfaces.,"Use queue-limit to limit the latency for packets arriving at a nearly full queue and ensure that a single interface can't put too many packets into the shared memory, causing starvation for other interfaces."
"Tail Drop when the queue depth is already at the preconfigured limit, Out of Resources Drop if shared-packet memory is full.","show interface command to view drop in case QoS is not configured, class output of the show policy-map interface to view drop in case QoS is configured."
Review queue-limits to see if allowing an individual queue or interface to consume too much memory.,Lower the queue-limit for one or more queues. Limit packets from normal data queues to 85% of the total packet memory.
"The system should treat priority packets and data packets differently, allowing priority packets to be enqueued even when memory is nearly full.","Memory utilization threshold for dropping non-priority packets is set at 85%, and the vital threshold for dropping all user traffic (including priority packets) is set at 98% to ensure internal control packets can be enqueued."
QoS (Quality of Service) configuration for packet or byte mode in a queue depth reporting system.,The mode is set when a queue is created and can't be changed unless the policy-map is removed and reattached.
"A single queue should own the entire bandwidth of the interface, and when QoS is configured, visible bandwidth depends on the commands used.","Visible Bandwidth depends on the Commands used. The possible combinations are: 
1. shape rate
2. shape
3. bandwidth rate
4. bandwidth
5. bandwidth rate
6. shape and bandwidth
7. Inherited directly from the parent (if policy-map is attached to a physical interface or if the policy is a child policy with a parent shaper)"
Calculate default queue-limits based on interface speed and MTU.,"1. Queue shaped to 100 Mbps on a GigabitEthernet Interface.
2. Visible bandwidth would be the shape rate (100 Mbps) and the MTU would be 1500 bytes.
3. queue-limit = 100 Mbps / 8 bits * .05 sec / 1500 bytes = 416 packets.
4. If the calculated queue-limit is less than 64 packets, use 64 packets as the queue-limit."
Voice queue priority configuration with a queue-limit of 512 packets.,"Queue-limit = 512 packets, Mission-critical queue bandwidth rate = 50 Mbps (visible bandwidth = 50 Mbps), MTU = 1500 bytes."
"Queue-limit for class-default should be set as 416 packets based on visible bandwidth inherited from the shaper in the parent. Create 16 flow queues for that one class, with each individual flow queue having a queue-limit of 104 packets.","Class-default queue-limit (416 packets), Flow queue count (16), Individual flow queue queue-limit (104 packets)."
More granular control over how much packet memory a given queue may consume.,Experiment with increasing the queue-limit to find a point where drops are no longer seen but not use unreasonably large queue-limits that may in turn lead to OOR issues.
Change the queue's mode from packet to byte using the queue-limit command with the byte option.,policy-map byte-mode-example class critical-data bandwidth percent 50 queue-limit 5000 bytes
- QoS (Quality of Service) configuration for a router,"- policy-map time-mode-example
- class critical-data
- shape average 20m
- queue-limit 50 ms
- Queue Limit at 125000 bytes"
Change the queue limit for the interface default queue,attach a simple policy-map with class-default and set the queue-limit value
WRED configuration on the link connecting the router to the network.,Lower (minimum) threshold for determining congestion in the queue.
Average Queue Depth monitoring and adjustment using WRED Exponential Weighting Constant to dampen changes in queue depth.,WRED Exponential Weighting Constant.
Calculate average queue depth at the current enqueue time using Instantaneous and OldAvg values.,exp-weighting-constant (packet mode WRED on the ASR 1000 Router) - 6; exp-weighting-constant (byte mode) - 9
WRED (Weighted Random Early Detection) configuration for different IP precedence levels to optimize drop probability and threshold values based on queue limit and interface speed.,"Apply black curve for IP precedence 0 with a drop probability of 1 in 100 packets, mauve-colored curve for IP precedence 1 with a drop probability of 1 in 500 packets, and configure WRED to pick appropriate values for Min threshold, Max threshold, and Drop Probability based on the configured queue limit and interface speed."
"Change WRED drop curve for a particular DSCP, precedence or discard-class value.",random-detect [dscp|precedence|discard-class] value min-threshold max-threshold drop-probability
Provide preferential treatment to af11 over af12 under congestion by specifying a lower WRED maximum threshold for af12.,Change the maximum threshold for af12 from the default of 624 packets (for this bandwidth) to 580 packets.
WRED tail drop for af12 packets when average queue depth exceeds 580 packets.,"maxthreshold policy-map with class bulk-data, bandwidth percent 30, random-detect dscp-based, random-detect dscp af12 468 580 10."
Modifying maximum thresholds to ensure that behavior is as expected during congestion.,ECN mode must be explicitly enabled in WRED.
Queue Limits and WRED (Weighted Random Early Detection),"ECN (Explicit Congestion Notification) enabled for IOS XE Gibraltar 16.11.x, with a limit of 317 in place."
Create 8 distinct drop curves for each valid precedence value with the default minimum threshold increasing with the precedence value.,"Mode - Precedence, DSCP, and Discard-Class"
Implementing Weighted Random Early Detection (WRED) in a network device using IP precedence or MPLS EXP bits to determine the appropriate drop probability based on packet type.,"Enable WRED in a class that has a queuing action, including class-default, and use the random-detect command for WRED operation in precedence mode."
WRED (Weighted Random Early Detection) configuration for precedence-based mode.,"Service-policy output: wred-precedence-example
Class-map: bulk-data (match-all)
Queueing: Queue limit 4166 packets, Queue depth/total drops/no-buffer drops: 1308/0/0, Packets output/bytes output: 6468335/9702502500, Bandwidth remaining: 30%
Exp-weight-constant: 4 (1/16), Mean queue depth: 1308 packets"
Queue Limits and WRED (Weighted Random Early Detection),WRED Precedence Mode
Provide preferential treatment to af11 over af12 on the egress interface.,"Use WRED discard-class mode, mark discard-class on ingress interfaces with a sample policy."
"In this policy, traffic is categorized based on whether it conforms to the Contracted Information Rate (CIR), is between CIR and PIR, or violates the rate. The requirement is to correctly mark and handle traffic based on these categories.","- Conform-action set-discard-class-transmit 2
- Exceed-action set-dscp-transmit af12
- Exceed-action set-mpls-exp-imposition-transmit 1
- Exceed-action set-discard-class-transmit 1
- Violate-action drop"
Preferential treatment for egress interface traffic,"On the egress interface, configure WRED in discard-class-based mode using a policy map like wred-discard-class-example. Create a class map called bulk-data with bandwidth remaining percent set to 30 and random-detect discard-class-based. The output of show policy-map interface command will display information about the implemented policy map and its class maps."
WRED configuration in discard-class mode to manage traffic and create drop curves.,"discard-class 1 and discard-class 2 with specific thresholds, probabilities, and markings for in-contract and out-of-contract traffic."
Enabling and controlling WRED (Weighted Random Early Detection) with random-detect command and applying different modes.,"Using random-detect commands to enable WRED in precedence, DSCP, or discard-class mode, and using random-detect precedence value min-threshold max-threshold drop-probability command to tune WRED Drop Curve for a particular precedence value."
The Performance Routing Version 3 Configuration Guide is for network managers and administrators. This guide provides an overview on Performance Routing v3 and describes how to configure performance routing v3 on Cisco devices.,"The document does not explicitly provide a specific configuration for the requirement mentioned. However, it mentions the following chapters in the document:
1. Configuring Performance Routing v3
2. Performance Routing v3 Transit Site Support
These chapters likely provide information on how to configure and verify different components of PfRv3."
"Centralized provisioning, Simple provisioning, Enterprise domain, Application and DSCP-based policies, Automatic discovery, Scalable passive monitoring",Not provided in the text.
"Implement a network with PfRv3 for an enterprise organization that has a hub and branch site. The network should support smart probing, scaling up to 2000 branches, and VRF awareness.","Requirement: Implement a network with PfRv3 for an enterprise organization that has a hub and branch site. The network should support smart probing, scaling up to 2000 branches, and VRF awareness.

Configuration: All policies are created on the hub-master controller, which dictates the desired treatment for differentiated service code points (DSCPs) or application IDs such as telepresence, WebEx, etc. These policies are percolated to all the master controllers on the network."
"Border devices must establish a connection with local-master controller only if they are in the same domain. When master and border configurations are on different domains, peering rejects messages from different peers, causing border devices to shut down for five minutes until the domain conflict is resolved.","The connection between the border devices and the local-master controller is established using a TCP connection. This connection allows for tasks such as sending configuration and control information from the master controller to the branch router, and flow information from the branch router to the master controller."
Device setup and role in PfRv3 configuration,Hub-master controller and Hub-border router roles in the network
"Branch-border router configuration, enabling PfRv3 border-master controller.",Enabling PfRv3 border-master controller on the device.
Define customized user-defined policy values for PfRv3 and link group configuration.,"Allows up to five primary path preferences and four fallback path preferences, allows a fallback blackhole configuration, and allows a fallback routing configuration. During Policy Decision Point (PDP), the exits are sorted on available bandwidth, and primary path preferences are placed in front of fallback preferences. If configured with primary Internet Service Provider (ISP) 1 and ISP2 as fallback, during policy decision, ISP1 is selected as the primary channel and if ISP2 is equally good, it is selected as the fallback. ISP3 is considered only if ISP2 is bad in bandwidth availability. Routing configuration means that when traffic is uncontrolled, the routing table takes responsibility for pushing."
Configure the prefix-list containing a list of site prefixes on the device using the enterprise-prefix command.,device(config-domain-vrf-mc)# enterprise-prefix prefix-list ENTERPRISE site-prefixes prefix-list site -list
Define a static site-prefix for the local site and disable automatic site-prefix learning on the border router. This is required for hub and transit sites only.,prefix-list Data_Center_1
"Configure PfRv3 on the hub-border router with the source interface, IP address of the hub-master controller, and path name on external interfaces.","1. Enable
2. Configure terminal
3. Interface loopback interface-number
4. IP address ip-address-mask
5. Exit
6. Domain {domain-name | default}
7. Border
8. Source-interface loopback interface-number
9. Master [ip-address | local]
10. Exit
11. Exit
12. Exit
13. Interface tunnel-name
14. IP address ip-address mask
15. Domain domain-name path path-name"
Configure an IP address for an interface on the hub-border router (Border Router 1).,"Device(config)# interface Loopback0
Device(config-if)# ip address 10.8.1.1 255.255.255.255"
Configure the IP address of the hub-master controller and set the local domain master controller as the master.,"master [ip-address | local] (e.g., Device(config-domain-vrf-br)# master 10.8.3.3 or Device(config-domain-vrf-br)# master local)"
Configure default Virtual Routing and Forwarding (VRF) instances for the default or specific domain.,Device(config-domain)# vrf {vrf-name | default}
Load balancing configuration,"Enters policy class configuration mode using ""class class-name sequence sequence-number"" command. Class-name value must be in all capitals. Configure policy on per DSCP basis with ""match {application | dscp} services-value policy"" command. Example: Device(config-domain-vrf-mc)# class VOICE sequence 10."
Configuring path preference for applications.,path-preference path-name fallback path-name
Configure the IP address of the hub-master controller for setting up the branch-master controller.,"1. enable
2. configure terminal
3. interface loopback interface-number
4. ip address ip-address-mask
5. domain {domain-name | default}
6. vrf {vrf-name | default}"
Configure the loopback used as a source for peering with other sites or master controller.,source-interface loopback interface-number
Border router must register to the local master controller and can use either the global routing table (default VRF) or define specific VRFs for border routers.,"1. enable
2. configure terminal
3. domain {domain-name | default}
4. vrf {vrf-name | default}
5. border
6. source-interface loopback interface-number
7. master ip-address
8. end"
Configure the loopback address used as a source for peering with other sites or the master controller.,Device(config-domain-vrf)# border; source-interface loopback interface-number
Enable privileged EXEC mode on a device and configure an IP address for an interface on the branch master controller.,"1. Enter your password if prompted.
2. Device> enable
3. Enters global configuration mode.
   configure terminal
4. Device# configure terminal
5. Enters interface configuration mode.
   interface loopback interface-number
6. Device(config)# interface Loopback0
7. Configures an IP address for an interface on the branch master controller.
   ip address ip-address-mask
8. Device(config-if)# ip address 10.2.12.12 255.255.255.255
9. Exits interface configuration mode and returns to global configuration mode.
   exit
10. Device(config-if)# exit"
"Configure the master type of a device as a branch and set the loopback used as a source for peering with other sites or master controller, configure the IP address of the hub-master controller.","1. Device(config-domain-vrf-br)# master local
2. Device(config-domain-vrf-mc)# master branch
3. Device(config-domain-vrf-mc)# source-interface loopback interface-number
4. Device(config-domain-vrf-mc)# hub ip-address
5. Device(config-domain-vrf-mc)# hub 10.8.3.3"
Policy threshold per class based on either DSCP or application,Class default is enabled
Load balancing of default-class traffic among all external interfaces in the master controller,Enabled load balancing for default-class traffic on external interfaces
Show domain one master exits,"BR address: 10.8.2.2, Name: Tunnel200, Type: External, Path: INET, Egress capacity: 50000 Kbps, Egress BW: 17514 Kbps, Ideal: 17948 Kbps, Under: 434 Kbps, Egress Utilization: 35%, DSCP: cs4[32]-Number of Traffic Classes[1], DSCP: af41[34]-Number of Traffic Classes[1], DSCP: cs5[40]-Number of Traffic Classes[1], BR address: 10.8.1.1, Name: Tunnel100, Type: External, Path: MPLS, Egress capacity: 100000 Kbps, Egress BW: 36331 Kbps, Ideal: 35896 Kbps, Over: 435 Kbps, Egress Utilization: 36%, DSCP: cs1[8]-Number of Traffic Classes[1], DSCP: af11[10]-Number of Traffic Classes[1], DSCP: af31[26]-Number of Traffic Classes[1], DSCP: ef[46]-Number of Traffic Classes[1]"
Configuration of service family for IPv4 autonomous system 59501 with Loopback0 interface and hello-interval and hold-time settings.,"service-family ipv4 autonomous-system 59501
sf-interface Loopback0
hello-interval 120
hold-time 600"
Verifying Hub Border Router Configurations,"The hub-border routers should have the following configurations checked using the provided show commands:
1. Border status is UP
2. External interfaces are listed with the right path names
3. Minimum requirement is met"
"The requirement is to ensure that the hub-border router is configured accurately by checking the following fields in the output: Peering status, PMI status, Site-perfix status, and Globals service status.","The configuration involves using the command ""show domain domain-name border peering"" to display the border router peering status."
Smart Probe Configuration for PfRv3,"Total number of PfRv3 smart probes: 1; vrf id: 0; Probe src: 10.8.3.3; Src port: 18000, Dst port: 19000; Unreach time: 1000; Probe period: 500; Discovery: false; Dscp bitmap: 0xffffffffffffffff; interval: 10000; Discovery_probe: true; minimum prefix length: 28"
Displaying PfRv3 smart probe status on a Cisco ASR 1000 Series Aggregation Services Router configured at the hub site.,"- Total number of PfRv3 smart probes: 1
- vrf id: 0
- Probe src: 10.8.3.3
- Src port: 18000, Dst port: 19000
- Unreach time: 1000
- Probe period: 500
- Discovery: false
- Dscp bitmap: 0xffffffffffffffff
- interval: 10000
- Discovery_probe: true
- minimum prefix length: 28"
Display platform hardware information on a Cisco ASR 1000 Series Aggregation Services Router configured at the hub site using PfRv3 QFP Client Global detail command.,"Number of Instances: 1, Instance hash val: 5, tbl id: 0, symmetry: Off, discovery: Off, discovery_probe: On, probe info: probe src: 10.8.3.3, src port: 18000, dst port: 19000, unreach time: 1000, probe period: 500, dscp bitmap: 0xffffffffffffffff, interval: 10000, mml: 28, exmem info: PPE addr: 0xe80b7830"
"Verify the branch-master controller configurations using the show commands and ensure that the external interfaces are listed with correct path names, minimum requirements are met, and path names are correct.","Use the ""show domain domain-name master status"" command to display the status information of the branch-master controller."
Tunnel configuration,"Requirement: Tunnel configuration
Configuration: Tunnel100 (External, MPLS, Status: UP), Tunnel200 (External, INET, Status: UP)"
Check the status information of branch-border routers.,"Use the ""show domain domain-name border status"" command to display the status information of the branch-border routers and check for Border Status UP, External interfaces with the right path names, and Minimum Mask length."
The system should display the IP address of the local-master controller and the connection status with the master controller. It should also display information about external WAN tunnel interfaces connected to the branch-master controller.,"To display the SAF peering information of the local master controller, use the command ""show eigrp service-family ipv4 neighbors detail""."
Flow Exporter configuration for different Flow Records and Flow Monitors,"1. CENT-FLOWREC-Egress-aggregate-0-11
   - Flow Exporter: CENT_FLOW_EXP-2
   - Cache type: synchronized
   - Entries: 4000
   - Interval: 30 seconds
   - History size: 0 intervals
   - Timeout: 1 interval
   - Export spreading: TRUE
   - Interface applied: 2

2. Flow Monitor type performance-monitor MON-Egress-prefix-learn-0-48-10
   - Flow Record: CENT-FLOWREC-Egress-prefix-learn-0-12
   - Flow Exporter: CENT_FLOW_EXP-2
   - Cache type: synchronized
   - Entries: 700
   - Interval: 30 seconds
   - History size: 0 intervals
   - Timeout: 1 interval
   - Export spreading: FALSE
   - Interface applied: 2

3. Flow Monitor type performance-monitor MON-Ingress-per-DSCP-0-48-11
   - Flow Record: CENT-FLOWREC-Ingress-per-DSCP-0-13
   - Flow Exporter: not configured
   - Cache type: synchronized
   - Entries: 2000
   - Interval: 30 seconds
   - History size: 0 intervals
   - Timeout: 1 interval
   - Export spreading: FALSE
   - Interface applied: not configured"
Prefix status information of the hub master controller.,HubMC# show domain one master site-prefix
"MPLS Service for 59 seconds, BW Used: 309 Kbps, Destination Site ID: 10.2.10.10","Current WAN interface: Tunnel100 in Border 10.8.2.2, Primary Channel: 76, Backup Channel: 73"
Channel configuration and monitoring information for domain one master channels in the INET network.,"- Channel Id: 25
- Dst Site-Id: 10.2.10.10
- Link Name: INET
- DSCP: default [0]
- TCs: 0
- Channel Created: 13:39:27 ago
- Operational state: Available but unreachable"
Display border site exporter statistics information.,"Process ID: SEND=176, RECV=523, Interface: Tunnel200 (index=15, service provider=INET), Bandwidth: Ingress=23464 Kbit/sec, Capacity=50000 Kbit/sec, Egress =7609 Kbit/sec, Capacity=50000 Kbit/sec"
Show Domain One Border Channels Parent Route,"Requirement: Show Domain One Border Channels Parent Route
Configuration:
- Channel id: 21, Dscp: defa [0], Site-Id: 255.255.255.255, Path: INET, Interface: Tunnel200
- Nexthop: 0.0.0.0
- Protocol: None
- Channel id: 23, Dscp: defa [0], Site-Id: 10.2.11.11, Path: INET, Interface: Tunnel200
- Nexthop: 10.0.200.11
- Protocol: BGP
- Channel id: 25, Dscp: defa [0], Site-Id: 10.2.10.10, Path: INET, Interface: Tunnel200
- Nexthop: 10.0.200.10
- Protocol: BGP
- Channel id: 88, Dscp: cs4 [20], Site-Id: 10.2.10.10, Path: INET, Interface: Tunnel200
- Nexthop: 10.0.200.10
- Protocol: BGP
- Channel id: 91, Dscp: ef [2E], Site-Id: 10.2.10.10, Path: INET, Interface: Tunnel200
- Nexthop: 10.0.200.10
- Protocol: BGP
- Channel id: 92, Dscp: af11 [A], Site-Id: 10.2.10.10, Path: INET, Interface: Tunnel200
- Nexthop: 10.0.200.10
- Protocol: BGP"
Optimize WAN reliability and bandwidth for video-based applications in a large enterprise network between headquarter site and branch sites.,Not provided in the text. The given text does not specify a particular configuration for achieving the mentioned requirement.
Configuring Performance Routing Version 3,Not specified in the text
"The requirement is to configure the Hub Master Controller (Cisco ASR 1002-X router) with specific bandwidth and memory options, as well as setting up the device as a hub-master controller within the domain ""one"" using an appropriate VRF configuration.","1. Enable and configure terminal on Hub Master Controller.
2. Configure interface Loopback0 with IP address 10.8.3.3 and subnet mask 255.255.255.255.
3. Set the device as a hub-master controller within domain ""one"" using VRF configuration."
Configure IP prefix-lists for the data center and enterprise.,"1. Configure the DATA_CENTER_1 prefix-list with sequence number 5, permitting the IP range of 10.8.0.0/16 with a maximum prefix length of 24.
   HubMC(config)# ip prefix-list DATA_CENTER_1 seq 5 permit 10.8.0.0/16 le 24

2. Configure the ENTERPRISE prefix-list with sequence number 5, permitting the IP range of 10.0.0.0/8 with a maximum prefix length of 24.
   HubMC(config)# ip prefix-list ENTERPRISE seq 5 permit 10.0.0.0/8 le 24"
Configure the interfaces on hub border router (BR1) and set up MPLS path preference.,"1. Enable BR1.
2. Configure terminal.
3. Create a Loopback0 interface with IP address 10.8.1.1.
4. Exit from the configuration mode of Loopback0.
5. Enter domain one.
6. Set up the VRF as default.
7. Configure the border settings for the domain.
8. Set the source interface to Loopback0.
9. Set the master IP address to 10.8.3.3.
10. Exit from the border configuration.
11. Configure tunnel from BR1 to DMVPN1 (MPLS)Link."
Configure the interfaces on hub border router (BR1) and configure the device as border router (BR2).,"BR1:
1. ip nhrp authentication cisco
2. ip nhrp map multicast dynamic
3. ip nhrp network-id 1
4. ip nhrp holdtime 600
5. ip tcp adjust-mss 1360
6. load-interval 30
7. tunnel source GigabitEthernet3
8. tunnel mode gre multipoint
9. tunnel key 100
10. tunnel protection ipsec profile DMVPN-PROFILE1

BR2:
1. Configure the interfaces on hub border router (BR2)
   - Enable BR2
   - Configure terminal
   - interface Loopback0
     - ip address 10.8.2.2 255.255.255.255
   - exit
2. Configure the device as border router (BR2)
   - domain one
3. Configure the domain as default VRF
   - vrf default
4. Configure the border settings for VRF 'border'
   - source-interface Loopback0
   - master 10.8.3.3"
Configure a GRE multipoint tunnel with IPsec protection and specific settings on Branch Routers.,"- bandwidth 50000
- ip address 10.0.200.85 255.255.255.0
- no ip redirects
- ip mtu 1400
- ip nhrp authentication cisco
- ip nhrp map multicast dynamic
- ip nhrp network-id 2
- ip nhrp holdtime 600
- ip tcp adjust-mss 1360
- load-interval 30
- delay 1000
- tunnel source GigabitEthernet3
- tunnel mode gre multipoint
- tunnel key 200
- tunnel protection ipsec profile DMVPN-PROFILE2
- domain one path INET"
Configure the tunnel interface and tunnel path on R10.,"- Interface Tunnel100
  - Bandwidth: 100000
  - IP address: 10.0.100.10/24
  - No IP redirects
  - IP MTU: 1400
  - IP NHRP authentication: cisco
  - IP NHRP map: 10.0.100.84 to 172.16.84.4 and multicast mapping to 172.16.84.4
  - IP NHRP network-id: 1
  - IP NHRP holdtime: 600
  - IP NHRP nhs: 10.0.100.84
  - IP NHRP registration timeout: 60
  - IP TCP adjust-mss: 1360
  - Load-interval: 30
  - Delay"
"Configure a multipoint GRE tunnel on R10 using IPSec protection with DMVPN-PROFILE1 and DMVPN-PROFILE2, and configure the interface Tunnel200 on R10 with bandwidth 50000, IP address 10.0.200.10/24, no IP redirects, MTU 1400, NHRP authentication cisco, NHRP map, multicast, network-id 2, holdtime 600, NHRP nhs, adjust MSS to 1360, load-interval 30, delay 1000, source interface GigabitEthernet3, and tunnel key 200.","```
R10(config)# interface Tunnel200
R10(config-if)# bandwidth 50000
R10(config-if)# ip address 10.0.200.10 255.255.255.0
R10(config-if)# no ip redirects
R10(config-if)# ip mtu 1400
R10(config-if)# ip nhrp authentication cisco
R10(config-if)# ip nhrp map 10.0.200.85 172.16.85.5
R10(config-if)# ip nhrp multicast 172.16.85.5
R10(config-if)# ip nhrp network-id 2
R10(config-if)# ip nhrp holdtime 600
R10(config-if)# ip nhrp nhs 10.0.200.85
R10(config-if)# ip tcp adjust-mss 1360
R10(config-if)# load-interval 30
R10(config-if)# delay 1000
R10(config-if)# tunnel source GigabitEthernet3
R10(config-if)# tunnel mode gre multipoint
R10(config-if)# tunnel key 200
R10(config-if)# tunnel protection ipsec profile DMVPN-PROFILE2
```"
Configure the IP address on Loopback0 interface with the address 10.2.11.11 and netmask 255.255.255.255 for Performance Routing Version 3.,R11(config)# interface Loopback0; R11(config-if)# ip address 10.2.11.11 255.255.255.255;
Configure the device as branch master controller (R11) and set up the tunnel interface and tunnel path from R11.,"1. Set domain name for R11:
   - domain one
   - vrf default
   - border
   - source-interface Loopback0
   - master local
   - exit
   - master branch
   - source-interface Loopback0
   - hub 10.8.3.3
2. Configure the tunnel interface and tunnel path from R11:
   - interface Tunnel100
   - bandwidth 100000
   - ip address 10.0.100.11 255.255.255.0
   - no ip redirects
   - ip mtu 1400
   - ip nhrp authentication cisco
   - ip nhrp map 10.0.100.84 172.16.84.4
   - ip nhrp map multicast 172.16.84.4
   - ip nhrp network-id 1
   - ip nhrp holdtime 600
   - ip nhrp nhs 10.0.100.84
   - ip nhrp registration timeout 60
   - ip tcp adjust-mss 1360"
- Configure another tunnel path from R11 with the IP address 10.0.200.11 and network ID 2,"- Interface: Tunnel200
- Bandwidth: 50000
- IP Address: 10.0.200.11 255.255.255.0
- No IP Redirects
- IP MTU: 1400
- IP NHRP Authentication: cisco
- IP NHRP Map: 10.0.200.85 172.16.85.5
- IP NHRP Multicast: 172.16.85.5
- IP NHRP Network ID: 2
- IP NHRP Holdtime: 600
- IP NHRP NHS: 10.0.200.85
- IP TCP Adjust-MSS: 1360
- Load Interval: 30
- Delay: 1000
- Tunnel Source: GigabitEthernet3
- Tunnel Mode: gre multipoint
- Tunnel Key: 200
- Tunnel VRF: INET2
- Tunnel Protection IPsec"
Configure the device as branch master controller (R12).,"1. Enable the device with ""enable"" command.
2. Enter configuration mode with ""configure terminal"" command.
3. Enter interface configuration mode for Loopback0 with ""interface Loopback0"" command.
4. Set the IP address for Loopback0 with ""ip address 10.2.12.12 255.255.255.255"" command.
5. Exit interface configuration mode with ""exit"" command.
6. Enter domain configuration mode with ""domain one"" command.
7. Configure the VRF default with ""vrf default"" command.
8. Set the border configuration with ""border"" command.
9. Set the source-interface to Loopback0 with ""source-interface Loopback0"" command.
10. Set the master local configuration with ""master local"" command.
11. Exit domain configuration mode with ""exit"" command.
12. Configure the VRF master branch with ""master branch"" command.
13. Set the source-interface to Loopback0 for the VRF master branch with ""source-interface Loopback0"" command.
14. Set the hub IP address to 10.8.3.3 with ""hub 10.8.3.3"" command.

To configure the tunnel interface and tunnel path from R12:
15. Enter interface configuration mode for Tunnel100 with ""interface Tunnel100"" command.
16. Set the bandwidth to 100,000 with ""bandwidth 100000"" command.
17. Set the IP address for Tunnel100 with ""ip address 10.0.100.13 255.255.255.0"" command.
18. Disable IP redirects with ""no ip redirects"" command.
19. Set the IP MTU to 1400 with ""ip mtu 1400"" command.
20. Set the IP NHRP authentication to cisco with ""ip nhrp authentication cisco"" command.
21. Configure the IP NHRP map for 10.0.100.84 with ""ip nhrp map 10.0.100.84 172.16.84.4"" command.
22. Configure the IP NHRP map multicast for 172.16.84.4 with ""ip nhrp map multicast 172.16.84.4"" command.
23. Set the IP NHRP network-id to 1 with ""ip nhrp network-id 1"" command.
24. Configure the IP NHRP holdtime with ""ip nhrp holdtime"" command."
"Configure an interface with specific IP, NHRP settings, and tunnel settings.","- ip address 10.0.200.13 255.255.255.0
- no ip redirects
- ip mtu 1400
- ip nhrp authentication cisco
- ip nhrp map 10.0.200.85 172.16.85.5
- ip nhrp multicast 172.16.85.5
- ip nhrp network-id 2
- ip nhrp holdtime 600
- ip nhrp nhs 10.0.200.85
- ip tcp adjust-mss 1360
- load-interval 30
- delay 1000
- tunnel source GigabitEthernet6
- tunnel mode gre multipoint
- tunnel key 200
- tunnel vrf INET2
- tunnel protection ipsec profile DMVPN-PROFILE2"
External MPLS tunnel with 3 default channels and Tunnel ID Tunnel0,Not provided in the text
EIGRP configuration for autonomous system 59501 with Loopback0 as the sf-interface.,"router eigrp #AUTOCFG# (API-generated auto-configuration, not user configurable); service-family ipv4 autonomous-system 59501; sf-interface Loopback0; hello-interval 120; hold-time 600; exit-sf-interface"
Extended IP access list (mmadvmc-acl#3) with specific deny rules.,"dynamic, deny ip any 224.0.0.0 15.255.255.255 (Rule 10), deny ip any any dscp cs6 (Rule 20)."
Traffic class configuration for video content,"DSCP: cs4 [32], Traffic class id:200, TC Learned: 00:06:00 ago, Present State: CONTROLLED, Current Performance Status: in-policy, Current Service Provider: MPLS, Previous Service Provider: INET (fallback), BW Used: 309 Kbps, Present WAN interface: Tunnel100 in Border 10.8.2.2, Present Channel (primary): 76, Backup Channel: 73, Destination Site ID: 10.2.10.10, Class-Sequence in use: 20, Class Name: VIDEO using policy User-defined, priority 2 packet-loss-rate threshold 5.0 percent, priority 1 one-way-delay threshold 150"
Priority and byte-loss-rate threshold,"priority 2, byte-loss-rate threshold 5.0 percent"
Clock timezone set to CST and time 8 0.,"No IP domain lookup, subscriber templating enabled, multilink bundle-name authenticated, VRF default, master hub with source-interface Loopback0, site-prefixes prefix-list DC1_PREFIX, monitor-interval for DSCP CS5 and EF, load-balancing, enterprise-prefix prefix-list ENTERPRISE_PREFIX, class VOICE sequence 10 with match DSCP EF policy custom, priority 2 loss threshold 5, priority 1 one-way delay threshold 150, path-preference MPLS fallback INET, class VIDEO sequence 20 with match DSCP AF41 policy custom, priority 2 loss threshold 5, priority 1 one-way delay threshold 150, match DSCP CS4 policy custom, priority 2 loss threshold 5, priority 1 one-way delay threshold 150, path-preference INET fallback MPLS, class CRITICAL sequence 30 with match DSCP AF31 policy custom, priority 2 loss threshold 10, priority 1 one-way delay threshold 600, path-preference MPLS fallback INET.
License: UDI PID CSR1000V, SN 90KU0SDCWNB, boot level AX.
Spanning-tree extend enabled."
Loopback interface with IP address 10.8.3.3 and subnet mask 255.255.255.255,"- interface Loopback0
- ip address 10.8.3.3 255.255.255.255"
- No IP domain lookup,"- License UDI PID CSR1000V SN 952V3LWQECD, license boot level ax
- Spanning-tree extend system-id
- Redundancy mode none
- IP FTP source-interface GigabitEthernet1
- IP FTP username mgcusr
- IP FTP password mgcusr
- IP TFTP source-interface GigabitEthernet1
- Crypto keyring DMVPN-KEYRING1, pre-shared-key address 0.0.0.0 0.0.0.0 key cisco123
- Crypto ISAKMP policy 10, encr AES, authentication pre-share, crypto ISAKMP performance, crypto ISAKMP profile ISAKMP-INET1, match identity address 0.0.0.0
- Crypto IPsec security-association replay disable, crypto IPsec security-association replay window-size 1024
- Crypto IPsec transform-set AES256/SHA/TRANSPORT esp-aes 256 esp-sha-hmac mode transport
- Crypto IPsec profile DMVPN-PROFILE1, set transform-set AES256/SHA/TRANSPORT, set isakmp-profile"
"Tunnel configuration for interface Tunnel100 with IP address 10.0.100.84, bandwidth of 100,000, and IP MTU of 1400.","Tunnel mode is GRE multipoint, tunnel key is 100, tunnel protection is IPSec profile DMVPN-PROFILE1, domain one path is MPLS, and NHRP parameters are set with network-id 1, holdtime 600, and redirection enabled."
Configure the interface with a specific IP subnet and set the speed and negotiation settings for Gigabit Ethernet interfaces.,"ip address (specific subnet), speed, no negotiation auto"
"Configure EIGRP, OSPF, and BGP routing protocols with specific parameters.","1. EIGRP:
   - Autonomous System number: 100
   - Network address and mask: 10.8.2.2/32, 10.8.24.0/24
2. OSPF:
   - Autonomous System number: 100
   - Router ID: 10.8.1.1
   - Network address and area: 172.16.84.4/32 in area 0
3. BGP:
   - Autonomous System number: 10
   - Router ID: 10.8.1.1
   - Log neighbor changes
   - Redistribute EIGRP with metric 90 210
   - Peer-group MPLS-SPOKES with remote AS 10
   - Timers 20 60 for peer-group MPLS-SPOKES
   - Address-family IPv4 configurations:
     * Redistribute internal BGP routes
     * Networks and masks: 10.8.1.1/32, 10.8.3.3/32, 10.8.101.0/24, 10.8.102.0/24, 10.8.103.0/24, 10.8.104.0/24
   - Aggregate address: 10.8.0.0/16 with summary-only
   - Activate and configure send-community, default-originate, route-maps MPLS-DC1-IN, and MPLS-DC1-OUT for peer-group MPLS-SPOKES"
Configure an interface with a specific IP address and subnet mask.,"Requirement: Configure an interface with a specific IP address and subnet mask.
Configuration:
```
interface GigabitEthernet3
ip address 101.1.4.2 255.255.255.0
speed 1000
no negotiation auto
```"
"Implement an EIGRP, OSPF, and BGP routing configuration on a router with specific parameters and peer groups.","EIGRP Configuration:
- Router ID: 10.8.2.2
- Networks: 10.8.1.1/32, 10.8.25.0/24
- Redistribute BGP 10 with metric 100000 1 255 255 1500
- Distance for EIGRP: 90/210

OSPF Configuration:
- VRF: INET2
- Router ID: 10.8.2.2
- Networks: 172.16.85.5/32 in area 0

BGP Configuration:
- BGP ID: 10.8.2.2
- Log neighbor changes
- Peer group INET-SPOKES with AS 10, timers 20 60
- Redistribute internal with AF IPv4
- Networks: 10.8.2.2/32, 10.8.3.3/32, 10.8.101.0/24, 10.8.102.0/24, 10.8.103.0/24, 10.8.104.0/24
- Aggregate address: 10.8.0.0/16 with summary-only
- Peer group INET-SPOKES activation and send-community enabled
- Route maps INET-DC1-IN and INET-DC1-OUT applied for INET-SPOKES peer group"
Set the next-hop to be the same device and do not advertise specific routes.,"set ip next-hop self, set community no-advertise"
"FTP and TFTP server configuration with username ""mgcusr"" and source interface GigabitEthernet1.",ip ftp username mgcusr; ip ftp password mgcusr; ip tftp source-interface GigabitEthernet1
Adjust MSS to 1360 and set Load Interval to 30.,"ip tcp adjust-mss 1360; load-interval 30.

Requirement: Set Tunnel Source to GigabitEthernet2 and Tunnel Mode to gre multipoint with a key of 100.
Configuration: tunnel source GigabitEthernet2; tunnel mode gre multipoint; tunnel key 100.

Requirement: Protect the tunnel using IPsec profile DMVPN-PROFILE1.
Configuration: tunnel protection ipsec profile DMVPN-PROFILE1.

Requirement: Set Bandwidth to 50,000 on interface Tunnel200.
Configuration: bandwidth 50000; interface Tunnel200.

Requirement: Configure IP Address and Subnet Mask for interface Tunnel200 as 10.0.200.10/24.
Configuration: ip address 10.0.200.10 255.255.255.0; interface Tunnel200.

Requirement: Disable IP Redirects for interface Tunnel200.
Configuration: no ip redirects; interface Tunnel200.

Requirement: Set MTU to 1400 and enable NHRP Authentication for Cisco on interface Tunnel200.
Configuration: ip mtu 1400; ip nhrp authentication cisco; interface Tunnel200.

Requirement: Configure NHRP Map to 10.0.200.85 with Next Hop IP Address 172.16.85.5 and enable Multicast Mapping.
Configuration: ip nhrp map 10.0.200.85 172.16.85.5; ip nhrp map multicast 172.16.85.5; interface Tunnel200.

Requirement: Set NHRP Network-ID to 2 and holdtime to 600 for interface Tunnel200.
Configuration: ip nhrp network-id 2; ip nhrp holdtime 600; interface Tunnel200.

Requirement: Configure NHRP Registration Timeout for Tunnel200 and enable Shortcuts.
Configuration: ip nhrp registration timeout 60; ip nhrp shortcut; interface Tunnel200.

Note: The provided text contains multiple configurations and requirements, so only a few examples are shown here."
"Configure an interface with encapsulation dot1Q 100, IP address 10.1.10.1, and a subnet mask of 255.255.255.0 on GigabitEthernet5.100.","Requirement: Configure an interface with encapsulation dot1Q 100, IP address 10.1.10.1, and a subnet mask of 255.255.255.0 on GigabitEthernet5.100.
Configuration:
```
interface GigabitEthernet5.100
encapsulation dot1Q 100
ip address 10.1.10.1 255.255.255.0
```"
"Configure OSPF and BGP routing protocols with specific network addresses, router IDs, and area configurations.","1. Configure OSPF:
   - Network address: 172.16.102.10/30
   - Area: 0
   - Router-ID: 10.2.10.10
2. Configure BGP:
   - Autonomous System Number: 10
   - Router-ID: 10.2.10.10
   - Log neighbor changes
3. Configure OSPF peer-group MPLS-HUB:
   - Neighbor address: 10.0.100.84
   - Peer-group: MPLS-HUB
   - Remote AS number: 10
   - Timers: 20 (hold time) and 60 (wait time)
4. Configure BGP peer-group INET-HUB:
   - Neighbor address: 10.0.200.85
   - Peer-group: INET-HUB
   - Remote AS number: 10
   - Timers: 20 (hold time) and 60 (wait time)"
CSR1000V device with DMVPN configuration and IPsec settings,"Source interface Loopback0, Hub IP 10.8.3.3, Spanning-tree extend system-id, Redundancy mode none, FTP and TFTP source interface GigabitEthernet1, Crypto keyring DMVPN-KEYRING1 and DMVPN-KEYRING2, Pre-shared-key address 0.0.0.0 0.0.0.0 with key cisco123 for both keyrings, Crypto IKE policy 10 with AES encryption, authentication pre-share, SPI recovery, and keepalive settings, IPsec security-association idle-time 60, IPsec replay window-size 512, Transform set AES256/SHA/TRANSPORT with ESP-AES 256 and ESP-SHA-HMAC"
Tunnel with IPSEC Profile DMVPN-PROFILE1,"- Tunnel source: GigabitEthernet3
- Tunnel mode: gre multipoint
- Tunnel key: 100
- Tunnel protection ipsec profile: DMVPN-PROFILE1"
- Interface GigabitEthernet4 should be shut down and set to auto negotiation.,"- Interface GigabitEthernet4 has no IP address, is shut down, and uses auto negotiation.
- Interface GigabitEthernet5 has no IP address, uses auto negotiation.
- Interface GigabitEthernet5.200 has encapsulation dot1Q 200, IP address 10.1.11.1/24.
- Interface GigabitEthernet6 has description ""--INET--"", VRF forwarding INET2, no IP address, and uses auto negotiation."
Disable HTTP server and secure server on the device.,"No IP HTTP server, no IP HTTP secure-server."
PfRv3 Transit Site Support feature enables service providers to configure multiple-data centers at the hub site.,"master (domain VRF configuration), domain (interface configuration)."
"The requirement is for an organization with two data centers and a single branch site to have communication between the branch site and master-hub controller through the two next-hops (hub-branch routers) located at the hub site. If one hub-border router is down, the branch site should still be able to communicate through the second hub-border router. A path-id should be configured on each interface of every channel to differentiate traffic from different hub-border routers.","The configuration involves setting up a path-id, which is a unique 32-bit number for a path between two sites, on each interface of every channel to differentiate traffic from different hub-border routers."
Configure path-ids on each domain path to differentiate traffic from different ISP paths in a DMVPN domain.,Use the domain domain-name path path-name path-id command to configure the path-ids.
Configuring Transit Hub for dual data center with same prefix,Available only on Cisco ASR 1000 Series Aggregation Services Routers and Cisco 4000 Series Integrated Services Routers. Perform this configuration after setting up the primary hub.
Configuring policies on the primary hub-master controller.,"1. Enable privileged EXEC mode with 'enable' command.
2. Enter global configuration mode with 'configure terminal' command.
3. Configure loopback interface with 'interface loopback interface-number' command.
4. Exit interface configuration mode and return to global configuration mode with 'exit' command.
5. Enter domain configuration mode with 'domain {domain-name | default}' command.
6. Enter VRF configuration mode with 'vrf {vrf-name | default}' command.
7. Configure master transit POP ID with the 'master transit pop-id' command.
8. Set source interface for hub with 'source-interface loopback interface-number' command.
9. Define site prefixes with 'site-prefixes prefix-list site -list' command.
10. Configure IP address for hub with 'hub ip-address' command.
11. Exit configuration mode with 'exit' command.
12. End the configuration session with 'end' command.
13. (Optional) Show domain status with 'show domain domain-name master status' command."
PfRv3 Transit Site Support,Configuring Transit Hub
Configure the default domain or a specific domain for the transit hub configuration.,Device(config)# domain default
Configuring Transit Hub,PfRv3 Transit Site Support
"Configure hub-border routers in a transit site support scenario with the source interface of the border router, IP address of the hub-master controller, domain path name on external interfaces, and domain path ID for each external interface.",1. enable; 2. configure terminal; 3. interface loopback interface-number; 4. ip address ip-address-mask; 5. exit; 6. domain {domain-name | default}; 7. vrf {vrf-name | default}; 8. border; 9. source-interface loopback interface-number; 10. master ip-address; 11. exit; 12. exit; 13. exit; 14. interface tunnel-name; 15. ip address
Configure an IP address for an interface on the hub-border router (Border Router 1).,Device(config-if)# ip address 10.9.4.4 255.255.255.255
Configuring the loopback used as a source for peering with other sites or master controller.,Configure the IP address of the hub-master controller using the 'source-interface loopback interface-number' and 'master ip-address' commands.
"Configure Data Center 1 (DC1) Devices as hub-master controller and set up IP address, VRF, and prefix-lists.","1. Enable and configure the terminal on HubMC.
2. Set up loopback interface Loopback0 with IP address 10.8.3.3.
3. Configure the device as hub-master controller.
4. Create a VRF named ""default"" and set it to use master hub.
5. Source-interface for the domain default is Loopback0.
6. Apply enterprise-prefix prefix-list ENTERPRISE_PREFIX and site-prefixes prefix-list DC1_PREFIX for the domain default.
7. Create IP prefix-lists, DC1_PREFIX and ENTERPRISE_PREFIX, with their respective permit statements."
Configure HubMC and BR84 devices with specific QoS and addressing settings.,"1. Set the DSCP AF31 policy custom match on HubMC(config-domain-vrf-mc-class).
2. Set the priority 2, loss threshold 10 on HubMC(config-domain-vrf-mc-class-type).
3. Set the priority 1, one-way-delay threshold 600 on HubMC(config-domain-vrf-mc-class-type).
4. Exit HubMC(config-domain-vrf-mc-class-type) and return to HubMC(config-domain-vrf-mc-class).
5. Set the path preference MPLS fallback INET on HubMC(config-domain-vrf-mc).
6. Add class DEFAULT with sequence 100 on HubMC(config-domain-vrf-mc).
7. Set the DSCP default policy custom match on HubMC(config-domain-vrf-mc-class).
8. Set the priority 2, loss threshold 5 on HubMC(config-domain-vrf-mc-class-type).
9. Set the priority 1, one-way-delay threshold 50 on HubMC(config-domain-vrf-mc-class-type).
10. Set the priority 3, jitter threshold 200000 on HubMC(config-domain-vrf-mc-class-type).
11. Exit HubMC(config-domain-vrf-mc-class-type) and return to HubMC(config-domain-vrf-mc).
12. Configure BR84 as a border router.
13. Enable BR84.
14. Configure interface Loopback0 on BR84 with IP address 10.8.4.4 and netmask 255.255.255.255."
Configure a Virtual Routing and Forwarding (VRF) instance for Border Gateway Protocol (BGP) on BR84.,"- Set VRF type as default
- Create a BGP VPN instance with source interface Loopback0
- Designate BR84 as the master router with address 10.8.3.3
- Exit BGP VPN configuration mode"
Configure the device as border router (BR85) and set up Performance Routing Version 3 (PfRv3).,"1. Set IP address for Loopback0 interface:
   ```
   BR85(config)# interface Loopback0
   BR85(config-if)# ip address 10.8.5.5 255.255.255.255
   BR85(config-if)exit
   ```
2. Configure the device as a border router (BR85):
   ```
   BR85(config)# domain default
   BR85(config-domain)# vrf default
   BR85(config-domain-vrf)# border
   BR85(config-domain-vrf-br)# source-interface Loopback0
   ```"
Configure tunnel from BR84 to DMVPN2 (INET) using GRE Multipoint mode with specified settings.,"1. Set the master address as 10.8.3.3.
2. Configure the interface Tunnel200 on BR85 with bandwidth, IP address, disabling IP redirects, setting IP MTU, enabling NHRP authentication, allowing multicast dynamic mapping, setting network-id and holdtime for NHRP, enabling NHRP redirect, adjusting TCP MSS to 1360, setting load-interval and delay for the tunnel, specifying the tunnel source as Ethernet0/1, configuring the tunnel mode as GRE Multipoint, setting tunnel key and vrf to IWAN-TRANSPORT-2, and configuring domain path INET with path-id 20."
Configure the device as transit-hub master controller and border router (BR94).,"Set the IP address of Loopback0 to 10.9.3.3, create a prefix-list DC2_PREFIX with sequential permits for 10.9.0.0/16 and 10.8.0.0/16, configure HubMC as transit-hub master controller with source-interface Loopback0, site-prefixes DC2_PREFIX, and hub address 10.8.3.3, and set the IP address of Loopback0 for BR94 to 10.9.4.4."
Configure tunnel from BR94 to DMVPN1 (MPLS)Link with specified parameters,"- master address: 10.9.3.3
- Interface Tunnel100
  - Bandwidth: 1000
  - IP Address: 10.0.100.94/24
  - No IP Redirects
  - MTU: 1400
  - NHRP Authentication: cisco
  - NHRP Map Multicast Dynamic
  - NHRP Network-ID: 1
  - NHRP Holdtime: 60
  - NHRP Redirect
  - TCP Adjust MSS: 1360
  - Load Interval: 30
  - Delay: 1000
  - Tunnel Source: Ethernet0/1
  - Tunnel Mode: GRE Multipoint
  - Tunnel Key: 100
  - Tunnel VRF: IWAN-TRANSPORT-1
  - Domain Path: MPLS path-id 30"
"Configure the device as a border router (BR95) with the default domain and VRF, and set up a tunnel from BR95 to DMVPN2 (INET) using GRE multicast.","- Set the source interface for the VRF Border: `source-interface Loopback0`
- Set the master address for the VRF Border: `master 10.9.3.3`
- Configure tunnel from BR95 to DMVPN2 (INET)Link: `interface Tunnel200`
- Set bandwidth and IP address for the tunnel interface: `bandwidth 1000`, `ip address 10.0.200.95 255.255.255.0`
- Disable IP redirects and set MTU for the tunnel interface: `no ip redirects`, `ip mtu 1400`
- Set NHRP authentication, network-id, holdtime, redirect, MSS adjustment, load-interval, and delay for the tunnel interface: `ip nhrp authentication cisco`, `ip nhrp network-id 2`, `ip nhrp holdtime 60`, `ip nhrp redirect`, `ip tcp adjust-mss 1360`, `load-interval 30`, `delay 1000`
- Set the tunnel source, mode, and key for the interface: `tunnel source Ethernet0/1`, `tunnel mode gre multipoint`, `tunnel key 200`
- Configure tunnel VRF: `tunnel vrf"
"Configure the interfaces (R10), Configure the device as branch-master controller (R10), Configure the tunnel interface and tunnel path from R10.","1. Interface Loopback0:
   - ip address 10.2.10.10 255.255.255.255
2. Domain default:
   - vrf default
   - border
   - source-interface Loopback0
   - master local
3. Tunnel interface Tunnel100:
   - bandwidth 400
   - ip address 10.0.100.10 255.255.255.0
   - no ip redirects
   - ip mtu 1400
   - ip nhrp authentication cisco
   - ip nhrp map multicast dynamic
   - ip nhrp network-id 1
   - ip nhrp"
Configure a GRE multipoint tunnel with specific parameters on R10 and R11 devices.,"R10(config-if)# ip nhrp shortcut
R10(config-if)# ip nhrp redirect
R10(config-if)# ip tcp adjust-mss 1360
R10(config-if)# load-interval 30
R10(config-if)# delay 1000
R10(config-if)# no nhrp route-watch
R10(config-if)# if-state nhrp
R10(config-if)# tunnel source Ethernet0/2
R10(config-if)# tunnel mode gre multipoint
R10(config-if)# tunnel key 200
R10(config-if)# tunnel vrf IWAN-TRANSPORT-2"
"Configure an interface and tunnel path on R11 with specific settings, including bandwidth, IP address, IP features, and tunnel parameters.","Interface: Tunnel100
Bandwidth: 2000
IP Address: 10.0.100.11/24
No IP Redirects
MTU: 1400
IP NHRP Authentication: cisco
IP NHRP Map Multicast Dynamic
Network-ID: 1
NHRP Holdtime: 60
NHRP NHS 10.0.100.84 with NBMA to 172.16.84.4 Multicast
NHRP NHS 10.0.100.94 with NBMA to 172.16.94.4 Multicast
No Unique NHRP Registration
NHRP Registration Timeout: 60
IP NHRP Shortcut
IP NHRP Redirect
TCP MSS Adjustment: 1360
Load Interval: 30
Delay: 1000
No NHRP Route Watch
Interface State: NHRP
Tunnel Source: Ethernet0/1
Tunnel Mode: GRE Multipoint
Tunnel Key: 100
Tunnel VRF"
Configure the tunnel interface and tunnel path from R12,"- Interface: Tunnel100
- Bandwidth: 400
- IP address: 10.0.100.12 255.255.255.0
- No IP redirects
- IP MTU: 1400
- IP NHRP authentication: cisco
- IP NHRP map multicast dynamic
- IP NHRP network-id: 1
- IP NHRP holdtime: 600
- IP NHRP NHS: 10.0.100.84 nbma 172.16.84.4 multicast
- IP NHRP NHS: 10.0.100.94 nbma 172.16.94.4 multicast
- IP NHRP registration no-unique
- IP NHRP registration timeout"
Configure the device as a border router with R12 as the master controller (R13),"1. Enable configuration mode on R13: `R13> enable`
2. Enter configuration mode on R13: `R13# configure terminal`
3. Configure Loopback0 interface on R13 with IP address 10.2.13.13/32: `R13(config)# interface Loopback0`
4. Set exit configuration mode on R13: `R13(config-if)# ip address 10.2.13.13 255.255.255.255`
5. Exit from the interface configuration mode on R13: `R13(config-if)# exit`
6. Configure domain default and VRF settings for R13:
   a. Set the device as a border router with R12 as the master controller: `R13(config)# domain default`
   b. Set the VRF to default: `R13(config-domain)# vrf default`
   c. Configure the border settings for the default VRF: `R13(config-domain-vrf)# border`
   d. Set the source interface to Loopback0: `R13(config-domain-vrf-br)# source-interface Loopback0`
   e. Set R12 as the master controller: `R13(config-domain-vrf-br)# master 10.2.12.12`
7. Exit from the domain configuration mode on R13: `R13(config-domain-vrf-br)# exit`
8. Configure the tunnel interface and tunnel path from R13:
   a. Create Tunnel200 interface on R13: `R13(config)# interface Tunnel200`
   b. Set bandwidth to 400Kbps for the Tunnel200 interface: `R13(config-if)# bandwidth 400`
   c. Assign IP address 10.0.200.13/29 to the Tunnel200 interface: `R13(config-if)# ip address 10.0.200.13 255.255.255.248`
   d. Disable IP redirects for the Tunnel200 interface: `R13(config-if)# no ip redirects`
   e. Set the maximum transmission unit (MTU) to 1400 bytes for the Tunnel200 interface: `R13(config-if)# ip mtu 1400`
   f. Configure NHRP authentication for the Tunnel200 interface with ""cisco"": `R13(config-if)# ip nhrp authentication cisco`
   g. Set the NHRP network ID to 2 for the Tunnel200 interface: `R13(config-if)# ip nhrp network-id 2`
   h. Set the NHRP holdtime to 600 seconds for the Tunnel200 interface: `R13(config-if)# ip nhrp holdtime 600`
   i. Configure NHRP next-hop server settings for the Tunnel200 interface:
      - Set the next-hop server to 10.0.200.85, use Non-Broadcast Multi-Access (NBMA) with IP address 172.16.85.5 and Multicast mode: `R13(config-if)# ip nhrp nhs 10.0.200.85 nbma 172.16.85.5 multicast`
      - Exit from NHRP next-hop server configuration mode on R13: `R13(config-if)# exit`"
The variance between external links and internet links should be less than 20%.,"Requirement: The variance between external links and internet links should be less than 20%.
Configuration: Policy threshold variance: 20."
Channel with Id 8 and Dst Site-Id 10.2.11.11 should be created for the Link Name MPLS with DSCP default [0] pfr-label: 0:0. The channel should be Initiated and open and its Operational state should be Available but unreachable.,"Channel Id: 8, Dst Site-Id: 10.2.11.11, Link Name: MPLS, DSCP: default [0] pfr-label: 0:0, Provisional State: Initiated and open, Operational state: Available but unreachable, Channel to hub: FALSE, Interface Id: 11, Supports Zero-SLA: Yes, Muted by Zero-SLA: No, Estimated Channel Egress Bandwidth: 0 Kbps."
"msec, priority, jitter threshold, byte-loss-rate threshold","priority 3, jitter threshold 200000 usec, byte-loss-rate threshold 5.0 percent"
The device should have a Master IP address of 10.2.10.10 and be connected to the master for 3 days and 14 hours.,"The device has Loopback0 UP (10.2.10.10) and is configured with Master as 10.2.10.10, Master version 2, Route-Control Enabled, Asymmetric Routing Disabled, Minimum Mask length 28, Sampling off, and has two external Wan interfaces - Tunnel100 (Interface Index: 14) and Tunnel200 (Interface Index: 15). The Auto Tunnel information includes Tunnel0 with if_index: 13."
Minimum Mask Length of 28,Set the Minimum Mask Length to 28 in the Performance Routing configuration.
Border Smart Probe Stats configuration for channels with traffic.,"Probe source address: 10.2.10.10, Unreach time: 1000 ms, Probe source port: 18000, Probe destination port: 19000, Interface Discovery: ON, Probe frequency for channels with traffic: 10 secs, Discovery Probes: OFF."
Enable the Performance Routing v3 (PfRv3) Zero SLA Support feature on various ISP links to reduce probing frequency.,"Configure the Zero SLA (0-SLA) feature on an ISP link to probe only the channel with DSCP value 0, and for all other DSCPs, create channels only if there is traffic but do not perform probing."
SLA Support for Performance Routing v3 Zero,Upgrade hub-border routers with the latest Cisco IOS image to configure the Zero SLA feature.
Zero SLA Support Enabled,"Cisco IOS XE Release 3.14 or later, Cisco IOS Release 15.5(1)T or later (for both Master Controller and Border Router)"
"Enable privileged EXEC mode and configure tunnel interface with bandwidth, IP address, and domain path settings.","1. enable
2. configure terminal
3. interface tunnel tunnel-number
4. bandwidth bandwidth-value
5. ip address ip-address mask
6. domain path isp-name [internet-bound | path-id | path-last-resort | zero-sla]"
Site id should be configured as 10.2.10.10 for the first site and 10.2.12.12 for the second site.,"Requirement: Site id should be configured as 10.2.10.10 for the first site and 10.2.12.12 for the second site.
Configuration: The Capability field should have Major and Minor release version numbers for PfR v3 domain, Domain version should be set to 2, and Zero-SLA feature support should be enabled with Major release for both sites."
"Implement a tunnel with the name ""Tunnel1"" and configure it to use Interface Index 18 and SNMP Index 15. Configure the tunnel as UP with Zero-SLA disabled and Path of Last Resort disabled.","Set up the following for Tunnel1:
- Interface Index: 18
- SNMP Index: 15
- Status: UP
- Zero-SLA: NO (Disabled)
- Path of Last Resort: Disabled"
"ODE Stats Bucket Number, Last Updated, Packet Count, Byte Count, One Way Delay, Loss Rate Pkts, Loss Rate Byte, Jitter Mean, Unreachable, TCA Statistics, Latest TCA Bucket, Last Updated (Latest TCA Bucket), One Way Delay (Latest TCA Bucket), Loss Rate Pkts (Latest TCA Bucket), Loss Rate Byte (Latest TCA Bucket), Jitter Mean (Latest TCA Bucket), Unreachability, Step 9, Device Configuration","ODE Stats Bucket Number: 1, Last Updated : 00:56:15 ago, Packet Count : 505, Byte Count : 42420, One Way Delay : 229 msec*, Loss Rate Pkts: 0.0 %, Loss Rate Byte: 0.0 %, Jitter Mean : 535 usec, Unreachable : FALSE, Received:1, Processed:1, Unreach_rcvd:0, Last Updated (Latest TCA Bucket) : 00:56:15 ago, One Way Delay (Latest TCA Bucket) : 229 msec*, Loss Rate Pkts (Latest TCA Bucket) : NA, Loss Rate Byte (Latest TCA Bucket) : NA, Jitter Mean (Latest TCA Bucket) : NA, Unreachability: FALSE, Channel id: 2, Channel create time: 00:46:02 ago, Site id : 255.255.255.255, DSCP : default[0], Service provider : ISP1, Pfr-Label : 0:0 | 0:0 [0x0], exit path-id: 0, Exit path-id sent on wire: 0, Number of Probes sent : 0, Number of Probes received : 0, Last Probe sent : 00:46:02 ago, Last Probe received : - ago, Channel state : Initiated and open, Channel next_hop : 0.0.0.0, RX Reachability : Initial State"
Reduce probing frequency on all channels using Zero-SLA.,"Hub Master Controller - Cisco ASR 1002-X router with ESP default bandwidth of 5 Gbps (upgradable with software licensing options to 10, 20, and 36 Gbps). Hub Border Routers - Cisco ASR 1000 Series Embedded Services Processor 2."
Configure the Branch Routers (Cisco 4451X Integrated Services Router) as a Hub Master Controller.,"1. Enable Hub Master Controller mode.
2. Configure Loopback0 interface with IP address 10.8.3.3/32.
3. Configure the device as Hub Master Controller using domain ""one"".
4. Define VRF settings for the domain ""one"" with source-interface set to Loopback0 and apply prefix-lists ENTERPRISE and DATA_CENTER_1.
5. Configure IP prefix-lists: DATA_CENTER_1 seq 5 permit 10.8.0.0/16 with a le of 24, and ENTERPRISE seq 5 permit 10.0.0.0/8 with a le of 24.
6. Configure domain policies on Hub Master Controller using the ""monitor-interval"" command."
Configure the interfaces on hub border router (BR1) as a border router.,"- Configure the domain one on BR1
- Configure the VRF default on domain one
- Set source-interface Loopback0
- Set master 10.8.3.3"
Configure tunnel from BR1 to DMVPN1 (MPLS)Link and enable Zero-SLA.,"1. Configure tunnel interface on BR1 with bandwidth, IP address, disabling IP redirects, MTU, NHRP authentication, dynamic multicast mapping, network-id, holdtime, MSS adjustment, load interval, source interface, tunnel mode, key, and IPSec profile:
```
BR1(config)# interface Tunnel100
BR1(config-if)# bandwidth 100000
BR1(config-if)# ip address 10.0.100.84 255.255.255.0
BR1(config-if)# no ip redirects
BR1(config-if)# ip mtu 1400
BR1(config-if)# ip nhrp authentication cisco
BR1(config-if)# ip nhrp map multicast dynamic
BR1(config-if)# ip nhrp network-id 1
BR1(config-if)# ip nhrp holdtime 600
BR1(config-if)# ip tcp adjust-mss 1360
BR1(config-if)# load-interval 30
BR1(config-if)# tunnel source GigabitEthernet3
BR1(config-if)# tunnel mode gre multipoint
BR1(config-if)# tunnel key 100
BR1(config-if)# tunnel protection ipsec profile DMVPN-PROFILE1
BR1(config-if)# domain one path MPLS
```
2. Configure Zero-SLA on BR1 to DMVPN1 (MPLS)Link:
```
BR1(config)# interface Tunnel100
BR1(config-if)# domain one path MPLS zero-sla
```"
Configure the tunnel interface and tunnel path from R10,"1. Interface Tunnel100
   - Bandwidth: 100,000
   - IP Address: 10.0.100.10/24
   - No IP Redirects
   - IP MTU: 1400
   - IP NHRP Authentication: cisco
   - IP NHRP Map: 10.0.100.84 to 172.16.84.4 (unicast)
   - IP NHRP Map Multicast: 172.16.84.4
   - IP NHRP Network-ID: 1
   - IP NHRP Holdtime: 600 seconds
   - IP NHRP NHS: 10.0.100.84
   - IP NHRP Registration Timeout: 60 seconds
   - IP TCP Adjust-MSS: 1360
   - Load Interval: 30 minutes
   - Delay"
Configure the tunnel interface and tunnel path from R11,"- interface Tunnel100
- bandwidth 100000
- ip address 10.0.100.11 255.255.255.0
- no ip redirects
- ip mtu 1400
- ip nhrp authentication cisco
- ip nhrp map 10.0.100.84 172.16.84.4
- ip nhrp map multicast 172.16.84.4
- ip nhrp network-id 1
- ip nhrp holdtime 600
- ip nhrp nhs 10.0.100.84
- ip nhrp registration timeout 60
- ip tcp adjust-mss 1360
- load-interval"
Implement a GRE multipoint tunnel with a specific key and IPSec protection using DMVPN-PROFILE1.,"- delay 1000
- tunnel source GigabitEthernet2
- tunnel mode gre multipoint
- tunnel key 100
- tunnel protection ipsec profile DMVPN-PROFILE1"
Configure another tunnel path from R11 for a specific VPN scenario.,"- Interface Tunnel200 with bandwidth of 50,000.
- IP address of 10.0.200.11/24.
- No IP redirects.
- MTU of 1400.
- NHRP authentication using Cisco.
- NHRP map entry for 10.0.200.85 with a next-hop address of 172.16.85.5.
- NHRP multicast entry for 172.16.85.5.
- NHRP network ID of 2.
- NHRP holdtime set to 600 seconds.
- NHRP next-hop server address of 10.0.200.85.
- TCP MSS adjustment to 1360 bytes.
- Load interval set to 30 seconds.
- Delay set to 1,000 ms.
- Tunnel source interface as GigabitEthernet3.
- Tunnel mode set to GRE multipoint.
- Tunnel key of 200.
- VRF configured for INET2.
- IPSec profile DMVPN-PROFILE2 applied.
- PfRv3 Zero-SLA configurations verified using show commands for domain-name master status and other related information."
PfRv3 Path of Last Resort,"domain path isp-name, show domain default vrf border, show domain default vrf master"
"Conserve bandwidth, reduce smart probe frequency, extend unreachable detection time.","1 packet every 10 seconds (instead of 20 packets per second), unreachable detection extended to 60 seconds."
"PfRv3 Fallback Timer can move a specific traffic class (TC) from a primary, preferred path to a backup path to optimize performance. It uses the fallback-timer to set the time interval for the next re-evaluation of the primary path.","Not provided in the text. Please refer to page 146 for ""How to Configure PfRv3 Fallback Timer"" and page 147 for ""Configuration Examples for PfRv3 Fallback Timer""."
PfRv3 Fallback Timer sets the re-evaluation interval for re-evaluating the primary path after a traffic class has been changed to a backup path.,"fallback-time, show domain vrf master."
Prevent excessive switching between primary and backup paths for traffic class in PfRv3 by increasing the evaluation interval (timeout) and applying a dampening algorithm.,Not provided in the text.
Use fallback-timer to set the time interval (called timeout) for the next re-evaluation of the primary path. Increase evaluation interval to prevent excessive switching between the primary and secondary paths.,"Possible values for Timeout Interval: 1 to 1440 minutes, Default: 3 minutes"
Configure PfRv3 Fallback Timer,fallback-timer time-in-minutes [dampening {enable/disable}]
Configure the fallback timer for class SER_CS1 and SER_EF in the green VRF domain policy.,"- For class SER_CS1, set the fallback timer timeout to 5 minutes with dampening Enabled.
- For class SER_EF, set the fallback timer timeout to 6 minutes with dampening Disabled."
Disable fallback timer globally for traffic class switching.,"Use ""fallback-timer off"" command to disable the re-evaluation of the primary path after a traffic class switches to a backup path, and prevent traffic from switching back to the primary path."
Configure fallback timer for traffic class in Performance Routing Version 3.,Restore the fallback timer to the default 3 minutes instead of disabling it.
Reduce traffic probe on channels that do not carry any traffic.,smart-probes burst command.
"The requirement is to configure PfRv3 Probe Reduction on a domain level parameter, storing probing information for general monitor and quick monitor with specified parameters like the number of packets in a probe burst and the interval between such bursts. Additionally, managing three types of smart probes: Active Channel Probe, Unreachable Probe, and Burst Probe.","1. enable
2. configure terminal
3. domain default
4. Do one of the following:
• master hub
• border
5. advanced
6. smart-probes burst [quick] number-of-packets packets every"
Configuring the device as a master hub and entering master controller configuration mode.,Device(config-domain)# master hub
Smart-probe burst quick with 10 packets every 1 seconds,"master hub, interval(secs): 1"
The requirement is to implement the Performance Routing v3 (PfRv3) Intelligent Load Balance feature that helps to move traffic-classes based on the remote ingress interface and overrun the bandwidth threshold.,"The configuration introduced for this requirement is ""remote-ingress-bandwidth-check."""
Enter your password if prompted.,Device> enable
Configure and verify PfRv3 Intelligent Load Balance on a device.,"1. Enter the device's border configuration mode (Device(config-domain-vrf-mc-advanced)exit).
2. Set up PfRv3 Intelligent Load Balance with the following commands:
   - Configure the domain and VRF: domain iwan vrf default master hub load-balance advanced path-preference INET1 fallback MPLS1 advanced remote-ingress-bandwidth-check max 75.
   - Verify the configuration using the show domain iwan master exits command."
- Ingress capacity: 1000000 Kbps,"- BR address: 168.254.0.3
- Name: Tunnel20
- Type: external
- Path: INET1
- Path-id: 12
- DSCP: default[0]-Number of Traffic Classes[1]"
next-fallback service provider to primary service provider when the fallback is unavailable.,"- Dst-Site-Prefix: 100.30.0.0/16
- DSCP: ef [46] Traffic class id:2
- Clock Time: 12:57:15 (PST) 03/30/2015
- TC Learned: 00:22:14 ago
- Present State: CONTROLLED
- Current Performance Status: in-policy
- Current Service Provider: ISP2 path-id:2 since 00:03:28
- Previous Service Provider: ISP3 pfr-label: 0:0 | 0:7 [0x7] for 180 sec (A fallback/next-fallback provider. Primary provider will be re-evaluated 00:02:34 later)
- BW Used: 3 Kbps
- Present WAN interface: Tunnel20 in Border 100.10.2.1
- Present Channel (primary): 46 ISP2 pfr-label:0:0 | 0:2 [0x2]
- Backup Channel: 42 ISP3 pfr-label:0:0 | 0:7 [0x7]
- Destination Site ID bitmap: 0
- Destination Site ID: 100.30.1.1
- Class-Sequence in use: 10
- Class Name: BUSINESS using policy User-defined priority 2 packet-loss-rate threshold 10.0 percent priority 2 byte-loss-rate threshold 10.0 percent
- BW Updated: 00:00:14 ago
- Reason for Latest Route Change: next-fallback to Higher"
- Site Prefixes Database central to site concept in PfRv3,"- Master site learns remote site prefix through SAF advertised by remote MC
- Border site prefix database populated by SAF messages from all remote and local site masters
- By default, MCs and BRs delete site prefixes every 24 hours"
The requirement is to enable and configure the PfRv3 Remote Prefix Tracking feature on Cisco IOS XE devices for improved performance routing.,"No specific configuration is required for this feature, but you need to ensure that the WAN interfaces are properly configured and enabled."
PfRv3 Remote Prefix Tracking,Displaying Site Prefixes Learnt By a Master Controller
"View the prefix information associated with a border router using the command ""show domain default vrf vrf-name master local-prefix"".","Use the command ""show domain default vrf <vrf-name> master local-prefix <border-router-ip>"" to view the prefix information associated with the specified border router."
"Configure PfRv3 Probe Reduction and Per Interface Probe Tuning features to define probe packets and intervals on channels, and apply different profiles on interfaces as needed.",Profile-id argument in the smart-probes command for border hub routers and domain smart-probe profile command applied to interfaces.
"- The requirement is for a network setup that includes a hub branch router, two branch routers (Branch 1 Router and Branch 2 Router) connected via ISP.","- LTE Interface: Profile parameters are 100 packets every 1200 seconds for default monitor and default values for quick monitor.
- Regular Interface: Default parameters, one packet every one second for default monitor and 20 packets every one second for quick monitor."
"The requirement seems to be about defining profiles for different channels, especially on border hub routers. The goal is to have each channel probe at a rate proportional to its profile ID number.",The configuration involves setting up profiles with different probing rates based on their profile ID numbers and ensuring that the higher-ID profiles probe slower than the lower-ID ones.
Smart-probe profile configuration for Border Hub Router,"Profile ID: 1, Probe Burst interval: 0 second, Probe Burst number: 0 packets, Quick Monitor Probe Burst interval: 0 second, Quick Monitor Probe Burst number: 0 packets, Unreachable interval: 4 second"
"Local LAN prefixes on each hub site (all borders) must have a specific route pointing to LAN interfaces, not to DCI or WAN interfaces.","The PfRv3 Inter-DC Optimization does not optimize routes using common prefixes. A common prefix is a prefix which is configured as a static prefix on all the hub sites, including hub sites and transite hub sites."
Enable PfRv3 Inter-DC Optimization feature in domain master controller advanced mode.,"Use the inter-dc command to enable the PfRv3 Inter-DC Optimization feature, define a WAN interface using the domain path command for WAN overlay, and define a DCI interface using the domain dci-path command for DCI overlay."
Datacenter Optimization using PfRv3 Inter-DC Optimization,Unknown (text does not provide specific configuration details)
The requirement is to configure DCI (Data Center Interconnect) path options using either the existing DMVPN overlay and the same tunnel interface or an independent DCI link with an independent DMVPN overlay.,"1. Using the existing DMVPN overlay and the same tunnel interface:
   - Add additional configuration to set up the dmvpn peer between DC sites, such as ""ip nhrp nhs 161.1.0.5 nbma 155.155.155.5 multicast above"" in the hub to spoke DMVPN tunnel interface configuration.

2. Using an independent DCI link(s) with independent DMVPN overlay:
   - Configure a dedicated DCI links between DC sites, which are more stable than normal WAN links."
Configure Inter-DC on Transit Hub,"1. enable
2. Configure terminal
3. domain default
4. vrf green
5. master transit 2
6. source-interface Loopback1
7. site-prefixes prefix-list HUBPFX
8. hub 100.10.1.1
9. advanced
10. inter-dc
11. class BUSINESS sequence 10
12. match dscp ef policy custom
13. priority 1 one-way-delay threshold 100
14. interdc-path-preference DCI1 DCI2 fallback MPLS next-fallback INET
15. exit"
Configuring Inter-DC on Transit Hub,"- Loopback IP Address: 100.10.1.1
- Packets per burst (General Monitor): 1
- Interval(secs) (General Monitor): 1
- Packets per burst (Quick Monitor): 20
- Interval(secs) (Quick Monitor): 1"
"The requirement is to configure a policy for the Business class with sequence 10, prioritizing MPLS and INET in path preference.","- Match dscp ef policy custom
- Priority 1
- One-way-delay threshold: 100 msec"
Enable Direct Cloud Access IWAN 2.3 feature to optimize application experience and reduce cost for SaaS applications like Office 365 and Google services at branch sites.,"The specific configuration details are not provided in the text, but it mentions referring to pages 189-198 for feature information, prerequisites, restrictions, and examples of configuring Direct Cloud Access."
Implement direct cloud access (DCA) on Cisco IWAN networks for trusted SaaS traffic and optimize the path while providing security capabilities at branch sites.,"Automatic configuration of Cisco Umbrella Connector, support for policy configured on a centralized hub or per-site customized local policy, and customized local policy overrides global policy."
Improve application performance by placing the SaaS server closer to the branch router using a public DNS resolver with Cisco Umbrella Connector.,Each direct access interface must be configured with OpenDNS. DNS requests must be unencrypted traffic from the endpoint to the DNS server.
Direct Cloud Access functionality with DNS traffic recognition and classification using NBAR,"Umbrella Connector feature for extracting and using information from DNS packets, Cisco NBAR for first packet classification, SD-AVC for improved classification results"
"Assigning and managing flow paths to services like Office365, while considering NAT and firewall devices.","Direct Cloud Access (DCA) policy can be configured on a centralized hub or individually at each site using the ""policy local type DCA"" command. Customized local policies override global policies, and local policies remain in effect even if the hub connection goes down."
Configure a DNS resolver for all DCA branches on a hub master controller.,"- Domain default
- Master hub
- Advanced
- Dns-redirect dns-server-address"
Configure the HTTP Ping Probe Interval,"dca-probe-http-interval interval-in-seconds (e.g., 20)"
Verify and Monitor Direct Cloud Access Configuration,"• Use the following commands to verify and monitor DCA configuration.
   - show domain iwan master traffic-classes summary
   - show domain iwan master traffic-classes detail
   - show domain iwan master traffic-classes dca detail
   - show domain iwan master traffic-classes dca application
   - show domain domain-name border dca

• Device# show domain iwan border dca (example)"
Create a second DCA as a WAN underlay interface.,"Optionally, create a domain map for a specific SaaS not included by default."
- Branch configuration with LAN interface and WAN (DCA) interface,"- Interface GigabitEthernet3.30
  - Description: B1MCBR-LAN
  - Encapsulation: dot1Q 30
  - IP Address: 10.20.0.1 255.255.255.0
  - IP NAT Inside"
Umbrella Configuration,"Requirement: Umbrella Configuration
Configuration: Token: 7772166EF2E473ADE8FA2204B37D0BD7001FE4F5
OrganizationID: 2090229
Local Domain Regex parameter-map name: dns_bypass
DNSCrypt: Enabled
Public-key: B735:1140:206F:225D:3E2B:D822:D7FD:691E:A1C3:3CC8:D666:8D0C:BE04:BFAB:CA43:FB79
UDP Timeout: 5 seconds
Resolver address:
1. 208.67.220.220
2. 208.67.222.222
3. 2620:119:53::53
4. 2620:119:35::35"
"Number of interfaces with ""umbrella out"" config: 2","1. Interface: GigabitEthernet0/0/0, Mode: OUT, VRF: IWAN-TRANSPORT-2(Id: 3)
2. Interface: GigabitEthernet0/0/1, Mode: OUT, VRF: IWAN-TRANSPORT-1(Id: 2)"
- Use GigabitEthernet0/0/3 interface in Border with IP address 10.255.241.31,"- Primary Channel: 6 DCA1 pfr-label:0:0 | 0:0 [0x0]
- Backup Channel: 4 DCA2 pfr-label:0:0 | 0:0 [0x0]
- Class Name: saasapp using policy User-defined with priority 1, one-way-delay threshold 500 msec
- Method for choosing channel: Random"
"HTTP Operation to perform a GET request on www.google.com with an operation timeout of 30,000 milliseconds (30 seconds) and a schedule operation frequency of 60 seconds.","Type of operation - HTTP; Target address/Source address - 216.58.217.164/172.16.1.1; Target port/Source port - 80/0; Type Of Service parameters - 0x0; Vrf Name - IWAN-TRANSPORT-2; Cache Control - enable; Operation timeout (milliseconds) - 30,000; Operation frequency (seconds) - 60; URL - http://www.google.com; Proxy - (not specified); Raw String(s) - (not specified); Threshold (milliseconds) - 20,000; Distribution Statistics - Number of statistic hours kept: 2; Number of statistic distribution buckets kept: 1; Statistic distribution interval (milliseconds) - 20; History Statistics - Number of history Lives kept: 0; Number of history Buckets kept: 15; History Filter Type - None; Status of entry (SNMP RowStatus) - Active."
"Configure only one master controller, either at a hub site or a branch site.","- Master Controller: Branch 1
- LAN Interface: GigabitEthernet3.30 (description B1MCBR-LAN)
  - Encapsulation: dot1Q 30
  - IP Address: 10.20.0.1 /24
  - NAT: Inside
- WAN Interface (DCA): GigabitEthernet2.30
  - Encapsulation: dot1Q 30
  - VRF Forwarding: fvrf
  - IP Address: 10.20.1.1 /24
  - NAT: Outside
- Domain: DCA1 direct-cloud-access"
Assigning the DCA to a WAN interface with VRF forwarding,"Interface GigabitEthernet2.30, encapsulation dot1Q 30, ip vrf forwarding fvrf, ip address 10.20.1.1 255.255.255.0, ip nat outside"
Prevent DNS queries to local domain from being redirected to OpenDNS and configure specific patterns for filtering.,parameter-map type regex dns_bypass; pattern www.cisco.com; pattern .*eisg.cisco.*; local-domain dns_bypass
MPLS branch WAN DCA interface and MPLS branch LAN interface,"domain iwan path DCA2 direct-cloud-access, umbrella out, umbrella in direct-cloud-access default lan100"
Channel-based Metrics Measurement,Configure the performance monitors used by PfRv3 to employ a data collection method that combines the use of metadata and traffic sampled at intervals.
Channel-based Metrics Measurement for improved accuracy and better tolerance of out-of-order packets.,"Uses packet-based loss measurement and samples packets in the traffic stream, utilizing packet metadata like timestamp and sequence information. Allows packets of any protocol and reduces false threshold crossing alarms (TCAs)."
Channel-based metrics measurement configuration,"config terminal, domain iwan, master hub, advanced, channel-based-measurement, [sampling-rate sampling-rate] [quick sampling-rate-for-quick-monitoring]"
Enable channel-based measurement and configure a sampling packet size of 1300 and a sampling rate of 20 samples per second.,"device-config terminal, Device(config)#domain iwan, Device(config-domain)#master hub, Device(config-domain-mc)#advanced, Device(config-domain-mc-advanced)#channel-based-measure, Device(config-domain-mc-advanced-channel-measure)#sample-packet-size 1300, Device(config-domain-mc-advanced-channel-measure)#sampling-rate 20"
"Adjustable entries from 1 to 1000000 in PfRv3 event trace, which consumes memory size depending on the number of entries.","Each entry consumes 104 bytes, resulting in about 416K bytes memory consumption for PfRv3 event trace with a delay allocation until the first entry is written."
Display PfRv3 Event Tracing,"1. show monitor event-trace pfrv3 sub-comp channel {all | back duration | clock duration | from-boot seconds | latest} [detail]
2. show monitor event-trace pfrv3 sub-comp pdp {all | back duration | clock duration | from-boot seconds | latest} [detail]
3. show monitor event-trace pfrv3 sub-comp policy {all | back duration | clock duration | from-boot seconds | latest} [detail]"
"Monitor event-trace pfrv3 sub-comp process with different options (all, back duration, clock duration, from-boot seconds, latest) and show the detailed events.","Use the ""show monitor event-trace pfrv3 sub-comp channel"" command with options (all, back duration, clock duration, from-boot seconds, latest)."
Create a WAN interface for BR2 with the following configuration:,"- Name: Tunnel1
- Service Provider color: ISP1
- IP address: 172.16.0.1
- Interface index: 28
- SNMP index: 23
- CMD enabled: YES
- Interface type: External
- SP tag: 0x1
- Zero SLA: Disable
- Plr: Disabled

Configuration: 
Interface line protocol is coming back"
Display event trace for PfRv3 policy decision points (PDP),show monitor event-trace pfrv3 sub-comp policy {all | back duration | clock duration | from-boot seconds | latest}
MC policy with max allowed xml size and exact xml size,"Requirement: MC policy with max allowed xml size and exact xml size
Configuration: Policy publish max allowed xml size[3030], exact xml size[2099] and Policy publish max allowed xml size[2303], exact xml size[1571]"
Create react for class CENT-Class-Ingress-DSCP-cs4-2-4,"one-way-delay val=20, network-delay-avg val=40"
Create C3PL policy for Egress direction,"- Create flow monitor: MON-Egress-aggregate-3-48-3
- Create filter: dscp:0,appid:0
- Create class: CENT-Class-Egress-ANY-3-8
- Create PMI policy: CENT-Policy-Egress-3-5
- Activate PMI policy on Tunnel31: CENT-Policy-Egress-3-5
- Activate PMI policy on Tunnel11: CENT-Policy-Egress-3-5"
Activate/De-activate PMI policy and Delete react/class from a specific tunnel and direction (ingress or egress),"Tunnel30, CENT-Policy-Ingress-2-2, CENT-Policy-Egress-2-3"
SAF peering with site-prefix sub-service,"- IP address: 10.10.1.1
- Data size: Varies (e.g., 260, 618)
- Compressed size: Varies (e.g., 240, 455)
- Publish sequence number: Varies (e.g., 3, 6)"
SAF peering site prefix updates,"- Prefix 10.0.0.0/8 from 10.15.1.1
- Prefix 10.15.1.1/32 from 10.15.1.1
- Prefix 10.10.0.0/16 from 10.15.1.1
- Prefix 10.15.0.0/16 from 10.15.1.1
- Prefix 10.16.0.0/16 from 10.15.1.1"
SAF peering site prefix update,"- Prefix 10.0.0.0/8 from 10.15.1.1
- Prefix 10.15.1.1/32 from 10.15.1.1
- Prefix 10.10.0.0/16 from 10.15.1.1
- Prefix 10.15.0.0/16 from 10.15.1.1
- Prefix 10.16.0.0/16 from 10.15.1.1
- Prefix 10.0.0.0/8 from 10.15.1.1 (repeated)
- Prefix 10.15.1.1/32 from 10.15.1.1 (repeated)
- Prefix 10.10.0.0/16 from 10.15.1.1 (repeated)
- Prefix 10.15.0.0/16 from 10.15.1.1 (repeated)"
SAF peering received sub-service: Capability,"From IP addresses - 10.15.1.1 and 10.10.1.1, data sizes - 280, 290, 278, 287, compressed size - 270, publish size - 822, publish seq numbers - 3, 6, 8"
"SAF peering site prefix update for BR[3] and MC[2], Capability sub-service received from 10.30.1.1","Prefixes - 10.30.0.0/24 from 10.30.1.1, 10.30.2.1/32 from 10.30.1.1; Capability data size: 306, data seq: 4"
SAF peering site prefix update for the prefix 10.20.1.1/32 from 10.20.1.1,N/A (not provided in text)
MC[3] SAF peering site prefix update,"Prefixes 10.20.0.1/32, 10.20.1.1/32, 10.20.2.1/32, 10.20.3.1/32, 10.20.0.2/32, 10.20.1.1/32, and 10.20.0.0/24 from 10.20.1.1"
"Sub-service: Capability, from: 10.10.1.1, data size: 258, data seq: 9","from: 10.10.1.1, data size: 548, compressed size: 238, publish seq: 9, publish reason: On-Demand, result: Peering Success"
"Display summary information of all traffic classes, status information of the traffic class for the hub-master controller, occurrence of performance issues in a policy traffic class, channel information from the hub site, channel status information and unreachable threshold crossing alerts (TCA) and on demand export (ODE) instances on a hub-master controller, details of destination site-ids configured with hub-master controller.","Not applicable, as it is not specified in the given text."
Enable Bidirectional Forwarding Detection (BFD) protocol for fast forwarding path failure detection.,"Requirement: Enable Bidirectional Forwarding Detection (BFD) protocol for fast forwarding path failure detection.

Configuration: Configure multihop BFD sessions as described in the document."
Configure Bidirectional Forwarding Detection,"Bidirectional Forwarding Detection configuration examples, pages 15 and 46"
Enable IP routing on all participating routers.,Enable Cisco Parallel eXpress Forwarding (PXF) on the Cisco 10720 Internet router for BFD to operate properly.
One of the IP routing protocols supported by BFD must be configured on the routers before BFD is deployed. Implement fast convergence for the routing protocol being used.,"Not provided, but see the IP routing documentation for your version of Cisco IOS software for information on configuring fast convergence."
BFD (Bidirectional Forwarding Detection) support for various routing protocols in different Cisco IOS releases,"Varies depending on the Cisco IOS release and supported platforms. In some cases, BFD is not available for all platforms and interfaces."
Confirm BFD support for specific platform or interface and obtain accurate platform and hardware restrictions by checking Cisco IOS software release notes.,"For the following Cisco IOS Releases, BFD on PortChannel is not a supported configuration: 12.2SXF, 12.2SRC, and 12.2SRB. On the Cisco 10720 Internet router, BFD is supported only on Fast Ethernet, Gigabit Ethernet, and RPR-IEEE interfaces. It is not supported on Spatial Reuse Protocol (SRP) and Packet-over-SONET (POS) interfaces. When configuring the BFD session parameters on a Cisco 10720 interface using the bfd command (in interface configuration mode), the minimum configurable time period supported for the milliseconds argument in both the interval milliseconds and min_rx milliseconds parameters is 50 milliseconds (ms). A maximum of 100 BFD sessions is supported on the Cisco 10720 Internet router."
Asymmetrical routing between peer devices in Cisco 12000 series routers may cause issues with BFD sessions.,"Maximum 100 sessions per line card, minimum hello interval of 50 ms, and up to three maximum retries for a BFD control packet to be received from a remote system before declaring a session down."
Consecutive packets that can be missed before a session is declared down.,Not available in the given text.
"The requirement is related to BFD sessions, hello interval, echo mode, and configuration settings on Cisco Catalyst switches.","1. Maximum number of BFD sessions supported: 50 (not reduced) or 30 if EIGRP is enabled.
2. Minimum hello interval: 500 ms with a multiplier of 3 or higher.
3. Echo mode: Supported on Distributed Forwarding Cards (DFCs) only. Requires no ip redirects command for enabling.
4. BFD SSO support: Only on Cisco Catalyst 6500 series switches using the E-chassis and 67xx line cards, not on Centralized Forwarding Cards (CFCs).
5. Supervisor uplink ports in Cisco Catalyst 6000 series switches must be associated with BFD timer value of 750*750*5 milliseconds during stateful switchover (SSO) or peer reload to avoid routing flap and for redundancy facility (RF) progression and EtherChannel (port-channel) load calculation."
"BFD Configuration on point-to-point IPv4, IPv6, and GRE tunnels.","Numbered interfaces are allowed; BFD sessions are brought down when the tunnel type is changed from a supported tunnel type to an unsupported one, and the BFD configuration is removed from the interface."
BFD detection time configuration,150 ms detection rate (hello interval of 50 ms with up to three retries) for single-hop IP tunnel deployed across physically adjacent devices.
BFD support with a maximum of 4095 sessions on Cisco ASR 1000 Series Aggregation Services Routers.,"BFD asynchronous mode enabled, with BFD configured on both systems (or BFD peers) and supported protocols like NHRP and routing protocol on overlay."
BFD timers and interval negotiation for fast peer failure detection,"Bidirectional Forwarding Detection (BFD) with support for various media types, encapsulations, topologies, routing protocols (BGP, EIGRP, IS-IS, OSPF), and reduced network convergence time."
BFD peers send BFD control packets for forwarding path failure detection and use a single session for multiple client protocols in Cisco IOS Releases.,"BFD sessions come up as Version 1 by default, ensuring interoperability with Version 0 and running at the highest common BFD version between neighbors."
BFD Version 0 and Version 1 running on neighbors for BFD session configuration.,"BFD Version 0 is being used for the session if both neighbors are running it, or if the other neighbor is running Version 1. The ""show bfd neighbors [details]"" command will verify which BFD version a BFD neighbor is running."
BFD RP process to maintain a database of all BFD sessions on the router containing only the minimum required information.,"The BFD LC process manages sessions, adds and deletes commands from the BFD RP process, and creates and deletes new sessions based on the commands."
Increase the number of BFD sessions that can be created on Cisco IOS Release 12.2(33)SRC to 128.,"Not provided in the given text, but it may refer to configuring Bidirectional Forwarding Detection (BFD) settings on a specific device."
BFD Support for Nonbroadcast Media Interfaces and VPN Routing and Forwarding Interfaces,The bfd interval command must be configured on the interface to initiate BFD monitoring. BFD support is extended in Cisco IOS Release 12.2(33)SRC to be VPN Routing and Forwarding (VRF) aware.
"Nonstop forwarding (NSF) to suppress routing flaps in devices with stateful switchover (SSO), reducing network instability.","NSF allows for continuous forwarding of data packets along known routes while restoring routing protocol information after a switchover, ensuring peer networking devices do not experience routing flaps. Data traffic is forwarded through intelligent line cards or dual forwarding processors during a switchover, and the ability of line cards and forwarding processors to remain up and synchronize with the Forwarding Information Base (FIB) on the active RP is key to NSF operation. In devices that support dual RPs, SSO establishes one RP as the active processor and the other as the standby processor, synchronizing information between them."
Short-duration detection of failures in the path between adjacent forwarding engines for Stateful Switchover.,BFD (Bidirectional Forwarding Detection) protocol for detecting failures and supporting graceful restart mechanism during switchover between active and standby RPs.
"BFD sessions on standby RP do not receive or send packets and do not process expired timers until a switchover occurs. The BFD protocol changes its state to active during a switchover, registers with Cisco Express Forwarding to receive packets, and sends packets for any elements that have expired.",Not provided in the text.
BFD session must be up for the gateway to be considered reachable and routes to be installed in the RIB.,"BFD must be configured on the interface, a BFD client registered on the peer, and proper configuration of routing protocol instances or static routes on the peers depending on the use of the interface (dynamic routing or static routing)."
Active BFD configuration and corresponding static route for each BFD group.,Static BFD configuration and static route that uses the BFD configuration.
BFD Control Channel over VCCV Support for ATM Pseudowire,VCCV Type 1 (in-band VCCV) support for MPLS pseudowires that use a control word.
Signal the status in any concatenated path (AC) to the remote device where the BFD session is terminated.,Not provided in the text.
BFD on Multiple Hops with support for up to 255 hops and IPv6 over software mode.,"Configure bfd-template and bfd map commands, enable authentication, and configure a key chain for BFD multihop sessions."
Fast hellos for either IS-IS or OSPF,"Implementing BFD (Bit Error Detect) as a generic and consistent failure detection mechanism for EIGRP, IS-IS, and OSPF."
Configuring Bidirectional Forwarding Detection (BFD) on an interface by setting baseline BFD session parameters.,"1. Enable privileged EXEC mode with ""enable"".
2. Enter global configuration mode with ""configure terminal"".
3. Configure an IP address for the interface using either ""ip address ipv4-address mask"" or ""ipv6 address ipv6-address/mask""."
Configure an IPv6 address for the interface using Bidirectional Forwarding Detection (BFD).,"Set the IPv6 address to the interface and enable BFD.
Device(config-if)# ipv6 address 2001:db8:1:1::1/32
Device(config-if)# bfd enable"
Configuring BFD Support for Dynamic Routing Protocols,"For Cisco IOS Releases 12.2(18)SXE, 12.2(33)SRA, and 12.2(33)SRC, you may configure BFD support for one or more of the following routing protocols: EIGRP, IS-IS, and OSPF. For Cisco IOS Releases 12.2(33)SRB and 12.0(31)S, you may configure BFD support for static routing."
Configure BFD support for BGP to receive forwarding path detection failure messages from BFD.,"1. Ensure BGP is running on all participating routers.
2. Configure baseline parameters for BFD sessions on the interfaces where BFD sessions will be run to BFD neighbors. Refer to the Configuring BFD Session Parameters on the Interface section for more information."
Configure Bidirectional Forwarding Detection (BFD) on a Cisco 12000 series router.,"Enter the 'attach slot-number' command to establish a CLI session with a line card, and use the 'show bfd neighbors detail' command to view registered protocols."
Enable BFD for a subset of interfaces for which EIGRP is routing using the bfd interface type number command in router configuration mode.,Use the bfd interface type number command to enable BFD for specific interfaces where EIGRP is routing.
Verify that the BFD neighbor is active and display the routing protocols registered by BFD.,show bfd neighbors [details]
Enabling and configuring OSPF with BFD on all interfaces associated with the OSPF routing process.,"1. Enter privileged EXEC mode using ""enable"" command.
2. Enter global configuration mode using ""configure terminal"" command.
3. Specify an OSPF process and enter router configuration mode using ""router ospf process-id"" command (e.g., Router(config)#router ospf 4).
4. Enable BFD globally on all interfaces associated with the OSPF routing process using ""bfd all-interfaces [strict-mode]"" command (e.g., Router(config-router)#bfd all-interfaces)."
Disable BFD for one or more interfaces associated with the OSPF routing process.,ip ospf bfd disable
Disable the disable keyword only if BFD has been enabled on all interfaces associated with OSPF using the bfd all-interfaces command.,Not applicable (as per the provided text).
Configuring baseline parameters for BFD sessions on interfaces over which BFD sessions to BFD neighbors must be configured.,"interface type number, ip ospf bfd [disable] [strict-mode]"
Configuring BFD support for OSPF on interfaces using the bfd all-interfaces command in router configuration mode.,Enabling the BFD session in strict-mode and setting the IP OSPF BFD command in interface configuration mode.
Configuring an IPv6 address for the interface,Device(config-if)# ipv6 address 2001:db8:1:1::1/32
1. Exit interface configuration mode and return to global configuration mode.,"1. Device(config-if)# exit (Exit interface configuration mode)
2. Device(config)# ip route static bfd [interface-type interface-number ip-address group group-name [passive]]
3. Device(config)# ipv6 route static bfd [interface-type interface-number ip-address unaasosiated] (ipv6 static BFD neighbor)
4. Device(config)# ip route [vrf vrf-name] prefix mask {ip-address | interface-type interface-number [ip-address]} [dhcp] [distance] [name next-hop-name] [permanent | track number] [tag tag] (Static route configuration using ip route command)"
Display information about the static BFD configuration from the configured BFD groups and nongroup entries.,"Perform one of the following steps:
- show ip static route bfd
- show ipv6 static bfd"
BFD echo mode and Unicast Reverse Path Forwarding (uRPF) should not work in conjunction.,Enabling both BFD echo mode and uRPF configurations can cause sessions to flap.
Configuring the BFD Slow Timer,"1. enable
2. configure terminal
3. bfd slow-timer milliseconds
4. end"
"Configure BFD (Bidirectional Forwarding Detection) with a single-hop or multihop template, including transmit and receive intervals, multiplier, number of missed control packets before declaring unavailability, and optional authentication and key chain.",1. Enable 2. Configure terminal 3. Bfd-template [single-hop or multi-hop] template-name 4. Interval min-tx milliseconds min-rx milliseconds 5. Multiplier multiplier-value 6. Control packets that must be missed before BFD declares that a peer is unavailable (min-tx and min-rx values) 7. Exit BFD configuration mode with 'end' command
Enables privileged EXEC mode.,"Requirement: Enables privileged EXEC mode.
Configuration: enable"
Enable BFD control channel over VCCV on ATM pseudowire networks.,Perform this task to configure a BFD map that associates the interval timers and authentication configured in a template with unique source-destination address pairs for multihop BFD sessions. Configure a BFD multihop template before associating it with a map.
Configuring BFD Control Channel over VCCV Support for ATM Pseudowire,"1. enable
2. configure terminal
3. pseudowire-class name
4. encapsulation type
5. protocol l {ldp | none}
6. vccv {control-word | router-alert | ttl}
7. vccv bfd template name {udp | raw-bfd}
8. vccv"
Enable privileged EXEC mode and configure the pseudowire class for MPLS encapsulation without signaling.,"1. Enter your password if prompted.
2. Router> enable
3. Router# configure terminal
4. Router(config)# pseudowire-class name
5. Router(config)# encapsulation mpls
6. Router(config-pw-class)# protocol none"
Configure MPLS pseudowires with a CC type that does not include IP/UDP headers.,"Router(config-pw-class)# vccv control-word
Router(config-pw-class)# vccv bfd template bfdtemplate1 raw-bfd"
Configure BFD intervals for DMVPN,interface tunnel1 bfd interval 1000 min_rx 1000 multiplier 5 no echo
Monitoring and Troubleshooting BFD for Cisco 7600 Series Routers,"interval min-tx 1000, interval min-rx 1000, multiplier 5"
Enable and configure Bidirectional Forwarding Detection (BFD) on Cisco devices.,"Configure the BFD protocol parameters and timers per neighbor using the ""show bfd neighbors details"" command, and enter the attach slot-number command to establish a CLI session with a line card when needed."
Hardware-offloaded BFD sessions should have Tx and Rx intervals that are multiples of 50 ms.,N/A (not provided in the text)
Debugging BFD control packets,debug bfd packet
Display the full output of the show bfd neighbors details command on a Cisco 12000 series router.,Enter the attach slot-number command to establish a CLI session with a line card and use the show bfd neighbors [details] command.
BFD (Bidirectional Forwarding Detection) configuration for EIGRP network routers.,"1. Interface Fast Ethernet0/0:
   - No shutdown
   - IP address 10.4.9.14 255.255.255.0
   - Duplex auto
   - Speed auto

2. Interface Fast Ethernet1/0:
   - IP address 172.16.1.1 255.255.255.0
   - BFD interval 50 min_rx 50 multiplier 3
   - No shutdown
   - Duplex auto
   - Speed auto"
- Implement Bidirectional Forwarding Detection (BFD) on all interfaces.,"- bfd all-interfaces under router eigrp 11 command.
- bfd interval, min_rx, and multiplier parameters under interface Fast Ethernet1/0."
BFD configuration on RouterC (Fast Ethernet1/0 interface) with BFD Version 0 enabled and no echo mode.,"- interface Fast Ethernet1/0
- bfd interval 50 min_rx 50 multiplier 3
- no shutdown"
Bidirectional Forwarding Detection (BFD) Configuration,"RouterA with IP address 172.16.1.2 runs BFD Version 1, with a BFD interval parameter of 50 milliseconds."
Session state is UP and not using echo function.,"Int, 172.16.1.1"
Configure BFD for an OSPF network,"In the global configuration mode, configure BFD for all interfaces associated with the OSPF process on both Routers A and B."
Implement Bidirectional Forwarding Detection (BFD) on Router A and Router B interfaces.,"Router A - Fast Ethernet 3/0.1 interface:
- Enable BFD with interval 50, minimum receiver (min_rx) 50, and multiplier 3 using the command ""bfd interval 50 min_rx 50 multiplier 3"".

Router B - Fast Ethernet 6/0 interface:
- Enable BFD with interval 50, minimum receiver (min_rx) 50, and multiplier 3 using the command ""bfd interval 50 min_rx 50 multiplier 3""."
BFD (Bidirectional Forwarding Detection) session creation and OSPF registration for BFD support.,"Network: 172.18.0.0 0.0.255.255 area 0
BFD: all-interfaces"
- OSPF configuration on Fast Ethernet 0/1 and Fast Ethernet 6/1 interfaces.,"- Fast Ethernet 0/1:
  - Internet Address: 172.16.10.1/24, Area 0
  - Process ID: 123
  - Router ID: 172.16.10.1
  - Network Type: BROADCAST
  - Cost: 1
  - Transmit Delay: 1 sec
  - State: BDR
  - Priority: 1
  - BFD enabled
  - Designated Router (ID): 172.18.0.1, Interface address: 172.16.10.2
  - Backup Designated router (ID): 172.16.10.1, Interface address: 172.16.10.1
  - Timer intervals configured: Hello 10, Dead 40, Wait 40, Retransmit 5
  - oob-resync timeout: 40
  - Hello due in 00:00:03
  - Supports Link-local Signaling (LLS)
  - Index: 1/1, flood queue length: 0
  - Next: 0x0(0)/0x0(0)
  - Last flood scan length is 1, maximum is 1
  - Last flood scan time is 0 msec, maximum is 0 msec
  - Neighbor Count is 1, Adjacent neighbor count is 1
  - Adjacent with neighbor 172.18.0.1 (Designated Router)
  - Suppress hello for 0 neighbor(s)
- Fast Ethernet 6/1:
  - Internet Address: 172.18.0.1/24, Area 0
  - Process ID: 123 (Missing Router ID in the text provided)"
Configure Bidirectional Forwarding Detection (BFD) on Router B for BGP network,"1. Enable BFD on Router B:
   - Set bfd interval, min_rx, and multiplier values on Fast Ethernet interfaces
   - Configure BGP to use BFD with the neighbor
2. Configure IP addresses and subnets for interfaces:
   - Set ip address and mask on Fast Ethernet interfaces
3. Configure BGP settings:
   - Define BGP autonomous system number (as)
   - Configure BGP log-neighbor-changes
   - Specify BGP neighbor's remote AS number
   - Enable fall-over BFD for the BGP neighbor"
BFD session creation and BGP registration for BFD support.,"- Local Diag: 0, Demand mode: 0, Poll bit: 0
- MinTxInt: 200000, MinRxInt: 200000, Multiplier: 5
- Received MinRxInt: 1000, Received Multiplier: 3
- Holddown (hits): 600(0), Hello (hits): 200(15491)
- Rx Count: 9160, Rx Interval (ms) min/max/avg: 200/440/332 last: 268 ms ago
- Tx Count: 15494, Tx Interval (ms) min/max/avg: 152/248/197 last: 32 ms ago"
Verify that a BFD session has been created on the line card of Router B.,"Attach to 6 (enter console for 8 Port Fast Ethernet in Slot: 6), Type ""exit"" to end this session, and use ""show bfd neighbors details"" command."
Configure BFD for IS-IS network with specific settings.,"- Set BFD interval, minimum receive (min_rx), and multiplier values on the router.
- Configure Fast Ethernet 6/1 interface IP address with the specified subnet mask.
- Enable BFD for all interfaces in the ISIS network."
Configuring BFD in an HSRP Network,"- Enable HSRP support for BFD by default using the bfd interval command.
- Use the standby bfd and standby bfd all-interfaces commands only if BFD has been manually disabled on a router or interface.
- Configure Fast Ethernet interfaces 2/0 on both Router A and Router B to be connected to the same network.
- Set the IP addresses for Router A (10.0.0.2) and Router B (not provided in the text).
- Enable CEF on Router A with the ip cef command.
- Configure the bfd interval, min_rx, and multiplier values on Router A using the bfd interval 200 min_rx 200 multiplier 3 commands.
- Set up HSRP groups with standby commands for Router A (group 1 with ip 10.0.0.11) and Router B (not provided in the text)."
BFD enabled on both Device A and Device B for the Serial interfaces 2/0,"Device A:
- bfd interval 500 min_rx 500 multiplier 5
- ip route static bfd Serial 2/0 10.201.201.2
- ip route 10.0.0.0 255.0.0.0 Serial 2/0 10.201.201.2

Device B:
- bfd interval 500 min_rx 500 multiplier 5
- ip route static bfd Serial 2/0 10.201.201.1
- ip route 10.1.1.1 255.255.255.255 Serial 2/0 10.201.201.1"
Active static BFD configuration to reach 209.165.200.225 through Ethernet interface 0/0 in the BFD group testgroup.,"- Configure terminal
- ip route static bfd Ethernet 0/0 209.165.200.225 group testgroup"
Control the existence of prefixes 10.1.1.1/8 and 10.2.2.2/8 using an active static BFD session on Ethernet interface 0/0 with IP address 209.165.200.225.,"1. Configure the active static BFD session on Ethernet interface 0/0 with IP address 209.165.200.225 and group name ""testgroup"":
   ```
   configure terminal
   ip route static bfd Ethernet 0/0 209.165.200.225 group testgroup
   ```
   
2. Configure the IP route for prefix 10.0.0.0 with a subnet mask of 255.255.255.224 using Ethernet interface 0/0 and IP address 209.165.200.225:
   ```
   ip route 10.0.0.0 255.255.255.224 Ethernet 0/0 209.165.200.225
   ```
   
3. Configure the static BFD session on Ethernet interface 0/0.1001 with IP address 209.165.200.226 and group name ""testgroup"" in passive mode:
   ```
   ip route static bfd Ethernet 0/0.1001 209.165.200.226 group testgroup passive
   ```
   
4. Configure the IP routes for prefixes 10.1.1.1 and 10.2.2.2 with subnet masks of 255.255.255.224 using Ethernet interface 0/0.1001 and IP address 209.165.200.226:
   ```
   ip route 10.1.1.1 255.255.255.224 Ethernet 0/0.1001 209.165.200.226
   ip route 10.2.2.2 255.255.255.224 Ethernet 0/0.1001 209.165.200.226
   ```"
Configuring BFD Control Channel over VCCV for ATM Pseudowire,"- MPLS pseudowire carrying an ATM payload between T-PE1 and T-PE2 devices
- BFD monitoring of the pseudowire between T-PE1 and S-PE device, and between S-PE device and T-PE2 device
- No specific configuration required for S-PEs"
BFD support on DMVPN,"bfd-template single-hop sample, interval min-tx 1000 min-rx 1000 multiplier 5, bfd template sample, tunnel source GigabitEthernet0/0/0, tunnel mode gre multipoint, tunnel key 6"
The requirement is to configure BFD (Fast Link Failure Detection) for detecting link failures faster and remove the routes installed from RIB in the EIGRP routing protocol.,"ip nhrp network-id 12
ip nhrp nhs 10.0.0.1 nbma 10.0.0.10 multicast
bfd template sample
tunnel source GigabitEthernet0/0/0
tunnel mode gre multipoint
tunnel key 18
tunnel protection ipsec profile MY_PROFILE
!
bfd-template single-hop sample
interval min-tx 1000 min-rx 1000 multiplier 3
echo
!
router eigrp 2
bfd interface Tunnel1
network 11.0.0.0 0.0.0.255
network 111.0.0.0 0.0.0.255
The BFD template is applied with a single-hop configuration, and the EIGRP routing protocol will remove routes installed from RIB when BFD is reported down."
Bidirectional Forwarding Detection (BFD) implementation and configuration,BFD Support on DMVPN
Support for ATM Pseudowire feature in VCCV type-1 (without an IP/UDP header),"bfd-template, debug mpls l2transport vc vccv, interval(BFD), vccv, vccv bfd template, vccv bfd status signaling"
Support for multihop BFD for IPv4 and IPv6 addresses,"Cisco IOS Release 15.4(1)S, Cisco ASR 901S Series Routers, commands: authentication, bfd map, bfd-template, interval, show bfd neighbors, show bfd neighbor drops"
BFD (Fast Failure Detection) support for various router configurations and VPN Routing and Forwarding (VRF) awareness.,"IOS Release 15.4(1)S; Cisco ASR 901S Series Routers; BFD forwarding on point-to-point IPv4, IPv6, and GRE tunnels; configuring BFD timers on port channel interfaces; BFD support over Port Channel; BFD feature support extended to be VRF aware."
"BFD support on VLAN interfaces, ATM, FR, POS, and serial subinterfaces.",bfd interval command on the interface to initiate BFD monitoring.
"BFD support for OSPF can be configured globally on all interfaces or selectively on one or more interfaces. When BFD support is configured with OSPF as a registered protocol with BFD, OSPF receives forwarding path detection failure messages from BFD.",Not specified in the given text.
Static Route Support for BFD over IPv6,"User can configure IPv6 static BFDv6 neighbors, which can operate in associated (default) and unassociated modes. A neighbor can be transitioned between the two modes without interrupting the BFDv6 session."
BFDv6 session for determining if associated IPv6 static routes are inserted in the IPv6 RIB.,BFDv6 neighbor and static route on both devices.
Enable BFD monitoring for a static route without interruption to traffic by configuring a static BFD neighbor in unassociated mode on router B.,"Configure a static BFD neighbor in unassociated mode on router B, wait until the BFDv6 session comes up, and then reconfigure the static routes."
Disable BFD monitoring of static routes without interrupting traffic flow.,"1. Reconfigure the static BFD neighbor as detached (disassociate the neighbor from the static routes).
2. Deconfigure the static BFD neighbor."
Static Route Support for BFD over IPv6,BFDv6 Unassociated Mode
Enable privileged EXEC mode and configure a static IPv6 route with BFDv6.,"1. enable
2. configure terminal
3. ipv6 route static bfd [vrf vrf-name] interface-type interface-number ipv6-address [unassociated]"
Create a static route with BFDv6 support for IPv6 addresses on a Cisco device.,"1. Configure the BFDv6 neighbor and interface (e.g., GigabitEthernet 0/0/0) using the ""ipv6 route static bfd"" command.
2. Specify the IPv6 address, interface, and BFDv6 neighbor using the ""ipv6 route"" command with the desired IPv6 address (e.g., 2001:DB8::/32)."
Static Route Support for BFD over IPv6,Not specified in the text.
Configuring BFD Support for OSPFv3 for All Interfaces on Participating Devices,"1. Enable privileged EXEC mode using 'enable' command.
2. Enter global configuration mode using 'configure terminal' command.
3. Configure an OSPFv3 routing process with the command 'ipv6 router ospf process-id [vrf vpn-name]'.
4. Enable BFD for all interfaces using 'bfd all-interfaces [strict-mode]' command."
Configuring BFD support for OSPFv3 on all interfaces,bfd all-interfaces [strict-mode]
Display line-by-line listing of existing BFD adjacencies,show bfd neighbors [vrf vrf-name] [client {bgp | eigrp | isis | ospf | rsvp | te-frr}] [ip-address | ipv6 ipv6-address]
Enable and configure BFD on a per-interface basis for OSPFv3 routing process.,ipv6 ospf bfd [disable] [strict-mode] (on the interface) followed by Device(config-if)# ipv6 ospf bfd
Enable and disable event trace for IPv6 static and IPv6 static BFDv6 neighbors.,monitor event ipv6 static [enable | disable]
Enable single hop BFD on a Bridge Domain Interface (BDI),"1. enable
2. configure terminal
3. interface type number
4. ip address ip-address mask
5. exit"
Exiting interface configuration mode and returning to global configuration mode.,exit
Disable IP processing on an interface.,no ip address
Configure BFD on a BDI interface,"1. Enable and configure BFD on the BDI interface with the following command:
```
bfd interval 100 min_rx 100 multiplier 3
bfd neighbor ipv4 10.1.1.2
```
This configuration sets the BFD interval to 100 milliseconds, minimum receive time of 100 packets, and a multiplier of 3 for BFD on the BDI interface with the neighbor IP address of 10.1.1.2."
"Build a BDI2 interface configuration with an IP address, BFD settings, and a neighbor IP.","```
interface BDI2
ip address 10.1.1.2 255.255.255.0
bfd interval 100 min_rx 100 multiplier 3
bfd neighbor ipv4 10.1.1.3
end
```"
BFD Single-Hop Authentication feature that enables authentication for single-hop Bidirectional Forwarding Detection (BFD) sessions between two directly connected devices.,Supports Message Digest 5 (MD5) and Secure Hash Algorithm 1 (SHA-1) authentication types.
BFD Single-Hop Authentication must be properly configured and maintained with valid key chains. The authentication type negotiation and key exchange between two BFD peers does not occur.,"Timers with values greater than or equal to 50 milliseconds are supported, and the BFD template and associated map should be invalidated when keys are removed from established sessions or no active keys are present in the key chain."
BFD Single-Hop Authentication with detect multiplier and sequence number validation,"Nonmeticulous keyed types: Last received sequence number to (last received sequence number + 3 * detect multiplier), Meticulous keyed types: Last received sequence number + 1 to (last received sequence number + 3 * detect multiplier)"
Exit keychain-key configuration mode and return to privileged EXEC mode.,Device(config-keychain-key)# end
Configure a single-hop authentication process for improved security on an interface.,Apply the single-hop template to the desired interface and ensure proper settings are in place for the authentication process.
The requirement is to configure BFD (Bidirectional Forwarding Detection) with Single-Hop Authentication on a networking device.,"1. Enable the device and enter configuration mode: Device> enable, Device# configure terminal
2. Create a key chain and add a key to it: Device(config)# key chain chain1, Device(config-keychain)# key 1, Device(config-keychain-key)# key-string key1, Device(config-keychain-key)# end
3. Configure the BFD template with authentication: Device(config)# bfd-template single-hop template1, Device(bfd-config)# interval min-tx 120 min-rx 100 multiplier 3, Device(bfd-config)# authentication sha-1 keychain chain1, Device(bfd-config)# end
4. Apply the BFD template to an interface: Device(config)# interface <interface_name>, Device(config-if)# bfd single-hop template template1, Device(config-if)# end"
Verifying BFD Single-Hop Authentication,"Sample Output for the show bfd neighbor command
Device> show bfd neighbor
IPv4 Sessions
NeighAddr
LD/RD
RH/RS
State
Int
192.168.0.2
1/12
Up
Up
Et0/0
Session state is UP and using echo function with 300 ms interval."
The requirement is to enable authentication for single hop BFD sessions between directly connected devices using either MD5 or SHA1 authentication types.,"The configuration options introduced or modified are: authentication (BFD), bfd template, bfd-template, show bfd drops, and show bfd neighbors."
BFD Multihop Support for IPv4 Static Routes,"Enabling detection of IPv4 network failure between paths that are not directly connected using Bidirectional Forwarding Detection (BFD) sessions, adding and removing IPv4 static routes associated with IPv4 static BFD configuration in the routing table based on the status of the BFD session."
An IPv4 static route must be configured and reachable by all devices.,"The device must have at least one static route with the next-hop destination as a BFD destination for an associated session. If not, the BFD session is not created on the device."
The requirement is to implement Bidirectional Forwarding Detection for IPv4 (BFDv4) with support for both associated and unassociated modes.,"The configuration should include the ability to automatically associate an IPv4 static route with an IPv4 static BFDv4 multihop destination address if the static route next hop matches the static BFDv4 multihop destination address, and to only add static routes in the IPv4 RIB when the BFDv4 multihop destination is reachable."
Configure BFD Multihop IPv4 Static Routes,"Specify a BFD destination address, configure a BFD map and a BFD multihop template for an interface on the device. The destination address and source address configured for a BFD map must match the BFD static multihop configuration and the source address must be a valid IP address."
Enabling privileged EXEC mode and configuring static IPv4 BFD multihop for monitoring static routes.,"enable, configure terminal, ip route prefix mask ip-address, ip route static bfd multihop-destination-address multihop-source-address, (optional) ip route static bfd multihop-destination-address multihop-source-address unassociate"
BFD Multihop Support for IPv4 Static Routes in Associated and Unassociated Modes.,"- Enable BFD on the device.
  ```
  Device> enable
  Device# configure terminal
  ```
  
- Configure BFD for a specific IP address.
  ```
  Device(config)# bfd map ipv4 192.0.2.1/32
  10.1.1.1/32 test
  ```
  
- Define a BFD template for multihop support.
  ```
  Device(config)# bfd-template multi-hop test
  Device(config-bfd)# interval min-tx 51 min-rx 51 multiplier 3
  Device(config-bfd)# exit
  ```
  
- Configure static routes for the BFD.
  ```
  Device(config)# ip route 192.0.2.0 255.255.255.0 10.1.1.2
  Device(config)# interface GigabitEthernet 1/1
  Device(config-if)# ip address 10.1.1.1 255.255.0.0
  Device(config-if)# exit
  ```
  
- Configure static BFD route with the associated device.
  ```
  Device(config)# ip route static bfd 192.0.2.1 10.1.1.1
  ```
  
- In Unassociated mode, configure similar to Associated mode but without the 'ip route static bfd' command at the end."
BFD Multihop Support for IPv4 Static Routes,ip route static bfd 192.0.2.1 10.1.1.1 unassociate
"IS-IS IPv6 Client for BFD, Multi-Topology (MT) mode support, BFD support for both IPv4 and IPv6 on the same adjacency",IS-IS can be configured in either router address-family configuration mode or interface configuration mode
IS-IS BFD IPv6 Session Deletion should be enabled and configured properly to ensure that BFD sessions for IPv6 are managed correctly between devices.,"IS-IS BFD IPv6 must be enabled on the interfaces, and appropriate conditions such as AFI specific peer interface address, Multi-Topology Identifier (MTID) or Network Layer Protocol Identifier (NLPID), and support for RFC 6213 should be met."
Configure ISIS IPv6 Client for BFD,"1. enable
2. configure terminal
3. interface type number
4. ipv6 address ipv6-address/mask
5. isis ipv6 bfd
6. end"
Configuring IS-IS IPv6 Client Support for BFD on All Interfaces,"1. enable
2. configure terminal
3. router isis
4. metric-style wide
5. address-family ipv6
6. multi-topology
7. bfd all-interfaces
8. end"
Enables multi-topology IS-IS for IPv6,Device(config-router-af)# multi-topology
Enable BFD for all interfaces participating in the routing process.,bfd all-interfaces
BFD (Bidirectional Forwarding Detection) configuration on interfaces of Router A and Router B using BFD-template single-hop.,bfd-template single-hop BFDM interval min-tx 50 min-rx 50 multiplier 3
The IS-IS Client for BFD C-Bit Support feature allows the BFD implementation to signal to its peers whether it shares the same status as the control plane. This helps differentiate between true forwarding failures and control-plane restarts.,Configure the device to ignore control-plane related BFD session failures on the neighbors of a restarting device just prior to the planned restart of that device.
"The BFD Dampening feature introduces a configurable exponential delay mechanism to suppress the excessive effect of remote node reachability events flapping with Bidirectional Forwarding Detection (BFD). This feature allows the network operator to automatically dampen a given BFD session to prevent excessive notification to the BFD clients, thus preventing unnecessary instability in the network.",Not specified in the provided text.
BFD Dampening feature for suppressing excessive reachability events flapping with BFD and improving network stability.,"BFD Dampening can be applied to all types of BFD sessions, including IPv4/single-hop/multihop, MPLS-TP, and Pseudo Wire (PW) Virtual Circuit Connection Verification (VCCV). The feature can be configured at the BFD template level."
Configure BFD Dampening on a multihop template-name session using the BFD template.,"1. enable
2. configure terminal
3. bfd-template multi-hop template-name
4. interval min-tx milliseconds min-rx milliseconds multiplier multiplier-value
5. dampening [ half-life-period reuse-threshold suppress-threshold max-suppress-time]
6. end"
"Configure BFD dampening in the network devices using bfd-template and set the parameters for interval, multiplier, dampening values.","Use the following configuration example to enable and configure BFD dampening on a network device.
```
bfd-template multi-hop doctemplate
    interval min-tx 120 min-rx 100 multiplier 3
    dampening 2 1000 3000 8
```"
Classifying Network Traffic Using NBAR,NBAR does not support Non-IP traffic.
Enabled on both tunnel interface and physical interface for protocol discovery,Count packets on both interfaces based on encapsulation (physical interface) and Layer 7 protocol (tunnel interface)
Apply appropriate QoS for applications or traffic with specific protocols using the MQC.,"Statically assigned TCP and UDP port numbers, Non-TCP and non-UDP IP protocols, Dynamically assigned TCP and UDP port numbers (stateful inspection), Subport classification or deep packet inspection. Access Control Lists (ACLs) can be used for classifying static port protocols."
Network resource management for network traffic,"NBAR features (classification inside transient IPv6 tunnels, custom protocols, customization of protocol attributes, field extraction, protocol pack updates)"
Including only the portion of the URL that follows the www.hostname.domain in the match statement for classification.,"Matching protocol http url /latest/whatsnew.html (for example, match www.cisco.com)."
NBAR Extended Inspection for HTTP Traffic feature,Enable NBAR URI Extraction for HTTP Transactions for Persistent Connections (requires 'Enhanced Web Classification' protocol pack)
Perform subport classification of Citrix traffic based on the published application name or ICA tag number.,NBAR (Network-Based Application Recognition) can be used to monitor Citrix ICA client requests for a published application and classify the traffic accordingly.
Monitor and classify traffic by the published application name using Server Browser Mode on the master browser.,"NBAR statefully tracks and monitors traffic, performs a regular expression search on the packet contents for the published application name specified by the match protocol citrix command using the app keyword and the application-name-string argument."
"Seamless session sharing mode, NBAR differentiation, Citrix ICA secure mode, Pipelined Citrix ICA client requests not supported, Classification of Citrix ICA Traffic by ICA Tag Number.","TCP connection sharing for seamless sharing mode, separate TCP connection for each application in seamless nonsession sharing mode, proper operation of NBAR in Citrix ICA secure mode."
Citrix traffic prioritization using the ICA packet tagging,"Table 1: Citrix ICA Packet Tagging (Sample Virtual Channels, ICA Bits, and Priority)"
Support for Real-Time Transport Control Protocol (RTCP) identification in NBAR.,RTCP packets run on odd-numbered ports and RTP packets run on even-numbered ports.
Deep-packet inspection into RTP header for classification of RTP packets using the RTP Payload Type Classification feature.,"Custom protocols to identify custom applications, extending the capability of NBAR Protocol Discovery for classifying and monitoring additional static port applications."
"Custom protocol naming convention (custom-xx, with xx being a number) and limiting the number of custom applications to 10 using NBAR.","• Predefined custom protocols: Named as custom-xx, where xx is a number.
• User-defined custom protocols: Not specified in the text provided."
"Support for Cisco IOS XE starting from release 3.17S, including IOS XE Denali 16.x. NBAR should be able to classify traffic using multiple methods such as first packet classification, DNS-based classification, and socket-cache.",N/A (as the text does not provide specific configuration details)
Limiting or Disabling DNS-based Classification and Enabling DNS Guard for DNS-based Categorization,DNS Guard feature in its default enabled state (limits DNS-based Categorization to operating only when the complete DNS transaction is available) and disabling it in special cases as needed.
Protocol Pack for updating protocols supported by NBAR2 without replacing the base IOS image on a device.,Not provided in the text.
"Enable or disable Protocol Discovery per interface, Display Protocol Discovery statistics, Configure and display multiple top-n tables that list protocols by bandwidth usage, Configure thresholds based on the traffic of particular NBAR-supported protocols or applications.","Enabling and disabling Protocol Discovery per interface, Configuring and displaying multiple top-n tables for protocols by bandwidth usage, Configuring thresholds for NBAR-supported protocols or applications."
NBAR and Multipacket Classification capabilities for improved performance and accuracy.,"NBAR classification requires 1 to 15 payload packets in a flow depending on the protocol, and does not count retransmitted packets or classify flows without any payload packets."
"Classification for Citrix protocol with ""app"" subclassification on VRF interfaces is not guaranteed when NBAR is enabled.","NBAR supports static port-based classification and IP protocol-based classification for IPv6 packets, and native IPv6 classification."
IPv4 and teredo classification support for NBAR.,Enabling the ip nbar classification tunneled-traffic command to classify tunneled traffic and enabling the ipv6 flow monitor command to create IPv6 traffic-based flow monitors.
Support for Group Encrypted Transport VPN (GETVPN) in ingress QoS when crypto-map mode is enabled.,"Use the ""ip nbar disable classification encrypted-app"" command in global configuration mode to switch back to backward compatible mode."
NBAR Support for CAPWAP recognition mode to classify application traffic within a CAPWAP tunnel.,NBAR CAPWAP Recognition Disabled/Enabled
NBAR recognition of application traffic within a CAPWAP tunnel on the Cisco IOS XE platform.,"• Cisco IOS XE platform
• Cisco IOS XE 3.17 or later
• NBAR enabled on the platform"
DNS-based learning for NBAR to classify application traffic from the first packet of a flow,no ip nbar classification dns learning
Enabling or disabling the DNS-based classification mechanism for DNS-based categorization.,[no] ip nbar classification dns learning
Each class of traffic can be directed to a specific QoS queue for different types of applications.,"10 classes for business-relevant applications operating in recognized technologies such as VoIP, video, conferencing, etc.
1 class for business-relevant applications of unknown technology.
1 class for business-irrelevant applications."
The business-relevance attribute specifies whether the application is considered relevant to the organization's business activity.,"Values for business-relevance - business-relevant, default, business-irrelevant."
Configure a class map using application group or specific application as match criteria.,"Use ""class-map"" command to create a class map and specify the match criteria using ""match protocol attribute"" command along with either ""application-group"" or ""category""."
Configure encryption status as the match criterion using application-name or sub-category attribute.,match protocol attribute encrypted {encrypted-no | encrypted-unassigned | encrypted-yes} [application-name] / match protocol attribute sub-category application-category [application-name].
Class-map configuration for matching traffic based on protocol attributes (traffic class and business relevance),class-map match protocol attribute traffic-class traffic-class-option match protocol attribute business-relevance business-relevance-option QoS
Enables privileged EXEC mode.,Device> enable
"Match protocol attribute business-relevance with value ""business-relevant"" in a class-map for SRND implementation.","class-map match-all VOICE
match protocol attribute traffic-class voip-telephony
match protocol attribute business-relevance business-relevant"
Classification and QoS treatment for different types of network traffic,"1. TRANSACTIONAL-DATA: Match protocol attribute traffic-class transactional-data and business-relevance business-relevant, class-map match-all
2. BULK-DATA: Match protocol attribute traffic-class bulk-data and business-relevance business-relevant, class-map match-all
3. SCAVENGER: Match protocol attribute business-relevance business-irrelevant, class-map match-all
4. VOICE: Set dscp ef
5. BROADCAST-VIDEO: Set dscp cs5
6. INTERACTIVE-VIDEO: Set dscp cs4
7. MULTIMEDIA-CONFERENCING: Set dscp af41
8. MULTIMEDIA-STREAMING: Set dscp af31
9. SIGNALING: Set dscp cs3
10. NETWORK-CONTROL: Set dscp cs6
11. NETWORK-MANAGEMENT: Set dscp cs6"
- Custom protocol LAYER4CUSTOM to look for TCP packets with a destination or source port of 6700,- Configure NBAR custom LAYER4CUSTOM with transport tcp id 14 and port 6700.
Classify FastTrack and Gnutella traffic using regular expression variable in class-map nbar.,"1. Configure class map for matching FastTrack file-transfer traffic:
Device(config)# class-map match-all nbar
Device(config-cmap)# match protocol fasttrack file-transfer “*”

2. Configure class map for matching Gnutella file-transfer traffic:
Device(config)# class-map match-all nbar
Device(config-cmap)# match protocol gnutella file-transfer “*”"
"Classify Gnutella and FastTrack traffic containing ""*.mpeg"" or ""*cisco*"" in file-transfer using the NBAR protocol.","1. Create a class-map with match-all type for NBAR:
Device(config)# class-map match-all nbar

2. Define two separate class-maps for Gnutella and FastTrack traffic, matching ""*.mpeg"" or ""*cisco*"" in file-transfer:
Device(config)# class-map match-all gnutella
Device(config-cmap)# match protocol gnutella file-transfer “*.mpeg”

Device(config)# class-map match-all fasttrack
Device(config-cmap)# match protocol fasttrack file-transfer “*cisco*”"
"Classify network traffic based on application groups (e.g., skype-group) and encrypted applications.","Configure class-maps, match protocol attribute application-group (e.g., skype-group), and use NBAR for classifying network traffic."
Configure class-map and match criteria for protocols.,"Device# configure terminal
Device(config)# class-map my-class
Device(config-cmap)# match protocol encrypted encrypted-yes

Device# configure terminal
Device(config)# class-map newmap
Device(config-cmap)# match protocol attribute sub-category client-server

Device# configure terminal
Device(config)# class-map mygroup
Device(config-cmap)# match protocol attribute tunnel tunnel-yes"
Remote Access Terminal,"Type: group, Groups: nen

Requirement: Application Group
Configuration: Type: group, Groups: skype-group, wap-group, pop3-group, kerberos-group, tftp-group, bp

Requirement: Tunnel
Configuration: Type: group, Groups: tunnel-no, tunnel-yes, tunnel-unassigned

Requirement: Encrypted Applications
Configuration: Type: group, Groups: encrypted-yes, encrypted-no, encrypted-unassigned

Note that the text provided does not contain a requirement description or configuration for ""Protocol Name: ftp"", ""category: file-sharing"", ""sub-category: client-server"", or ""application-group: ftp-group""."
Customize the device to recognize and classify network traffic for Office 365 using NBAR.,"Device# configure terminal; Device(config)# ip nbar custom myOffice365 dns domain-name ""*uniqueOffice365"" extends office365"
NBAR Classification Enhancements feature for native IPv6 classification and classification of flows inside tunneled IPv6 over IPv4.,"ip nbar classification tunneled-traffic, option (FNF)."
NBAR-supported protocols were added for Cisco IOS XE Release 2.5 and 2.3.,"The command that was modified is ""match protocol (NBAR)"" in both Cisco IOS XE Release 2.5 and 2.3."
"View taxonomy file for active, inactive, and all loaded Protocol Packs using the show ip nbar protocol-pack command.","Redirect output from the show ip nbar protocol-pack [active | inactive | loaded] taxonomy command to a file using the redirect output modifier (e.g., show ip nbar protocol-pack active taxonomy | redirect harddisk:nbar_taxonomy.xml)."
Loading the NBAR2 Protocol Pack,"1. enable, 2. configure terminal, 3. ip nbar protocol-pack protocol-pack [force], 4. exit"
Display protocol pack information,show ip nbar protocol-pack {protocol-pack | active}
Display active NBAR2 protocol pack information.,Device(config)# show ip nbar protocol-pack active
Advanced Protocol Pack,"NBAR Engine Version: 14, Protocols: base, Mv: 4; ftp, Mv: 5; http, Mv: 18; static, Mv: 6; socks, Mv: 2; nntp, Mv: 2; tftp, Mv: 2; exchange, Mv: 3; vdolive, Mv: 1; sqlnet, Mv: 2; netshow, Mv: 3; sunrpc, Mv: 3; streamwork, Mv: 2; citrix, Mv: 11; fasttrack, Mv: 3; gnutella, Mv: 7; kazaa2, Mv: 11"
"Viewing NBAR2 Taxonomy Information using the ""show ip nbar protocol-pack active taxonomy"" command.","Not provided in the text, as it seems to be related to configuring the Advanced Protocol Pack."
Mobile data synchronization technology and protocol based on HTTP,"- Application Group: Other
- Encrypted: True
- Sub-category: Client-server
- IP Version: Both IPv4 and IPv6
- Underlying Protocols: HTTP"
Non-IP traffic classification and input/output classification using NBAR.,"Apply NBAR on LAN interfaces for input classification and output classification on WAN link, support Generic routing encapsulation (GRE), IPsec IPv4 tunnel (including tunneled IPv6) in protocol discovery mode and MQC mode, IPsec IPv6 tunnel in protocol discovery mode but not in MQC mode, and Multipoint GRE/Dynamic Multipoint VPN (DMVPN) in protocol discovery mode."
Protocol Discovery and Interface Scalability,NBAR to determine protocols and applications running on the network.
Configuring NBAR to discover traffic for all protocols on a particular interface.,ip nbar protocol-discovery [ipv4 | ipv6]
Display statistics gathered by the NBAR Protocol using Discovery feature.,show ip nbar protocol-discovery [interface type number] [stats {byte-count | bit-rate | packet-count| max-bit-rate}] [protocol protocol-name | top-n number]
Enable protocol discovery on Fast Ethernet interface 1/1/2 for IPv6 packets.,Router(config-if)# ip nbar protocol-discovery ipv6
Enable protocol discovery for IPv6 and IPv4 packets on Fast Ethernet interface 1/1/2.,"1. Router> enable
2. Router# configure terminal
3. Router(config)# interface fastethernet1/1/2
4. Router(config-if)# ip nbar protocol-discovery ipv6
5. Router(config-if)# ip nbar protocol-discovery ipv4"
Enable Protocol Discovery,"ip nbar protocol discovery, show ip nbar protocol discovery"
1. Define a traffic class using the class-map command.,"1. MQC (Management, Quota, Configuration) command-line interface.
2. Define a traffic class using the class-map command.
3. Create and configure traffic policies (policy maps).
4. Attach these traffic policies to interfaces."
The requirement is to configure a traffic class using the class-map command and define matching criteria for packets using match commands.,"The configuration would involve specifying the name of the traffic class, defining one or more match commands to classify packets, and setting an instruction on how to evaluate these match commands (match-all or match-any)."
NBAR configuration for matching specific network protocols and applications.,Use MQC to group packets associated with recognized protocols or applications into classes based on whether they match a specific criterion. Assign QoS treatment to network traffic within each class using a traffic policy (policy map).
Enable privileged EXEC mode and configure NBAR to match unknown traffic.,Device> enable; configure terminal; class-map match-all my-unknown; match protocol unknown [final]; (Optional) Device(config-cmap)# end
Configure QoS feature using the appropriate command,"CBWFQ as an example of a QoS feature that can be configured, but not supported on Catalyst 6500 series switch with Supervisor 32/PISA."
Configure a policy map and class for QoS using NBAR on Cisco IOS XE Gibraltar.,"1. Enter global configuration mode by typing ""Device> enable"".
2. Use the command ""configure terminal"" to enter into configuration mode.
3. Create or modify a policy map with the command ""policy-map policy-name"".
4. Specify the name of the policy map and enter policy-map class configuration mode using ""class {class-name | class-default}"".
5. Enter the specific class name or use the keyword ""class-default"" for the default class.
6. Configure NBAR and traffic policy as needed."
Enables privileged EXEC mode.,enable
Attach a policy map (traffic policy) to an input or output interface.,service-policy {input | output} policy-map-name
Display all class maps and their matching criteria.,Command - show class-map [class-map-name] (Optional) Enter the name of a specific class map.
"To verify the management of unknown and unclassified traffic, display protocol classification ID for unknown and unclassified traffic using the command ""show ip nbar protocol-id unknown"". Additionally, display the protocol link age for unknown and unclassified traffic using the command ""show ip nbar link-age unknown"".","1. Protocol Classification ID for Unknown Traffic - Command: show ip nbar protocol-id unknown
2. Protocol Link Age for Unknown Traffic - Command: show ip nbar link-age unknown"
Display list of configured attributes for unknown and unclassified traffic.,Device# show ip nbar protocol-attribute unknown
Implementing QoS feature in a policy map using CBWFQ (Class-Based Weighted Fair Queuing).,Device(config)# policy-map policy1; Device(config-pmap)# class class1; Device(config-pmap-c)# bandwidth percent 50; Device(config-pmap-c)# end.
"The requirement is to display and verify the current protocol-to-port mappings in use by NBAR using the ""show ip nbar port-map"" command.","The configuration provided is a list of protocol-to-port mappings for various protocols such as BGP, CUSEeme, and DHCP."
Add application recognition modules (PDLMs) to a network,Configure NBAR using the MQC
Configuring Weighted Fair Queueing (CBWFQ) and Classifying Network Traffic Using NBAR with MQC in a 6500 series switch.,"Enabling Protocol Discovery, Adding Application Recognition Modules (PDLMs), Creating a Custom Protocol, and Configuring NBAR Using the MQC with example L3 Custom any IP Port."
Cisco Feature Navigator to find information about platform support and Cisco software image support. Access to Cisco Feature Navigator at www.cisco.com/go/cfn does not require an account on Cisco.com.,"The NBAR MQC Support for Pre-resolved and Unknown Applications feature provides support for matching all unknown and unclassified traffic using MQC. IOS Release 15.5(1)T, IOS XE Release 3.14S."
Enables stateful identification of real-time audio and video traffic.,NBAR Extended Inspection for HTTP Traffic (12.3(4)T)
Configuring DSCP-Based Layer 3 Custom Applications,"1. enable
2. configure terminal
3. ip nbar custom name transport {tcp | udp | udp-tcp }id id
4. dscp dscp-value
5. exit"
MQC Based on Transport Hierarchy feature,New MQC filter within a class-map to match traffic with specific underlying protocol in the hierarchy
Enable MQC based on transport hierarchy and configure the necessary protocols and class maps for the in-app-hierarchy.,"1. enable
2. configure terminal
3. class-map [ match-all | match-any ] class-map-name
4. match protocol protocol-name in-app-hierarchy
5. end
6. configure terminal
7. policy-map policy-map-name
8. class { class-name | class-default }
9. end
10. configure terminal
11. interface type number
12. service-policy { input | output } policy-map-name"
Creating a class map for QoS classification and entering class-map mode.,class-map match-all C1; match protocol http
"A traffic policy called P1 is configured with a class called C1 for which QoS bandwidth limitation is configured as an example. This policy will categorize traffic with final classification of Youtube using HTTP as a transport into the C1 class, while other possible transports like DNS, SSL, or RTSP will not be matched by this class-map.","Interface: GigabitEthernet 0/0/1
Service-policy input P1
Class-map C1 (match-all) with protocol http in-app-hierarchy and protocol youtube
5 minute offered rate and drop rate for class C1"
Add attribute values from sub-categories to the profile.,Device(config-attribute-map)# attribute [sub-category-name]
Adding the business-relevance attribute value to the profile,device(config-attribute-map)# attribute business-relevance business-relevant
Return to privileged EXEC mode.,Device(config-attribute-map)# end
Configuring attributes for the Network News Transfer Protocol (NNTP) protocol in a device,Device> enable; Device# configure terminal; Device(config)# ip nbar attribute-map nntp-attrib; Device(config-attribute-map)# attribute category newsgroup; Device(config-attribute-map)# attribute application-group nntp-group; Device(config-attribute-map)# attribute tunnel tunnel-no; Device(config-attribute-map)# attribute encrypted encrypted-yes; Device(config-attribute-map)# attribute p2p-technology
"The NBAR2 Custom Protocol feature configures attributes, profiles for protocols, and maps profiles to protocols.","ip nbar attribute-map, ip nbar attribute-set."
Enable and configure the Flexible NetFlow exporter to report extracted fields through the sub-application table.,"1. enable
2. configure terminal
3. flow exporter exporter-name
4. option sub-application-table"
Custom protocol support for NBAR to identify custom applications and map static TCP and UDP port numbers.,"Custom protocols named ""custom-xx"" with xx being a number, ten custom applications can be assigned, each having up to 16 TCP and 16 UDP ports mapped to the individual custom protocol."
• The ability to inspect the payload for certain matching string patterns at a specific offset.,"• NBAR-supported protocols (custom user-named protocol) can be used by Protocol Discovery, the Protocol Discovery MIB, the match protocol command, and the ip nbar port-map command."
Create a custom protocol for NBAR to recognize additional static port applications and classify nonsupported static port traffic.,"Use the ip nbar custom command with keywords and arguments to define the custom protocol, create a traffic class, and configure a traffic policy (policy map) to use the custom protocol when NBAR classifies traffic."
Create traffic classes and configure traffic policies using the Modular Quality of Service (QoS) Command-Line Interface (CLI) (MQC).,"Define traffic classes, create and configure traffic policies (policy maps), and attach these traffic policies to interfaces."
- Introduce the custom configuration mode for IP NBAR transport.,"- Use the ""ip nbar custom"" command to configure the custom NBAR protocols."
"- Identify all HTTP, SSL, and DNS traffic associated with a specific server using NBAR protocol.","Requirement:
- Identify all HTTP, SSL, and DNS traffic associated with a specific server using NBAR protocol.

Configuration:
- Syntax: ip nbar custom <protocol_name> composite <composite_option> <criteria>
- Example Use Case: Custom NBAR Protocol Based on Multiple Network Protocols
  - Objective: Identify all HTTP, SSL, and DNS traffic associated with the abc_example.com server.
  - Preferred method: Use a composite custom NBAR protocol."
TCP packets with a destination or source port of 6700 should be classified by the NBAR2 Custom Protocol.,Device# configure terminal; Device(config)# ip nbar custom LAYER4CUSTOM transport tcp id 14; Device(config-custom)# port 6700
Extend the capability of NBAR Protocol Discovery to classify and monitor additional static port applications or allows NBAR to classify non-supported static port traffic.,ip nbar custom protocol-name composite server-name
Classify scid values into active-craft and passive-craft classes for NBAR QoS treatment.,"- class-map active-craft
  match protocol ftdd scid 0x15
  match protocol ftdd scid 0x21
  match protocol ftdd scid 0x27
- class-map passive-craft
  match protocol ftdd scid 0x11
  match protocol ftdd scid 0x22
  match protocol ftdd scid 0x25"
Configure QoS feature using CBWFQ or another QoS feature as needed.,"1. Enable privileged EXEC mode.
   - Command: enable
2. Enter global configuration mode.
   - Command: configure terminal
3. Create or modify a policy map with a name (e.g., policy-map policy1).
   - Command: policy-map policy-map-name
4. Specify the class within the policy map (e.g., class-name or class-default).
   - Command: class {class-name | class-default}
5. Configure bandwidth using CBWFQ or another QoS feature as needed.
   - Command: bandwidth {bandwidth-kbps | remaining percent percentage | percent percentage}"
"Configuring QoS feature, specifically CBWFQ (Command or Action)",Using the appropriate command for the desired QoS feature
Enable privileged EXEC mode and enter global configuration mode.,"enable, configure terminal"
Configure an interface type and enter interface configuration mode.,interface type number [name-tag]
Displaying and configuring custom protocol information using the show ip nbar port-map command.,"1. Enable privileged EXEC mode using the 'enable' command.
2. Use the 'configure terminal' command to enter global configuration mode.
3. Configure a custom protocol with the 'ip nbar custom name transport {tcp | udp} {id id } {ip address ip-address | subnet subnet-ip subnet-mask}| ipv6' command."
Configuring NBAR2 Custom Protocol,"- Enable privileged EXEC mode using the ""enable"" command.
- Configure IPv6 address, subnet, and prefix using the ""ipv6-address"", ""subnet subnet-ipv6"", and ""ipv6-prefix"" commands.
- Set port number or range using the ""port-number"" or ""range start-range end-range"" commands.
- Specify direction as ""any"", ""destination"", or ""source""."
"The requirement is to manage configuration graphs in the control plane client and data plane, and handle packets from flows that were being classified.","The NBAR system should limit the number of parallel existing graphs and aging graphs due to memory limitations, allowing a maximum of two configurations at a given time."
"The requirement is to define custom protocols for NBAR Web-based Custom Protocols, which can match traffic based on HTTP URL and/or host name.","The configuration involves enabling the feature, configuring terminal, and using the following command:
ip nbar custom custom-protocol-name http {host"
Add a custom protocol to the router using the ip nbar command.,Router(config)# ip nbar custom app_sales1 http url www.example.com
Enabling the NBAR Web-based Custom Protocols Scalability feature to define custom protocols based on http host name and/or url.,Command: ip nbar custom.
Enabling protocol discovery and connecting to the Visibility Dashboard web interface to display traffic information using the router IP address or hostname with /flash/nbar2/home.html.,"HTTP server executes show ip nbar CLI commands on the router to collect data, and either providing ""privilege 15"" general access to the router or setting a local username and password for the router."
Enable HTTP authentication and set a local username/password for accessing the Visibility Dashboard web interface.,"Device(config)#ip http authentication enable, Device(config)#ip http authentication local, Device(config)#username cisco, Device(config)#password n449rbpsvq"
Configuring NBAR2 HTTP-Based Visibility Dashboard,"enable, configure terminal, ip http server, ip nbar http-services, interface gigabitethernet interface, ip nbar protocol-discovery"
Enable HTTP server and configure NBAR2 HTTP-Services for traffic data collection and storage in the database.,"1. Device#configure terminal
2. ip http server
3. Device(config)#ip http server
4. Step 3: Configures the HTTP services to collect traffic data and store it in a database.
5. ip nbar http-services
6. Example: Step 4: Device(config)#ip nbar http-services
7. interface gigabitethernet 0/0/2"
"Dashboard web interface to display traffic information for the monitored interfaces using the router IP address or hostname, and appending /flash/nbar2/home.html.",The configuration is not provided in the text.
"The requirement is to implement the NBAR2 HTTP-based Visibility Dashboard, which provides a web interface displaying network traffic data and related information in an intuitive, interactive graphical format.","The feature was introduced in Cisco IOS XE Release 3.16S, and the command modified or introduced by this feature is ""ip nbar http-services""."
NBAR Coarse-Grain Classification,"Operates in coarse-grain mode, minimizes deep packet inspection, and reduces memory resource demands."
Limitations of Coarse-Grain Mode in metric reporting detail,"Coarse-Grain Mode
Fine-Grain Mode
Simplified classification
Some classification according to similar earlier packets.
Full-power of deep packet inspection
Classification
Faster
Slower
Performance
Lower memory demands
Higher memory demands
Memory Resources
Partial support
Full supported
Sub-classification
Partial support
Full supported"
NBAR Coarse-Grain Classification,ip nbar classification granularity
SSL Unique Name Sub-Classification to match SSL sessions of servers not known globally or not yet supported by NBAR.,"The unique-name matches the server name indication (SNI) field in the client request, if the SNI field exists, or it matches the common name (CN) field in the first certificate of the server's response."
SSL Custom Application Configuration,"1. enable
2. configure terminal
3. ip nbar custom <custom-protocol-name> <unique-name> regex <selector-id>
4. end"
Fine-grain NBAR for Selective Applications feature to dynamically monitor critical applications including collection of detailed Layer 7 metrics.,ip nbar custom.
Fine-grain NBAR classification with cisco-media-audio protocol,Device(config)#ip nbar classification granularity fine-grain protocol cisco-media-audio
"The requirement is to store the corresponding IP address of a domain that matches the domain name with the expression ""example"" in its tables. When any TCP or UDP traffic with this IP address arrives, it should be classified as myDns protocol.","Configure NBAR Custom Applications Based on DNS
1. enable
2. configure terminal
3. ip nbar custom custom-name dns domain-name regular-expression id 1"
Configure NBAR Custom Applications Based on DNS Name,Device> enable; Device# configure terminal; ip nbar custom custom1 dns domain-name *example id 11; Device(config)# exit
The requirement is to provide the mechanism for customizing applications based on DNS hostnames using the NBAR feature.,"The configuration involves using the ""ip nbar custom"" command in Cisco IOS XE Release 3.15S or later."
DNS Protocol Classification Change,NBAR2
DNS Protocol Classification Change for NBAR client (router) to classify and handle DNS traffic in the same way as its associated application traffic.,Not provided in the text.
1. Application Protocols and Attributes for application recognition and classification,"1. Application-Family Categorization Scheme 1 (scheme 1)
2. Application-Set Categorization Scheme 2 (scheme 2)
3. Category Categorization Scheme 3 (scheme 3)
4. Service Indicates business-oriented applications (business-relevance)
5. Priority Possible encrypted traffic (encrypted)
6. Traffic Attributes: Peer-to-peer traffic (p2p-technology), Application class-of-service (traffic-class), Tunnel-related traffic (tunnel)"
RADIUS Attribute 8 Framed-IP-Address in Access Requests,RADIUS Attribute 82 Tunnel Assignment ID
Tunnel Assignment ID,RADIUS Attribute 82 Tunnel Assignment ID
How to Configure RADIUS Attribute 66 Tunnel-Client-Endpoint Enhancements,Configuration Examples for RADIUS Attribute 66
RADIUS Attribute 104 and Policy-Based Route Map,Not available in the given text
Configure RADIUS Attribute 5 NAS-Port Format on a Per-Server Group Level,Configuring the RADIUS Attribute 5 Format on a Per-Server Group Level
"Helping the RADIUS server match requests and responses, detect duplicate requests.","Length field (2 octets), specifying the length of the entire packet; Authenticator field (16 octets) used to authenticate the reply from the RADIUS server. Two types of authenticators: Request-Authentication (Access-Request and Accounting-Request packets) and Response-Authenticator (Access-Accept, Access-Reject, Access-Challenge, and Accounting-Response packets)."
Define various types of RADIUS packet types and their purposes.,"Access-Request, Access-Accept, Access-Reject, Access-Challenge"
Service-Type attribute with integer values representing different service types,"The possible values for the Service-Type attribute are:
1 - Login
2 - Framed
3 - Callback-Login
4 - Callback-Framed
5 - Outbound
6 - Administrative
7 - NAS-Prompt
8 - Authenticate-Only
9 - Callback-NAS-Prompt
10 - Call-Check
11 - Callback-Administrative"
"The requirement is that the key for the clients file must be the same as the radius-server key, and the RADIUS users file should contain an entry for each user that the RADIUS server will authenticate. Each entry establishes an attribute the user can access.",The configuration is not explicitly mentioned in the provided text.
User profile without blank lines in RADIUS (Merit Daemon format),"user name, password, and tunnel attributes (5 attributes) for a specific company.com user."
"Tunnel-Type = L2TP, Tunnel-Medium-Type = IP, Tunnel-Server-Endpoint = 10.0.0.1, Tunnel-Password = ""welcome"", Tunnel-Assignment-ID = ""nas""",Not provided in the text.
The RADIUS server should authenticate the user based on the provided IETF attributes.,"Requirement: The RADIUS server should authenticate the user based on the provided IETF attributes.

Configuration: 
1. User-Name (IETF Attribute Number 1) - Indicates the name of the user being authenticated by the RADIUS server.
2. User-Password (IETF Attribute Number 2) - Indicates the user’s password or the user’s input following an Access-Challenge. Passwords longer than 16 characters are encrypted using RFC 2865 specifications.
3. CHAP-Password (IETF Attribute Number 3) - Indicates the response value provided by a PPP Challenge Handshake Authentication Protocol (CHAP) user in response to an Access-Challenge.
4. NAS-IP Address (IETF Attribute Number 4) - Specifies the IP address of the network access server that is requesting authentication. The default value is 0.0.0.0/0.
5. NAS-Port (IETF Attribute Number 5) - Indicates the physical port number of the network access server that is authenticating the user."
IP address configuration for a user through RADIUS server in access-request.,radius-server attribute 8 include-in-access-req command in global configuration mode.
Compression protocol configuration for a link using PPP or SLIP.,Compression Protocol (numeric value)
The text does not provide a specific requirement description.,"Vendor-ID = 9, supported option has vendor-type 1 named ""cisco-avpair"", value format is: protocol : attribute sep value (e.g., ""ip:addr-pool=first"" or ""shell:priv-lvl=15"")."
Set the maximum number of consecutive seconds of idle connection allowed to the user before the session terminates.,Session-Timeout (attribute 27)
"Termination Action with numeric value (0: Default, 1: RADIUS request)","• Attribute 29 (Accounting): Allows the network access server to send the telephone number the user called as part of the Access-Request packet using Dialed Number Identification Service (DNIS) or a similar technology. Supported on ISDN and modem calls on the Cisco AS5200 if used with PRI.
• Attribute 30 (Accounting): Allows the network access server to send the telephone number the call came from as part of the Access-Request packet using Automatic Number Identification or a similar technology. Has the same value as ""remote-addr"" from TACACS+. Supported on ISDN and modem calls on the Cisco AS5200 if used with PRI."
"Accounting for session time, input packets, output packets, and termination cause.","Acct-Session-Time (46), Acct-Input-Packets (47), Acct-Output-Packets (48), Acct-Terminate-Cause (49)."
"Record time of event occurrence on NAS using attribute 55 and timestamp in seconds since January 1, 1970 00:00 UTC.","Use radius-server attribute 55 include-in-acct-req command to send RADIUS attribute 55 in accounting packets, configure the clock on the network device, and enable the calendar-valid command to avoid reconfiguring the clock every time the network device is reloaded."
"The requirement is to set the maximum number of ports provided by the NAS, define the port with which the user is connected by LAT, and indicate the tunneling protocol(s) used.","Port-Limit = 62, Login-LAT-Port = 63, Tunnel-Type3 = 64 (default value IP), Tunnel-Medium-Type1 = 65 (default value IP)."
"The requirement is to indicate the address of the server end of the tunnel, and define the password to be used for authenticating to a remote server.","The configuration involves using the Tunnel-Medium-Type attribute to determine the format of the server address, and using the Tunnel-Type attribute for converting AAA attributes based on its value."
Password-Retry,"(0 = no echo, 1 = echo)"
The requirement is to extract information about IETF attributes and their respective configurations from a given text.,"1. Acct-Interim-Interval: 85
   Description: Indicates the number of seconds between each interim update in seconds for this specific session. This value can only appear in the Access-Accept message.
2. Acct-Tunnel-Packets-Lost: 86
   Description: Indicates the number of packets lost on a given link. This attribute should be included in Accounting-Request packets that contain an Acct-Status-Type attribute having the value Tunnel-Link-Stop.
3. NAS-Port-ID: 87
   Description: Contains a text string which identifies the port of the NAS that is authenticating the user.
4. Framed-Pool: 88
   Description: Contains the name of an assigned address pool that should be used to assign an address for the user. If a NAS does not support multiple address pools, the NAS should ignore this attribute.
5. Tunnel-Client-Auth-ID: 90
   Description: Specifies the name used by the tunnel initiator (also known as the NAS) when authenticating tunnel setup with the tunnel terminator. Supports L2F and L2TP protocols."
Cisco.com user ID and password,Not available in the given text
Vendor-Proprietary Attribute,N/A (The text does not provide specific configuration details for the requirements listed)
"""Defines the number to dial.""","""PRI-Number-Type"" (value 226)"
"Define per-user IP data filters for RADIUS profiles and configure idle limit, callback, and network access settings.","1. Data-Filter (Attribute 242): Configure filter entries on a first-match basis with the order of entries being important.
2. Call-Filter (Attribute 243): Specify the maximum idle time for sessions in seconds, after which connections are dropped.
3. Idle-Limit (Attribute 244): No configuration available.
4. Preempt-Limit (Attribute 245): Enable or disable callback.
5. Callback (Attribute 246): No configuration available.
6. Data-Svc (Attribute 247): Configure the network access server to use only the 56 K portion of a channel, even when all 64 K appear to be available (Force-56).
7. Force-56 (Attribute 248): No configuration available.
8. Billing Number (Attribute 249): No configuration available."
Specifies the number of seconds for the hello keepalive interval. Hello packets are sent when no data has been sent on a tunnel for the number of seconds configured here.,"l2tp-hello-interval = 1
Number = 9
Number = 26"
Disconnect-Cause,(h323-disconnect-cause) 30 9 26
Specify additional NAS-Port information in the form of an Attribute-Value Pair (AVPair) string using the radius-server vsa send global configuration command.,radius-server vsa send global
Allows users to configure the downloadable user profiles (dynamic ACLs) by using the authentication proxy feature so that users can have the configured authorization to permit traffic going through the configured interfaces.,Authentication Proxy Feature - proxyacl#<n>
"Loss of carrier, Failure to detect modem result codes, User terminates a session, Idle timeout, Disconnect due to exiting Telnet session, Could not switch to SLIP/PPP; the remote end has no IP address, Disconnect due to exiting raw TCP, Bad passwords, Raw TCP disabled, Control-C detected, EXEC process destroyed, PPP LCP negotiation timed out, PPP LCP negotiation failed, PPP PAP authentication failure.","Lost-Carrier, No-Detected-Result-Codes, User-Ends-Session (20), Idle-Timeout (21), Exit-Telnet-Session (22), No-Remote-IP-Addr (23), Exit-Raw-TCP (24), Password-Fail (25), Raw-TCP-Disabled (26), Control-C-Detected (27), EXEC-Process-Destroyed (28), Timeout-PPP-LCP (40), Failed-PPP-LCP-Negotiation (41), Failed-PPP-PAP-Auth-Fail (42)."
"The Connect-Info RADIUS Attribute 77 feature allows the Network Access Server (NAS) to report Connect-Info in RADIUS accounting ""start"" and ""stop"" records for dial-in modem connections, enabling comparison of transmit and receive connection speeds, modulation, and compression.","The NAS sends attribute 77 in accounting ""start"" and ""stop"" records to measure connect rates, record transmit and receive speeds (transmit speed - the speed at which the NAS modem sends information; receive speed - the speed at which the NAS receives information), and determine if user modem connections renegotiate to lower speeds during a session."
"Support for RADIUS attribute 77 (Connect-Info) to provide information about connection speeds, modulation, and compression for modem dial-in connections via RADIUS accounting “start” and “stop” records.",Customize Attribute 77 for Ethernet connections by entering the connection information as the name of the service policy attached to the Ethernet subinterface. The router takes the policy name and copies it to Attribute 77.
"Send Access-Request to 10.3.1.107:1645 with id 1645/1, len 116","RADIUS authenticator FC 82 50 DB 65 8F 21 A9 - F3 0A A8 09 29 E5 56 65, Framed-Protocol [7] 6 PPP [1], User-Name [1] 8 'user1', User-Password [2] 18 *, NAS-Port-Type [61] 6 Virtual [5], NAS-Port [5] 6 0, NAS-Port-Id [87] 12 '0/1/0/9.32', Connect-Info [77] 28 'speed:ubr:3456:448:10/0000', Service-Type [6] 6 Framed, NAS-IP-Address [4] 6 10.3.8.2"
The requirement seems to be related to configuring NAS for AAA and incoming modem calls in a device.,"1. Interface Serial0:15: no ip address, isdn switch-type primary-net5, isdn incoming-voice modem
2. Interface Async1: ip address 192.0.2.2 255.255.255.0, encapsulation ppp, async default routing, async mode interactive, no peer default ip address"
"The Connect-Info RADIUS Attribute 77 feature allows the network access server (NAS) to report Connect-Info in RADIUS accounting ""start"" and ""stop"" records for dial-in modem connections, enabling comparison of transmit and receive connection speeds, modulation, and compression.",This feature was introduced in Cisco IOS XE Release 2.1 on the Cisco ASR 1000 series routers.
Encrypted Vendor-Specific Attributes feature for central management of filters at a RADIUS server.,"Support for Tagged String VSA, Encrypted String VSA, and Tagged and Encrypted String VSA."
"Verify Encrypted Vendor-Specific Attributes by checking if RADIUS-tagged and encrypted VSAs are being sent from the RADIUS server using the ""debug radius"" command in privileged EXEC mode.",Configure a network access server (NAS) with a basic configuration using tagged and encrypted VSAs by using the appropriate commands for PPP encryption and NAS settings.
Encrypting routes using Cisco-Enc attribute in Cisco IOS,"""ip:route=10.0.0.0 255.0.0.0"" and tag-encstr(*,*)"
The NAS must be configured with a pool of network addresses on the interface supporting the login hosts.,Accept an IP address from the NAS.
The requirement is for the Network Access Server (NAS) to send the Framed-IP-Address attribute (attribute 8) of the dial-in host to the RADIUS server during the access request. This allows other applications to take advantage of the device IP address information.,"The configuration involves setting up the NAS to assign an IP address from a pool of IP addresses at the specific interface, and configuring the RADIUS server to receive the Framed-IP-Address attribute (attribute 8) during access requests."
RADIUS server can override the IP address sent by the NAS with the IP address defined as attribute 8 in the user profile.,The RADIUS server is configured to accept attribute 8 from the NAS and return the same address to the NAS.
Configure RADIUS Attribute 8 in Access Requests,"1. enable
2. configure terminal
3. radius-server attribute 8 include-in-access-req"
Configure the RADIUS attribute 8 Framed-IP-Address in Access Requests.,Not provided in the text.
Enabling privileged EXEC mode on a router.,"Enter your password if prompted, then enter the command ""enable"" to access privileged EXEC mode."
"AAA configuration for authentication, authorization, and accounting using RADIUS for interface virtual-template1.","aaa new-model
aaa authentication login default group radius
aaa authentication ppp default group radius
aaa authorization network default group radius
aaa accounting network default start-stop group radius
interface virtual-template1
peer default ip address pool async1-pool"
RADIUS Attribute 8 (Framed-IP-Address) in Access Requests feature,radius-server attribute 8 include-in-access-req.
Check if attribute 82 is being sent in access requests.,Not provided in the text.
"VPDN configuration with L2TP protocol, initiated by IP 10.0.0.1 and directed to IP 10.0.0.2, under the domain isp1.com and using the local name tb162_LAC1.","- vpdn-group VPDN_LAC1
- request-dialin
- protocol l2tp
- initiate-to ip 10.0.0.2
- source-ip 10.0.0.1
- l2tp tunnel receive-window 100
- l2tp tunnel nosession-timeout 30
- l2tp tunnel retransmit retries 5
- l2tp tunnel retransmit timeout min 2
- l2tp tunnel retransmit timeout max 8
- l2tp tunnel hello 60
- l2tp tunnel password tunnel1"
Configure a Layer 2 Tunneling Protocol (L2TP) tunnel with the following details:,"Service-Type: Outbound
Password: cisco
Tunnel Type: L2TP"
FeatureInformation for RADIUSAttribute82TunnelAssignment,ID
The RADIUS server must support tagged attributes for tunnel attributes 90 and 91.,Not available from the provided text.
The requirement is to include Acct-Status-Type attributes with values of either start or stop in a tunneled session.,"There is no specific configuration task associated with this feature mentioned in the text. However, an example of configuring RADIUS tunnel attribute extensions for L2TP Network Server is provided."
"RADIUS server configuration with IP address 1.1.1.1, authentication and accounting ports 1645 and 1646, and key <deleted>.",radius-server host 1.1.1.1 auth-port 1645 acct-port 1646
The RADIUS Tunnel Attribute Extensions feature introduces RADIUS attribute 90 (Tunnel-Client-Auth-ID) and RADIUS attribute 91 (Tunnel-Server-Auth-ID). Both attributes help support the provision of compulsory tunneling in virtual private networks (VPNs) by allowing the user to specify authentication names for the network access server (NAS) and the RADIUS server.,The feature was introduced on the Cisco ASR 1000 Series Aggregation Services Routers in Cisco IOS XE Release 2.1.
Communicate with the customer tunnel server using L2F or L2TP requests and responses for setting up tunnels.,L2TP Access Concentrator (LAC) - a network access server (NAS) that directly connects to the client and tunnels PPP frames to the L2TP Network Server (LNS). The LAC only needs to implement the media over which L2TP operates and can tunnel any protocol carried within PPP.
The requirement is to implement or configure a Cisco device that supports RADIUS Attribute 66 Tunnel-Client-Endpoint for virtual private dialup networks (VPDNs).,"The configuration should involve setting up the Cisco device with a software image that supports VPDNs and Layer 2 Forwarding (L2F) or Layer 2 Tunneling Protocol (L2TP) tunnels. Additionally, the RADIUS attribute 66 should be configured to allow the customer to specify the hostname of the Network Access Server (NAS)."
Combining Cisco's Layer 2 Forwarding (L2F) protocol and Microsoft's Point-to-Point Tunneling Protocol (PPTP).,Not provided in the text.
"The ability to configure a list of ""accept"" or ""reject"" RADIUS attributes on the network access server (NAS) for purposes such as authorization or accounting. This is important to prevent unwanted attributes from being processed, especially for wholesale providers who do not control their customers' AAA servers.",Not provided in the text
"Users can configure an accept or reject list consisting of a selection of attributes on the NAS for a specific purpose so unwanted attributes are not accepted and processed. Users may wish to configure an accept list that includes only relevant accounting attributes, thereby reducing unnecessary traffic and allowing users to customize their accounting data.","1. Enable
2. Configure terminal
3. Router(config)# aaa authentication ppp default
4. Router(config)# aaa authorization network default group group-name
5. Router(config)# aaa group server radius group-name
6. Router(config-sg-radius)# server ip-address
7. 
Router(config-sg-radius)# authorization [accept | reject] listname
8. Router(config-sg-radius)# exit
9. Router(config)# radius-server host {hostname | ip-address} [key"
"Set parameters to restrict network access to users using AAA authorization, grouping RADIUS server hosts, configuring IP address of the RADIUS server, specifying filters for attributes in Access-Accept packet, and specifying filters for attributes in accounting request.",aaa authorization network default; group group-name; aaa group server radius group-name; aaa configuration network default; aaa configuration network default; aaa configuration radius default; aaa configuration radius group-name; server ip-address; authorization [accept | reject] listname
"Display the RADIUS statistics for accounting and authentication packets using the ""show radius statistics"" command.","1. Configure an accept list for attribute 6 (Service-Type) and attribute 7 (Framed-Protocol); all other attributes (including VSAs) are rejected for RADIUS authorization:
   aaa new-model
   aaa authentication ppp default group radius-sg
   aaa authorization network default group radius-sg
   aaa group server radius radius-sg
   server 10.1.1.1
   authorization accept min-author
2. Configure a reject list for attribute 66 (Tunnel-Client-Endpoint) and attribute 67 (Tunnel-Server-Endpoint); all other attributes (including VSAs) are accepted for RADIUS accounting:
   aaa new-model
   aaa authentication ppp default group
   radius-server host 10.1.1.1 key mykey1
   radius-server attribute list min-author
   attribute 6-7"
Reject bad-authorization and accept usage-only accounting,"radius-server host 10.1.1.1 key mykey1
radius-server attribute list usage-only
attribute 1,40,42-43,46
radius-server attribute list bad-author
attribute 22,27-28,56-59"
The RADIUS Attribute Value Screening feature allows users to configure a list of “accept” or “reject” RADIUS attributes on the network access server (NAS) for purposes such as authorization or accounting.,"In Cisco IOS XE Release 2.1, this feature was introduced on the Cisco ASR 1000 Series Aggregation Services Routers. The following commands were introduced or modified by this feature: accounting (server-group), authorization (server-group), attribute (server-group), radius-server attribute list"
Configuring the clock on the network device before sending the Event-Timestamp attribute in accounting and authentication request packets.,Enabling the clock calendar-valid command to avoid configuring the clock every time the network device is reloaded.
The ability to insert Event-Timestamp attribute in accounting and authentication request packets even if NTP synchronization does not happen.,The Event-Timestamp attribute is saved in memory on the NAS for the life of the session.
Configure RADIUS Attribute 55 Event-Timestamp for accounting and authentication requests,"1. Enable privileged EXEC mode with the command 'enable'.
2. Enter global configuration mode with the command 'configure terminal'.
3. Set AAA to new-model with the command 'aaa new-model'.
4. Configure AAA authentication for PPP default group radius.
5. Configure AAA accounting for network default start-stop group radius.
6. Set RADIUS server host IP address.
7. Include RADIUS attribute 55 in accounting request with the command 'radius-server attribute 55 include-in-acct-req'.
8. Include RADIUS attribute 55 in access request with the command 'radius-server attribute 55 access-req include'.
9. Exit configuration mode with the command 'exit'."
"Enable authentication, authorization, and accounting (AAA) on the device.","1. Configure AAA with the command ""aaa new-model"".
2. Specify AAA methods for PPP serial interfaces using the list of all RADIUS servers with the command ""aaa authentication ppp default group radius"".
3. Enable network accounting and send start and stop accounting notices for the RADIUS accounting method list to the RADIUS server with the command ""aaa accounting network default start-stop group radius"".
4. Specify the IP address of the RADIUS server host with the command ""radius-server host ip-address"".
5. Sends RADIUS attribute 55 in account-request packets with the command ""radius-server attribute 55 include-in-acct-req""."
Debugging RADIUS communication,debug radius
Best Local IP-Address 192.0.2.3 for Radius-Server 192.0.2.1,"Sending a IPv4 Radius Packet, Send Access-Request to 192.0.2.1:1645 id 1645/1,len 130, authenticator 66 D8 24 42 BC 45 5B 3D - 0E DC 74 D7 E9 3D 81 85, Framed-Protocol [7] 6 PPP [1], User-Name [1] 6 ""test"", User-Password [2] 18 *, NAS-Port-Type [61] 6 Virtual [5], NAS-Port [5] 6 0, NAS-Port-Id [87] 9 ""0/0/0/0"", Vendor, Cisco [26] 41, Cisco AVpair [1] 35 ""client-mac-address=aabb.cc00.6500"", Service-Type [6] 6 Framed [2], NAS-IP-Address [4] 6 1.1.1.2, Event-Timestamp [55] 6 1362041578, Received from id 1645/192.0.2.1:1645, Access-Accept, len 20"
The requirement is for a PPPoE type configuration.,"The configuration includes the NAS IP as 0.0.0.0 and NAS IPv6 as ::. The authenticator is C6 81 D0 D7 EA BA 9A A9 - 19 4B 1B 90 B8 D1 66 BF. The user-name is ""test"". The NAS port type is Virtual, and the NAS port ID is 0/0/0/0. The service type is Framed, and the home-hl-prefix is not provided in the given text."
Configure the Event-Timestamp attribute in RADIUS.,[55]
Configure the device to send RADIUS attribute 55 in accounting and authentication packets using AAA.,"1. Enable AAA with the command `aaa new-model`.
2. Set up AAA authentication for PPP with default group radius.
3. Set up AAA accounting for network default with start-stop group radius.
4. Configure the RADIUS server host to 192.0.2.3.
5. Include RADIUS attribute 55 in both the accounting request (acct-req) and access request (access-req)."
Policy-based routing with defined policies for packet forwarding.,Route maps with match clauses and set clauses or commands to define criteria and routing instructions for packets.
Apply RADIUS attribute 104 to your user profile,Ascend-Private-Route=”dest_addr/netmask next_hop”
Private routing table configuration for a connection with specific routes and a default route.,"- Framed-Netmask=255.0.0.0
- Ascend-Private-Route=""172.16.1.1/16 10.10.10.1""
- Ascend-Private-Route=""192.168.1.1/32 10.10.10.2""
- Ascend-Private-Route=""10.20.0.0/1 10.10.10.3""
- Ascend-Private-Route=""10.0.0.0/0 10.10.10.4"""
"AAA (authentication, authorization, and accounting) is necessary.",RADIUS server and AAA lists must be configured.
Preventing overlap of RADIUS attribute 44 (Acct-Session-Id) among sessions from different NASs.,"Use the radius-server attribute 44 extend-with-addr or radius-server unique-ident command on NAS routers to specify different prepending numbers for different NAS routers.

Requirement: Managing a RADIUS server-based IP address pool for different NASs.
Configuration: Configure different IP address pool profiles for different NASs on the RADIUS server, and use different pool usernames for each NAS to retrieve their respective IP addresses.

Requirement: Differentiating RADIUS request message for sessions from different NASs.
Configuration: Configure different format strings for RADIUS attribute 32 (NAS-Identifier) using the"
Simulate a large NAS RADIUS client using a cluster of small NAS RADIUS clients with NAT or PAT device.,"Insert a Network Address Translation (NAT) or Port Address Translation (PAT) device between a cluster of NASs and the IP cloud connected to a RADIUS server. The source IP addresses of the RADIUS packets are translated to a single IP address, likely on a loopback interface on the NAT or PAT device. Different UDP source ports are assigned to RADIUS packets from different NASs."
"Track source of RADIUS requests, maintain security using NAT or PAT solution","Single source IP address used for RADIUS packets, RADIUS attribute 4 (NAS-IP-Address) to record NAS router's own IP addresses"
Configuring RADIUS NAS-IP-Address Attribute Configurability,"1. enable
2. configure terminal
3. radius-server attribute 4 ip-address (with the desired IP address)"
Configuring an IP address to be used as the RADIUS NAS-IP-Address (attribute 4),radius-server attribute 4 ip-address
Customizable NAS-Port formats for different RADIUS server groups.,The RADIUS Attribute 5 (NAS-Port) Format Specified on a Per-Server Group Level feature allows configurations to be customized for different RADIUS server groups.
To use specific named methods for different service types on a RADIUS server and set the service types to use their own respective service groups. This allows customized NAS-port formats to be used instead of the global formats.,"Configure the RADIUS Attribute 5 format on a per-server group level by using method lists within your services, enabling you to configure one client to use a specific named method while other clients use the default format."
"Enable privileged EXEC mode, enter global configuration mode, configure server group, set IP address of the RADIUS server for the group server, configure service to use specific named methods for different service types.","1. enable
2. configure terminal
3. aaa group server radius group-name (e.g., ""radius1"")
4. Router (config)# aaa group server radius radius1
5. server 172.101.159.172 auth-port 1645 acct-port 1646
6. attribute nas-port format format-type [string]"
Display information about why the RADIUS and TACACS+ server group system in a router is choosing a particular server.,debug aaa sg-server selection
IPsec Anti-Replay Window Expanding and Disabling,Configure IPsec Anti-Replay Window Expanding and Disabling
Configuring a VTI for Site-to-Site IPv6 IPsec Protection,N/A (The text does not provide specific configuration details)
IPsec Anti-Replay Window Expanding and Disabling,Expand the window size of the IPsec Anti-Replay feature to allow tracking more than 64 packets.
"Configure the IPsec Anti-Replay Window, expanding and disabling feature",Set the window size (N) to control how many recent sequence numbers are considered by the decryptor when checking for duplicate packets.
Increase the anti-replay window size for the decryptor to track more than 64 packets.,Configure IPsec Anti-Replay Window Expanding and Disabling feature with a recommended full 1024 window size.
Configure IPsec Anti-Replay Window for expanding and disabling globally.,"Enable, configure terminal, crypto ipsec security-association replay window-size [N], crypto ipsec security-association replay disable."
Configuring IPsec Anti-Replay Window Expanding and Disabling on a Crypto Map,"1. Enter your password if prompted.
2. Enable privileged EXEC mode using the 'enable' command.
3. Enter global configuration mode using the 'configure terminal' command.
4. Set the size of the SA replay window globally using the 'crypto ipsec security-association replay window-size' command, for example:
   Router (config)# crypto ipsec security-association replay window-size 256
5. Disable checking globally using the 'crypto ipsec security-association replay disable' command, for example:
   Router (config)# crypto ipsec security-association replay disable"
Set the replay window size to a number high enough for the number of packets received.,Router (crypto-map)# set security-association replay disable
"- IKEv1/ISAKMP configuration (crypto isakmp policy, authentication pre-share, crypto isakmp key)","- Clock timezone: EST 0 (clock timezone EST 0)
- IP Subnet Zero: Enabled (ip subnet-zero)
- IP Audit: Max events - 100 (ip audit po max-events 100)
- No FTP server write-enable: Disabled (no ftp-server write-enable)
- Interface FastEthernet0/0: IP address - 192.168.1.1, Subnet mask - 255.255.255.0 (interface FastEthernet0/0 ip address 192.168.1.1 255.255.255.0)
- Interface Serial1/0: IP address - 192.165.200.2, Subnet mask - 255.255.255.252 (interface Serial1/0 ip address 192.165.200.2 255.255.255.252)
- IP Classless: Enabled (ip classless)"
Expanding and Disabling of an Anti-Replay Window for Crypto Maps or Crypto Profiles,"Anti-replay checking is disabled (service timestamps debug uptime, service timestamps log uptime) for IPsec connections to 172.17.150.2, and enabled with a default window size of 64 for IPsec connections to 172.17.150.3 and 172.17.150.4."
Transform-set configuration and IP address assignment for interfaces.,"set peer 192.168.1.3 set transform-set 180cisco match address 180 crypto map ETH0 19 ipsec-isakmp set peer 192.168.1.4 set transform-set 190cisco match address 190 !
interface FastEthernet0 ip address 172.17.150.1 255.255.255.0 no ip directed-broadcast no ip route-cache no ip mroute-cache no mop enabled crypto map ETH0"
Egress queuing scheme with sequence number alignment for packets within the same queue to eliminate reordering.,N/A (Not provided in the given text)
Configuring IPsec Anti-Replay for QoS to prevent dropping packets due to old SPI.,"1. Enable multiple sequence number space per IPSec SA: `Device(config)#crypto ipsec security-association multi-sn`
2. Clear all existing sessions before configuring this feature: Not specified in the text, but it is mentioned that all existing sessions need to be cleared before enabling this feature."
Extract information about QFP IPsec SA feature and its active configuration.,"id: 6, pal sa id: 170, QFP spd id: 1, QFP sp id: 2, QFP spi: 0xa4a5244(172642884), crypto ctx: 0x00000000e8b14a20, flags: 0x4640068 (Details below), mtu: 0x59e=1438, mtu_adj: 0x588=1416"
Configure IPsec tunnel with specific parameters for Flow ID 169.,"- Mode: Tunnel
- Direction: Inbound
- Protocol: ESP
- SPI: 0xbcd8840
- Local IP Address: 33.0.0.3
- Remote IP Address: 33.0.0.4
- Crypto Device ID: 0
- Crypto Map ID: 1
- SPD ID: 1
- QFP SPD ID: 1
- ACE Line Number: 1
- QFP SA Handle: 5
- IOS XE Interface ID: 11
- Interface Name: Tunnel0"
Expanding the IPsec Anti-Replay Window size,"crypto ipsec security-association replay disable, ipsec security-association replay window-size <new_window_size>"
IPSec anti-replay mechanism support for Cisco Cloud Services Router 1000V Series when QoS is enabled.,"show platform hardware qfp active feature ipsec, show platform software ipsec fp active flow, show crypto ipsec sa."
"Enable privileged EXEC mode and configure terminal for IKE module process with ""crypto isakmp invalid-spi-recovery"".","1. Enable: enable
2. Configure Terminal: configure terminal
3. Crypto ISAKMP Invalid SPI Recovery: crypto isakmp invalid-spi-recovery"
Crypto IPsec SA configuration on FastEthernet0/0 interface,"- Crypto map tag: testtag1
- Local address: 10.1.1.1
- Protected VRF: None
- Local ident: (10.0.0.1/255.255.255.255/0/0)
- Remote ident: (10.0.2.2/255.255.255.255/0/0)
- Current peer: 10.2.2.2:500"
Replay detection support,Y (Yes)
The system should support ISAKMP with both inbound (PCp/SAS and AH-SHA-HMAC) and outbound (ESP/SAS and DES-SHA-HMAC) transforms. It should also include replay detection support for outbound PCP/SAS.,"- SPI 0xD763771F(3613619999) for inbound ESP/SAS and SPI 0xEB95406F(3952427119) for outbound AH/SHA-HMAC.
- IV size: 8 bytes.
- Crypto engine type: Hardware."
- IPSEC packet validation and decryption with valid SPI (SPI=0x1214F0D(18960141)) for destination address 10.2.2.2 and source address 10.1.1.1,"- Protocol: AH, ESP
- Transform: ah-sha-hmac, esp-des esp-sha-hmac
- Lifedur: 0s and 0kb
- SPI: 0x0(0)
- Conn_id: 0
- Key_size: 0
- Flags: 0x2"
- IPSEC (initialize_sas),"- Inbound:
  - local= 10.2.2.2, remote= 10.1.1.1
  - local_proxy= 10.0.2.2/0.0.0.0/0/0 (type=1), remote_proxy= 10.0.0.1/0.0.0.0/0/0 (type=1)
  - protocol= ESP, transform= esp-des esp-sha-hmac
  - lifedur= 3600s and 4608000kb
  - spi= 0xE7AB4256(3886760534), conn_id= 939529223, keysize= 0, flags= 0x2
- Outbound:
  - local= 10.2.2.2, remote= 10.1.1.1
  - local_proxy= 10.0.2.2/0.0.0.0/0/0 (type=1), remote_proxy= 10.0.0.1/0.0.0.0/0/0 (type=1)
  - protocol= ESP, transform= esp-des esp-sha-hmac
  - lifedur= 3600s and 4608000kb
  - spi= 0xD763771F(3613619999), conn_id= 939529224, keysize= 0, flags= 0xA"
IPSEC SA creation and configuration with ESP-DES-SHA-HMAC encryption.,"sa_dest=10.1.1.1, sa_prot=50, sa_spi=0xE7AB4256(3886760534), sa_trans=esp-des esp-sha-hmac , sa_conn_id=939529223
sa_dest=10.2.2.2, sa_prot=50, sa_spi=0xD763771F(3613619999), sa_trans=esp-des esp-sha-hmac , sa_conn_id=939529224"
IPSec VPN with ISAKMP and IPsec transform set.,"1. Crypto ISAKMP policy 1 with pre-share authentication and lifetime of 180 seconds.
2. Crypto ISAKMP key 0 with value 1234 for the address 10.2.2.2.
3. Enable invalid-spi-recovery for IKE.
4. Transform set 'auth2' includes AH (Authentication Header) with SHA-1/HMAC and ESP (Encapsulating Security Payload) with DES and SHA-1/HMAC.
5. Crypto map 'testtag1' configured for IPsec-ISAKMP, with peer 10.2.2.2, transform set 'auth2', and match address 150.
6. Controller ISA 5/1.
7. FastEthernet0/0 interface: IP address 10.1.1.1, subnet mask 255.0.0.0, no route cache cef, full duplex with speed of 100 Mbps, and crypto map 'testtag1'.
8. FastEthernet0/1 interface: IP address 10.0.0.1, subnet mask 255.0.0.0, no route cache cef, full duplex with auto speed, and no crypto map.
9. Serial interfaces (Serial1/0, Serial1/1, Serial1/2, and Serial1/3): Shutdown state, no IP addresses, no route cache or mroute-cache, clockrate of 128000 for all interfaces except Serial1/3 which has no specified clockrate."
- Dialer-list with IP and IPX protocols permitted (access-list 150),"- ip classless
- ip route 10.3.3.3 255.0.0.0 10.2.0.1
- no ip http server, no ip http secure-server
- access-list 150 permit ip host 10.0.0.1 host 10.0.2.2
- dialer-list 1 protocol ip permit, dialer-list 1 protocol ipx permit
- exec-timeout on console line (line con 0)
- Password ""lab"" for line auxiliary 0 and VTY lines (line aux 0, line vty 0 4)
- Hostname ipseca-72a
- Enable secret: ""$1$kKqL$5Th5Qhw1ubDkkK90KWFxi1""
- Clock timezone set to PST with -8 offset and summer-time set to PDT recurring
- IP subnet-zero enabled
- Logging queue-limit set to 100
- MPLS LDP logging neighbor-changes enabled
- IP CEF, IP Audit notify log, and IP Audit po max-events set to 100"
"Interface configuration for FastEthernet and Serial interfaces, access list, and IP settings.","- FastEthernet1/5: shutdown, duplex half
- FastEthernet1/6: shutdown, duplex half
- FastEthernet1/7: shutdown, duplex half
- Serial3/0: no ip address, no ip route-cache, no ip mroute-cache, shutdown, serial restart_delay 0
- Serial3/1: no ip address, no ip route-cache, no ip mroute-cache, shutdown, serial restart_delay 0, clockrate 128000
- Serial3/2: no ip address, no ip route-cache, no ip mroute-cache, shutdown, serial restart_delay 0
- Serial3/3: no ip address, no ip route-cache, no ip mroute-cache, shutdown, no keepalive, serial restart_delay 0, clockrate 128000
- Access list 150: permit ip host 10.0.2.2 host 10.0.0.1
- Dialer list 1: protocol ip permit, protocol ipx permit
- IPsec"
Invalid Security Parameter Index Recovery feature allows for an IKE SA to be established when an invalid SPI occurs in IPsec packet processing.,The following command was introduced or modified: crypto isakmp invalid-spi-recovery.
Configuring the router to query the liveliness of its Internet Key Exchange (IKE) peer at regular intervals for earlier detection of dead peers.,Not specified in the text provided.
DPD (dead peer detection) support in an IKE peer,"Cisco VPN 3000 concentrator, Cisco PIX Firewall, Cisco VPN Client, and Cisco IOS XE software in all modes of operation"
Configure Cisco IOS keepalives or DPD in the crypto isakmp keepalive command.,"Use the ""crypto isakmp keepalive"" command with seconds, retries, periodic, and on-demand options to configure Cisco IOS keepalives or DPD features for stateless failover with multiple peers in the crypto map."
Enters global configuration mode.,Router> enable; configure terminal
"The requirement is to set up and configure Dead Peer Detection (DPD) for IPSec High Availability (HA). This includes setting a keepalive interval, a periodic retry interval, and an optional aggressive retry interval.",Router(config)# crypto isakmp keepalive 10 Router(config)# periodic
Enabling privileged EXEC mode and clearing crypto sessions.,"enable, clear crypto session [local ip-address [port local-port]] [remote ip-address [port remote-port]] | [fvrf vrf-name] [ivrf vrf-name]."
Crypto ISAKMP Keepalive with a period of 10 minutes.,"Crypto IPsec Transform-set Trans1 using ESP-AES and ESP-SHA-HMAC. Interface IP address is 10.1.32.14 with subnet mask 255.255.255.0, Speed set to auto."
Use Cisco Feature Navigator to find information about platform support and Cisco software image support. Access Cisco Feature Navigator at www.cisco.com/go/cfn without an account on Cisco.com.,"Enable the ""crypto isakmp keepalive"" command to configure the router to query the liveliness of its IKE peer at regular intervals. This will provide earlier detection of dead peers compared to the default on-demand DPD approach."
Sending hashes of IP addresses and ports for source and destination addresses in NAT discovery (NAT-D) payloads to detect the presence of a NAT device along the network path.,"NAT-D payloads containing one hash each for the source address and port, and the destination address and port. The destination NAT-D payload is sent first, followed by the source NAT-D payload."
UDP header checksum value should be always assigned to zero for NAT resolution and PAT changes the port address in the new UDP header for translation without changing the original payload.,"The new UDP header has a checksum value set to zero, and PAT modifies the port address during translation while keeping the payload unchanged."
Implement UDP Encapsulated Process for IPsec packets with Transport Mode and Tunnel Mode ESP Encapsulation.,"Insert a UDP header and a non-IKE marker (8 bytes in length) between the original IP header and ESP header after encrypting the packet by a hardware accelerator or software crypto engine. Update the total length, protocol, and checksum fields to match this modification."
Disabling NAT Traversal for networks using IPsec-awareness NAT (spi-matching scheme),"Use the commands ""no crypto ipsec nat-transparency udp-encapsulation"" to disable NAT traversal."
"The number of seconds between keepalive packets must be configured, with a range between 5 to 3,600 seconds.",crypto isakmp nat keepalive 20
Modify the timer for every Internet Security Association Key Management Protocol (ISAKMP) security association (SA) when the keepalive for that SA is sent based on the existing timer. Apply a five-percent jitter mechanism value to avoid security association rekey collisions.,Not applicable as it is not provided in the text.
Enable ISAKMP NAT Keepalive and configure IPSEC with DES and SHA-HMAC transform-set.,"crypto isakmp policy 10
    proposal 1 {
        encryption des;
        integrity sha-hmac;
    }
crypto ipsec transform-set t2 esp-des esp-sha-hmac
crypto map test2 10 ipsec-isakmp
    set peer 10.0.0.1
    set transform-set t2
    match address 101"
DF Bit Setting Requirement for interfaces sharing the same crypto map using the local address feature.,Interfaces with the same DF bit setting when using shared crypto maps with the local address feature in IPsec tunnel mode.
Configure the router to globally clear the setting for the DF bit and copy the DF bit on the FastEthernet interface. This will allow the router to fragment packets on the FastEthernet interface while allowing other interfaces to send packets larger than the available MTU size without fragmenting them.,"1. Configure the crypto isakmp policy with hash md5, authentication pre-share, and keys for Delaware (192.168.10.66) and Key-What-Key (192.168.11.19).
2. Define a crypto ipsec transform-set using ah-md5-hmac for authentication header and esp-des for encryption.
3. Clear the DF bit in the ipsec df-bit command.
4. Create two crypto maps, armadillo and basilisk, for IPsec-ISAKMP with respective peer addresses 192.168.10.66 and 192.168.11.19. Use the exampleset transform-set for both maps and match them to access control lists 101 and 102.
5. Configure the FastEthernet interface with the IP address 192.168.10.38, a broadcast address, and enable the DF bit on this specific interface."
DF Bit Override Functionality with IPsec Tunnels,crypto ipsec df-bit copy
Configuring IPsec Security Association lifetimes and idle timers for better management of SAs.,"Configure lifetimes for IPsec SAs globally or per crypto map, with a ""timed"" lifetime and a ""traffic-volume"" lifetime. Set IPsec SA idle timers to allow deletion of inactive peers before global lifetimes expire."
Configuring the IPsec SA Idle Timer for a crypto map entry.,Router(config)# crypto map map-name seq-number ipsec-isakmp; Router(config-crypto-map)# set security-association idle-time seconds
Configure the IPsec SA idle timer to drop SAs for inactive peers after a certain number of seconds.,"Set the security-association idle-time to 600 seconds for global configuration, or use the crypto map command set security-association idle-time 600 for specific crypto maps."
Configurable idle timer to monitor SAs for activity and delete SAs for idle peers.,crypto ipsec security-association idle-time.
IPv6 IPsec Quality of Service,"How to Configure IPv6 IPsec QoS, on page 74"
IPv6 IPsec QoS feature for applying quality of service (QoS) policies to IPV6 IPsec traffic.,Crypto LLQ QoS—Traffic that is classified by QoS and marked as priority level 1 or 2; IPsec QoS Pre-Classify—QoS pre-classify configured under a crypto map to enable IPsec to save the original Layer 3 and Layer 4 header before encryption.
Enable QoS group-based LLQ for IPsec encryption engines.,"Attach a service policy to the output interface and enable LLQ for IPsec encryption engines using the following steps:
1. enable
2. configure terminal
3. interface physical-interface-name
4. ipv6 address {ipv6-address /prefix-length | prefix-name sub-bits/prefix-length}
5. service-policy output policy-map
6. ipv6 crypto map map-name
7. end"
Configuring IPv6 IPsec Quality of Service (QoS) on a Cisco IOS XE device.,"1. Enter global configuration mode using the 'enable' command.
2. Use the 'configure terminal' command to enter interface configuration mode.
3. Specify the interface using the LLQ for IPsec encryption engines.
4. Configure an IPv6 address on the interface with the 'ipv6 address' command, followed by either the IPv6 address and prefix length or a prefix name and sub-bits."
Enables privileged EXEC mode.,"Device# enable, configure terminal"
Configure QoS pre-classify on the IPv6 IPsec tunnel interface.,"ipv6 address, qos pre-classify, end"
Configure an IPv6 address on a tunnel interface and enable QoS pre-classify on the tunnel interface.,Device(config)# interface Tunnel1; Device(config-if)# ipv6 address 2001:DB8:FFFF::2/64; Device(config-if)# qos pre-classify
Specifying QoS group for LLQ in the range of 1 to 99.,platform ipsec llq qos-group group-number
Enable QoS pre-classification on the crypto map CM_V6 using the qos pre-classify command.,Crypto map ipv6 CM_V6 10 ipsec-isakmp match address ACL_IPV6_1 set transform-set set1
Enable QoS pre-classification on the tunnel interface.,"```
qos pre-classify
!
interface Tunnel1
ipv6 address 2001:DB8:2::F/64
qos pre-classify
ipv6 mtu 1400
tunnel protection ipsec profile greprof
```"
The requirement is to implement the IPv6 IPsec QoS feature that allows QoS policies to be applied to IPv6 IPsec.,"The configuration involves supporting functionalities such as Crypto LLQ QoS, IPsec QoS Pre-Classify, and QoS group-based LLQ. The modified command is ipv6 crypto map, with the software release being 15.4(1)S."
IPsec protection and authentication of IP packets between participating devices (peers) such as Cisco routers.,"Optional network security services include data confidentiality, data integrity, data origin authentication, and antireplay. IPsec functionality is similar in both IPv6 and IPv4, but site-to-site tunnel mode is supported only in IPv4."
"Implement IPv6 with IPsec using AH authentication header, ESP extension header, and IKE for key management.","IPv6, IPsec with AH and ESP headers, Internet Key Exchange (IKE) protocol."
"Peer's policies must have matching encryption, hash, authentication, and Diffie-Hellman parameter values. The lifetime in the remote peer's policy must be less than or equal to the lifetime in the policy being compared.",ISAKMP identity for each peer
Specify the lifetime of an IKE SA.,"lifetime seconds (e.g., Router(config-isakmp-policy)# lifetime 43200)"
Enable privileged EXEC mode and configure an IPsec peer for IKE querying.,"1. Enter your password if prompted.
2. Enter privileged EXEC mode by typing ""enable"".
3. Enter global configuration mode by typing ""configure terminal"".
4. Enable an IPsec peer for IKE querying using the command ""crypto isakmp peer {address {ipv4-address | ipv6-address ipv6-prefix-length} | hostname fqdn-hostname}"".
5. Define the remote peer's IPv6 address using the command ""set aggressive-mode client-endpoint {client-endpoint | ipv6 ipv6-address}""."
Enter your password if prompted.,"Router> enable
configure terminal"
Define an ISAKMP profile and audit IPsec user sessions.,crypto isakmp profile profile-name [accounting aaalist]
Configure IPv6 on a tunnel interface using the Router(config-if)# command.,"1. Enable IPv6 on the tunnel interface with the Router(config-if)# ipv6 address <IPv6_address>/<prefix_length> command.
2. Enable IPv6 EUI-64 for the tunnel interface using the eui-64 command.
3. Set the source address for the tunnel interface using the Router(config-if)# tunnel source {ip-address | ipv6-address | interface-type interface-number} command.
4. Specify the destination for the tunnel interface using the Router(config-if)# tunnel destination {host-name | ip-address | ipv6-address} command."
Set the encapsulation mode for a tunnel interface and associate it with an IPsec profile.,"tunnel destination <IPv6 Address>
tunnel mode {aurp | cayman | dvmrp | eon | gre | gre multipoint | gre ipv6 | ipip [decapsulate-any] | ipsec ipv4 | iptalk | ipv6 | ipsec ipv6 | mpls | nos | rbscp}
tunnel protection ipsec profile name [shared]"
"Display information about Cisco Express Forwarding adjacency table or hardware Layer 3-switching adjacency table using the ""show adjacency"" command.",show adjacency [summary [interface-type interface-number]] | [prefix] [interface interface-number] [connectionid id] [link {ipv4| ipv6 | mpls}] [detail]
Display IPsec network events,debug crypto ipsec
Configuring a VTI for Site-to-Site IPv6 IPsec Protection using Cisco IOS commands.,"1. Configure ISAKMP policy:
```
crypto isakmp policy 1
encryption aes
authentication pre-share
group 14
!
crypto isakmp key myPreshareKey0 address ipv6 3FFE:2002::A8BB:CCFF:FE01:2C02/128
crypto isakmp keepalive 30 30
!
```
2. Configure IPsec transform-set and profile:
```
crypto ipsec transform-set Trans1 ah-sha-hmac esp-aes
!
crypto ipsec profile profile0
set transform-set Trans1
!
```
3. Configure the IPv6 Virtual Tunnel Interface (VTI):
```
ipv6 cef
!
interface Tunnel0
ipv6 address 3FFE:1001::/64 eui-64
ipv6 enable
ipv6 cef
tunnel source Ethernet2/0
tunnel destination 3FFE:2002::A8BB:CCFF:FE01:2C02
tunnel mode ipsec ipv6
tunnel protection ipsec profile profile0
```"
Image support,Cisco Feature Navigator (www.cisco.com/go/cfn)
Configuring PIM in NBMA mode for efficient handling of multicast traffic in sparse mode groups.,The routers should run PIM sparse mode to configure IP multicast using multipoint VCs.
Idling Policy in PIM to manage VCs based on their activity rate and prevent excessive VC usage.,ip pim minimum-vc-rate interface configuration command on the ATM interface to set the minimum activity rate threshold for VC idling.
"The requirement is to configure and manage Virtual Circuit (VC) activity levels, fanout counts, and idling of VCs in an ATM network for efficient multicast traffic delivery.","1. Set the activity level for each VC according to three orders of magnitude (less than 10 pps, 10 to 100 pps, and 100 to 1000 pps).
2. Configure fanout counts for each VC, which determines which VC is idled when multiple VCs have the same activity level.
3. Set a minimum rate required to keep VCs from being idled, if needed."
Enabling PIM over ATM point-to-multipoint VCs for each multicast group that a receiver joins.,"Step 4: Device(config-if)# ip pim nbma-mode
Step 5: Device(config-if)# ip pim multipoint-signalling
Step 6: Device(config-if)# atm multipoint-signalling"
Maintain a maximum number of Virtual Circuit (VC) count for PIM.,ip pim vc-count <number>
Configuring IP Multicast over ATM PVC Bundle using PIM sparse mode on the ATM bundle.,"Enabling privileged EXEC mode, entering global configuration mode, configuring an ATM interface, and configuring PIM on the interface."
Exiting to privileged EXEC mode.,Device(config-if)# end
Configure IP multicast over ATM PVC bundle on Device1 with the given topology.,"- interface ATM0/0/0.1 point-to-point
- ip address 100.1.1.1 255.255.255.0
- bundle test
- encapsulation aal5snap
- oam-bundle manage
- pvc-bundle 0/32
- vbr-rt 19000 15000 5000
- precedence 7
- pvc-bundle 1/33
- ubr 2480
- precedence 6
- pvc-bundle 1/34"
"Configure ATM bundle on Device2 with specific UBR, precedence, and PVC-bundle settings.",interface ATM0/1/0.1 point-to-point ip address 100.1.1.2 255.255.255.0 bundle test encapsulation aal5snap oam-bundle manage pvc-bundle 0/32 vbr-rt 19000 15000 5000 precedence 7 pvc-bundle 1/32 ubr 2480 precedence 6 pvc-bundle 1/33 ubr 4890 precedence 3-5 pvc-bundle 1/35
Configuring IP Multicast over ATM,"- ATM0/1/0.2 multipoint
- ip address 100.1.2.2 255.255.255.0
- ip pim sparse-mode
- atm pvp 10
- pvc 10/32
- encapsulation aal5snap"
Dynamically create ATM point-to-multipoint switched virtual circuits (SVCs) to handle IP multicast traffic more efficiently.,Cisco IOS XE Release 3.7.1S and IP Multicast over ATM PVC Bundle
Reliable multicast transport protocol for multicast applications with basic reliability requirements.,"PGM (Pragmatic General Multicast) protocol, consisting of a host element (transport layer) and a network element (network layer). The transport layer has two main parts: a source part and a receiver part."
Multiple sources to multiple receivers in a network using the PGM protocol.,Cisco implementation of the transport layer (PGM Host) and network layer (PGM Router Assist) for handling PGM transport data through intermediate network devices such as routers and switches.
Enable PGM Host globally on the router and configure the router to source PGM packets through a vif or physical interface.,"Use the following commands in global configuration mode:
1. Router(config)# ip pgm host
2. Router(config)# ip pgm host source-interface type number"
Enable PGM Host globally on the router.,Router(config)# ip pgm host
"Display information specific to a PGM transport session using the ""show ip pgm host sessions"" command.",Not provided in the text.
Enable PGM Router Assist on a vif interface.,"1. Configure IP multicast on the router.
2. Configure PIM on each PGM interface.
3. Use the command ""interface vif number"" in interface configuration mode to configure a vif.
4. Enable PGM Router Assist using the command ""router(config-if)# ip pgm router""."
Enable PGM Router Assist on a physical interface and configure the router to forward PGM packets.,"Use the command ""ip pgm router"" in interface configuration mode."
Display PGM Host traffic statistics.,Router> show ip pgm host traffic
PGM Host with a Physical Interface Example,"- Interfaces: Ethernet1 and Ethernet2
- Media Type: 10BaseT
- IP Addresses: 
  - Ethernet1: 10.1.0.1 with subnet mask 255.255.255.0
  - Ethernet2: 10.2.0.1 with subnet mask 255.255.255.0
- Protocols:
  - IP Multicast Routing: Enabled
  - IP PIM Dense Mode: Enabled on both interfaces
  - IP Directed Broadcast: Disabled
- Features:
  - IP PGM Host: Enabled globally and sourced out of Ethernet1 and Ethernet2"
Enable PGM Router Assist on a router and configure it to forward PGM packets out of physical Ethernet interfaces 1 and 2.,"ip multicast-routing, ip routing, interface ethernet1 and ethernet2 with the respective IP addresses and subnets (10.1.0.1/24 and 10.2.0.1/24), ip pim dense-mode, and ip pgm router enabled on both interfaces."
"To access Cisco Feature Navigator, go to www.cisco.com/go/cfn. An account on Cisco.com is not required.",None provided in the text.
"Test a multicast environment using test packets with the Multicast Routing Monitor (MRM) components: Manager, Test Sender, and Test Receiver.",Not specified in the text.
Enabling the Test Receiver on a device interface,ip mrm test-receiver
Monitoring Multiple Groups in Multicast Legacy Technologies Configuration Guide,Configure an interface as a Test Sender for one group and a Test Receiver for another group.
Configure an interface to operate as a Test Sender for one group and Test Receiver for another group.,"Requirement: Configure an interface to operate as a Test Sender for one group and Test Receiver for another group.
Configuration: Router(config)# interface gigabitethernet 0/0/0; Configures the interface to operate as a Test Sender for one group and Test Receiver for another group."
"Beacon messages configuration with interval seconds, holdtime seconds, and TTL value for the Manager.",Device(config-mrm-manager)# beacon interval 60
Multicast Routing Monitor,Configuring a Manager
Use the optional packet-delay keyword and milliseconds argument to specify the delay between test packets (in milliseconds). The range is from 50 to 400.,packet-delay milliseconds = 200 milliseconds (default)
"Sending test packets using Real-Time Transport Protocol (RTP) or User Datagram Protocol (UDP), and specifying target interfaces, all multicast interfaces, or all test sender interfaces.","By default, test packets are RTP-encapsulated, sent out on all interfaces enabled with IP multicast, and no access-list or packet-delay is specified."
Specify sources for Test Receiver monitoring using the sender-list keyword and access-list argument in MRM test.,Device(config-mrm-manager)# receivers 1 sender-list 3
"The requirement is to configure a test scenario for receivers using access lists, packet-delay, window, and report-delay parameters.","The configuration involves setting up the receivers command with access-list, window seconds, report-delay seconds, loss percentage, no-join, monitor or poll options, and specifying optional window keyword and window seconds, as well as report-delay keyword and report-delay seconds arguments."
Display information about MRM tests and interfaces.,show ip mrm interface [type number]
Test Sender and Test Receiver configurations for MRM Example Topology,"- Test Sender Configuration: interface GigabitEthernet 0/0/0, ip mrm test-sender
- Test Receiver Configuration: interface GigabitEthernet 0/0/0, ip mrm test-receiver"
"The requirement is to implement an Embedded Syslog Manager that allows system messages to be logged independently as standard messages, XML-formatted messages, or ESM filtered messages. These outputs can be sent to traditional syslog targets, and separate logging processes ensure that standard logging will not be affected by issues with the ESM filter modules.","The configuration for the Embedded Syslog Manager would involve setting up logging formats (standard, XML-formatted, or ESM filtered) and assigning these outputs to specific syslog targets or remote hosts. The system logging message format is: %<facility>-<severity>-<mnemonic>: <message-text>."
System Logging Message with sequence number and timestamp format,"Service timestamps global configuration mode command, Service sequence-numbers global configuration command"
User-defined streams and routing to collectors.,Customizable Syslog Filter Modules written in Tool Command Language (Tcl) can be stored as plain-text files or precompiled files using tools such as TclPro. Precompiled scripts allow for managed consistency and security measures.
Implementing a system for processing and filtering system logging messages using ESM (Embedded Syslog Manager) filter modules.,"Storing syslog filter modules in local system memory or on a remote file server, defining the position of each module in the filter chain using position tags, and ensuring that the output of each filter module is used as the input for the next module in the chain."
Source IP address in syslog messages,Ethernet 2/0 interface using logging source-interface command
Execute queued commands after a certain amount of time has passed.,Use the after Tcl command to call a summary procedure once the correlation window expires. The background procedures should not operate on the normal Tcl global namespace variables but should operate on variables stored.
Enables privileged EXEC mode,enable
"Implement logging filter for syslog filter modules with configurable parameters such as filter-url, position, and args.","- Device(config)# logging filter slot0:/escalate.tcl
- 1 args CONFIG_I 1 (example usage: user@host.com)"
The ability to specify a destination for messages based on their stream value when logging into remote hosts.,ESM configuration with stream-id syntax and syslog filter modules applied to the stream value. The specified host address is 209.165.200.225.
Syslog source interface configuration for remote hosts,Device(config)# logging source-interface Gigabitethernet 0/0
"Display the status of system logging, including the status of ESM filtered logging.",Device(config)# show logging
Console logging configuration with level debugging and filtering enabled.,"Console logging level debugging, filtering enabled."
Syslog Filter Module,"Embedded Syslog Manager, Severity Escalation Filter"
"Define the location for the counting_guts.tcl script and define message categories to count and how often to dump them (sec) by populating the ""msg_to_watch"" array below. Change dump time to 0 to disable counting for that category.","Set the sub_script_url to the location of the counting_guts.tcl script, e.g., tftp://172.16.0.0/12/ESM/counting_guts.tcl, and configure the msg_to_watch array with the message categories to count, such as SYS-5-CONFIG_I and their respective dump times, e.g., 5."
Embedded Syslog Manager - Message Counting Support Module,"- cat_msg_sev: Array to store message severity levels
- cat_msg_traceback: Array to store traceback information
- cat_msg_pid: Array to store process IDs
- cat_msg_proc: Array to store process names
- cat_msg_ts: Array to store timestamps
- cat_msg_buginfseq: Array to store bug info sequence numbers
- cat_msg_name: Array to store message names
- cat_msg_fac: Array to store facility codes"
"Set email host IP, from, and friendly strings below.","sendmail(smtphost)172.16.0.1, sendmail(from) $::hostname, sendmail(friendly) $::hostname"
"Embedded Syslog Manager, Stream Filter (Facility)",CLI arguments for facility and stream
The requirement is to add the Logging Source Interface IP address to all messages.,"The configuration involves using regular expressions and show commands to get the source interface and its IP address, and reinitializing the filter if the source interface or IP address changes."
Logging to local nonvolatile storage can use up to 2 GB of storage space.,Not specified in the text.
Enable global configuration mode and enable system message logging to a local buffer with severity-based limits.,Device> enable; configure terminal; logging buffered [buffer-size | severity-level]; logging persistent [url harddisk:/directory] [size filesystem-size] [filesize logging-file-size]
Logging file management with disk space and timestamp-based deletion of oldest log files.,"- URL: bootflash:/syslog
- Filesystem size: 10% of total disk space
- Logging file size: 262144
- Timestamp format for log filenames: log_MM:DD:YYYY::hh:mm:ss"
"Nonvolatile Storage, Copying Logging Messages to an External Disk",N/A (The text does not provide specific configuration details)
Enables privileged EXEC mode.,enable
"BEEP session must have an RFC 3195-compliant syslog-RAW exchange profile and a SASL profile specifying ""DIGEST-MD5"" for provisioning services when a crypto image is used.",Not provided in the text.
BEEP as a transport protocol for syslog messages with multiple channels and reliable transport.,"A new BEEP session can have a maximum of eight channels, allowing eight separate syslog sessions. Channels are identified as 1, 3, 5, 7, 9, 11, 13, and 15."
"Mapping severity levels to BEEP channels and prioritizing messages with higher severity based on the mapping described in RFC 3081, section 3.1.4.",The configuration is not explicitly mentioned in the given text.
Reliable Delivery and Filtering for Syslog,Not specified in the text provided
Message Discriminator with user-specified filtering criteria and optional rate limiting for reliable message delivery,"Filtering criteria sequence - Severity level or levels, Facility within the message body matching regular expression, Mnemonic that matches a regular expression, Part of the message body matching regular expression. Optional rate limiter for specifying transmission rate of messages per time interval."
Rate limiter for applications without guaranteed syslog delivery,Elimination of duplicate messages by maintaining a message count and waiting a specific time period between sending the first message of a certain type and sending the next message of that type; elimination of oscillating messages; simple message correlation
"The establishment of separate message discriminators for each connection and the ability to refer to the syslog session, transport, or channel to which it should be attached.","Multiple device connections can be managed separately from the syslog sessions, allowing for various redundancy topologies and the use of generic message discriminator when explicit ones are not associated with a session."
Enabling privileged EXEC mode on the device.,"Enter your password if prompted, then use the command ""enable"" to enter global configuration mode, followed by ""configure terminal"" to create a message discriminator with a facility subfilter."
Enables logging to a local buffer and specifies a message discriminator.,logging buffered [discriminator discr-name | xml] [buffer-size] [severity-level]
Creating a message discriminator for logging in terminal.,logging discriminator pacfltr3
"Implement a logging discriminator with message filtering based on mnemonics, severity level, and rate-limit.","Device# configure terminal
logging discriminator <discriminator-name> [[facility] [mnemonics] [msg-body] {drops string| includes string}]
[severity {drops sev-num | includes sev-num}] [rate-limit msglimit]
Example:
Device(config)# logging discriminator pacfltr4"
Reliable Delivery and Filtering for Syslog,"1. Logging buffered xml
2. Logging host 209.165.201.1 transport udp port 601
3. Logging host 209.165.201.1 transport beep port 600 channel 3
4. Logging host 209.165.201.1 transport tcp port 602"
"The Reliable Delivery and Filtering for Syslog feature allows a device to be customized for receipt of syslog messages. This feature provides for reliable and secure delivery for syslog messages using BEEP. Additionally, it allows multiple sessions to a single logging host, independent of the underlying transport method, and provides a filtering mechanism called a message discriminator.","In Cisco IOS XE Release 2.1, this feature was introduced on Cisco ASR 1000 Series"
Enabling DiffServ MIB support for quality of service (QoS),1. enable; 2. configure terminal; 3. qos diffservmib; 4. end
Enable DiffServ MIB support for Quality of Service (QoS) on a device.,"1. Enter global configuration mode: Device# configure terminal
2. Enter QoS configuration mode: Device(config)# qos diffservmib"
active(1),"diffServMultiFieldClfrStatus.2 = active(1), diffServMeterNextFree.0 = 0, diffServMeterSucceedNext.10001 = diffServActionInterface.111, diffServMeterSucceedNext.10002 = diffServActionInterface.121, diffServMeterFailNext.10001 = diffServActionInterface.112, diffServMeterFailNext.10002 = diffServActionInterface.122, diffServMeterSpecific.10001 = diffServTBParamType.8000, diffServMeterSpecific.10002 = diffServTBParamType.8000, diffServMeterStorage.10001 = volatile(2), diffServMeterStorage.10002 = volatile(2), diffServMeterStatus.10001 = active(1), diffServMeterStatus.10002 = active(1), diffServTBParamNextFree.0 = 0, diffServTBParamType.8000 = diffServTBParamSimpleTokenBucket, diffServTBParamRate.8000 = 64000, diffServTBParamRate.8001 = 512000, diffServTBParamBurstSize.8000 = 2000, diffServTBParamBurstSize.8001 = 5120, diffServTBParamInterval.8000 = 250000, diffServTBParamInterval.8001 = 10000"
Multicast table types for general multicast routing and forwarding.,"Types of multicast tables include IGMP, Multicast Route (Mroute), Multicast Source Discovery Protocol (MSDP), Multicast Routing Information Base (MRIB), and MFIB. The tables can be further defined by Global (non-VRF context), VRF (Layer-3 VPN context), IPv4 (IPv4 address family context), and IPv6 (IPv6 address family context) contexts. Multicast entries include (*, G) for shared tree entries used by PIM sparse mode (PIM-SM) and bidirectional PIM (bidir-PIM), (S, G) for source tree entries used by PIM-SM and Source Specific Multicast (PIM-SSM), and (*, G/mask) for shared tree entries."
Handling data-driven events that must be sent to the control plane,"Not mentioned in the text

Requirement: Maintaining counts, rates, and bytes of received, dropped, and forwarded multicast packets
Configuration: Not mentioned in the text"
Multicast Packet Forwarding Using the MFIB,Not explicitly mentioned in the text.
"The requirement seems to be about setting up multicast forwarding with PIM-SM and PIM-SSM, utilizing the A flag for accept checks and inheritance from parent entries.","The configuration would involve enabling the IA flag for bidir-PIM entries, setting the Keepalive flag for processed entries in MFIB/MRIB, using the Accept flag to allow multicast data on specific interfaces, and managing forwarding settings with no ip mfib forwarding command."
Introduction of PIM Tunnel Interfaces for the MFIB architecture and PIM-SM registration process.,"1. PIM encapsulation tunnel (PIM Encap Tunnel): dynamically created when a group-to-RP mapping is learned, used to encapsulate multicast packets sent by first-hop designated routers (DRs) with directly connected sources.
2. PIM decapsulation tunnel (PIM Decap Tunnel): dynamically created on the RP only whenever a group-to-rp mapping is learned, used by the RP to decapsulate PIM registers."
"Verify IPv4 multicast forwarding using the Multicast Forwarding Information Base (MFIB) in multicast networks operating in Protocol Independent Multicast (PIM) sparse mode (PIM-SM), Source Specific Multicast (PIM-SSM) mode, or bidirectional PIM (bidir-PIM) mode.",The text does not provide specific configuration details for the mentioned requirement.
Verify IPv4 multicast forwarding using the MFIB in PIM network environments.,Begin the verification process on the last-hop designated router (DR) and continue on the routers along the SPT for PIM-SM or PIM-SSM (or on the shared tree for bidir-PIM) until the first-hop DR has been reached.
Display multicast groups with receivers connected to the router and learned through IGMP.,"Use the ""show ip igmp groups"" command to confirm proper population of the IGMP cache on the last-hop DR for joined groups on the LAN."
Verify multicast forwarding by examining the MRIB using the show ip mrib route command. Confirm communication between control plane and MFIB.,"Examining the MRIB flags in the output of the show ip mrib route command, looking for Entry Flags (Connected, Inherited Accept) and Interface Flags (Accept)."
The flag should also appear in the MFIB.,Not applicable (as it is not provided in the given text).
Examine MFIB using the show ip mfib command to ensure multicast traffic is being forwarded as expected.,"The C flag in the MFIB indicates a connected source for multicast groups running in PIM-SM or PIM-DM, and triggers PIM registration for PIM-SM and dense mode flooding for PIM-DM. PIM-SSM and bidir-PIM MFIB entries will not have the C flag set."
Directly connected check for multicast ranges in group-to-RP mapping cache.,C
Directly connected check for Auto-RP Discovery multicast group,"(*, 224.0.1.40) Flags: C"
Displaying the K flag when the verbose keyword is specified.,RP# show ip mfib verbose | inc Flags: K
PIM Group-to-RP Mapping configuration,"Group(s) 239.195.0.0/16, RP 192.168.254.6 (?), v2v1, bidir"
Multicast forwarding configuration on GigabitEthernet0/0/0 interface,Set the F flag for the interface to enable multicast data forwarding.
"The requirement is to describe the NS flag and its use cases in different scenarios such as SPT switchover in PIM-SM, assertion triggering, liveness checking for active sources in PIM-SM, and proxy-registers that enable a PIM-DM domain to register within a PIM-SM domain.","The configuration of the NS flag is set on the (*, G) accept interface toward the RP to trigger SPT switchover, on (*, G) and (S, G) forward interfaces to trigger PIM asserts, on the (S, G) accept interface toward the source to check for active sources, and on the (S, G) accept interface where the ip pim dense-mode proxy-register command is configured. For PIM-SSM, the NS flag will not be set on the accept interface entries."
Static IGMP Join for multicast group 239.1.1.1,- Set up a static IGMP join on GigabitEthernet0/0/0 interface with the command `ip igmp join-group 239.1.1.1`
Router should work as both an RP (Rendering Agent) and a Mapping Agent. It should have the IC flag set to process switch Auto-RP multicast packets.,"Requirement: Router should work as both an RP (Rendering Agent) and a Mapping Agent. It should have the IC flag set to process switch Auto-RP multicast packets.

Configuration: Routers will join the multicast group 224.0.1.40, including the RP. Mapping Agents will also join 224.0.1.39."
PIM Encap and Decap Tunnels for encapsulating and decapsulating multicast packets.,"PIM Encap and Decap Tunnels are created dynamically, with PIM Encap on first-hop DRs with directly connected sources and PIM Decap only on the RP when a group-to-RP mapping is learned."
"Verify IPv4 Multicast Forwarding Using the MFIB in PIM-SM, PIM-SSM, and bidir-PIM networks","Perform verification process on last-hop DR, continue on routers along SPT for PIM-SM or PIM-SSM (or shared tree for bidir-PIM) until first-hop DR is reached. Ensure IP multicast traffic is forwarded properly through an IP multicast network."
Display the contents of the mroute table and verify IPv4 Multicast Forwarding using the MFIB.,"enable privileged EXEC mode, use 'show ip mroute' command to display the mroute table and 'show ip igmp groups' for IGMP group information."
Display the MRIB table and MFIB entries.,Use the commands 'show ip mroute' and 'show ip mfib'.
Confirm that the router is not the RP using the show ip pim rp mapping command.,N/A (not provided in the text)
Implement RP (Auto-RP) and RP-mapping agent for PIM Group-to-RP Mappings with IP address 192.168.6.6.,"RP - 192.168.6.6 (v2v1), Loopback0 as RP-mapping agent, Group(s) - 224.0.0.0/4, Uptime - 01:04:03, expires in 00:02:53"
All routers have the SPT switchover set to the default (ip pim spt-threshold 0).,"N/A (since it is a requirement, not a specific configuration)"
PIM (Protocol Independent Multicast) Group-to-RP mapping configuration for group 224.0.0.0/4 and multicast routing for group 239.1.1.1.,"RP address - 192.168.6.6, incoming interface for group 239.1.1.1 - Ethernet1/0 with RPF neighbor 192.168.123.2, outgoing interfaces - Serial3/0 (Forward/Sparse), and Ethernet1/0 (Forward/Sparse)."
- The network should be configured to support PIM (Protocol Independent Multicast) for multicast routing.,"Requirement:
- The network should be configured to support PIM (Protocol Independent Multicast) for multicast routing.
- Auto-RP should be elected as the Info source for Group(s) 224.0.0.0/4.

Configuration:
- RP Mapping: RP 192.168.6.6 (?), v2v1, with Uptime: 03:09:53, expires: 00:02:14
- PIM Group-to-RP Mappings for Group(s) 224.0.0.0/4
- IGMP Connected Group Membership for Group Address 239.1.1.1 on Ethernet0/0
- IP Multicast Routing (mroute) for Group 239.1.1.1 with RP 192.168.6.6, flags: SJC, Incoming interface: Serial4/0, RPF nbr 192.168.67.6
- IP Multicast Routing (mroute) for Group(s) 192.168.1.2, 192.168.16.1 with incoming interface details and corresponding flags: JT"
Multicast routing configuration with Auto-RP and RP (rendezvous point) 192.168.6.6 for PIM-SM (Protocol Independent Multicast - Sparse Mode),"- Group(s): 224.0.0.0/4
- Rendezvous Point (RP): 192.168.6.6, v2v1
- Info source: 192.168.6.6, elected via Auto-RP
- Incoming interface for RP: Null, RPF neighbor address: 0.0.0.0
- Outgoing interfaces for multicast traffic:
  - Serial1/0, Forward/Sparse mode, active time: 00:24:57, holdtime: 00:03:09
  - Serial2/0, Forward/Sparse mode, active time: 00:25:01, holdtime: 00:03:09
- Multicast routes and associated interfaces:
  - (*, 239.1.1.1), RPF nbr: 0.0.0.0, active time: 00:39:44, holdtime: 00:03:09, outgoing interfaces: Serial1/0 and Serial2/0
  - (192.168.1.2, 239.1.1.1), RPF nbr: 192.168.26.2, active time: 00:39:44, holdtime: 00:03:18, outgoing interfaces: Serial1/0 and Serial2/0
  - (192.168.16.1, 239.1.1.1), RPF nbr: 0.0.0.0, active time: 00:39:44, holdtime: 00:02:35, outgoing interfaces: Serial1/0 and Serial2/0"
"PIM-SM Example Topology for Source Traffic Only with No Receivers, and group-to-RP mapping cache determination for multicast group 239.1.1.1.","(Source A, 239.1.1.1) and (Source B, 239.1.1.1) towards the RP with no interested receivers."
"Last-hop DRs (R4 and R7) should have the SPT threshold set to infinity using the ip pim spt-threshold infinity command. This will ensure that multicast traffic stays on the shared tree, and last-hop DRs do not perform an SPT switchover.","Last-hop DRs (R4 and R7) should be configured with the following command: 
ip pim spt-threshold infinity"
PIM Group-to-RP Mappings for Group(s) 224.0.0.0/4,"RP 192.168.6.6 (?), v2v1, Uptime: 03:09:53, expires: 00:02:14"
Maintain a multicast group for the Group Address 239.1.1.1 on Ethernet0/0 interface.,"- Group Address: 239.1.1.1
- Interface: Ethernet0/0
- Uptime: 00:04:33
- Expires: 00:02:56"
Topology - Interested Receivers With or Without Active Sources,All routers in the network are configured to run PIM-SSM with the ip pim ssm default command.
"Receiver A and Receiver B should receive multicast from Source A at address (192.168.1.2, 232.1.1.1) using IGMPv3.","Router R1 has the following configuration for multicast routing:
- Incoming interface: Ethernet0/0 (RPF nbr 0.0.0.0)
- Outgoing interface list: Ethernet1/0 (Forward/Sparse)

Router R3 has the following configuration for multicast routing:
- Incoming interface: Ethernet1/0 (RPF nbr 192.168.123.1)
- Outgoing interface list: Serial3/0 (Forward/Sparse), Serial2/0 (Forward/Sparse)"
All routers in the network are configured to run PIM-SSM and have the ip pim ssm default command configured globally.,"None of the routers will create state for (192.168.1.2, 232.1.1.1) due to no interested receivers in this network."
Verify multicast forwarding using the MFIB for bidir-PIM networks.,"The given text does not provide specific configuration details, as it states that the IP addresses, interfaces, and other values are shown as examples only and do not represent real-world deployment values."
Forwarding using the Multicast Fast Inter-Domain Routing (MFIB) protocol in bidirectional multicast PIM networks.,N/A (The text does not provide a specific configuration.)
"Verifying multicast packet forwarding by observing the ""SW Forwarding"" counter in the show ip mfib output for the most specific entry available in the MFIB.","Not provided, as the text does not contain a specific configuration to meet the requirement."
Multicast routing configuration for a network using PIM (Protocol Independent Multicast) and Auto-RP.,"1. Configure the multicast routing protocol on both R1 and R2 routers.
2. Set up RP mappings for the specified group range (e.g., 239.195.0.0/16) on R2 router using Auto-RP.
3. Enable PIM on interfaces Ethernet0/0 and Ethernet1/0 on both R1 and R2 routers.
4. Configure the RP address and DF (Designated Forwarder) information for PIM on the interfaces."
Bidirectional multicast routing with sparse mode and PIM (Protocol Independent Multicast) Group-to-RP mappings.,"- Ethernet1/0 interface with Flags: F
- Serial2/0 interface with Flags: F
- RPF neighbor: 192.168.26.6"
The requirement in the text is for an IP multicast routing setup using PIM (Protocol Independent Multicast) with bidirectional multicast tunnels (bidir).,"- RP (Rendezvous Point): 192.168.254.6
- DF (Designated Forwarder) Winners: 192.168.3.3 and 192.168.34.3
- Metrics: 75 and 65 for Ethernet0/0, Serial2/0, Serial3/0 interfaces
- Interfaces with bidirectional multicast tunnels: Ethernet1/0, Ethernet0/0, Serial2/0, Serial3/0"
Verifying IPv4 Multicast Forwarding Using the MFIB and Bidirectional PIM example with active sources and interested receivers.,N/A (not provided in the text)
Multicast Routing Configuration,"RP (Rendevous Point) - 192.168.254.6, Incoming Interfaces - Serial3/0, Ethernet0/0, Ethernet1/0"
PIM (Protocol Independent Multicast) configuration for multicast routing,"- RP (Rendering Point) mapping: Group(s) 239.195.0.0/16, RP 192.168.254.6, v2v1, bidir
- PIM interface df: DF Winner is marked with an asterisk (*), Metric is 0
  - Loopback0: 192.168.6.6
  - Ethernet0/0: 192.168.16.6
  - Serial1/0: 192.168.67.6
  - Serial2/0: 192.168.26.6"
Verifying IPv4 Multicast Forwarding Using the MFIB and Bidir-PIM Example Active Sources with Interested Receivers,IOS XE Gibraltar 16.11.x
Verifying IPv4 Multicast Forwarding Using the MFIB,Bidir-PIM Example Active Sources with Interested Receivers
PIM Group-to-RP Mapping for Group(s) 239.195.0.0/16,"RP - 192.168.254.6 (v2v1, bidir), Info source - 192.168.6.6 (elected via Auto-RP)"
PIM Group-to-RP mapping for Group(s) 239.195.0.0/16,"Requirement: PIM Group-to-RP mapping for Group(s) 239.195.0.0/16

Configuration: RP 192.168.254.6 (?), v2v1, bidir; Info source: 192.168.6.6 (?), elected via Auto-RP"
"PIM (Protocol Independent Multicast) RP (Rendevous Point) Mapping for multicast group 239.195.0.0/16 with bidirectional (bidir-upstream) traffic on Ethernet1/0 interface, and unidirectional traffic on Serial3/0 and Ethernet0/0 interfaces.","Requirement: PIM (Protocol Independent Multicast) RP (Rendevous Point) Mapping for multicast group 239.195.0.0/16 with bidirectional (bidir-upstream) traffic on Ethernet1/0 interface, and unidirectional traffic on Serial3/0 and Ethernet0/0 interfaces.

Configuration: 
- RP address: 192.168.123.2 (for incoming interface list)
- Incoming interfaces:
  - Serial3/0, Accepting/Sparse
  - Ethernet0/0, Accepting/Sparse
  - Ethernet1/0, Accepting/Sparse
- RP for multicast group 239.195.1.1: 192.168.254.6 (v2v1)"
PIM Group-to-RP Mapping for Source B (Group 239.195.0.0/16) with RP 192.168.254.6,"The system must be configured as an Auto-RP and RP-mapping agent, with the loopback interface set as the RP address (192.168.254.6). The PIM Group-to-RP mapping for Source B should include the group 239.195.0.0/16 with the RP 192.168.254.6, and the system must be able to handle bidirectional traffic (v2v1)."
Multicast routing and interface configuration for IGMP and PIM,"- Interface: Ethernet0/0, Serial2/0, Serial4/0
- Uptime: 1d03h
- RP (Rendezvous Point) address: 192.168.254.6
- Group Address: 239.195.1.1
- Multicast routes: (*,239.195.0.0/16), with incoming interfaces Ethernet0/0, Serial2/0, and Serial4/0"
PIM Group-to-RP Mapping configuration for multicast routing.,"Group(s): 239.195.0.0/16
RP: 192.168.254.6 (?), v2v1, bidir
Info source: 192.168.6.6 (?), elected via Auto-RP"
Verifying IPv4 Multicast Forwarding Using the MFIB,Bidir-PIM Example No Active Sources with Interested Receivers
PIM-SM (Protocol Independent Multicast Sparse Mode) configuration for multicast routing in the network.,"- RP (Rendevous Point): 192.168.254.6
- Group: 239.195.0.0/16
- Incoming interfaces: Ethernet1/0, Serial2/0
- Flags: B (Bidirectional), A (Accepting), F (Sparse)"
Verifying IPv4 Multicast Forwarding Using the MFIB and Bidirectional PIM Example with No Active Sources and Interested Receivers,"Gibraltar 16.11.x (Software Version), 67 (Number of devices or configuration parameter)"
"- PIM Group-to-RP Mappings for the group address 239.195.0.0/16 with RP 192.168.254.6 (?), v2v1, bidir.","- RP: 192.168.254.6
- DF Winner: 192.168.4.4 for Ethernet0/0 interface with a metric of 139"
- Bidirectional multicast routing with upstream and sparse mode on Serial1/0,"- Serial1/0, Bidir-Upstream/Sparse, 01:30:51/00:02:56"
PIM Group-to-RP Mapping for Group(s) 239.195.0.0/16 with RP 192.168.254.6 (Auto-RP),"Interface Loopback0 configured as an RP-mapping agent, and DF winner is *192.168.254.6 on both Loopback0 and Ethernet0/0 interfaces."
Verifying IPv4 Multicast Forwarding Using the MFIB,Bidir-PIM Example with No Active Sources and No Interested Receivers
Verification of Bidir-PIM Example Topology with No Active Sources and No Interested Receivers,"Entries for (*, 239.195.0.0/16) created by the control plane based on PIM group-to-RP mappings on all routers; entries for any group within the range 239.195.0.0/16 created only when IGMP joins initiated by interested receivers joining that particular group; because there are no interested receivers, (*, 239.195.0.0/16) will be the only state in the network on all routers; multicast packet forwarding can be verified by observing the ""SW Forwarding"" counter in show ip mfib command output for the most specific entry available in the MFIB."
Implement PIM-SM (Protocol Independent Multicast Sparse Mode) for multicast routing in a network.,"- RP (Rendering Point): 192.168.254.6
- PIM Group-to-RP Mapping: Group(s) 239.195.0.0/16, RP 192.168.254.6 (?), v2v1, bidir
- Incoming interface list for the group: Ethernet0/0, Accepting/Sparse"
Verifying IPv4 Multicast Forwarding Using the MFIB,Bidir-PIM Example with No Active Sources and No Interested Receivers
"Provide an MFIB platform application program interface (API) for propagating MFIB changes and managing packet switching, uploading traffic statistics, and reading traffic statistics on demand. Also, implement the combination of distributed MFIB and MRIB subsystems to allow a customized copy of the MFIB database in each line card and transport platform-specific information between RP and line cards.",N/A (No specific configuration details were provided in the text)
Disable multicast forwarding on a distributed platform,Distributed MFIB for IPv6 Multicast
"Locate and download MIBs for selected platforms, Cisco IOS releases, and feature sets using Cisco MIB Locator at http://www.cisco.com/go/mibs",Not provided
Congestion Management Overview and QoS feature for controlling packet order based on priorities assigned to those packets.,Four types of queueing protocols for creating different numbers of queues and specifying the order in which traffic is sent during periods with light or heavy traffic.
"Congestion management QoS features, Weighted Fair Queueing (WFQ), bandwidth management.",Not specified in the given text.
Assign only one queueing mechanism type to an interface.,"Multilink (e.g., Multichassis Multilink PPP (MMP)), CBWFQ, LLQ, and other QoS functionality can be used for bandwidth management and queueing policies (Weighted Fair Queueing, Class-Based Weighted Fair Queueing, Low Latency Queueing, and Priority Queueing)."
Traffic prioritization for interactive applications without penalizing FTP applications.,"Prioritization is most effective on WAN links with bursty traffic and relatively lower data rates (e.g., T1/E1 bandwidth speeds or lower)."
Priority queueing through the use of LLQ (Low Latency Queueing) and WFQ (Weighted Fair Queueing).,Not provided in the text.
Traffic priority management with Weighted Fair Queueing (WFQ) for dynamic sorting of messages in a conversation and fair bandwidth sharing between individual conversations.,"WFQ classifies traffic into different flows based on packet header addressing, including source and destination network or MAC address, protocol, source and destination port and socket numbers, Frame Relay data-link connection identifier (DLCI) value, and ToS value. There are two categories of flows: high-bandwidth sessions and low-bandwidth sessions. Low-bandwidth traffic has effective priority over high-bandwidth traffic, and high-bandwidth traffic shares the transmission service proportionally according to assigned weights."
The requirement is to use WFQ (Weighted Fair Queuing) as the default queueing mode on serial interfaces configured at E1 speeds or below. This is to provide consistent response time for heavy and light network users without adding excessive bandwidth.,"The configuration is not provided in the text, but it mentions that WFQ is not supported with tunneling and encryption as they modify the packet content information required by WFQ for classification."
"Defining and characterizing traffic classes based on match criteria, bandwidth, weight, maximum packet limit, queue limit, tail drop or packet drop.","Assigning traffic classes characteristics like bandwidth, weight, maximum packet limit, queue limit, and configuring tail drop or packet drop policy."
"Congestion Management Overview, Class-Based Weighted Fair Queueing",N/A (insufficient information provided)
"Configuring a class policy for CBWFQ, which involves defining traffic classes (class maps), associating policies with each traffic class (policy maps), and attaching policies to interfaces (service policies).","1. Defining traffic classes (class maps) - specify the classification policy for differentiating packet types.
2. Associating policies (policy maps) - configure policies to be applied to packets belonging to one of the previously defined classes through a class map.
3. Attaching policies to interfaces (service policies) - associate an existing policy map or service policy with an interface to apply the particular set of policies for the map to that interface."
Configuring CBWFQ with max-reserved-bandwidth for better control over bandwidth allocation.,Using max-reserved-bandwidth command to override the default 75 percent maximum sum allocated to all classes or flows.
Configuring CBWFQ on a physical interface is only possible if the interface is in the default queueing mode. Enabling CBWFQ on a physical interface overrides the default interface queueing method.,WRED must not be configured on the interface to which you intend to attach that service policy.
Configuring priority status for classes within a policy map in CBWFQ.,"Using the priority command within a policy map to give one or more classes priority status, and using valid match criteria to specify traffic for priority traffic."
"Include matching on access lists, protocols, and input interfaces for traffic based on the IP Differentiated Services Code Point (DSCP) value in the ToS byte of the IP header.","Enqueue various types of real-time traffic to the strict priority queue, but direct only voice traffic to it."
"Priority traffic metering under congestion conditions, ensuring priority class traffic stays within allocated bandwidth, and allowing per-packet token replenishment.","The device performs metering on a per-packet basis, with tokens replenished as packets are sent. If not enough tokens are available to send the packet, it is dropped."
Configure LLQ to prioritize specific traffic types while avoiding starvation for nonpriority traffic.,"The priority command can be used with a class in CBWFQ, and the queue-limit command can be configured when only one priority queue exists in the policy-map."
"Implement a Priority Queue in the network to manage traffic based on user-specified criteria, with four output queues - high, medium, normal, and low.","Configure four traffic priorities (high, medium, normal, and low) and define filters based on packet characteristics to place traffic into these queues."
"Priority Queueing mechanism for managing traffic from all networking protocols, with fine-tuning available for IP and packet size boundaries.","Maximum length of a queue defined by the length limit, where packets beyond the queue limit are dropped. The priority queues are scanned in descending order of priority (high, medium, etc.), and the packet at the head of the highest queue is chosen for transmission."
"Priority Queueing (PQ) for mission-critical traffic on WAN links and low-bandwidth, congested serial interfaces.","Use of priority output queueing on appropriate interfaces, possible use of traffic shaping to rate-limit higher priority traffic, and consider the interface speed when deciding if PQ is acceptable."
Change the maximum reserved bandwidth on interfaces using the max-reserved-bandwidth command.,"Not applicable, as it is used only on interfaces and cannot be applied to VCs (Virtual Circuits)."
Implementing QoS features for IPv6 environments,"- Packet classification
- Queuing
- Traffic shaping
- Weighted random early detection (WRED)
- Class-based packet marking
- Policing of IPv6 packets
- Managed using the modular QoS command-line interface (MQC)"
"Traffic classification, policy management, traffic shaping in IPv6 environments.",Class-based and flow-based queueing for IPv6. CBWFQ can be used to classify and prioritize packets. Traffic shaping features use the same commands as those used for IPv4.
Low Latency Queueing with Priority Percentage Support,"Configuring bandwidth as a percentage within low latency queueing (LLQ) for designating a percentage of the bandwidth to be allocated to an entity, and specifying the percentage of bandwidth to be allocated to nonpriority traffic classes."
"Accommodate networks with a large number of interfaces, all with differing bandwidths and associated with a policy map that allocates proportional bandwidths to multiple classes.","Configuring bandwidth in percentages for interfaces with adaptive shaping rates (e.g., ABR virtual circuits) using CBWFQ. Additionally, the bandwidth Command for LLQ with Priority Percentage Support has been updated with new keywords: bandwidth percent and bandwidth remaining percent."
Bandwidth allocation as a relative percentage of the total bandwidth on an interface.,"The bandwidth remaining percent command allows specifying the relative percentage of the available bandwidth to be allocated to different classes of traffic (e.g., 30 percent for class1 and 60 percent for class2). The sum of the numbers used to indicate this ratio cannot exceed 100 percent."
Configure Low Latency Queueing (LLQ) with Priority Percentage Support on a Cisco device.,"1. Enable privileged EXEC mode.
2. Enter configuration mode by typing 'configure terminal'.
3. Create or select an existing policy map using the command 'policy-map policy-name'.
4. Define a class within the policy map using 'class class-name' or 'class-default'.
5. Set the priority percentage for the class using 'priority bandwidth-kbps | percent percentage [burst]'.
6. Configure the bandwidth for the class using 'bandwidth bandwidth-kbps | percent percentage | remaining percent percentage'."
"Enter the name of the policy map to be created or modified, and specify a class for configuring its policy.","- Step 2: ""Router# configure terminal""
- Step 3: ""policy-map policy-map""
- Step 4: Enter the policy map name (up to 40 alphanumeric characters)
- Step 5: ""class {class-name | class-default}""
- Step 6: Enter the class name"
Display the configuration of a specified policy map or all existing policy maps.,show policy-map [policy-map-name] [class class-name] (Optional) or show policy-map interface type number.
Guarantee 10 percent of interface bandwidth for the class called voice-percent.,Router(config-pmap-c)# priority percent 10
"The same policy map must be identical, but the unit for the priority command in the priority class can be different from the bandwidth unit of the nonpriority class. The configuration can contain multiple policy maps using different bandwidth units.","1. Policy Map Policy1:
   - Class Voice-Percent:
     * Priority Percent 10
   - Class Data1:
     * Bandwidth Percent 30
2. Policy Map Policy2: (Not provided in the text)
3. Policy Map Policy3:
   - Class Data2:
     * Bandwidth kbps (Not specified in the text)"
Set bandwidth for different classes in a policy map on a router.,"1. Create a class with the 'class' command.
2. Enter the configuration mode for the class with the 'config-pmap-c' prompt.
3. Set the bandwidth percentage using the 'bandwidth' command followed by the percentage value.
4. Exit the class configuration mode with the 'exit' command.
5. Repeat steps 1-4 for other classes as needed."
Low Latency Queueing with Priority Percentage Support,"bandwidth(policy-map class), priority"
Low Latency Queueing (LLQ) for IPSec encryption engines to reduce packet latency and prioritize voice traffic over data traffic.,"Voice packets are directed into a priority packet inbound queue, while data packets are directed into a best effort queue for crypto engine processing. The crypto engine processes voice packets with a favorable ratio and guarantees minimum processing bandwidth for voice packets."
Assume the same IP precedence/DSCP marking for inbound and outbound voice packets.,Voice packets are either all encrypted or unencrypted.
Configure a policy map and create class policies to make up the service policy.,"Use commands like priority, bandwidth, queue-limit or random-detect, fair-queue (for class-default class only) for each class in the policy map."
"Create a strict priority class and specify the amount of bandwidth, in kbps, to be assigned to the class.",Router(config-pmap-c)# priority bandwidth-kbps
Configuring Class Policy Using a Specified Bandwidth,"1. Router(config)# policy-map policy-map
2. Router(config-cmap)# class class-default default-class-name
3. Router(config-pmap-c)# bandwidth bandwidth-kbps"
Implement Low Latency Queueing (LLQ) for IPsec Encryption Engines with a strict priority queue and guaranteed allowed bandwidth of 50 kbps for traffic between source address 10.10.10.10 and destination address 10.10.10.20 within specific port ranges (16384-20000 and 53000-56000).,"1. Configure access list 102 to match the desired voice traffic:
Router(config)# access-list 102 permit udp host 10.10.10.10 host 10.10.10.20 range 16384 20000
2. Configure a policy map to apply LLQ with the specified bandwidth:
Router(config)# policy-map voice_policy
Router(config-pmap)# class cisco-class-voice
Router(config-pmap-c)# bandwidth 50
Router(config-pmap-c)# priority queue strict
3. Apply the policy map to the desired interface:
Router(config)# interface <desired_interface>
Router(config-if)# service-policy output voice_policy"
Queue Limit configuration for Cisco ASR 1000 Series Router in Cisco IOS XE Software Release 2.1,"Packets-per-queue range from 1 to 2,000,000"
Set the depth of a traffic class queue,"Enable privileged EXEC mode, enter global configuration mode, define policy map, create class map, set bandwidth and queue-limit values."
Create a policy map and configure traffic classes with QoS features.,Router(config)# policy-map Policy1; Router(config-pmap)# class Class1; Router(config-pmap-c)# bandwidth 3000; Router(config-pmap-c)# queue-limit
"Configure a policy map with two classes, Class1 and Class2, that limit the number of packets that can be held in the queue to 32 for Class1 and enable bandwidth allocation for both classes.","1. Create a policy map named Policy1:
```
policy-map Policy1
```

2. Define two classes, Class1 and Class2, within the policy map:
```
class Class1
 class Class2
```

3. Set the bandwidth allocation for both classes in the policy map:
```
bandwidth 1000000
```

4. Specify the maximum number of packets that can be queued for Class1:
```
queue-limit 32
```

5. Enable bandwidth allocation for Class2:
```
class Class2
 bandwidth 1000000
```"
- Class-map: Silver-5-PR (match-any) (1061/3),"- Match: ip precedence 0
- 5 minute offered rate 0 bps, drop rate 0 bps
- Random-detect (precedence-based)
- Min, Max Prob, Rand-Drops Tail-Drops values vary depending on probabilities
- Queue limit: 128 packets"
- Create a policy map with two classes: Bronze and Gold.,"Requirement: 
- Create a policy map with two classes: Bronze and Gold.
- Assign different priority levels to each class within the policy map.

Configuration:
- Device# configure terminal
- Device(config)# policy-map Map1
- Device(config-pmap)# class Bronze
- Device(config-pmap-c)# priority level 1
- Device(config-pmap-c)# exit
- Device(config-pmap)# class Gold
- Device(config-pmap-c)# priority 1000"
Reducing delay and improving latency in traffic delivery,"Using Multi-Level Priority Queues (MPQ) feature, class-based weighted fair queueing (CBWFQ), priority command, and priority level command for configuring a level of priority service on a class in a policy map."
"Configure the priority command and the priority level command on different classes in the same policy map, with traffic policing enabled on the priority queue.","Policy Map - my_policy, Class Voice - Priority 400000, Conditional Traffic Policing, Class Gold - Bandwidth 400000 (400M minimum guaranteed to class gold)."
Create or modify a policy map and enter policy-map configuration mode.,Device# configure terminal
Configuring traffic policing based on the committed information rate (cir) and percentage of available bandwidth.,Device(config-pmap-c)# police cir <value> [percent <percentage>]
Configure policing for priority traffic to prevent bandwidth starvation of low-priority traffic in multi-level priority queues.,"The policy map named Business has seven traffic classes (Platinum, Gold, Silver, Bronze, Iron, Aluminium, and Steel) with different priority levels. To prevent bandwidth starvation, the Platinum and Gold traffic is policed at 30 percent and 20 percent respectively, of the interface bandwidth."
Configure MPQ (Multi-Level Priority Queues) till priority level 7.,Cisco IOS XE Fuji 16.8.x
"The MPQ feature allows you to configure multiple priority queues for multiple traffic classes by specifying a different priority level for each of the traffic classes in a single service policy map. This enables the device to place delay-sensitive traffic on the outbound link before delay-insensitive traffic, resulting in high-priority traffic receiving the lowest latency possible on the device.","In Cisco IOS XE Release 2.1, this feature was implemented on the Cisco ASR 1000 Series Routers. In Cisco IOS XE Release 3.7S, support was added for the Cisco ASR 903 Router. In Cisco IOS XE Release 3.16, support was added for the Cisco ASR 900 RSP3 Module. The following commands were introduced or modified: priority level, show policy-map interface."
Configuring QoS custom queueing (CQ) on a router,Not supported on any tunnels
Specifying the Maximum Size of the Custom Queues,Router(config)# queue-list list-number queue queue-number limit limit-number
Increase the queue length limit for custom queue 10 from the default 20 packets to 40 packets.,"```
interface serial 0
custom-queue-list 3
queue-list 3 queue 10 limit 40
```"
Decrease queue list 9's byte count from the default value of 1500 to 1400 for queue number 10.,queue-list 9 queue 10 byte-count 1400
Set a default queue for list 10 and configure custom queueing.,queue-list 10 default 2
Traffic shaping for VLANs and individual sessions with QoS services for different classes of traffic.,"Integrated Queueing Hierarchy for QoS provisioning at multiple levels, with support for features like bandwidth distribution. The integrated queueing hierarchy is formed on the physical interface."
"• The system must be able to identify individual subscribers using PPP or IP session, and groups of subscribers using VLAN with outer tag ISP, E-DSLAM, or U-PE.","• Configure a one-level policy map at the subinterface level with class-default, shape, and bandwidth remaining ratio features enabled."
Configure QoS Hierarchical Queueing for Ethernet DSLAMs,"1. Enable privileged EXEC mode.
2. Enter global configuration mode.
3. Create a policy-map with a name.
4. Define a class within the policy-map.
5. Set bandwidth for the class using kbps, percentage, or remaining and percentage values.
6. Specify precedence, minimum threshold, maximum threshold, and mark probability denominator.
7. Set cos value.
8. Exit class configuration mode.
9. Return to policy-map configuration mode.
10. Define a class default within the policy-map.
11. Set shape average and CIR for the class default.
12. Bandwidth remaining ratio using percentage values.
13. Apply the service-policy to the output of an interface or subinterface."
Policy-map name,QoS Hierarchical Queueing for Ethernet DSLAMs
"Configure a precedence level for traffic class based on the specified arguments in a policy map, with valid values ranging from 1 to 99.","The configuration command is ""precedence"", followed by the precedence value and the min-threshold, max-threshold, and mark-probability-denominator values as specified."
Set Layer 2 CoS value for outgoing packets in a service policy.,"Use the ""set cos"" command in output direction of an interface, configure IEEE 802.1Q CoS value from 0 to 7, and ensure the interface is configured for 802.1Q or using a virtual access interface with 802.1Q."
Traffic Shaping Configuration for class-default,"Router(config-pmap)# class class-default
Specifies average-rate traffic shaping for all traffic that does not match any other traffic class.
shape average cir
Example:
Step 12
• Enter the average keyword followed by the committed information rate (CIR), in bits per second (bps).
Router(config-pmap-c)# shape average 10000000"
Apply child policy map to parent class-default.,"Enter the name of a previously configured child policy map and use the command ""service-policy session_a_child"" in config-pmap-c mode."
Configuring and Applying QoS Hierarchical Queueing Policy Maps to Subinterfaces,"1. enable
2. configure terminal
3. policy-map session_a_parent
   - class precedence_0
     - bandwidth remaining ratio 10
   - class precedence_1
     - bandwidth remaining ratio 20
4. policy-map session_a_child
   - service-policy session_a_child
5. interface virtual-template 20
   - service-policy output session_a_parent
6. end"
Create a policy map and configure it with specific traffic class and queueing policy.,"policy-map subint_1, class class-default, shape average cir 10000000"
Configure a QoS hierarchical queueing policy map on a subinterface and provide aggregate shaping for a large number of subscribers.,"1. Enable the router and enter configuration mode.
2. Create a policy map and assign it to a subinterface (e.g., subint_1).
3. Configure the class-default within the policy map.
4. Set the shape average value to 10000000 for aggregate shaping."
Enabling privileged EXEC mode.,"Requirement: Enabling privileged EXEC mode.
Configuration: Router> enable"
Implement a hierarchical queueing policy map on VLANs or QinQ subinterfaces for creating subscriber groups on subinterfaces.,"1. Apply policy maps to create subscriber groups on subinterfaces.
2. Create a policy-map named ""service_a_out"".
3. Define a class named ""voip"" within the policy map.
4. Set priority for the voip class with CIR percent 20, BC 300, MS PIR precent 40.
5. Set cos 1 for the voip class."
"Classification of network traffic into video, gaming, voip, and default classes with bandwidth and police settings.","1. Video class:
   - Police cir percent 20 bc 300 ms pir prectent 40
   - CoS (Class of Service) 2
2. Gaming class:
   - Bandwidth remaining percent 80
   - CoS (Class of Service) 3
3. VoIP class:
   - Police cir percent 25 4 ms 1 ms
4. Default class:
   - Bandwidth remaining percent 20
   - Police percent 20 bc 300 ms pir 40"
Traffic shaping and bandwidth allocation for service A and service Z using policy maps.,"1. Router(config-pmap)# policy-map rate_x_service_z_in
2. Router(config-pmap)# class class-default
3. Router(config-pmap-c)# bandwidth remaining ratio 10
4. Router(config-pmap-c)# shape average 100000
5. Router(config-pmap-c)# service policy service_z_in
6. Router(config-pmap)# exit
7. Router(config)# policy-map rate_1_service_a_out
8. Router(config-pmap)# class class-default
9. Router(config-pmap-c)# bandwidth remaining ratio 10
10. Router(config-pmap-c)# shape average 100000
11. Router(config-pmap-c)# service policy service_a_out
12. Router(config-pmap)# exit
13. Router(config)# interface GigabitEthernet1/0/0.1
14. Router(config-subif)# encapsulation dot1q 5 second dot1q 20
15. Router(config-subif)# service-policy output rate_1_service_a_out
16. Router(config-subif)# service-policy input rate_1_service_a_in
17. Router(config-subif)# exit
18. Router(config)# interface"
Configure and apply QoS hierarchical queueing policy maps on VLANs with subscriber lines grouped by arbitrary QinQ.,"1. Create class maps for each user (user_1 to user_n).
2. Match the appropriate VLAN numbers in the class maps (e.g., vlan 10 and vlan 11).
3. Create a parent policy with child queueing policies applied to each subscriber line level policy."
"Traffic shaping and bandwidth allocation for different types of traffic (VoIP, video, gaming, and default) in a router.","1. Define class maps for VoIP, Video, Gaming, and default traffic classes.
   - Router(config-cmap)# match class user_3 (VoIP)
   - Router(config-cmap)# match class user_4 (Video)
   - Router(config-cmap)# class gaming
   - Router(config-cmap)# class class-default
2. Configure policy maps for service_a_out and service_z_out with the defined traffic classes.
   - Router(config)# policy-map service_a_out (VoIP)
   - Router(config)# policy-map service_z_out (Video, Gaming, and default)
3. Set QoS parameters for each class in the policy maps:
   - VoIP: Priority, Police CIR percent 20 BC 300 ms PIR percent 40, set cos 1
   - Video: Police CIR percent 20 BC 300 ms PIR percent 40, set cos 2
   - Gaming: Bandwidth remaining percent 80, set cos 3
   - Class-default: Bandwidth remaining percent 20, set cos 4"
"Create policy maps for ingress and egress traffic for different user classes, manage bandwidth allocation and shape the traffic based on average.","1. service_z_in policy map with bandwidth remaining ratio 10 and shape average 100000
2. service_a_out policy map with class user_1 having bandwidth remaining ratio 10 and shape average 100000
3. service_Z_out policy map with class user_n having bandwidth remaining ratio 20 and shape average 100000
4. service_a_in policy map with class user_1 having service policy service_a_in
5. service_z_in policy map with class user_n having service policy service_z_in"
Configure policy maps for incoming and outgoing traffic for ISP A and ISP Z classes.,"1. Set up a policy map called ""interface_policy_out"" with classes isp_A and isp_Z, shaping the average output rate to 100000.
2. Create service policies isp_A_out and isp_Z_out for outgoing traffic.
3. Set up a policy map called ""interface_policy_in"" with classes isp_A and isp_Z, applying service policies isp_A_in and isp_Z_in for incoming traffic.
4. Apply the policy maps to the GigabitEthernet1/0/0.1 interface using the ""service-policy output"" and ""service-policy input"" commands."
Apply QoS hierarchical queueing policy maps on sessions.,Not available in the given text.
Implement a policy map for traffic prioritization and bandwidth allocation for different types of traffic in a network.,"1. Create a policy map named ""service_a_out"" with classes for VoIP, video, gaming, and class-default traffic.
2. Set the CoS value to 1 for VoIP traffic, 2 for video traffic, 3 for gaming traffic, and 4 for class-default traffic.
3. Allocate a remaining percentage of bandwidth for VoIP at 80%, video at 20%, and gaming at 10% (assuming the policy map applies to the entire available bandwidth).
4. Create another policy map named ""service_z_out"" (if required, but not provided in the text).
5. Implement a rate limit for class-default traffic with a remaining ratio of 10 and an average shaping value of 100,000.
6. Apply the ""service_a_out"" policy map to the ""rate_1_service_a_out"" policy map using the ""service-policy"" command."
"Policy mapping for service x and service z with specific bandwidth, ratio, and shaping configurations.","1. Router(config)# policy-map rate_x_service_z_out
   - class class-default
   - bandwidth remaining ratio 10
   - shape average 100000
   - service-policy service_z_out
   - exit
2. Router(config)# policy-map rate_1_service_a_in
   - class voip
     - police cir percent 25 4 ms 1 ms
   - exit
   - class gaming
     - police cir percent 50 2 ms 1 ms
   - exit
   - class class-default
     - police cir percent 20 bc 300 ms pir precent 40
   - exit
3. Router(config)# policy-map rate_x_service_z_in
   - exit"
Configure and apply QoS hierarchical queueing policy maps on sessions with multiple PPP/IP sessions per subscriber line.,"1. Router(config)# interface GigabitEthernet1/0/0.1
   - encapsulation dot1q 1
   - service-policy output isp_A_out
2. Router(config)# interface GigabitEthernet2/0/0.2
   - encapsulation dot1q 2
   - service-policy output isp_Z_out
3. Router(config-pmap)# class class-default
   - shape average 200000
   - bandwidth remaining ratio 30"
"Priority-based bandwidth management for different traffic classes (video, voip, and class-default).","- Class ""video"": Police CIR percent 30 5 ms 1 ms, set cos 2.
- Class ""voip"": Police CIR percent 25 4 ms 1 ms, set cos 1.
- Class ""class-default"": Police CIR percent 40 2 ms 1 ms, set cos 3."
"- Configure a policy map called ""rate_x_service_z_out"" with class ""class-default"".","```
Router(config)# policy-map rate_x_service_z_out
Router(config-pmap)# class class-default
Router(config-pmap-c)# bandwidth remaining ratio 10
Router(config-pmap-c)# shape average 100000
Router(config-pmap-c)# service policy service_a_out
Router(config-pmap-c)# exit
Router(config-pmap)# exit
Router(config)# interface GigabitEthernet1/0/0
Router(config-if)# encapsulation dot1q 1
Router(config-if)# service-policy output isp_A_out
Router(config-if)# exit
Router(config)# interface GigabitEthernet2/0/0
Router(config-if)# encapsulation dot1q 2
Router(config-if)# service-policy output isp_Z_out
Router(config-if)# end
```"
Configure QoS hierarchical queueing policy maps on sessions and subinterfaces in Ethernet Digital Subscriber Line Access Multiplexer (E-DSLAM) applications.,"Cisco ASR 1000 Series Routers, Cisco IOS XE Release 2.4"
QoS Hierarchical Queueing for ATM DSLAMs,Configure traffic classes using the class-map command.
Specifying the weight (ratio) for the ATM VC and bandwidth remaining ratio.,Router(config-pmap-c)# bandwidth remaining ratio <number>
"Configure a policy map for QoS on the router with different classes for VoIP, video, and precedence traffic. Apply bandwidth and priority settings to each class.","1. Create a policy map named session-a-child.
2. Add a class named voip with a police of 1000000 and priority level 1.
3. Add a class named video with a police of 100000.
4. Add a class named precedence_0 with a bandwidth remaining ratio of 10.
5. Add a class named precedence_1 with a bandwidth remaining ratio of 20.
6. Create another policy map named session_a_parent.
7. Add a class named class-default with a shape average of 10000000 and bandwidth remaining ratio of 10.
8. Apply the service-policy to the session-a-child policy map for the class-default."
Configure a policy map and traffic class for an ATM VC with queueing policies.,"1. Create a policy map with a name (policy-map-name).
2. Enter policy-map subint-1 configuration mode.
3. Configure the traffic class as class-default.
4. Do not configure any other traffic class.
5. Specify average-rate traffic shaping for all traffic that does not match any other traffic class using shape average {cir| percentpercentage}."
QoS Hierarchical Queueing for ATM DSLAMs,Policy-Map Information for Hierarchical Queueing
Implement QoS hierarchical queueing policy maps on sessions for DSLAMs.,"1. Configure and apply QoS hierarchical queueing policy maps on sessions.
2. Apply a child queueing policy to each parent subscriber line level policy.
3. Create a policy map for the service (e.g., ""service-a-out"").
4. Define classes within the policy map for different types of traffic (e.g., voip, video, gaming, class-default).
5. Set appropriate parameters for each class, such as priority, CoS, bandwidth, and percentage."
Implement QoS hierarchical queueing on Cisco IOS XE routers for ATM DSLAMs.,"1. Define a policy map ""rate-1-service-a-in"" with different classes for VoIP, gaming, and class-default with their respective police percent values.
2. Apply the policy map to the appropriate interfaces using service-policy input and output commands."
Configuring QoS hierarchical queueing policy maps on sessions with multiple PPP/IP sessions per subscriber line using aggregate shaping.,"- Router(config)# policy-map isp_A_out
- Router(config-pmap)# class class-default
- Router(config-pmap-c)# shape average 500000
- Router(config-pmap-c)# exit
- Router(config-pmap)# exit
- Router(config)# interface ATM 1/0/0.1
- Router(config-subif)# pvc 10/100
- Router(config-if-atm-vc)# vbr-nrt 800000 800000
- Router(config-if-atm-vc)# service-policy output isp_A_out"
"Enabling privileged EXEC mode and metadata on all interfaces, creating a class map for matching traffic to a specified class.","1. enable
2. configure terminal
3. metadata flow
4. class-map match-all/match-any class-map-name
5. exit
6. class-map match-all/match-any class-map-name"
Match DSCP values in the class map configuration for congestion management.,Device(config-cmap)# match dscp af41 af42 af43
Configure a Child Policy Map,"policy-map child, class {class-name | class-default}, set dscp {dscp-value}"
Assigning a DSCP value in the ToS byte to mark up admitted flow and mark down un-admitted flow for improved priority handling.,Device(config-pmap-c)# set dscp af41
Configuring Per-Flow Admission for a Class,"Enable, Configure Terminal, Policy-Map, Class, Bandwidth, Admit CAC Local, Rate, Flow Rate Fixed Kbps Flow-Bit-Rate, End"
Enables privileged EXEC mode.,Device# enable
Create a policy map with the specified name and enter policy-map configuration mode.,policy-map test
Configure the size of the bandwidth pool and specify how much bandwidth to allocate for each flow in the per-flow admission policy.,"1. Step 6: `admit cac local`
2. Step 7: `rate percent 80`
3. Step 8: `flow rate fixed kbps flow-bit-rate` (e.g., `flow rate fixed 100`)
4. Step 9: `end`"
"Enables privileged EXEC mode, Creates a policy map using the specified name and enters policy-map configuration mode.","enable, configure terminal, policy-map policy-map-name"
Attaching a Per-Flow Admission Policy to an Interface,"- Enable service policy on the parent PMAP: `Device(config-pmap-c)# service-policy child`
- Configure the interface: `Device(config)# interface Serial2/0`
- Set the bandwidth: `Device(config-if)# bandwidth 384`
- Set the IP address: `Device(config-if)# ip address 10.10.100.1 255.255.255.0`
- Configure load interval: `Device(config-if)# load-interval 30`
- Attach the service policy to output: `Device(config-if)# service-policy output test`
- Disable shutdown: `Device(config-if)# no shutdown`"
Ethernet Overhead Accounting Configuration,Configuring Ethernet Overhead Accounting in a Hierarchical Policy
Traffic regulation mechanisms for QoS in Cisco IOS XE using policing and shaping.,"Policers and shapers use traffic descriptors for packets to ensure adherence and service, and they usually differ in the way they respond to violations."
Traffic shaping with a token bucket mechanism to control and regulate data flow based on a capacity and an established rate.,"Token bucket capacity, time interval, and established rate (bits per second or bps)."
Control the maximum rate of traffic sent or received on an interface and partition a network into multiple priority levels or class of service (CoS).,Traffic policing using the token bucket algorithm with user-configured values to determine the maximum rate of traffic allowed on an interface at a given moment in time.
Traffic policing and traffic shaping for regulating packet flow and controlling the speed of traffic on a network.,"Users can decide packet treatments based on whether packets conform, exceed, or violate limits. Conforming packets are transmitted, exceeding packets have decreased priority or are dropped, and violating packets are also dropped. Traffic policing can be configured on interfaces at the edge of a network to limit the rate of traffic entering or leaving the network."
Implementation Strategy for QoS for IPv6 environments,"Manage QoS features available for IPv6 environments using the modular QoS command-line interface (MQC) to define traffic classes, create and configure traffic policies (policy maps), and attach those traffic policies to interfaces."
Traffic shaping configuration for IPv6 environments.,"The commands used to configure queueing and traffic shaping features for IPv6 environments are the same as those used for IPv4, including flow-based queueing, CBWFQ, class-based policer, generic traffic shaping (GTS), and Frame Relay traffic shaping (FRTS)."
Distribution of Remaining Bandwidth Using Ratio feature for prioritizing subscriber traffic during periods of congestion.,bandwidth-remaining ratio (used to influence how the router allocates excess bandwidth to a class of nonpriority traffic)
Distribution of remaining bandwidth using ratio,Bandwidth-remaining ratios can be configured differently on each subinterface or class. The bandwidth-remaining ratio can range from 1 to 1000.
Return to privileged EXEC mode,Router(config-subif)# end
Distribution of Remaining Bandwidth Using Ratio for Class Queues,Configure bandwidth-remaining ratios on class queues.
Create or modify a child policy map and enter policy-map configuration mode.,Router(config)# policy-map Child
Bandwidth Remaining Ratio Configuration for subinterfaces,"Requirement: Bandwidth Remaining Ratio Configuration for subinterfaces
Configuration: bandwidth remaining ratio [value]"
Attach the parent policy map to the subinterface.,"service-policy output Parent

Note that the text provided is not a complete sentence, and some information might be missing or incomplete. It seems that the requirement is to attach the parent policy map to the subinterface, and the configuration is ""service-policy output Parent"". However, it's important to note that this is an assumption based on the given text."
Subinterface configuration with different bandwidth-remaining ratios for class queues.,"```
subinterface 1/0/0.1, relative to the other
 subinterface-level and class-level queues on the interface.
policy-map Child
 class precedence_0
  bandwidth 10000
 class precedence_1
  shape average 100000
  bandwidth 100
policy-map Parent
 class class-default
  bandwidth remaining ratio 10
  shape average 100000000
service-policy Child
interface GigabitEthernet1/0/0.1
 encapsulation dot1Q 100
 ip address 10.1.0.1 255.255.255.0
 service-policy output Parent
```"
Subinterface-level ratio configuration for bandwidth remaining ratio,bandwidth remaining ratio 100
"Bandwidth-remaining ratios are configured on class-level queues in the policy maps named vlan20_policy and child-policy, attached to Gigabit Ethernet subinterface 1/0/0.20.","Service-policy output: vlan20_policy, Class-map: class-default (match-any), Queueing, queue limit 64 packets, Bandwidth remaining ratio 60"
"Cir 500000, Bandwidth remaining ratio 60%","Average Rate Traffic Shaping, cir 1000000 (bps), bandwidth remaining ratio 10 (for vlan10_policy) and bandwidth remaining ratio 100 (for vlan20_policy)"
Bandwidth remaining ratio configuration for class queues.,"cir (committed information rate) and bandwidth remaining ratio values for each class queue. For example:
- Class precedence_0: cir 500000 (bps), bandwidth remaining ratio 20
- Class precedence_1: cir 500000 (bps), bandwidth remaining ratio 40
- Class precedence_2: cir 500000 (bps), bandwidth remaining ratio 60"
"Distribution of Remaining Bandwidth Using Ratio feature allows service providers to configure a bandwidth-remaining ratio on subinterfaces and class queues. This ratio specifies the relative weight of a subinterface or queue with respect to other subinterfaces or queues during congestion, determining the amount of excess bandwidth to allocate to a class of nonpriority traffic.","In Cisco IOS XE Release 2.1, this feature was introduced on Cisco ASR 1000 Series Routers. The following commands were introduced or modified: bandwidth remaining ratio, show policy-map, and show policy-map interface."
Configuring traffic shaping based on a percentage of bandwidth available on the interface.,Specifying committed (conform) burst (bc) size and excess (peak) burst (be) size in milliseconds (ms).
"Configure QoS Percentage-Based Shaping by defining a traffic class, configuring a policy map, and attaching the policy map to the appropriate interface.","Requirement: Configure QoS Percentage-Based Shaping by defining a traffic class, configuring a policy map, and attaching the policy map to the appropriate interface.

Configuration: 
1. Define a traffic class using the class-map command.
2. Create a traffic policy by associating the traffic class with one or more QoS features using the policy-map command.
3. Attach the traffic policy to the interface using the service-policy command."
The requirement is to specify the committed (conform) burst (bc) size and the excess (peak) burst (be) in milliseconds when configuring traffic shaping using QoS: Percentage-Based Shaping.,"To configure the committed (conform) burst (bc) size and the excess (peak) burst (be) in milliseconds, use the shape command with the percent keyword and associate arguments for the bc and be keywords within a policy map and class configuration."
Configure traffic shaping based on bandwidth percentage and optional burst sizes for a specific class in a policy map.,"1. Router(config-pmap)# class class1
2. Enter the class name or specify the default class (class-default).
3. shape {average | peak} percent percentage [be excess-burst-in-msec ms] [bc committed-burst-in-msec ms]"
Configure the interface type and enter interface configuration mode.,interface type number
Enable privileged EXEC mode and configure class map with match criterion.,Router> enable; Router# show class-map [class-map-name]; Router# show policy-map interface [interface-name].
Check the tuning of the transmission (tx) ring and evaluate whether the queueing is happening on the tx ring when the interface is congested.,Router(config-pmap-c)# shape average percent 25 be 300 ms bc 400 ms
Calculate the Committed Burst (bc) and the Excess Burst (be) based on the bandwidth (BW) of a serial interface.,"- Serial Interface: serial 2/0
- Bandwidth (BW): 2048 kbps"
"QoS: Percentage-Based Shaping feature for traffic shaping based on a percentage of bandwidth available on the interface, configuring committed (conform) burst (bc) size and excess (peak) burst (be) size in milliseconds.","shape (percent), show policy-map, show policy-map interface"
"Overhead Calculation on the Router for traffic shaping considering encapsulation types between BRAS and DSLAM, and between DSLAM and CPE.","The router uses various encapsulation types when calculating ATM overhead, such as 802.1Q (18 bytes), 802.3 (14 bytes), AAL5 MUX plus 1483 (10 bytes), AAL5 MUX plus PPPoA (18 bytes), and AAL5 (18 bytes)."
"SNAP plus 1483, AAL5 SNAP plus PPPoA, PPPoE, qinq","- 8-byte AAL5 trailer + 3-byte LLC header (0xFEFE03) + 1-byte protocol ID (0xCF)
- 1-byte version/type (0x11) + 1-byte code (0x00) + 2-byte session ID + 2-byte length
- 6-byte destination MAC address + 6-byte source MAC address + 2-byte protocol ID (0x8100) + 2-byte VID/CFI/PRIORITY + 2-byte protocol ID + 2-byte inner tag + 2-byte length or type
- Overhead Accounting and Hierarchical Policies"
Overhead Accounting Configuration Requirements,"Enabled on child policy, Enabled on parent policy, Enabled on all classes in the child policy map (except priority classes with policing), Disabled on all classes in the child policy map, Disabled or enabled on all nonpriority classes in the child policy map"
Shape traffic to the indicated bit rate and enable overhead accounting in a policy map called Test with a default class called class-default.,Router(config-pmap)# policy-map Test; Router(config-pmap)# class class-default; Router(config-pmap-c)# shape 8000 account qinq aal5 snap-dot1-rbe
Enable Ethernet Overhead Accounting on Gigabit Ethernet subinterface 1/0/0.100,"- Policy map named ethernet_ovrh shaping class-default traffic at a rate of 200,000 kbps and enabling overhead accounting with a user-defined value of 18
- Attach the ethernet_ovrh policy to Gigabit Ethernet subinterface 1/0/0.100"
Ethernet Overhead Accounting with User-Defined Option for shaping,"- Policy map named ethernet_ovrh
- Attached to Gigabit Ethernet subinterface 1/0/0.100
- User-defined offset: 18 bytes"
Target shape rate 200000,Ethernet Overhead Accounting Enabled
Ethernet Overhead Accounting feature on the Cisco ASR 1000 Series Aggregation Services Routers.,Not specified in the provided text.
Traffic classes must be configured using the class-map command.,Not provided in the text.
Traffic Shaping Overhead Accounting for ATM must be consistent across policy maps and interfaces. Ethernet overhead accounting should be enabled if used.,"Attach a policy map with ATM overhead accounting only to an Ethernet interface (or IP session on an Ethernet interface). Enable or disable overhead accounting for all classes in the policy, not just some classes."
The BRAS should use the encapsulation type configured for the DSLAM-CPE side to calculate the ATM overhead per packet.,"Encapsulations can be based on SNAP and MUX formats of ATM adaptation layer 5 (AAL5), followed by routed bridge (RBE), x-1483, x-dot1q-rbe, IP, PPP over Ethernet (PPPoE), or PPP over ATM (PPPoA). The BRAS-DSLAM side uses IEEE 802.1Q VLAN or Q-in-Q (qinq) encapsulation."
The offset size (a parameter used to calculate ATM overhead accounting) is calculated using the following formula: Offset size in bytes = (CPCS trailer overhead) + (DSLAM to CPE) - (BRAS encapsulation type).,"- For AAL5, CPCS trailer overhead is 8 bytes.
- For AAL3, CPCS trailer overhead is 4 bytes, but AAL3 is not supported."
Enabling ATM overhead accounting for shaping and bandwidth on parent and child policies.,"Enabling ATM overhead accounting on parent and child policies, specifying the same encapsulation type, and supporting overhead accounting separately for queuing features (shape, bandwidth, and priority) and non-queuing feature (police)."
"Specify the offset size when calculating ATM overhead, with valid values from -63 to +63 bytes.",MQC Traffic Shaping Overhead Accounting for ATM in a Hierarchical Policy.
Apply ATM cell tax in the ATM overhead calculation and adjust packet size accordingly.,"- Configure both the offset and the ATM options to adjust the packet size.
- Add ATM cell tax after adjusting the packet size."
An IPoE/PPPoE session.,show policy-map session
Exit privileged EXEC mode.,The exit command is used to exit privileged EXEC mode in Cisco devices.
"Overhead accounting for bandwidth on gaming, class-default, voip, and video classes in policy maps.","1. Enable overhead accounting for bandwidth on the gaming and class-default class of the child policy map named subscriber_classes.
2. Enable ATM overhead accounting implicitly for voip and video classes because their parent policy has overhead accounting enabled."
Traffic shaping and overhead accounting for ATM in Cisco IOS XE Gibraltar,"- queue limit: 2500 packets
- shape (average) cir: 10000000, bc: 40000, be: 40000
- target shape rate: 10000000
- Overhead Accounting Enabled"
Enable the MQC Traffic Shaping Overhead Accounting for ATM feature to account for various encapsulation types when applying QoS functionality to packets.,"Use commands such as bandwidth (policy-map class), bandwidth remaining ratio, shape (policy-map class), show policy-map interface, show policy-map session, and show running-config."
Child policy configuration under the default parent policy class-default for template services activation at the child level.,"CoA negative ACK (NACK) sent to the RADIUS, subscriber service multiple-accept processing configured for rollback during Access-Accept processing, and failure of any operation in a single CoA message should result in rollback to restore session state before CoA processing started."
"Separate Accounting Streams for traffic classes when not assigned to a group, allowing differentiation between traffic matching multiple classes.","Unique RADIUS Acct-Session-Id value for each target, direction, policy name, and class name in separate accounting streams."
QoS Policy Accounting and Separate Accounting Streams,"Gibraltar 16.11.x, 67"
Ensure that the output matches the expected service template with default values.,"policy-map test-svc-IN, policy-map test-svc-OUT"
"Voice service configuration with police rate, precision value, and queue size parameters.",voice-service1>police_rate=200000#prec_value=5#queue_size=32<_IN and voice-service1>police_rate=200000#prec_value=5#queue_size=32<_OUT
"Voice service configuration with police rate, precedence value, and queue size.","- Police Rate: 200000
- Precedence Value: 5
- Queue Size: 32"
QoS policy active on the session for VoIP traffic.,"- Policy map: input_parent and output_child with class-default
- Police rate: 10000000 (input_parent), 100000 (output_child)
- Access list: voip-acl, voip-control-acl
- Class maps: voip and voip-control
- Match access groups: voip-acl in voip class map, voip-control-acl in voip-control class map
- VoIP police rate: 100000 (police_rate), precedence value 4 (prec_value), queue size 1 (queue_size)
- VoIP out of hierarchy action: transmit (conform-action), drop (exceed-action), drop (violate-action)"
Voice service policy configuration for VoIP traffic,"- Queue limit: $queue_size packets
- Precedence: 6 (for incoming), 5, and 7 (for outgoing)
- AAA accounting group: $_acctgrp
- Policy map: $_incoming and output_parent$class-default$voice-service1><_OUT$class-default class
- Class: voip and voip-control
- Police parameters:
  - incoming: 200000 bps, 9216 packets (violate-action drop)
  - outgoing (voip): 100000 bps, 60625 packets (conform-action transmit, exceed-action transmit, violate-action drop)"
"Class Name Override for a service template where shell variables are used in place of parameters for QoS actions such as police, shape, and bandwidth. Shell variables may substitute a class name or be configured as a variable suffix with a constant prefix.","QoS policy active on the session:
- OUT:
  - policy-map output_parent
    - class class-default
      - shape average 10000000
      - service-policy output_child
- IN:
  - policy-map input_parent
    - class class-default
      - police"
Activate voice-aol-service1 with the reference class aol_classifier_reference on the target session.,"- Policy Map: output_parent$class-default$voice-aol-service1<class_ref=aol_classifier_reference>_OUT$class-default
  - Class: class class-default
    - Shape Average: 10,000,000
- Service Policy: output_child$voice-aol-service1<class_ref=aol_classifier_reference>_OUT$class-default
  - Class: voice-control-aol_classifier_reference
    - Police: 112,000 10,000 0 (conform-action transmit exceed-action drop violate-action drop)
      - Queue Limit: 16 packets
      - Set Precedence: 6
    - AAA Accounting Group: aaa-accounting group voice-aol-service1<class_ref=aol_classifier_reference>_GRP
- Class: voice-aol_classifier_reference (reference to pre-configured class)
  - Police: 100,000 60,625 0 (conform-action transmit exceed-action drop violate-action drop)
    - Queue Limit: 8 packets
  - Set Precedence: 3
  - Set CoS: 6
  - AAA Accounting"
Voice AOL Service Activation and IN Policy Configuration,"1. Activate voice-aol-service1 with class_ref=aol_classifier_reference on the target session.
2. Set up the active IN policy using policy-map and class configuration:
   - Class name: aol_classifier_reference
   - Policy-map: input_parent$class-default$voice-aol-service1<class_ref=aol_classifier_reference>_IN$class-default
   - Class configuration: class class-default
       - Police configuration: cir 10000000, bc 312500, conform-action transmit, exceed-action drop
       - Service-policy configuration: input_child$voice-aol_service1<class_ref=aol_classifier_reference>_IN$class-default
   - Class reference: voice-control-aol_classifier_reference"
IP Address Parameterization with dynamic modification of ACLs by adding more entries.,"Classes must be predefined and cannot be dynamically created. The QoS policy is restored when deactivating a template service, and it is structurally and functionally identical to the QoS policy active before the template service was activated. The QoS policies are defined using policy maps (e.g., output_parent, input_parent) and class-default as the base class."
"The requirement is to create and configure an ACL (Access Control List) named ""IPOne-combined-acl"" and use it in class-maps for voice control.","ip access-list extended IPOne-combined-acl
permit ip any 10.0.132.0 0.0.0.127
permit ip 10.0.132.0 0.0.0.127 any
permit ip any 10.1.245.64 0.0.0.63
permit ip 10.1.245.64 0.0.0.63 any"
Voice-to-IP list configuration for voice traffic prioritization and QoS policy accounting.,"ip_list=10.1.30.0/28,10.1.40.0/29 (output_child$voice-toi>ip_list)."
Voice-to-IP policy activation with specific IP lists and QoS policy application for voice traffic.,"Requirement: Voice-to-IP policy activation with specific IP lists and QoS policy application for voice traffic.

Configuration:
Policy Map:
input_parent$class-default$voice-toi>ip_list=10.1.30.0/28,10.1.40.0/29<_IN$class-default
Class Class-Default:
Police cir 10000000 bc 312500 conform-action transmit exceed-action drop
Service-Policy input_child$voice-toi>ip_list=10.1.30.0/28,10.1.40.0/29<_IN$class-default
Policy Map input_child$voice-toi>ip_list=10.1.30.0/28,10.1.40.0/29<_IN$class-default
Class Voice-Control-10.1.30.0/28,10.1.40.0/29:
Police 112000 21000 0 conform-action transmit exceed-action drop
Set Precedence 7
AAA-Accounting Group IPOne-aol
Class Voice-10.1.30.0/28,10.1.40.0/29:
Police 200000 9216 0 conform-action transmit exceed-action transmit violate-action drop
Set Precedence 3
AAA-Accounting Group IPOne-aol
Class Default"
Create a service template for the Turbo Button service with QoS policies.,"OUT QoS policy active on the session:
policy-map output_parent
class class-default
shape average 10000000
service-policy output_child
policy-map output_child
class class-default
IN QoS policy active on the session:
policy-map input_parent
class class-default
police 10000000
service-policy input_child
policy-map input_child
class-default
shell map turbo-button in_police_val=20000000 $out_shape=20000000
configure terminal
accounting group $_acctgrp list default
policy-map $_outgoing
class class-default
shape average $out_shape
aaa-accounting group $_acctgrp
policy-map $_incoming
class class-default
police $in_police_val
aaa-accounting group $_acctgrp"
QoS policy active on the session with policing and shaping configuration,policy-map input_parent class class-default police 10000000; policy-map input_child class-default shape average 20000000;
Police and QoS configuration for VoIP traffic.,"- Policy-map: output_parent$turbo-button><_OUT$
  - Class-default$voice-service1>police_rate=200000#prec_value=5#queue_size=32<_OUT$class-default
  - Shape average 20000000
- Policy-map: output_child$voice-service1>police_rate=200000#prec_value=5#queue_size=32<_OUT$class-default
- Class voip
  - Police 200000 60625 0 conform-action transmit exceed-action drop violate-action drop
  - Priority level 1
  - Queue-limit 8 packets
  - Set precedence 5
  - Set cos 6
- Policy-map: output_child$voice-service1>police_rate=200000#prec_value=5#queue_size=32<_OUT$class-default
- Class voip-control
  - Police 112000 1000 0 conform-action transmit exceed-action drop violate-action drop
  - Queue-limit 32 packets
  - Set precedence 6"
The requirement appears to be for a voice service configuration with specific traffic policing and queue management settings.,"- police_rate=200000#prec_value=5#queue_size=32<_GRP
- class class-default
- policy-map input_parent$turbo-button>
  - <_IN$class-default$voice-service1>police_rate=200000#prec_value=5#queue_size=32<_IN$class-default
  - class voip
    - police 200000 9216 0 conform-action transmit exceed-action transmit violate-action drop
    - set precedence 5
- aaa-accounting group turbo-button>< list default
- service-policy
- input_child$voice-service1>police_rate=200000#prec_value=5#queue_size=32<_IN$class-default
  - class voip
    - police 200000 9216 0 conform-action transmit exceed-action transmit violate-action drop
    - set precedence 5
- aaa-accounting group voice-service1>police_rate=200000#prec_value=5#queue_size=32<_GRP
  - class voip-control
    - police 112000 21000 0 conform-action transmit exceed-action transmit violate-action drop
    - set precedence"
- QoS policy activation on the session,"1. Policy Map ""output_parent"":
   - Class ""class-default"" with average shape of 10,000,000
   - Service policy ""output_child""
2. Policy Map ""output_child"":
   - Class ""class-default""
3. Policy Map ""input_parent"":
   - Class ""class-default"" with police rate of 10,000,000
   - Service policy ""input_child""
4. Policy Map ""input_child"":
   - Class ""class-default""
5. Voice service configuration:
   - Output_parent class-default voice-service1 with police rate=200,000, prec_value=5, queue_size=32 (OUT class-default)
   - Shape average of 10,000,000 for OUT policy
6. Voice service configuration:
   - Output_child and input_child voice-service1 with police rate=200,000, prec_value=5, queue_size=32 (OUT class-default)
7. Class ""voip"":
   - Police rate = 200,000, with conform-action transmit, exceed-action drop, violate-action drop
   - Priority level 1
   - Queue limit of 8 packets
   - Precedence set to 5
   - Cos set to 6
   - Aaa-accounting group"
Voice service rate policing with a maximum queue size of 32 packets.,"- police_rate=200000
- prec_value=5
- queue_size=32
- police 112000 1000 0 conform-action transmit exceed-action drop violate-action drop
- queue-limit 32 packets
- set precedence 6
- aaa-accounting group voice-service1>police_rate=200000#prec_value=5#queue_size=32<_GRP
- class voip
  - police 200000 9216 0 conform-action transmit exceed-action transmit violate-action drop
  - set precedence 5"
Turbo Button Override activation using the default values of VSA 250.,"- Activation from Access-Accept or VSA 252 0b
- In_police_val=30000000, out_shape_val=30000000
- OUT QoS policy active on the session with policy-map output_parent and class class-default, shape average 10000000 and service-policy output_child.
- IN QoS policy active on the session with policy-map input_parent and class class-default, police 10000000 and service-policy input_child.
- Accounting group turbo-button>in_police_val=30000000#out_shape_val=30000000 list default for both IN and OUT services.
- Policy-map turbo-button>in_police_val=30000000#out_shape_val=30000000<_OUT with class class-default, shape average 30000000."
- Active OUT policy configuration for the target session,"- Policy-map: output_parent$turbo-button>
- Voice service1 policy: output_child$voice-service1>police_rate=200000#prec_value=5#queue_size=32<_OUT$class-default
- Shape average value: 20000000
- Police rate: 200000
- Precision value: 5
- Queue size: 32"
QoS (Quality of Service) Policing and Shaping Configuration for voice service,"- Priority level: 1
- Queue limit: 8 packets
- Precedence: 5
- CoS (Class of Service): 6
- AAA accounting group: voice-service1>police_rate=200000#prec_value=5#queue_size=32<_GRP
- Class: voip-control
  - Police: 112000 1000 0 (conform-action transmit, exceed-action drop, violate-action drop)
  - Queue limit: 32 packets
- AAA accounting group: voice-service1>police_rate=200000#prec_value=5#queue_size=32<_GRP
- Class: class-default"
Deactivate the Turbo Button override using default values of VSA 252 0c.,"turbo-button (in_police_val=30000000, out_shape_val=30000000)."
Policing and Shaping Configuration for voice services,"policy-map output_child$voice-service1>police_rate=200000#prec_value=5#queue_size=32<_OUT$class-default
class voip
police 200000 60625 0 conform-action transmit exceed-action drop violate-action drop
priority level 1
queue-limit 8 packets
set precedence 5
set cos 6
aaa-accounting group voice-service1>police_rate=200000#prec_value=5#queue_size=32<_GRP
class voip-control
police 112000 1000 0 conform-action transmit exceed-action drop violate-action drop
queue-limit 32 packets"
"Implement an accounting group override using the default values of VSA 252 0b, and apply it to a service with parameters such as voice-service1, police_rate=200000, prec_value=5, and acct_interval=600.","voice-service1(police_rate=200000,prec_value=5,acct_interval=600).
aaa accounting network list-600
action-type start-stop periodic interval 600
accounting group voice-service1>policy_rate=200000#prec_value=5#acct_interval=600 <_GRP"
QoS configuration for voice traffic prioritization and shaping,"class voip-control, queue-limit 32 packets, set precedence 6, police 112000 1000 0, conform-action transmit exceed-action drop violate-action drop"
Shape average 10000000 for input and output policies.,"Output Policy:
- service-policy: output_child
- policy-map: output_parent$class-default$voice-service1
  - policy_rate=200000
  - prev_value=5
  - acct_interval=600
Input Policy:
- service-policy: input_child
- policy-map: input_parent$class-default
  - police 10000000
  - class: class-default"
1. Manage CoA replay to synchronize provisioning events on the standby RP.,"1. CoA replay synchronization for provisioning events on the standby RP.
2. Same service template applied to both active and standby RP.
3. Policy map and class map names shared between active and standby RP.
4. Predefined QoS policy maps and class maps utilized during service template activation."
"Assign a group or AAA method list to a traffic class, configure the service template for policy accounting, and activate the subscriber accounting accuracy functionality.","1. enable
2. configure terminal
3. aaa authentication ppp list-name method1
4. aaa accounting network methodlist-name
5. action-type start-stop
6. periodic interval minutes
7. accounting group group_name list list-name
8. policy-map policy-map-name
9. class class-default
10. accounting aaa list list-name [group-name]
11. end
12. show policy-map session
13. show accounting group group-name"
AAA authentication for PPP and accounting for network activities.,aaa authentication ppp group radius; aaa accounting network list1; action-type start-stop; periodic interval 1
Configure dynamic QoS customization for each subscriber using per-session changes to existing traffic classes.,"1. Use the AAA method list with the command Router(config)# accounting group group_name list list-name.
2. Create a policy map with the command Router(config)# policy-map policy-map-name.
3. Create a traffic class with the command Router(config)# class class-default.
4. Assign the traffic class to a group or an AAA method list using the command Router(config)# accounting aaa list list-name [group-name]."
Subscriber accounting accuracy milliseconds,subscriber accounting accuracy 1000
VoIP traffic policing and accounting,class voip police 200000 accounting aaa list AAA-LIST
PPP Session Queueing on ATM VCs feature for shaping and queueing PPP over Ethernet over ATM (PPPoEoA) sessions to a user-specified rate.,"Nested, two-level hierarchical service policy using modular quality of service command-line interface (MQC)."
PPP Session Queueing on ATM VCs feature with both PPP terminated aggregation (PTA) and L2TP access concentrator (LAC) configurations.,N/A (as the text does not provide specific configuration details for this requirement)
Finding Feature Information for PPP Session Queueing on ATM VCs,Not specified in the provided text
Configure RADIUS to specify the name of the QoS policy for PPPoEoA sessions on both ingress and egress directions.,"AV pairs ""ip:sub-qos-policy-in=<name of the QoS policy in ingress direction>"" and ""ip:sub-qos-policy-out=<name of egress policy>"". These can be defined in either User profile or Service profile on RADIUS server."
Hierarchical Queueing Framework (HQF) for directing traffic in various scenarios.,Bandwidth Mode and ATM Port Oversubscription.
"Implement a priority queue system in a network device, allowing traffic to be classified based on priority levels. The levels range from 1 (high priority) to 4 (low priority).",Set the priority level for specific traffic classes using the 'priority level level' command under the Router(config-pmap-c)# prompt.
"Configure rate limit actions, CoS value, and bandwidth remaining ratio for a network device.","1. Set the action for packets that conform to the rate limit.
2. Set the action for packets that exceed the rate limit.
3. Set the action for packets that violate normal and maximum burst sizes.
4. Configure the Layer 2 class of service (CoS) value for outgoing packets.
5. Specify a bandwidth-remaining ratio for class-level or subinterface-level queues during bandwidth remaining ratio."
Shape traffic to the indicated bit rate and enable ATM overhead accounting.,shape [average] mean-rate [burst-size] [excess-burst-size]
Configure a hierarchical QoS policy with two traffic classes: Premium and Silver.,"1. Apply the child-policy to the Parent policy class-default class, shaping traffic to 200,000 Kbps.
2. Router(config)# policy-map child-policy
3. Router(config-pmap)# class Premium
4. Router(config-pmap-c)# priority
5. Router(config-pmap-c)# police percent 40
6. Router(config-pmap-c)# set ip precedence 3
7. Router(config-pmap-c)# class Silver
8. Router(config-pmap-c)# police 80000 10000 conform-action transmit exceed-action drop
9. Router(config-pmap-c)# set ip precedence"
Exit BBA group configuration mode,Router(config-bba-grp)# exit
PPPoE profile configuration for PPPoE sessions on the interface,bba-group
Apply PPPoE and QoS policies to sessions on an interface.,"Router(config-atm-vc)# protocol pppoe group bba-group-name
group-name is the name of the PPPoE profile (bba-group) to be used by PPPoE sessions on the interface."
The router should download the name of the policy map from RADIUS using the Cisco AV-pair and apply the QoS policy to the session.,1. enable; 2. configure terminal; 3. show policy-map [interface interface]; 4. show policy-map session [uid uid-number] [input | output [class class-name]]; 5. show running-config
Display information about all of the policy maps configured on the router.,Router# show policy-map [interface interface]
"Configure PPP Session Queueing on ATM VCs with a hierarchical QoS policy named pm_hier2_0_2 associated with Virtual-Template555, which is applied to the broadband aggregation group named pppoeoa-group.","1. Configure BBA Group
   bba-group pppoe pppoeoa-group

2. Configure Virtual Template
   Virtual-Template 555

3. Define policy-map and classes within the policy-map for different traffic classes and apply QoS policies (policing, shaping)
   policy-map pm_hier2_child_0_2
   class cm_0
      priority level 1
      police percent 5 2 ms 0 ms conform-action transmit exceed-action drop violate-action drop
      queue-limit 77 packets
   class cm_1
      shape average percent 80
      bandwidth remaining ratio 80
   class class-default
      shape average percent 50
      bandwidth remaining ratio 20

4. Apply the policy-map to Virtual Template and BBA Group
   !
   interface virtual-template 555
      service-policy output pm_hier2_child_0_2

   !
   bba-group pppoeoa-group
      service-policy input pm_hier2_child_0_2"
"Average Rate Traffic Shaping with specific percentages for cir and bandwidth remaining ratio for different classes (cm_0, cm_1, class-default).","Classes ""cm_0"" and ""cm_1"" have specific Average Rate Traffic Shaping with cir 80% and bandwidth remaining ratio 80 for class cm_1, cir 50% and bandwidth remaining ratio 20 for class class-default."
PPP Session Queueing on ATM Virtual Circuits (VCs),Introduced in Cisco IOS XE Release 2.5 on the Cisco ASR 1000 series routers.
Synchronize the timer between two back-to-back ATM interfaces.,atm clock internal
"Configure a PPPoE profile (e.g., bba-group) for the PPPoE sessions on an interface.","1. Enter configuration mode for ATM virtual circuits (Router(config-if-atm-vc)): `Router(config)#interface atm1/0/0`
2. Define the MAC address and disable IP addressing: `Router(config-if)#mac-address 0000.b001.0001` and `Router(config-if)#no ip address`
3. Configure internal clocking and OAM settings: `Router(config-if)#atm clock INTERNAL`, `Router(config-if)#atm oam flush`, and `Router(config-if)#no atm ilmi-keepalive`
4. Exit ATM interface configuration mode: `Router(config-if)#exit`
5. Enter bba-group configuration mode for the PPPoE profile (e.g., group_basic): `Router(config)#bba-group pppoe group_basic`
6. Define virtual template and configure session limit per VC: `Router(config-bba-group)#virtual-template 2` and `Router(config-bba-group)#sessions per-vc limit`"
- ATM clock INTERNAL,"- ATM PVC:
  - Peak Av/Min Burst
  - Interface Name (A, B, C)
  - VPI/VCI Type
  - Encapsulation (AAI, SNAP)
  - SC (Kbps)
  - Kbps
  - Cells St
- Virtual-template: 2
- Sessions per-vc limit: 1
- Sessions per-mac limit: 1
- Sessions per-vlan limit: 1
- Sessions per-vc throttle: 1 2 3
- Interface ATM1/0/0.1 multipoint"
Cisco IOS XE Release 3.2S or a later version installed and running,Hierarchical Color-Aware Policing
Support hierarchical color-aware policing with child-to-parent ordering.,"policy-map child
class user1
police 100k
class user2
police 100k
policy-map parent
class class-default
police 150k
service-policy child"
Simple two-level color-aware policer configuration for IP access lists and policy maps.,"1. Create access list user1-acl with permit rules for IP hosts 192.168.1.1 and 192.168.1.2.
   - ip access-list extended user1-acl
   - permit ip host 192.168.1.1 any
   - permit ip host 192.168.1.2 any

2. Create access list user2-acl with permit rules for IP hosts 192.168.2.1 and 192.168.2.2.
   - ip access-list extended user2-acl
   - permit ip host 192.168.2.1 any
   - permit ip host 192.168.2.2 any

3. Create class maps for the access lists and match-all policy map rules.
   - class-map match-all user1-acl-child
     - match access-group name user1-acl
   - class-map match-all user2-acl-child
     - match access-group name user2-acl

4. Create police statements with bandwidth and burst limits for the class maps.
   - policy-map child-policy
     - class user1-acl-child
       - police 10000 bc 1500
         - conform-action set-qos-transmit 5
     - class user2-acl-child
       - police 20000 bc 1500
         - conform-action set-qos-transmit 5
     - class class-default
       - police 50000 bc 1500

5. Create policy map for parent-policy with class default and exceed-action, violate-action, and confirm-color statements.
   - policy-map parent-policy
     - class class-default
       - police 50000 bc 3000
         - confirm-action transmit
         - exceed-action transmit
         - violate-action drop
     - conform-color hipri-conform
       - service-policy child-policy"
"Input QoS options with limiting voice control to 112 kb/s, voice traffic to 200 kb/s, and controlling overall input bandwidth without affecting premium traffic.",Voice customer limited to 112 kb/s for voice control and 200 kb/s for voice traffic; policing traffic for both classes to prevent exceeding xDSL connection's physical bandwidth limit.
"The requirement is to police traffic in Parent Classes, specifically:","The configuration is for the policing of traffic in Parent Classes, specifically:
- Force overall bandwidth to 500 kb/s.
- Only drop packets from class-default and leave voice and voice-control unaffected.
- Police VoIP-Control class to 112 kb/s, police VoIP class to 200 kb/s, and police class-default to 500 kb/s.
- At the class default of the parent policy map, drop traffic from the child class default and do not drop remaining child classes."
"Configure traffic policing with multiple actions applied to packets based on rate compliance (conforming, exceeding, or violating a specific rate).",police [cir cir][bc conform-burst] [pir pir][be peak-burst] [conform-action action [exceed-action action [violate-action action]]][conform-color hipri-conform]
Enable color-aware policing with conform plus exceed burst for a class map.,conform-color (Optional)
1. Set up an ACL to permit traffic from host 192.168.2.2 to any IP address.,Router(config-ext-nacl)# permit ip host 192.168.2.2 any
"Disallowing multiple entries in class map, preventing the removal of an active color-aware class map, and dismantling a configuration of Hierarchical Color-Aware Policing.","1. Router(config)# class-map hipri-conform
   - match qos-group 5
2. Router(config)# no class-map hipri-conform (not allowed if the class map is active)
3. Router(config)# no match qos-group 6 in step 1"
Enabling Hierarchical Color-Aware Policing,"1. Router(config)# no policy-map parent-policy
2. Router(config)# no policy-map child-policy
3. Router(config)# no class-map hipri-conform
4. Router(config)# no class-map user1-acl-child
5. Router(config)# no class-map user2-acl-child
6. Router# configure terminal
7. Router(config)# ip access-list extended user1-acl
8. Router(config-ext-nacl)# permit ip host 192.168.1.1 any
9. Router(config-ext-nacl)# permit ip host 192.168.1.2 any
10. Router(config-ext-nacl)# ip access-list extended user2-acl
11. Router(config-ext-nacl)# permit ip host 192.168.2.1 any
12. Router(config-ext-nacl)# permit ip host 192.168.2.2 any
13. Router(config-ext-nacl)# class-map match-all user1-acl-child
14. Router(config-cmap)# match access-group name user1-acl
15. Router(config-cmap)# class-map match-all"
"- Create a policy map called ""child-policy""","- Class ""user1-acl-child"":
  - Police: 10000 bc 1500
  - Conform action: set-qos-transmit 5
- Class ""user2-acl-child"":
  - Police: 20000 bc 1500
  - Conform action: set-qos-transmit 5
- Class ""class-default"":
  - Police: 50000 bc 1500 (in parent policy)
  - Police: 50000 bc 3000 (in child-policy)
  - Exceed action: transmit
  - Violate action: drop
  - Conform color: hipri-conform"
Network policy configuration for class-based QoS and hierarchical color-aware policing.,"1. Access-group name: user1-acl
2. Class Map match-all: id 5, match access-group name: user2-acl
3. Policy Map parent-policy with Class class-default: police cir 50000 bc 3000 be 3000, conform-color hipri-conform, conform-action transmit, exceed-action transmit, violate-action drop, service-policy child-policy
4. Policy Map police with Class prec1: priority level 1 20000 (kb/s), Class prec2: bandwidth 20000 (kb/s), Class class-default: bandwidth 20000 (kb/s)
5. Policy Map child-policy with Class user1-acl-child: police cir 10000 bc 1500, conform-action set-qos-transmit 5, exceed-action drop
6. Policy Map child-policy with Class user2-acl-child: police cir 20000 bc 1500, conform-action set-qos-transmit 5, exceed-action drop
7. Policy Map class-default with Class class-default: police cir 50000 bc 1500, conform-action transmit, exceed-action drop"
Traffic policing and QoS configuration for GigabitEthernet0/0/0 interface.,"1. Service-policy input: parent-policy
2. Class-map: class-default (match-any)
   - Police: cir 50000 bps, bc 3000 bytes, be 3000 bytes
   - Conformed: transmit
   - Exceeded: transmit
   - Violated: drop
3. Service-policy child-policy
4. Class-map: user1-acl-child (match-all)
   - Match: access-group name user1-acl
   - Police: cir 10000 bps, bc 1500 bytes
   - Conformed: set-qos-transmit 5
   - Exceeded: drop"
Network traffic policing and QoS configuration,"Police: cir 20000 bps, bc 1500 bytes; actions: set-qos-transmit 5. Police: cir 50000 bps, bc 1500 bytes; actions: transmit."
Implementation Strategy for QoS for IPv6,MQC Traffic Policing
Traffic classification and QoS feature selection for mixed IPv4 and IPv6 network traffic.,"Create classes based on match criteria (match protocol ip, match protocol ipv6), use match statements (match precedence, match dscp, set precedence, and set dscp) to treat IPv4 and IPv6 traffic separately or the same way, create a policy to mark each class, work from edge toward core in applying QoS features, build a policy to treat the traffic, and apply the policy."
Traffic Policing feature that limits the input or output transmission rate of a class of traffic based on user-defined criteria and marks packets using various bits and values.,Service-policy (traffic policy) is configured using the Modular Quality of Service (QoS) Command-Line Interface (CLI).
Traffic Policing for assigning packets to a QoS group and Packet Prioritization for Frame Relay Frames.,"Marking the Frame Relay DE bit of the Frame Relay frame with either 0 or 1, where frames with the DE bit set to 1 are discarded before frames with the DE bit set to 0."
The Traffic Policing feature allows users to mark the ATM CLP bit in ATM cells.,"One bit, set to either 0 or 1 for prioritizing packets in ATM networks. In congested environments, cells with the ATM CLP bit set to 1 are discarded before cells with the ATM CLP bit set to 0."
Configure traffic policing with a maximum bandwidth usage by a traffic class.,police bps burst-normal burst-max conform-action action exceed-action action violate-action action
"Configure a service policy with traffic policing using Committed Information Rate (CIR), normal burst size, and excess burst size.","```
class-map acgroup2
 match access-group
policy-map policymap1
 class acgroup2
  service-policy output
 exit
!
interface FastEthernet1/1/1
 service-policy input policymap1
```"
Traffic policing configuration on Router interface,"- Set the police command to limit bandwidth, burst size, and excess burst size.
- Configure conform-action to transmit and exceed-action to drop packets when limits are exceeded or not met.
- Set the service-policy input to apply the police configuration to incoming traffic on the interface."
"Policer Enhancement Multiple Actions feature allows specifying multiple conform, exceed, and violate actions for marked packets.",Use the action argument of the police command to specify the multiple actions.
Specify multiple marking actions for a packet in a Frame Relay and MPLS environment.,"1. Set-frde-transmit: Transmits the packet with Frame Relay frame, bit from 0 to 1.
2. Set-mpls-exp-transmit: Sets the MPLS experimental bits from 0 to 7 and transmits the packet.
3. Set-mpls-exp-imposition-transmit: Sets the MPLS EXP bits from 0 to 7 at tag imposition and transmits the packet.
4. Set-prec-transmit new-prec: Sets the IP Precedence level and transmits the packet.
5. Set-qos-transmit new-qos: Sets the Quality of Service (QoS) group value and transmits the packet."
Service policy must be created and attached to a specified interface.,"Router(config)# policy-map policy-map-name
Router(config-pmap)# class class-default
Router(config-pmap-c)# police {cir cir}[bc conform-burst]{pir pir} [be peak-burst] [conform-action action [exceed-action action [violate-action action]]]"
Display statistics and configurations of all input and output policies attached to an interface.,show policy-map interface
Display statistics and configurations of all input and output policies attached to an interface.,"Use the command ""show policy-map interface"" on a router to display the statistics and configurations of all input and output policies attached to an interface."
"- Policy map called ""police"" with class ""class-default"" and traffic policing settings","- Police cir 1000000 (Commitment Information Rate)
- Pir 2000000 (Peak Information Rate)
- Conform action transmit (Packets conforming to the CIR are transmitted unaltered)
- Exceed action set-prec-transmit 4 (Packets exceeding the CIR but not exceeding the PIR are assigned IP Precedence level 4 and have the DE bit set to 1, then transmitted)
- Violate action set-prec-transmit 2 (Packets violating the rate (exceeding the PIR) are assigned IP Precedence level 2)"
Configure multiple policer actions with different IP Precedence levels and DE bit settings.,"Policy Map - police, Class - class-default, CIR - 1000000 BC - 31250 PIR - 2000000 BE - 31250, Conform Action - Transmit, Exceed Action - Set Prec/Transmit 4 and Set DE bit, Violate Action - Set Prec/Transmit 2 and Set DE bit"
Policer Enhancement Multiple Actions,"Actions specifies multiple conform, exceed, and violate actions for marked packets."
Forwarding plane for high-speed forwarding of IP packets and Control Plane Policing feature to protect the control plane from DoS attacks.,"Control Plane Policing with punt/inject interface, QoS rules applicable on this interface."
Cisco ASR 1000 Series Router with dual RPs and dual forwarding planes,"Only one RP and one forwarding plane are active at any time, with the other RP and forwarding plane in stand-by mode. Packets destined to the control plane come in through the carrier card and go through the active forwarding plane before being punted to the active RP. When an input QoS policy map is configured on the control plane, the active forwarding plane performs the QoS action before punting packets to the active RP. Packets exiting the control plane are injected to the active forwarding plane and then go out through the carrier card."
Control traffic in the forwarding plane directly to reduce the load on the control plane.,"Extend the CoPP function on packets like IP Internet Control Message Protocol (ICMP) echo-request packet, even though the packets are not punted to the RP."
Control Plane Policing,Service-policy output policy-map-name command
Control Plane Policing,service-policy {input | output policy-map-name}
Enters control-plane configuration mode and attaches a QoS service policy to the control plane.,"Device(config)# control-plane, Device(config-cp)# service-policy input or output policy-map-name"
The requirement is to display the configuration and statistics of a specific traffic class on a device.,"Class-map: TEST (match-all)
Policy Map: TEST
Match: access-group 101
Police:
8000 bps, 1500 limit, 1500 extended limit"
Configuring Control Plane Policing to Mitigate Denial-of-Service Attacks,"Apply control plane policing (CoPP) to RSVP packets to mitigate denial of service (DoS) attacks. Enable, configure terminal, access-list, class-map, policy-map, and match commands are used in the configuration process."
Specify a service policy and enter QoS policy-map configuration mode.,policy-map Policy1
Configure Control Plane Policing on Input Telnet Traffic,"1. Apply a QoS policy for aggregate control plane services to Telnet traffic received on the control plane.
2. Trusted hosts with source addresses 10.1.1.1 and 10.1.1.2 can forward Telnet packets without constraint.
3. All remaining Telnet packets are policed at the specified rate."
"Configure Control Plane Policing on Telnet traffic for aggregate control plane services, allowing trusted networks with source addresses 10.0.0.0 and 10.0.0.1 to receive Internet Control Management Protocol (ICMP) port-unreachable responses without constraint while dropping all remaining ICMP port-unreachable responses.","1. Define aggregate control plane service for the active route processor:
```
Device(config)# control-plane
Device(config-cp)# service-policy input control-plane-in
Device(config-cp)# end
```
2. Configure Control Plane Policing on Output ICMP traffic:
```
Device(config-pmap-c)# police 80000 conform transmit exceed drop
```
3. Apply the QoS policy for aggregate control plane services to Telnet traffic:
```
! Define aggregate control plane service for the active route processor.
Device(config)# control-plane
Device(config-cp)# service-policy input control-plane-in
Device(config-cp)# end
```"
Rate-limit all other ICMP traffic.,"access-list 141 permit icmp any any port-unreachable, class-map icmp-class match access-group 141, policy-map control-plane-out"
Control Plane Policing,"Device(config-pmap)# class MyClassMap, Device(config-pmap-c)# police rate 10 pps, Device(config-pmap-c-police)# conform-action transmit, Device(config-pmap-c-police)# exceed-action drop"
Control-plane Policing feature enabled on Control plane aggregate path,service-policy input Policy1
Enabling/Disabling QoS policing and matching for PPPoE traffic on the input interface.,"enable, configure terminal, platform qos punt-path-matching (or no platform qos punt-path-matching to disable)"
Configure PPPoE and PPPoE Discovery Packets on the Input Interface and Control Plane.,"1. Device(config)#class-map pppoed
2. Device(config-cmap)#match protocol pppoe-discovery
3. Device(config-cmap)#class-map pppoe
4. Device(config-cmap)#match protocol pppoe
5. Device(config-cmap)#policy-map pppoe-input
6. Device(config-pmap)#class pppoed
7. Device(config-pmap-c)#police 10000
8. Device(config-pmap-c-police)#class pppoe
9. Device(config-pmap-c)#police 10000
10. Device(config-pmap-c-police)#int g0/0/0.100
11. Device(config-subif)#service-policy input pppoe-input
12. Device(config-subif)#end"
Control Plane Policing feature that allows users to configure a quality of service (QoS) filter to manage traffic flow and protect the control plane of Cisco IOS routers and switches against reconnaissance and denial-of-service (DoS) attacks.,"For Cisco IOS XE Release 2.1, the feature was implemented on Cisco ASR 1000 Series Routers. For Cisco IOS XE Release 2.2, it was modified to include support for packet marking, output rate-limiting, and additional match criteria. The following commands were introduced or modified: match protocol pppoe, match protocol"
Per-Interface QoS for PPPoE Punt Traffic on Cisco ASR 1000 Series Routers,platform qos punt-path-matching
Restrict the interfaces on which network management packets are allowed to enter a device.,Enable Management Plane Protection (MPP) feature and designate one or more router interfaces as management interfaces.
Management traffic processing for supported interfaces,"Loopback and virtual interfaces must be associated with physical interfaces, fallback and standby management interfaces are not supported, and hardware-switched and distributed platforms are not supported."
Management Plane Protection feature,"Only IPv4 traffic is supported, IPv6 traffic is neither blocked nor denied"
Control Plane Protection to protect Cisco IOS routers and switches against denial-of-service (DoS) attacks and maintain packet forwarding and protocol states during an attack or heavy traffic loads.,"CoPP feature for rate limiting control-plane traffic, QoS filter for managing control plane packets' traffic flow."
Management Plane Protection (MPP) Feature for restricting access to devices to internal sources and allowing network management traffic only through designated management interfaces.,"MPP feature enabled or disabled in Cisco IOS software, designating one or more router interfaces as management interfaces."
"Enable the feature, designate one or more interfaces as management interfaces, configure the allowed management protocols on those interfaces.","Single CLI command for configuring, modifying, or deleting a management interface; support for protocols BEEP, FTP, HTTP, HTTPS, SSH v1 and v2, SNMP all versions, Telnet, TFTP."
Prevent management packet floods on switching and routing interfaces from reaching the CPU.,"1. Enable privileged EXEC mode: enable
2. Enter global configuration mode: configure terminal
3. Configure control-plane host: control-plane host
4. Specify allowed protocols on management interface: management-interface interface allow protocols
5. Exit configuration mode: Ctrl+Z"
Configure an interface to be a management interface and specify which management protocols are allowed.,FastEthernet 0/0 allow ssh snmp
View information for a specified interface and protocol.,"Interface - FastEthernet 0/0, Protocol - SSH and SNMP."
Enable Management-Interface feature on Control plane for FastEthernet 0/0 allowing ssh snmp access.,Router(config)# control-plane host Router(config-cp-host)# management-interface FastEthernet 0/0 allow ssh snmp
"Ethernet 0/3 interface should be allowed to access the router through HTTP, SSH, and SNMP protocols.",Router(config-cp-host)# management-interface GigabitEthernet 0/3 allow http ssh snmp
Management Plane Protection on a virtual template interface,"Cisco IOS XE Release 3.16S, SMI over Virtual Template"
Class-Based Policing,Interface at the edge of a network to limit traffic into or out of the network.
Class-based policing for controlling maximum rate of traffic transmitted/received on an interface,Traffic policy with class-based policing configuration attached to an interface
1. Traffic management based on rate parameters and priority levels or classes of service (CoS),"1. Setting IP precedence or DSCP values for packets entering the network
2. Assigning packets to a QoS group for prioritization"
Configure Class-Based Policing for Traffic Policing Service Policy,"1. Enable higher privilege levels, such as privileged EXEC mode with ""enable"" command.
2. Enter global configuration mode using the ""configure terminal"" command.
3. Specify the name of the class map to be created and enter QoS class map configuration mode with ""class-map [match-all | match-any] class-map-name"" command.
4. Match IP precedence with ""match ip precedence precedence-value"" command.
5. Exit the current configuration mode using the ""exit"" command.
6. Specify the name of the policy map to be created and enter policy map configuration mode with ""policy-map policy-map-name"" command.
7. Apply the class to the policy map with ""{class-name | class-default}"" command.
8. Configure traffic policing parameters using the ""police bps burst-normal burst-max conform-action action exceed-action action violate-action"" command.
9. Exit the current configuration mode using the ""exit"" command.
10. Exit the global configuration mode using the ""exit"" command.
11. Specify the interface type and number to apply the service policy with the ""interface interface-type interface-number"" command.
12. Apply the service policy to the specified interface with ""{input | output} policy-map-name"" command.
13. End the configuration mode using the ""end"" command."
Differentiate voice traffic from data traffic using class-map and match-any commands.,"Router(config)# class-map match-any MATCH_PREC
Router(config-cmap)# match access-group name <access-group-name>
Router(config-cmap)# exit
Router(config)# policy-map <policy-map-name>
Router(config-pmap)# class MATCH_PREC
Router(config-pmap-c)# police <input-interface> <rate> <burst-size> <cir> <cir-min> [<bc>] [<be>]"
Configure traffic policing for the class-default class in the policy-map.,"Router(config-pmap)# class MATCH_PREC
policy bps burst-normal burst-max conform-action transmit exceed-action set-qos-transmit 1 violate-action drop"
Attach a policy map to an interface,Router(config)# interface GigabitEthernet 0/0/1; service-policy {input | output} policy-map-name
Display policy map information for a given service instance under an interface.,show policy-map interface type interface service instance
"Verifying Class-Based Traffic Policing on FastEthernet1/1/1 and configuring a Service Policy with average rate at 8000 bits per second, normal burst size at 1000 bytes, and excess burst size at 1000 bytes.","```
interface FastEthernet1/1/1
service-policy output: police-setting
!
class-map access-match
 match access-group 1
exit
!
policy-map police-setting
 class access-match
  police 8000 1000 1000 conform-action transmit
```"
Policing packets based on size and number of bytes in conform and exceed token buckets for FastEthernet interface 1/1/1.,"- exceed-action set-qos-transmit 1
- violate-action drop
- service-policy output police-setting"
The system should have a mechanism to manage packets based on token buckets (conform and exceed buckets) to ensure rate limiting.,"The initial token buckets should be full at 1000 bytes, with the conform bucket allowing packet conformation if enough bytes are available. The exceed bucket should remove bytes when the packet exceeds and B bytes are removed from the bucket. If the number of bytes in the exceed bucket (B) is fewer than 0, the packet violates the rate and the violate action is taken. The conform action is to send the packet, and if a new packet arrives within 0.25 seconds, 250 bytes are added to the conform token bucket."
"The requirement is to apply a policy map called ""TUNNEL_MARKING"" on the GigabitEthernet0/0/1 interface. This policy map includes class-maps MATCH_PREC, MATCH_DSCP, and class-default which have specific match conditions and QoS settings applied to them.","The configuration for the GigabitEthernet0/0/1 interface would include applying the ""TUNNEL_MARKING"" policy map with its respective class-maps (MATCH_PREC, MATCH_DSCP, and class-default) and their associated match conditions, QoS settings, and rate limit settings."
"Traffic policing with a configuration of CIR 50000000 bps and BC 1562500 bytes, using access-group 1.","Police with CIR (Committed Information Rate) of 50000000 bps and BC (Burst Size) of 1562500 bytes, matching traffic with access-group 1."
